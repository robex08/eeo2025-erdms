# PHP-FPM NEPOUŽÍVÁ php_value v .htaccess!
# Tyto nastavení jsou v php.ini nebo Apache Directory config

RewriteEngine On

## DirectoryIndex api.php

# CORS Headers - musí být PŘED RewriteCond/RewriteRule
<IfModule mod_headers.c>
    # Always set CORS headers for all requests including OPTIONS
    Header always set Access-Control-Allow-Origin "*"
    Header always set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
    Header always set Access-Control-Allow-Headers "Content-Type, Authorization, X-Requested-With, x-endpoint, Content-Disposition"
    Header always set Access-Control-Expose-Headers "Content-Disposition, Content-Length"
    Header always set Access-Control-Max-Age "3600"
    Header always set Access-Control-Allow-Credentials "true"
</IfModule>

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/old_endpoints\.php$
RewriteRule ^(.*)$ api.php [QSA,L]

