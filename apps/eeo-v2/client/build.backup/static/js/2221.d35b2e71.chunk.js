"use strict";(self.webpackChunkr_app_zzs_eeo=self.webpackChunkr_app_zzs_eeo||[]).push([[2221],{79916:(e,o,t)=>{var n=t(9227);let r=!1;const l=()=>{if(!r)try{n.KQ.register({family:"Roboto",fonts:[{src:"https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-light-webfont.ttf",fontWeight:300,fontStyle:"normal"},{src:"https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-regular-webfont.ttf",fontWeight:400,fontStyle:"normal"},{src:"https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-italic-webfont.ttf",fontWeight:400,fontStyle:"italic"},{src:"https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-medium-webfont.ttf",fontWeight:500,fontStyle:"normal"},{src:"https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-bold-webfont.ttf",fontWeight:700,fontStyle:"normal"}]}),r=!0}catch(e){console.error("\u274c Chyba p\u0159i registraci Roboto font\u016f:",e)}};l()},92221:(e,o,t)=>{t.r(o),t.d(o,{default:()=>K});var n=t(57528),r=t(65043),l=t(97950),i=t(45903),a=t(83910),s=t(97929),d=t(9227),c=(t(79916),t(40950)),f=t(70579);const h=d.vv.create({page:{flexDirection:"column",backgroundColor:"#FFFFFF",padding:25,paddingBottom:55,fontFamily:"Roboto",fontSize:9},header:{marginBottom:15,flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottomWidth:2,borderBottomColor:"#1e40af",paddingBottom:10},logoContainer:{width:60,height:60},logo:{width:"100%",height:"100%",objectFit:"contain"},headerContent:{flex:1,flexDirection:"column",justifyContent:"center",marginLeft:20},headerOrganization:{fontSize:9,fontWeight:500,color:"#374151",marginBottom:4},headerTitle:{fontSize:14,fontWeight:700,color:"#059669",marginBottom:2},headerSubtitle:{fontSize:8,fontWeight:400,color:"#6b7280",fontStyle:"italic"},headerDate:{flexDirection:"column",alignItems:"flex-end",alignSelf:"flex-start"},dateLabel:{fontSize:8,color:"#6b7280",marginBottom:2},dateValue:{fontSize:10,fontWeight:600,color:"#374151"},section:{marginBottom:12,padding:10,backgroundColor:"#f0fdf4",borderRadius:6,borderLeftWidth:4,borderLeftColor:"#059669",borderLeftStyle:"solid"},sectionTitle:{fontSize:11,fontWeight:700,color:"#047857",marginBottom:8,textTransform:"uppercase",letterSpacing:.5},infoRow:{flexDirection:"row",marginBottom:5,alignItems:"flex-start"},infoLabel:{width:"35%",fontSize:9,fontWeight:700,color:"#374151"},infoValue:{width:"65%",fontSize:10,fontWeight:400,color:"#1f2937"},infoValueHighlight:{fontSize:11,fontWeight:700,color:"#059669"},controlSection:{marginBottom:12,padding:10,backgroundColor:"#eff6ff",borderRadius:6,borderLeftWidth:3,borderLeftColor:"#3b82f6",borderLeftStyle:"solid"},controlTitle:{fontSize:11,fontWeight:700,color:"#1e40af",marginBottom:8,textAlign:"center"},controlRow:{flexDirection:"row",marginBottom:5,alignItems:"flex-start"},controlLabel:{width:"40%",fontSize:9,fontWeight:600,color:"#1e40af"},controlValue:{width:"60%",fontSize:9,fontWeight:400,color:"#1f2937"},postControlSection:{marginBottom:12,padding:10,backgroundColor:"#fef3c7",borderRadius:6,borderLeftWidth:3,borderLeftColor:"#f59e0b",borderLeftStyle:"solid"},postControlTitle:{fontSize:11,fontWeight:700,color:"#92400e",marginBottom:8,textAlign:"center"},approvalSection:{marginTop:25,marginBottom:15,padding:15,backgroundColor:"#f8fafc",borderRadius:6,borderWidth:1,borderColor:"#cbd5e1",borderStyle:"solid"},approvalTitle:{fontSize:11,fontWeight:700,color:"#1e293b",marginBottom:12,textAlign:"center"},signatureRow:{flexDirection:"row",justifyContent:"space-between",marginTop:30},signatureBlock:{width:"45%",flexDirection:"column",alignItems:"center"},signatureLine:{width:"100%",borderBottomWidth:1,borderBottomColor:"#94a3b8",borderBottomStyle:"solid",marginBottom:5,height:30},signatureLabel:{fontSize:8,fontWeight:500,color:"#475569",textAlign:"center"},footer:{position:"absolute",bottom:15,left:25,right:25,flexDirection:"column",borderTopWidth:1,borderTopColor:"#e5e7eb",paddingTop:6},footerText:{fontSize:6,color:"#6b7280",textAlign:"center",marginBottom:2},footerReference:{fontSize:6,color:"#9ca3af",textAlign:"center",fontStyle:"italic"},registrySection:{marginTop:10,padding:8,backgroundColor:"#f0f9ff",borderRadius:6,borderTopWidth:2,borderTopColor:"#0284c7",borderTopStyle:"solid"},registryTitle:{fontSize:9,fontWeight:700,color:"#0369a1",marginBottom:6},registryRow:{flexDirection:"row",marginBottom:5},registryLabel:{width:"30%",fontSize:8,fontWeight:600,color:"#0c4a6e"},registryValue:{width:"70%",fontSize:8,fontWeight:400,color:"#1f2937"},variableSymbolBox:{marginTop:10,padding:10,backgroundColor:"#fefce8",borderRadius:4,borderWidth:1,borderColor:"#fde047",borderStyle:"solid"},variableSymbolRow:{flexDirection:"row",alignItems:"center",marginBottom:5},variableSymbolLabel:{fontSize:9,fontWeight:700,color:"#854d0e",marginRight:8},variableSymbolValue:{fontSize:10,fontWeight:700,color:"#a16207"},dphTable:{marginTop:15,marginBottom:10,borderWidth:1,borderColor:"#d1d5db",borderRadius:4},dphTableHeader:{flexDirection:"row",backgroundColor:"#f3f4f6",borderBottomWidth:2,borderBottomColor:"#9ca3af",padding:8},dphTableRow:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#e5e7eb",padding:8},dphTableRowTotal:{flexDirection:"row",backgroundColor:"#f0fdf4",padding:8,borderTopWidth:2,borderTopColor:"#059669"},dphTableCell:{fontSize:9,color:"#374151"},dphTableCellHeader:{fontSize:9,fontWeight:700,color:"#1f2937"},dphTableCellNumber:{fontSize:9,color:"#374151",textAlign:"right"},dphTableCellTotal:{fontSize:10,fontWeight:700,color:"#047857",textAlign:"right"},dphColSazba:{width:"20%"},dphColBezDph:{width:"27%"},dphColDph:{width:"27%"},dphColSvDph:{width:"26%"}}),u=e=>{if(null===e||void 0===e||""===e)return"---";const o=parseFloat(e);return isNaN(o)?"---":new Intl.NumberFormat("cs-CZ",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o)+" K\u010d"},y=e=>{if(!e)return"---";try{return new Date(e).toLocaleDateString("cs-CZ",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(o){return e}},v=e=>{var o;let{order:t,generatedBy:n,organizace:r,strediskaMap:l={}}=e;const i=(new Date).toLocaleString("cs-CZ",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),a="\u26a0\ufe0f NEV\xcdM",s=e=>e===a?{color:"#dc2626",fontWeight:700}:{},v=(null===t||void 0===t?void 0:t.cislo_objednavky)||a,g=((null===t||void 0===t?void 0:t.dt_objednavky)||(null===t||void 0===t||t.datum_obj_od),(null===t||void 0===t?void 0:t.predmet)||a),b=e=>{if(!e)return a;if(e.cele_jmeno)return e.cele_jmeno;const o=e.titul_pred||"",t=e.prijmeni||"",n=e.jmeno||"",r=e.titul_za||"";return"".concat(o," ").concat(t," ").concat(n," ").concat(r).replace(/\s+/g," ").trim()||a},x=b((null===t||void 0===t?void 0:t.objednatel)||(null===t||void 0===t?void 0:t.uzivatel)),p=b((null===t||void 0===t?void 0:t.garant_uzivatel)||(null===t||void 0===t?void 0:t.garant)),m=b((null===t||void 0===t?void 0:t.schvalovatel)||(null===t||void 0===t?void 0:t.prikazce)),j=(null===t||void 0===t?void 0:t.dt_vytvoreni)||a,k=b(null===t||void 0===t?void 0:t.dokoncil),S=(null===t||void 0===t?void 0:t.dt_dokonceni)||a,_=(()=>{const e=(null===t||void 0===t?void 0:t.polozky)||[];if(!Array.isArray(e)||0===e.length)return[];const o={};return e.forEach(e=>{const t=parseFloat(e.sazba_dph)||0,n=parseFloat(e.cena_bez_dph)||0,r=parseFloat(e.cena_s_dph)||0,l=r-n;o[t]||(o[t]={sazba:t,cenaBezDph:0,dphCastka:0,cenaSvDph:0}),o[t].cenaBezDph+=n,o[t].dphCastka+=l,o[t].cenaSvDph+=r}),Object.values(o).sort((e,o)=>o.sazba-e.sazba)})(),w=(_.reduce((e,o)=>e+o.cenaBezDph,0),_.reduce((e,o)=>e+o.dphCastka,0),_.reduce((e,o)=>e+o.cenaSvDph,0),(null===t||void 0===t?void 0:t.schvaleni_komentar)||""),z=(null===t||void 0===t?void 0:t.dt_schvaleni)||a,E=null!==t&&void 0!==t&&t.financovani&&(t.financovani.typ_nazev||t.financovani.nazev_stavu||t.financovani.nazev||t.financovani.typ)||a,Y=null!==t&&void 0!==t&&t.max_cena_s_dph?parseFloat(t.max_cena_s_dph):null,C=(null===t||void 0===t?void 0:t.dodavatel_nazev)||a,A=(null===t||void 0===t?void 0:t.dodavatel_adresa)||a,R=(null===t||void 0===t?void 0:t.dodavatel_ico)||a,L=(null===t||void 0===t?void 0:t.dodavatel_dic)||a,B=(null===t||void 0===t?void 0:t.dt_odeslani)||a,D=(null===t||void 0===t||t.variabilni_symbol,null!==t&&void 0!==t&&t.faktury&&Array.isArray(t.faktury)&&t.faktury.length>0&&t.faktury[0].fa_cislo_vema,(()=>{if(null!==t&&void 0!==t&&t.faktury&&Array.isArray(t.faktury)&&t.faktury.length>0){const e=t.faktury[0];if(e.fa_strediska_kod&&Array.isArray(e.fa_strediska_kod)&&e.fa_strediska_kod.length>0)return e.fa_strediska_kod.join(", ")}})(),null!==t&&void 0!==t&&t.faktury&&Array.isArray(t.faktury)&&t.faktury.length>0?t.faktury[0].fa_datum_splatnosti:null===t||void 0===t||t.splatnost_faktury,null!==t&&void 0!==t&&t.faktury&&Array.isArray(t.faktury)&&t.faktury.length>0?t.faktury[0].fa_datum_vystaveni:null===t||void 0===t||t.dt_vecna_spravnost,(()=>{if(null!==t&&void 0!==t&&t.faktury&&Array.isArray(t.faktury)&&t.faktury.length>0){const e=t.faktury[0].fa_castka;return e?parseFloat(e):null}})(),null!==t&&void 0!==t&&t.strediska_kod&&Array.isArray(t.strediska_kod)&&t.strediska_kod.length>0?t.strediska_kod.map(e=>l[e]||e).join(", "):a);null!==t&&void 0!==t&&null!==(W=t._enriched)&&void 0!==W&&W.strediska&&Array.isArray(t._enriched.strediska)&&t._enriched.strediska.length>0?t._enriched.strediska.map(e=>e.nazev||e.kod).join(", "):null!==t&&void 0!==t&&t.strediska_kod&&Array.isArray(t.strediska_kod)&&t.strediska_kod.length>0&&t.strediska_kod.map(e=>l[e]||e).join(", ");var W;const V=b(null===t||void 0===t?void 0:t.potvrdil_vecnou_spravnost),T=(null===t||void 0===t?void 0:t.dt_potvrzeni_vecne_spravnosti)||a;return(0,f.jsx)(d.yo,{children:(0,f.jsxs)(d.YW,{size:"A4",style:h.page,wrap:!1,children:[(0,f.jsxs)(d.Ss,{style:h.header,children:[(0,f.jsx)(d.Ss,{style:h.logoContainer,children:(0,f.jsx)(d._V,{src:c.kf.LOGO_ZZS_MAIN,style:h.logo})}),(0,f.jsxs)(d.Ss,{style:h.headerContent,children:[(0,f.jsx)(d.EY,{style:h.headerOrganization,children:"Zdravotnick\xe1 z\xe1chrann\xe1 slu\u017eba St\u0159edo\u010desk\xe9ho kraje, p.o."}),(0,f.jsx)(d.EY,{style:h.headerTitle,children:"Z\xe1znam o p\u0159edb\u011b\u017en\xe9 \u0159\xedd\xedc\xed kontrole"}),(0,f.jsx)(d.EY,{style:h.headerSubtitle,children:"Podle z\xe1kona \u010d. 320/2001 Sb., o finan\u010dn\xed kontrole ve ve\u0159ejn\xe9 spr\xe1v\u011b"})]}),(0,f.jsxs)(d.Ss,{style:h.headerDate,children:[(0,f.jsx)(d.EY,{style:h.dateLabel,children:"Vygenerov\xe1no dne:"}),(0,f.jsx)(d.EY,{style:h.dateValue,children:i})]})]}),(0,f.jsxs)(d.Ss,{style:h.section,children:[(0,f.jsxs)(d.Ss,{style:h.infoRow,children:[(0,f.jsx)(d.EY,{style:h.infoLabel,children:"Objedn\xe1vka \u010d.:"}),(0,f.jsx)(d.EY,{style:[h.infoValue,h.infoValueHighlight,s(v)],children:v})]}),(0,f.jsxs)(d.Ss,{style:h.infoRow,children:[(0,f.jsx)(d.EY,{style:h.infoLabel,children:"Vy\u0159izuje:"}),(0,f.jsx)(d.EY,{style:[h.infoValue,s(x)],children:x})]}),(0,f.jsxs)(d.Ss,{style:h.infoRow,children:[(0,f.jsx)(d.EY,{style:h.infoLabel,children:"Datum vytvo\u0159en\xed:"}),(0,f.jsx)(d.EY,{style:[h.infoValue,s(j)],children:y(j)})]}),(0,f.jsxs)(d.Ss,{style:h.infoRow,children:[(0,f.jsx)(d.EY,{style:h.infoLabel,children:"Garant:"}),(0,f.jsx)(d.EY,{style:[h.infoValue,s(p)],children:p})]}),(0,f.jsxs)(d.Ss,{style:h.infoRow,children:[(0,f.jsx)(d.EY,{style:h.infoLabel,children:"P\u0159edm\u011bt:"}),(0,f.jsx)(d.EY,{style:[h.infoValue,s(g)],children:g})]}),(0,f.jsxs)(d.Ss,{style:h.infoRow,children:[(0,f.jsx)(d.EY,{style:h.infoLabel,children:"St\u0159ediska:"}),(0,f.jsx)(d.EY,{style:[h.infoValue,s(D)],children:D})]})]}),(0,f.jsxs)(d.Ss,{style:h.controlSection,children:[(0,f.jsx)(d.EY,{style:h.controlTitle,children:"Kontrola p\u0159ed vznikem z\xe1vazku"}),w&&"---"!==w&&""!==w.trim()&&(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Koment\xe1\u0159:"}),(0,f.jsx)(d.EY,{style:[h.controlValue,s(w)],children:w})]}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"P\u0159\xedkazce operace:"}),(0,f.jsx)(d.EY,{style:[h.controlValue,s(m)],children:m})]}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Schv\xe1leno dne:"}),(0,f.jsx)(d.EY,{style:h.controlValue,children:y(z)})]}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Financov\xe1n\xed:"}),(0,f.jsx)(d.EY,{style:[h.controlValue,s(E)],children:E})]}),Y&&(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Maxim\xe1ln\xed cena s DPH:"}),(0,f.jsx)(d.EY,{style:h.controlValue,children:u(Y)})]}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Dodavatel:"}),(0,f.jsx)(d.EY,{style:[h.controlValue,s(C)],children:C})]}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Adresa:"}),(0,f.jsx)(d.EY,{style:[h.controlValue,s(A)],children:A})]}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"I\u010cO:"}),(0,f.jsx)(d.EY,{style:[h.controlValue,s(R)],children:R})]}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"DI\u010c:"}),(0,f.jsx)(d.EY,{style:[h.controlValue,s(L)],children:L})]}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Odesl\xe1no dodavateli:"}),(0,f.jsx)(d.EY,{style:h.controlValue,children:y(B)})]})]}),(0,f.jsxs)(d.Ss,{style:h.postControlSection,children:[(0,f.jsx)(d.EY,{style:h.postControlTitle,children:"Kontrola po vzniku z\xe1vazku"}),null!==t&&void 0!==t&&t.faktury&&Array.isArray(t.faktury)&&t.faktury.length>0?t.faktury.map((e,o)=>(0,f.jsxs)(d.Ss,{style:{marginBottom:o<t.faktury.length-1?8:0},children:[e.fa_cislo_vema&&"---"!==e.fa_cislo_vema&&(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Faktura variabiln\xed symbol:"}),(0,f.jsx)(d.EY,{style:h.controlValue,children:e.fa_cislo_vema})]}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"St\u0159ediska:"}),(0,f.jsx)(d.EY,{style:h.controlValue,children:e.fa_strediska_kod&&Array.isArray(e.fa_strediska_kod)&&e.fa_strediska_kod.length>0?e.fa_strediska_kod.map(e=>l[e]||e).join(", "):a})]}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Splatnost:"}),(0,f.jsx)(d.EY,{style:h.controlValue,children:e.fa_datum_splatnosti?y(e.fa_datum_splatnosti):a})]}),e.fa_castka&&(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Cena faktury s DPH:"}),(0,f.jsx)(d.EY,{style:h.controlValue,children:u(parseFloat(e.fa_castka))})]})]},e.id||o)):(0,f.jsx)(d.EY,{style:{fontSize:9,color:"#6b7280",fontStyle:"italic"},children:"\u017d\xe1dn\xe9 faktury"}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Kontrolu v\u011bcn\xe9 spr\xe1vnosti provedl:"}),(0,f.jsx)(d.EY,{style:[h.controlValue,s(V)],children:V})]}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Kontrola dne:"}),(0,f.jsx)(d.EY,{style:h.controlValue,children:y(T)})]}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Uzav\u0159el:"}),(0,f.jsx)(d.EY,{style:[h.controlValue,s(k)],children:k})]}),(0,f.jsxs)(d.Ss,{style:h.controlRow,children:[(0,f.jsx)(d.EY,{style:h.controlLabel,children:"Uzav\u0159eno dne:"}),(0,f.jsx)(d.EY,{style:[h.controlValue,s(S)],children:y(S)})]})]}),(null===t||void 0===t?void 0:t.zverejnil_id)&&(null===t||void 0===t?void 0:t.dt_zverejneni)&&(null===t||void 0===t?void 0:t.registr_iddt)&&(0,f.jsxs)(d.Ss,{style:h.registrySection,children:[(0,f.jsx)(d.EY,{style:h.registryTitle,children:"Zve\u0159ejn\u011bn\xed v registru smluv"}),t.dt_zverejneni&&(0,f.jsxs)(d.Ss,{style:h.registryRow,children:[(0,f.jsx)(d.EY,{style:h.registryLabel,children:"Datum zve\u0159ejn\u011bn\xed:"}),(0,f.jsx)(d.EY,{style:h.registryValue,children:y(t.dt_zverejneni)})]}),t.zverejnil&&(0,f.jsxs)(d.Ss,{style:h.registryRow,children:[(0,f.jsx)(d.EY,{style:h.registryLabel,children:"Zve\u0159ejnil:"}),(0,f.jsx)(d.EY,{style:h.registryValue,children:b((null===(o=t._enriched)||void 0===o?void 0:o.zverejnil)||t.zverejnil)})]}),t.registr_iddt&&(0,f.jsxs)(d.Ss,{style:h.registryRow,children:[(0,f.jsx)(d.EY,{style:h.registryLabel,children:"K\xf3d ID:"}),(0,f.jsx)(d.EY,{style:h.registryValue,children:t.registr_iddt})]})]}),(0,f.jsxs)(d.Ss,{style:h.footer,children:[(0,f.jsx)(d.EY,{style:h.footerText,children:(null===r||void 0===r?void 0:r.nazev_organizace)||(null===r||void 0===r?void 0:r.nazev)||"Zdravotnick\xe1 z\xe1chrann\xe1 slu\u017eba St\u0159edo\u010desk\xe9ho kraje, p\u0159\xedsp\u011bvkov\xe1 organizace"}),(0,f.jsxs)(d.EY,{style:h.footerText,children:["I\u010cO: ",(null===r||void 0===r?void 0:r.ico)||"70859981"," | e-mail: ",(null===r||void 0===r?void 0:r.email)||"podatelna@zachranka.cz"]}),(0,f.jsx)(d.EY,{style:h.footerText,children:null!==r&&void 0!==r&&r.ulice_cislo&&null!==r&&void 0!==r&&r.mesto&&null!==r&&void 0!==r&&r.psc?"".concat(r.ulice_cislo,", ").concat(r.psc," ").concat(r.mesto):(null===r||void 0===r?void 0:r.adresa)||"Van\u010durova 1544, 272 01 Kladno"}),(null===r||void 0===r?void 0:r.spisova_znacka)&&(0,f.jsxs)(d.EY,{style:h.footerReference,children:["Spisov\xe1 zna\u010dka: ",r.spisova_znacka]})]})]})})};var g,b,x,p,m,j,k,S,_,w,z,E,Y,C=t(27837),A=t(36629),R=t(33637);const L=i.A.div(g||(g=(0,n.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.85);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  padding: 0;\n"]))),B=i.A.div(b||(b=(0,n.A)(["\n  background: white;\n  border-radius: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n"]))),D=i.A.div(x||(x=(0,n.A)(["\n  padding: 20px 24px;\n  border-bottom: 2px solid #e5e7eb;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: linear-gradient(135deg, #059669 0%, #047857 100%);\n  color: white;\n  border-radius: 12px 12px 0 0;\n"]))),W=i.A.h2(p||(p=(0,n.A)(["\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n"]))),V=i.A.div(m||(m=(0,n.A)(["\n  display: flex;\n  gap: 12px;\n  align-items: center;\n"]))),T=i.A.button(j||(j=(0,n.A)(["\n  padding: 10px 20px;\n  border: none;\n  border-radius: 8px;\n  font-size: 0.95rem;\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  transition: all 0.2s;\n  background: ",";\n  color: ",";\n\n  &:hover {\n    background: ",";\n    transform: translateY(-2px);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n"])),e=>"primary"===e.variant?"#ffffff":"rgba(255, 255, 255, 0.2)",e=>"primary"===e.variant?"#059669":"#ffffff",e=>"primary"===e.variant?"#f0fdf4":"rgba(255, 255, 255, 0.3)"),F=i.A.button(k||(k=(0,n.A)(["\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  border-radius: 50%;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: white;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.3);\n    transform: rotate(90deg);\n  }\n"]))),P=i.A.div(S||(S=(0,n.A)(["\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  background: #f9fafb;\n"]))),I=i.A.div(_||(_=(0,n.A)(["\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  position: relative;\n"]))),O=i.A.iframe(w||(w=(0,n.A)(["\n  width: 100%;\n  height: 100%;\n  border: none;\n"]))),Z=i.A.div(z||(z=(0,n.A)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: rgba(249, 250, 251, 0.95);\n  z-index: 10;\n"]))),U=i.A.p(E||(E=(0,n.A)(["\n  margin-top: 16px;\n  font-size: 1.1rem;\n  color: #6b7280;\n  font-weight: 500;\n"]))),N=(0,i.A)(a.g)(Y||(Y=(0,n.A)(["\n  font-size: 3rem;\n  color: #059669;\n  animation: spin 1s linear infinite;\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"]))),K=e=>{let{order:o,onClose:t,generatedBy:n}=e;const{token:i,username:c}=(0,r.useContext)(C.cy),[h,u]=(0,r.useState)(null),[y,g]=(0,r.useState)(!0),[b,x]=(0,r.useState)(null),[p,m]=(0,r.useState)({});(0,r.useEffect)(()=>((async()=>{try{g(!0);let t=null;try{t=await(0,A.ZF)({token:i,username:c,id:1}),x(t)}catch(e){console.error("Nepoda\u0159ilo se na\u010d\xedst vizitku organizace:",e)}let r={};try{r=(await(0,R.CR)({token:i,username:c,aktivni:null})).reduce((e,o)=>{var t;return o.value&&(e[o.value]=o.label||o.value),null!==(t=o.raw)&&void 0!==t&&t.kod_stavu&&(e[o.raw.kod_stavu]=o.raw.nazev_stavu||o.raw.kod_stavu),e},{}),m(r)}catch(e){console.error("Nepoda\u0159ilo se na\u010d\xedst st\u0159ediska:",e)}const l=await(0,d.x8)((0,f.jsx)(v,{order:o,generatedBy:n,organizace:t,strediskaMap:r})).toBlob(),a=URL.createObjectURL(l);u(a)}catch(e){console.error("Chyba p\u0159i generov\xe1n\xed PDF n\xe1hledu:",e),alert("Chyba p\u0159i generov\xe1n\xed PDF n\xe1hledu"),t()}finally{g(!1)}})(),()=>{h&&URL.revokeObjectURL(h)}),[o,n]);return(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&t()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t]),(0,l.createPortal)((0,f.jsx)(L,{onClick:t,children:(0,f.jsxs)(B,{onClick:e=>e.stopPropagation(),children:[(0,f.jsxs)(D,{children:[(0,f.jsxs)(W,{children:["\ud83d\udccb Finan\u010dn\xed kontrola - ",(null===o||void 0===o?void 0:o.cislo_objednavky)||"N\xe1hled"]}),(0,f.jsxs)(V,{children:[(0,f.jsxs)(T,{variant:"secondary",onClick:async()=>{try{const e=await(0,d.x8)((0,f.jsx)(v,{order:o,generatedBy:n})).toBlob(),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="financni-kontrola-".concat((null===o||void 0===o?void 0:o.cislo_objednavky)||"dokument",".pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}catch(e){console.error("Chyba p\u0159i stahov\xe1n\xed PDF:",e),alert("Chyba p\u0159i stahov\xe1n\xed PDF")}},disabled:y,title:"St\xe1hnout PDF",children:[(0,f.jsx)(a.g,{icon:s.mHA}),"St\xe1hnout"]}),(0,f.jsxs)(T,{variant:"primary",onClick:()=>{if(h){const e=document.getElementById("pdf-iframe");e&&e.contentWindow&&e.contentWindow.print()}},disabled:y,title:"Vytisknout PDF",children:[(0,f.jsx)(a.g,{icon:s.JxU}),"Tisknout"]}),(0,f.jsx)(F,{onClick:t,title:"Zav\u0159\xedt (ESC)",children:(0,f.jsx)(a.g,{icon:s.GRI})})]})]}),(0,f.jsx)(P,{children:(0,f.jsxs)(I,{children:[y&&(0,f.jsxs)(Z,{children:[(0,f.jsx)(N,{icon:s.z1G}),(0,f.jsx)(U,{children:"Generuji PDF n\xe1hled..."})]}),h&&(0,f.jsx)(O,{id:"pdf-iframe",src:h,title:"PDF N\xe1hled - Finan\u010dn\xed kontrola"})]})})]})}),document.body)}}}]);
//# sourceMappingURL=2221.d35b2e71.chunk.js.map