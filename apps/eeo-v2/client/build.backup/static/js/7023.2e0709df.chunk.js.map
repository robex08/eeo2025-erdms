{"version":3,"file":"static/js/7023.2e0709df.chunk.js","mappings":"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","sources":["styles/GlobalTooltip.js","../node_modules/lucide-react/src/icons/x.ts","constants/orderStatusColors.js","utils/orderFilters.js","utils/orderFiltersAdvanced.js","components/OrderContextMenu.js","pages/Orders25List.js","utils/errorTranslation.js","utils/textHelpers.js","utils/iconMapping.js"],"sourcesContent":["import styled from '@emotion/styled';\n\n/**\n * Globln Tooltip komponenta pro jednotn vzhled nap celou aplikac\n * Pouit: Obalit element s touto komponentou a nastavit .tooltip child\n */\nexport const TooltipWrapper = styled.div`\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n\n  /* Tooltip element */\n  .tooltip,\n  .cache-tooltip {\n    position: absolute;\n    top: calc(100% + 10px);\n    left: 50%;\n    transform: translateX(-50%);\n    background: rgba(0, 0, 0, 0.67);\n    color: white;\n    padding: 0.5rem 0.875rem;\n    border-radius: 8px;\n    border: 1px solid rgba(255, 255, 255, 0.4);\n    font-size: 0.85rem;\n    font-weight: 600;\n    white-space: nowrap;\n    box-shadow:\n      0 6px 20px rgba(0, 0, 0, 0.4),\n      0 2px 8px rgba(0, 0, 0, 0.25),\n      inset 0 1px 0 rgba(255, 255, 255, 0.15);\n    backdrop-filter: blur(10px);\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 0.2s ease;\n    z-index: 999999;\n    line-height: 1.6;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n\n    /* Ikonka na zatku tooltip */\n    &::before {\n      content: '';\n      font-size: 1rem;\n      flex-shrink: 0;\n    }\n\n    /* Varianty ikon pomoc data-icon atributu */\n    &[data-icon=\"info\"]::before { content: ''; }\n    &[data-icon=\"success\"]::before { content: ''; }\n    &[data-icon=\"warning\"]::before { content: ''; }\n    &[data-icon=\"error\"]::before { content: ''; }\n    &[data-icon=\"database\"]::before { content: ''; }\n    &[data-icon=\"cache\"]::before { content: ''; }\n    &[data-icon=\"time\"]::before { content: ''; }\n    &[data-icon=\"calendar\"]::before { content: ''; }\n    &[data-icon=\"none\"]::before { content: none; }\n\n    backdrop-filter: blur(10px);\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 0.2s ease;\n    z-index: 999999;\n    line-height: 1.6;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n\n    /* ipka nahoru */\n    &::after {\n      content: '';\n      position: absolute;\n      bottom: 100%;\n      left: 50%;\n      transform: translateX(-50%);\n      border: 8px solid transparent;\n      border-bottom-color: rgba(0, 0, 0, 0.67);\n      filter: drop-shadow(0 -1px 1px rgba(0, 0, 0, 0.3));\n    }\n  }\n\n  /* Varianty pozicovn */\n  .tooltip-top,\n  .tooltip.top {\n    top: auto;\n    bottom: calc(100% + 10px);\n\n    &::after {\n      bottom: auto;\n      top: 100%;\n      border-bottom-color: transparent;\n      border-top-color: rgba(0, 0, 0, 0.67);\n    }\n  }\n\n  .tooltip-right,\n  .tooltip.right {\n    top: 50%;\n    left: calc(100% + 10px);\n    transform: translateY(-50%);\n\n    &::after {\n      top: 50%;\n      left: auto;\n      right: 100%;\n      bottom: auto;\n      transform: translateY(-50%);\n      border-bottom-color: transparent;\n      border-right-color: rgba(0, 0, 0, 0.67);\n    }\n  }\n\n  .tooltip-left,\n  .tooltip.left {\n    top: 50%;\n    left: auto;\n    right: calc(100% + 10px);\n    transform: translateY(-50%);\n\n    &::after {\n      top: 50%;\n      left: 100%;\n      right: auto;\n      bottom: auto;\n      transform: translateY(-50%);\n      border-bottom-color: transparent;\n      border-left-color: rgba(0, 0, 0, 0.67);\n    }\n  }\n\n  /* Multi-line tooltips */\n  .tooltip-multiline,\n  .tooltip.multiline {\n    white-space: normal;\n    max-width: 300px;\n    text-align: center;\n  }\n\n  /* Zobrazen pi hover */\n  &:hover .tooltip,\n  &:hover .cache-tooltip {\n    opacity: 1;\n  }\n`;\n\n/**\n * Samostatn Tooltip element (bez wrapperu)\n * Pouit: Pro custom pozicovn nebo kdy u mte vlastn wrapper\n */\nexport const Tooltip = styled.div`\n  position: absolute;\n  top: calc(100% + 10px);\n  left: 50%;\n  transform: translateX(-50%);\n  background: rgba(0, 0, 0, 0.67);\n  color: white;\n  padding: 0.5rem 0.875rem;\n  border-radius: 8px;\n  border: 1px solid rgba(255, 255, 255, 0.4);\n  font-size: 0.85rem;\n  font-weight: 600;\n  white-space: nowrap;\n  box-shadow:\n    0 6px 20px rgba(0, 0, 0, 0.4),\n    0 2px 8px rgba(0, 0, 0, 0.25),\n    inset 0 1px 0 rgba(255, 255, 255, 0.15);\n  backdrop-filter: blur(10px);\n  pointer-events: none;\n  opacity: 0;\n  transition: opacity 0.2s ease;\n  z-index: 999999;\n  line-height: 1.6;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n    border: 8px solid transparent;\n    border-bottom-color: rgba(0, 0, 0, 0.67);\n    filter: drop-shadow(0 -1px 1px rgba(0, 0, 0, 0.3));\n  }\n\n  ${props => props.$visible && `\n    opacity: 1;\n  `}\n\n  ${props => props.$position === 'top' && `\n    top: auto;\n    bottom: calc(100% + 10px);\n\n    &::after {\n      bottom: auto;\n      top: 100%;\n      border-bottom-color: transparent;\n      border-top-color: rgba(0, 0, 0, 0.67);\n    }\n  `}\n\n  ${props => props.$position === 'right' && `\n    top: 50%;\n    left: calc(100% + 10px);\n    transform: translateY(-50%);\n\n    &::after {\n      top: 50%;\n      left: auto;\n      right: 100%;\n      bottom: auto;\n      transform: translateY(-50%);\n      border-bottom-color: transparent;\n      border-right-color: rgba(0, 0, 0, 0.67);\n    }\n  `}\n\n  ${props => props.$position === 'left' && `\n    top: 50%;\n    left: auto;\n    right: calc(100% + 10px);\n    transform: translateY(-50%);\n\n    &::after {\n      top: 50%;\n      left: 100%;\n      right: auto;\n      bottom: auto;\n      transform: translateY(-50%);\n      border-bottom-color: transparent;\n      border-left-color: rgba(0, 0, 0, 0.67);\n    }\n  `}\n\n  ${props => props.$multiline && `\n    white-space: normal;\n    max-width: 300px;\n    text-align: center;\n  `}\n`;\n\n/**\n * Tooltip s malm paddingem (kompaktn verze)\n */\nexport const TooltipCompact = styled(Tooltip)`\n  padding: 0.375rem 0.625rem;\n  font-size: 0.8rem;\n`;\n\n/**\n * CSS Mixin pro tooltip styling (pouit v existujcch styled components)\n */\nexport const tooltipStyles = `\n  background: rgba(0, 0, 0, 0.67);\n  color: white;\n  padding: 0.5rem 0.875rem;\n  border-radius: 8px;\n  border: 1px solid rgba(255, 255, 255, 0.4);\n  font-size: 0.85rem;\n  font-weight: 600;\n  white-space: nowrap;\n  box-shadow:\n    0 6px 20px rgba(0, 0, 0, 0.4),\n    0 2px 8px rgba(0, 0, 0, 0.25),\n    inset 0 1px 0 rgba(255, 255, 255, 0.15);\n  backdrop-filter: blur(10px);\n  pointer-events: none;\n  z-index: 999999;\n  line-height: 1.6;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n`;\n\n/**\n * CSS pro tooltip ipku\n */\nexport const tooltipArrowStyles = (direction = 'bottom') => {\n  const arrowMap = {\n    bottom: `\n      bottom: 100%;\n      left: 50%;\n      transform: translateX(-50%);\n      border: 8px solid transparent;\n      border-bottom-color: rgba(0, 0, 0, 0.67);\n    `,\n    top: `\n      top: 100%;\n      left: 50%;\n      transform: translateX(-50%);\n      border: 8px solid transparent;\n      border-top-color: rgba(0, 0, 0, 0.67);\n    `,\n    right: `\n      top: 50%;\n      right: 100%;\n      transform: translateY(-50%);\n      border: 8px solid transparent;\n      border-right-color: rgba(0, 0, 0, 0.67);\n    `,\n    left: `\n      top: 50%;\n      left: 100%;\n      transform: translateY(-50%);\n      border: 8px solid transparent;\n      border-left-color: rgba(0, 0, 0, 0.67);\n    `\n  };\n\n  return `\n    content: '';\n    position: absolute;\n    ${arrowMap[direction] || arrowMap.bottom}\n    filter: drop-shadow(0 -1px 1px rgba(0, 0, 0, 0.3));\n  `;\n};\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n];\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('x', __iconNode);\n\nexport default X;\n","/**\n * Konstanty pro barvy stav objednvek\n *\n * Kad stav m dv varianty barev:\n * - dark: Pouit pro 3D dladice, dashboardy, zvraznn elementy\n * - light: Pouit pro tabulky, backgrounds, jemnj UI elementy\n */\n\nexport const STATUS_COLORS = {\n  // Tmav barvy pro 3D dladice + korespondujc svtl odstny pro tabulku\n  NOVA: {\n    dark: '#475569', // tmav ed - nov objednvka\n    light: '#e2e8f0' // svtle ed - koresponduje\n  },\n  KE_SCHVALENI: {\n    dark: '#dc2626', // ERVEN/RUD - ke schvlen (jak poadovno)\n    light: '#fecaca' // svtle erven - koresponduje s rudou\n  },\n  SCHVALENA: {\n    dark: '#ea580c', // ORANOV - schvlen (jak poadovno)\n    light: '#fed7aa' // svtle oranov - koresponduje\n  },\n  ZAMITNUTA: {\n    dark: '#7c2d12', // tmav hnd - zamtnut\n    light: '#fed7aa' // svtle hnd - koresponduje\n  },\n  ROZPRACOVANA: {\n    dark: '#ca8a04', // LUT - rozpracovan (jak poadovno)\n    light: '#fef08a' // svtle lut - koresponduje\n  },\n  ODESLANA: {\n    dark: '#1d4ed8', // MODR - odeslan dodavateli (jak poadovno)\n    light: '#dbeafe' // svtle modr - koresponduje\n  },\n  POTVRZENA: {\n    dark: '#0891b2', // CYAN - faktura/potvrzen (jak poadovno)\n    light: '#a5f3fc' // svtle cyan - koresponduje\n  },\n  K_UVEREJNENI_DO_REGISTRU: {\n    dark: '#8b5cf6', // fialov - m bt zveejnna v registru smluv\n    light: '#ede9fe' // svtle fialov - koresponduje\n  },\n  UVEREJNENA: {\n    dark: '#7c2d12', // hnd - zveejnn v registru smluv\n    light: '#fed7aa' // svtle oranov - koresponduje\n  },\n  CEKA_POTVRZENI: {\n    dark: '#7c3aed', // fialov - ek na potvrzen (uniktn)\n    light: '#e9d5ff' // svtle fialov - koresponduje\n  },\n  CEKA_SE: {\n    dark: '#92400e', // tmav zlatohnd - ek se (uniktn, odlin od oranov)\n    light: '#fef3c7' // svtle zlat - koresponduje\n  },\n  VECNA_SPRAVNOST: {\n    dark: '#10b981', // zelen - vcn sprvnost/kontrola\n    light: '#d1fae5' // svtle zelen - koresponduje\n  },\n  DOKONCENA: {\n    dark: '#16a34a', // ZELEN - dokonen (jak poadovno)\n    light: '#bbf7d0' // svtle zelen - koresponduje\n  },\n  ZRUSENA: {\n    dark: '#be185d', // rov - zruen (uniktn)\n    light: '#fce7f3' // svtle rov - koresponduje\n  },\n  SMAZANA: {\n    dark: '#374151', // tmav ed - smazan\n    light: '#d1d5db' // svtle ed - koresponduje\n  },\n  ARCHIVOVANO: {\n    dark: '#78350f', // tmav hnd - archivovan/import\n    light: '#fef3c7' // svtle lut - koresponduje\n  },\n  // Speciln barvy pro dashboard\n  TOTAL: {\n    dark: '#14532d', // tmav zelen pro celkovou hodnotu\n    light: '#dcfce7'  // svtle zelen - koresponduje\n  },\n  COUNT: {\n    dark: '#1e3a8a', // tmav modr pro poty\n    light: '#dbeafe'  // svtle modr - koresponduje\n  },\n  WITH_INVOICES: {\n    dark: '#0891b2', // cyan - objednvky s fakturami\n    light: '#cffafe'  // svtle cyan - koresponduje\n  },\n  WITH_ATTACHMENTS: {\n    dark: '#7c3aed', // fialov - objednvky s plohami\n    light: '#e9d5ff'  // svtle fialov - koresponduje\n  }\n};\n\n/**\n * Zsk barvu podle stavu objednvky\n * @param {string|object} stav - Stav objednvky (string nebo objekt s kdem)\n * @returns {object} Objekt s dark a light barvami\n */\nexport const getStatusColor = (stav) => {\n  if (!stav) return STATUS_COLORS.NOVA;\n\n  // Pokud je to string kl, pouij ho pmo\n  if (typeof stav === 'string' && STATUS_COLORS[stav]) {\n    return STATUS_COLORS[stav];\n  }\n\n  // Pokud je to objekt s kdem\n  const statusCode = stav?.kod || stav?.status_kod || stav;\n\n  if (!statusCode) return STATUS_COLORS.NOVA;\n\n  return STATUS_COLORS[statusCode] || STATUS_COLORS.NOVA;\n};\n","/**\n * Utility funkce pro filtrovn objednvek\n * Rozdleno z masivnho useMemo v Orders25List.js pro lep maintainability\n */\n\nimport { removeDiacritics } from './textHelpers';\nimport { formatDateOnly } from './format';\n\n/**\n * Filtr \"Jen moje objednvky\" - pouze pro SUPERADMIN a ADMINISTRATOR\n */\nexport const filterMyOrders = (order, showOnlyMyOrders, userDetail, currentUserId) => {\n  if (!showOnlyMyOrders || !userDetail?.roles) return true;\n\n  const isSuperAdminOrAdmin = userDetail.roles.some(\n    role => role.kod_role === 'SUPERADMIN' || role.kod_role === 'ADMINISTRATOR'\n  );\n\n  if (!isSuperAdminOrAdmin) return true;\n\n  // Filtruj objednvky kde je uivatel jako Objednatel, Garant, Schvalovatel nebo Pkazce\n  const isObjednatel = order.objednatel_id === currentUserId || order.uzivatel_id === currentUserId;\n  const isGarant = order.garant_uzivatel_id === currentUserId;\n  const isSchvalovatel = order.schvalovatel_id === currentUserId;\n  const isPrikazce = order.prikazce_id === currentUserId;\n\n  return isObjednatel || isGarant || isSchvalovatel || isPrikazce;\n};\n\n/**\n * Filtr podle data objednvky\n */\nexport const filterByOrderDate = (order, filterValue, getOrderDate) => {\n  if (!filterValue) return true;\n\n  const orderDateValue = getOrderDate(order);\n  if (!orderDateValue) return false;\n\n  const dateStr = formatDateOnly(new Date(orderDateValue));\n  return dateStr.toLowerCase().includes(filterValue.toLowerCase());\n};\n\n/**\n * Filtr podle sla objednvky\n */\nexport const filterByOrderNumber = (order, filterValue) => {\n  if (!filterValue) return true;\n\n  const cislo = removeDiacritics(order.cislo_objednavky || '');\n  return cislo.includes(removeDiacritics(filterValue));\n};\n\n/**\n * Filtr podle pedmtu objednvky\n */\nexport const filterBySubject = (order, filterValue) => {\n  if (!filterValue) return true;\n\n  const predmet = removeDiacritics(order.predmet || '');\n  return predmet.includes(removeDiacritics(filterValue));\n};\n\n/**\n * Filtr podle objednatele\n * Podporuje:\n * - Textov vyhledvn (z hlaviky tabulky) - filtruje podle jmna\n * - Multiselect (z rozenho filtru) - filtruje podle ID oddlench |\n */\nexport const filterByObjednatel = (order, filterValue, getUserDisplayName) => {\n  if (!filterValue) return true;\n\n  const enriched = order._enriched || {};\n\n  // Detekuj typ filtru: pokud obsahuje pouze slice oddlen |, je to filtr podle ID\n  const isIdFilter = /^[\\d|]+$/.test(filterValue);\n\n  if (isIdFilter) {\n    // === FILTR PODLE ID (multiselect) ===\n    let objednatelId = null;\n\n    // Zskej ID objednatele\n    if (enriched?.uzivatel?.id) {\n      objednatelId = String(enriched.uzivatel.id);\n    } else if (order.objednatel_uzivatel?.id) {\n      objednatelId = String(order.objednatel_uzivatel.id);\n    } else if (order.objednatel?.id) {\n      objednatelId = String(order.objednatel.id);\n    } else if (order.uzivatel_id) {\n      objednatelId = String(order.uzivatel_id);\n    } else if (order.objednatel_id) {\n      objednatelId = String(order.objednatel_id);\n    }\n\n    // Pokud nem ID, nezobrazuj (kdy je aktivn ID filtr)\n    if (!objednatelId) return false;\n\n    // Multiselect: filterValue obsahuje ID oddlen '|'\n    const selectedIds = filterValue.split('|').map(id => id.trim());\n    return selectedIds.includes(objednatelId);\n  } else {\n    // === TEXTOV FILTR (hlavika tabulky) ===\n    let name = '';\n\n    // 1. Priorita: Order V2 API enriched data s tituly (objednatel_uzivatel)\n    if (order.objednatel_uzivatel) {\n      if (order.objednatel_uzivatel.cele_jmeno) {\n        name = order.objednatel_uzivatel.cele_jmeno;\n      } else {\n        name = getUserDisplayName(null, order.objednatel_uzivatel);\n      }\n    }\n    // 2. Pak zkus objekt objednatel pmo z BE dat\n    else if (order.objednatel) {\n      const obj = order.objednatel;\n      if (obj.cele_jmeno) {\n        name = obj.cele_jmeno;\n      } else if (obj.jmeno && obj.prijmeni) {\n        const titul_pred_str = obj.titul_pred ? obj.titul_pred + ' ' : '';\n        const titul_za_str = obj.titul_za ? ', ' + obj.titul_za : '';\n        name = `${titul_pred_str}${obj.jmeno} ${obj.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n      } else if (obj.username) {\n        name = obj.username;\n      }\n    }\n    // 3. Fallback na lokln users mapping podle ID\n    else if (order.objednatel_id) {\n      name = getUserDisplayName(order.objednatel_id);\n    }\n\n    // Textov vyhledvn bez diakritiky\n    const normalizedText = removeDiacritics(name.toLowerCase());\n    const normalizedFilter = removeDiacritics(filterValue.toLowerCase());\n\n    return normalizedText.includes(normalizedFilter);\n  }\n};\n\n/**\n * Filtr podle stavu objednvky\n */\nexport const filterByStatus = (order, filterValue, getOrderDisplayStatus) => {\n  if (!filterValue) return true;\n\n  const displayStatus = removeDiacritics(getOrderDisplayStatus(order));\n  return displayStatus.includes(removeDiacritics(filterValue));\n};\n\n/**\n * Filtr podle dodavatele\n * Vyhledv v nzvu, IO, adrese, emailu, telefonu a kontaktn osob\n */\nexport const filterByDodavatel = (order, filterValue) => {\n  if (!filterValue) return true;\n\n  // Sestaven prohledvatelnho textu ze vech pol dodavatele\n  const searchableText = [\n    order.dodavatel_nazev || '',\n    order.dodavatel_ico || '',\n    order.dodavatel_ulice || '',\n    order.dodavatel_mesto || '',\n    order.dodavatel_psc || '',\n    order.dodavatel_kontakt_email || '',\n    order.dodavatel_kontakt_telefon || '',\n    order.dodavatel_kontakt_jmeno || ''\n  ].join(' ').toLowerCase();\n\n  const normalizedText = removeDiacritics(searchableText);\n  const normalizedFilter = removeDiacritics(filterValue.toLowerCase());\n\n  return normalizedText.includes(normalizedFilter);\n};\n\n/**\n * Pomocn funkce pro porovnn numerick hodnoty s filtrem\n * Podporuje opertory: >10000, <5000, =1234 nebo textov vyhledvn\n * @param {number} value - Hodnota k porovnn\n * @param {string} filterValue - Filtr (nap. \">10000\", \"<5000\", \"=1234\", nebo jen \"1000\")\n * @returns {boolean}\n */\nconst compareNumericValue = (value, filterValue) => {\n  if (!filterValue) return true;\n\n  const trimmed = filterValue.trim();\n\n  // Pokus se detekovat opertor na zatku\n  const operatorMatch = trimmed.match(/^(>|<|=)\\s*(.+)$/);\n\n  if (operatorMatch) {\n    const operator = operatorMatch[1];\n    const numStr = operatorMatch[2].replace(/\\s/g, '').replace(/,/g, '.');\n    const filterNum = parseFloat(numStr);\n\n    if (isNaN(filterNum)) return false;\n\n    switch (operator) {\n      case '>':\n        return value > filterNum;\n      case '<':\n        return value < filterNum;\n      case '=':\n        return Math.abs(value - filterNum) < 0.01; // Tolerance pro desetinn sla\n      default:\n        return false;\n    }\n  }\n\n  // Bez opertoru - textov vyhledvn v naformtovan hodnot\n  const amountStr = value > 0 ? value.toLocaleString('cs-CZ') : '';\n  return amountStr.includes(filterValue);\n};\n\n/**\n * Filtr podle maximln ceny s DPH\n * Podporuje opertory: >10000, <5000, =1234 nebo textov vyhledvn\n */\nexport const filterByMaxPrice = (order, filterValue) => {\n  if (!filterValue) return true;\n\n  const amount = parseFloat(order.max_cena_s_dph || 0);\n  return compareNumericValue(amount, filterValue);\n};\n\n/**\n * Pomocn funkce pro zskn ID uivatele z rznch zdroj\n */\nconst getUserId = (order, role) => {\n  const enriched = order._enriched;\n\n  switch (role) {\n    case 'garant':\n      if (enriched?.garant_uzivatel?.id) return String(enriched.garant_uzivatel.id);\n      if (order.garant?.id) return String(order.garant.id);\n      if (order.garant_uzivatel_id) return String(order.garant_uzivatel_id);\n      return null;\n\n    case 'prikazce':\n      if (enriched?.prikazce_uzivatel?.id) return String(enriched.prikazce_uzivatel.id);\n      if (order.prikazce?.id) return String(order.prikazce.id);\n      if (order.prikazce_id) return String(order.prikazce_id);\n      return null;\n\n    case 'schvalovatel':\n      if (enriched?.schvalovatel_uzivatel?.id) return String(enriched.schvalovatel_uzivatel.id);\n      if (order.schvalovatel?.id) return String(order.schvalovatel.id);\n      if (order.schvalovatel_id) return String(order.schvalovatel_id);\n      return null;\n\n    default:\n      return null;\n  }\n};\n\n/**\n * Pomocn funkce pro zskn jmna uivatele z objednvky\n */\nconst getUserName = (order, role, getUserDisplayName) => {\n  const enriched = order._enriched || {};\n\n  switch (role) {\n    case 'garant':\n      if (order.garant?.jmeno && order.garant?.prijmeni) {\n        const gar = order.garant;\n        const titul_pred_str = gar.titul_pred ? gar.titul_pred + ' ' : '';\n        const titul_za_str = gar.titul_za ? ', ' + gar.titul_za : '';\n        return `${titul_pred_str}${gar.jmeno} ${gar.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n      }\n      if (enriched?.garant_uzivatel) return getUserDisplayName(null, enriched.garant_uzivatel);\n      if (order.garant_uzivatel_id) return getUserDisplayName(order.garant_uzivatel_id);\n      return '';\n\n    case 'prikazce':\n      if (order.prikazce?.jmeno && order.prikazce?.prijmeni) {\n        const pri = order.prikazce;\n        const titul_pred_str = pri.titul_pred ? pri.titul_pred + ' ' : '';\n        const titul_za_str = pri.titul_za ? ', ' + pri.titul_za : '';\n        return `${titul_pred_str}${pri.jmeno} ${pri.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n      }\n      if (enriched?.prikazce_uzivatel) return getUserDisplayName(null, enriched.prikazce_uzivatel);\n      if (order.prikazce_id) return getUserDisplayName(order.prikazce_id);\n      return '';\n\n    case 'schvalovatel':\n      if (order.schvalovatel?.jmeno && order.schvalovatel?.prijmeni) {\n        const sch = order.schvalovatel;\n        const titul_pred_str = sch.titul_pred ? sch.titul_pred + ' ' : '';\n        const titul_za_str = sch.titul_za ? ', ' + sch.titul_za : '';\n        return `${titul_pred_str}${sch.jmeno} ${sch.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n      }\n      if (enriched?.schvalovatel) return getUserDisplayName(null, enriched.schvalovatel);\n      if (order.schvalovatel_id) return getUserDisplayName(order.schvalovatel_id);\n      return '';\n\n    default:\n      return '';\n  }\n};\n\n/**\n * Obecn funkce pro filtrovn podle role (garant, pkazce, schvalovatel)\n * Podporuje:\n * - Textov vyhledvn (z hlaviky tabulky) - filtruje podle jmna\n * - Multiselect (z rozenho filtru) - filtruje podle ID oddlench |\n */\nexport const filterByUserRole = (order, filterValue, role, getUserDisplayName) => {\n  if (!filterValue) return true;\n\n  const trimmedValue = filterValue.trim();\n\n  // Detekuj typ filtru: pokud obsahuje pouze slice oddlen |, je to filtr podle ID\n  const isIdFilter = /^[\\d|]+$/.test(trimmedValue);\n\n  if (isIdFilter) {\n    // === FILTR PODLE ID (multiselect) ===\n    const userId = getUserId(order, role);\n    if (!userId) return false; // Pokud nem ID, nezobrazuj (kdy je aktivn ID filtr)\n\n    const selectedIds = trimmedValue.split('|').map(id => id.trim());\n    return selectedIds.includes(userId);\n  } else {\n    // === TEXTOV FILTR (hlavika tabulky) ===\n    const userName = getUserName(order, role, getUserDisplayName);\n    return removeDiacritics(userName.toLowerCase()).includes(removeDiacritics(trimmedValue.toLowerCase()));\n  }\n};\n\n/**\n * Aplikuje vechny sloupcov filtry na objednvku\n */\nexport const applyColumnFilters = (order, columnFilters, getOrderDate, getOrderDisplayStatus, getUserDisplayName) => {\n  // Filtr podle data\n  if (!filterByOrderDate(order, columnFilters.dt_objednavky, getOrderDate)) return false;\n\n  // Filtr podle sla objednvky\n  if (!filterByOrderNumber(order, columnFilters.cislo_objednavky)) return false;\n\n  // Filtr podle pedmtu\n  if (!filterBySubject(order, columnFilters.predmet)) return false;\n\n  // Filtr podle objednatele\n  if (!filterByObjednatel(order, columnFilters.objednatel, getUserDisplayName)) return false;\n\n  // Filtr podle stavu\n  if (!filterByStatus(order, columnFilters.stav_objednavky, getOrderDisplayStatus)) return false;\n\n  // Filtr podle ceny\n  if (!filterByMaxPrice(order, columnFilters.max_cena_s_dph)) return false;\n\n  // Filtr podle dodavatele\n  if (!filterByDodavatel(order, columnFilters.dodavatel_nazev)) return false;\n\n  // Filtry podle rol\n  if (!filterByUserRole(order, columnFilters.garant, 'garant', getUserDisplayName)) return false;\n  if (!filterByUserRole(order, columnFilters.prikazce, 'prikazce', getUserDisplayName)) return false;\n  if (!filterByUserRole(order, columnFilters.schvalovatel, 'schvalovatel', getUserDisplayName)) return false;\n\n  return true;\n};\n","/**\n * Komplexn filtry pro objednvky - globln vyhledvn, status, datum, stky\n * st 2/2 utility soubor pro filtrovn\n */\n\nimport { removeDiacritics } from './textHelpers';\n\n/**\n * Pomocn funkce pro zskn jmen z objednvky pro globln vyhledvn\n */\nexport const getGarantNameForSearch = (order, getUserDisplayName) => {\n  const enriched = order._enriched || {};\n\n  if (enriched.garant_uzivatel) {\n    return getUserDisplayName(null, enriched.garant_uzivatel);\n  }\n\n  if (order.garant) {\n    if (order.garant.jmeno && order.garant.prijmeni) {\n      const titul_pred_str = order.garant.titul_pred ? order.garant.titul_pred + ' ' : '';\n      const titul_za_str = order.garant.titul_za ? ', ' + order.garant.titul_za : '';\n      return `${titul_pred_str}${order.garant.jmeno} ${order.garant.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n    } else {\n      return order.garant.username || '';\n    }\n  }\n\n  if (order.garant_uzivatel_id) {\n    return getUserDisplayName(order.garant_uzivatel_id);\n  }\n\n  return '';\n};\n\nexport const getSchvalovatelNameForSearch = (order, getUserDisplayName) => {\n  const enriched = order._enriched || {};\n\n  if (enriched.schvalovatel_uzivatel) {\n    return getUserDisplayName(null, enriched.schvalovatel_uzivatel);\n  }\n\n  if (order.schvalovatel) {\n    if (order.schvalovatel.jmeno && order.schvalovatel.prijmeni) {\n      const titul_pred_str = order.schvalovatel.titul_pred ? order.schvalovatel.titul_pred + ' ' : '';\n      const titul_za_str = order.schvalovatel.titul_za ? ', ' + order.schvalovatel.titul_za : '';\n      return `${titul_pred_str}${order.schvalovatel.jmeno} ${order.schvalovatel.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n    } else {\n      return order.schvalovatel.username || '';\n    }\n  }\n\n  if (order.schvalovatel_id) {\n    return getUserDisplayName(order.schvalovatel_id);\n  }\n\n  return '';\n};\n\n/**\n * Globln vyhledvn nap vemi poli objednvky\n */\nexport const filterByGlobalSearch = (order, searchText, getUserDisplayName, getOrderDisplayStatus) => {\n  if (!searchText) return true;\n\n  const enriched = order._enriched || {};\n\n  // Parse druh_objednavky nazev\n  const getDruhObjednavkyNazev = () => {\n    if (enriched.druh_objednavky?.nazev) {\n      try {\n        if (typeof enriched.druh_objednavky.nazev === 'string' && enriched.druh_objednavky.nazev.startsWith('{')) {\n          const parsed = JSON.parse(enriched.druh_objednavky.nazev);\n          return parsed.nazev_stavu || parsed.nazev || enriched.druh_objednavky.nazev;\n        }\n        return enriched.druh_objednavky.nazev;\n      } catch (e) {\n        return enriched.druh_objednavky.nazev;\n      }\n    }\n    if (enriched.druh_objednavky?.nazev_stavu) return enriched.druh_objednavky.nazev_stavu;\n    if (order.druh_objednavky_kod) {\n      try {\n        if (typeof order.druh_objednavky_kod === 'string' && order.druh_objednavky_kod.startsWith('{')) {\n          const parsed = JSON.parse(order.druh_objednavky_kod);\n          return parsed.nazev_stavu || parsed.nazev || '';\n        }\n        if (typeof order.druh_objednavky_kod === 'object' && order.druh_objednavky_kod.nazev_stavu) {\n          return order.druh_objednavky_kod.nazev_stavu;\n        }\n        return order.druh_objednavky_kod;\n      } catch (e) {\n        return '';\n      }\n    }\n    return '';\n  };\n\n  const searchableText = removeDiacritics([\n    // Zkladn informace o objednvce\n    order.cislo_objednavky,\n    order.predmet,\n    order.dodavatel_nazev,\n    order.dodavatel_ico,\n    order.dodavatel_adresa,\n    order.dodavatel_kontakt_jmeno,\n    order.dodavatel_kontakt_email,\n    order.dodavatel_kontakt_telefon,\n    order.poznamka,\n    \n    // Uivatel\n    enriched.uzivatel ? getUserDisplayName(null, enriched.uzivatel) : '',\n    getGarantNameForSearch(order, getUserDisplayName),\n    getSchvalovatelNameForSearch(order, getUserDisplayName),\n    getUserDisplayName(order.uzivatel_id),\n    getUserDisplayName(order.objednatel_id),\n    \n    //  STAVY - VDY HLEDEJ V OBOU ZDROJCH\n    order.stav_objednavky, //  Zkladn stav (esk nzvy: \"Dokonena\", \"Ke schvlen\", ...)\n    enriched.stav_workflow?.nazev_stavu, //  Enriched workflow stav\n    enriched.stav_workflow?.nazev, //  Enriched nzev\n    getOrderDisplayStatus(order), //  Vpoetn funkce jako fallback\n    \n    // Druh objednvky\n    getDruhObjednavkyNazev(),\n    \n    // Stediska\n    enriched.strediska ? enriched.strediska.map(s => `${s.kod} ${s.nazev}`).join(' ') : '',\n    order.strediska_kod ? (Array.isArray(order.strediska_kod) ? order.strediska_kod.join(' ') : order.strediska_kod) : '',\n    \n    // Financovn\n    order.financovani?.typ_nazev,\n    order.financovani?.typ,\n    order.financovani?.lp_kody ? order.financovani.lp_kody.join(' ') : '',\n    order.financovani?.lp_nazvy ? order.financovani.lp_nazvy.map(lp => `${lp.cislo_lp || lp.kod || ''} ${lp.nazev || ''}`).join(' ') : '',\n    order.financovani?.poznamka,\n    order.financovani?.cislo_smlouvy,\n    order.financovani?.poznamka_smlouvy,\n    \n    //  POLOKY OBJEDNVKY + PODDKY\n    ...(order.polozky && Array.isArray(order.polozky)\n      ? order.polozky.flatMap(item => {\n          const itemFields = [\n            item.nazev_polozky,\n            item.popis,\n            item.poznamka,\n            item.poznamka_umisteni,\n            item.katalog_cislo,\n            item.dodavatel_kod,\n            item.usek_kod,\n            item.budova_kod,\n            item.mistnost_kod\n          ].filter(Boolean).join(' ');\n          \n          //  Pidej i poddky poloky\n          const subItems = item.podradky && Array.isArray(item.podradky)\n            ? item.podradky.map(sub => [\n                sub.nazev_polozky,\n                sub.popis,\n                sub.poznamka,\n                sub.poznamka_umisteni,\n                sub.katalog_cislo,\n                sub.dodavatel_kod,\n                sub.usek_kod,\n                sub.budova_kod,\n                sub.mistnost_kod\n              ].filter(Boolean).join(' '))\n            : [];\n          \n          return [itemFields, ...subItems];\n        })\n      : []),\n    \n    //  FAKTURY + PODDKY FAKTUR\n    ...(order.faktury && Array.isArray(order.faktury)\n      ? order.faktury.flatMap(faktura => {\n          const fakturaFields = [\n            faktura.fa_cislo_vema,\n            faktura.cislo_faktury,\n            faktura.fa_poznamka,\n            faktura.fa_strediska_kod \n              ? (Array.isArray(faktura.fa_strediska_kod) \n                  ? faktura.fa_strediska_kod.join(' ') \n                  : faktura.fa_strediska_kod) \n              : ''\n          ].filter(Boolean).join(' ');\n          \n          //  Pidej i poddky faktury\n          const fakturaSubItems = faktura.polozky && Array.isArray(faktura.polozky)\n            ? faktura.polozky.map(fItem => [\n                fItem.nazev_polozky,\n                fItem.popis,\n                fItem.poznamka,\n                fItem.katalog_cislo\n              ].filter(Boolean).join(' '))\n            : [];\n          \n          return [fakturaFields, ...fakturaSubItems];\n        })\n      : []),\n    \n    // Plohy objednvky\n    ...(order.prilohy && Array.isArray(order.prilohy)\n      ? order.prilohy.map(priloha => [\n          priloha.nazev_souboru,\n          priloha.nazev,\n          priloha.popis\n        ].filter(Boolean).join(' '))\n      : []),\n    \n    // Dodaten dokumenty\n    ...(order.dodatecne_dokumenty && Array.isArray(order.dodatecne_dokumenty)\n      ? order.dodatecne_dokumenty.map(dokument => [\n          dokument.nazev_souboru,\n          dokument.nazev,\n          dokument.popis\n        ].filter(Boolean).join(' '))\n      : []),\n    \n    // Plohy faktur\n    ...(order.faktury && Array.isArray(order.faktury)\n      ? order.faktury.flatMap(faktura =>\n          faktura.prilohy && Array.isArray(faktura.prilohy)\n            ? faktura.prilohy.map(priloha => [\n                priloha.nazev_souboru,\n                priloha.nazev,\n                priloha.popis\n              ].filter(Boolean).join(' '))\n            : []\n        )\n      : [])\n  ].filter(Boolean).join(' '));\n\n  return searchableText.includes(removeDiacritics(searchText));\n};\n\n/**\n * Filtr podle statusu (podporuje pole stav)\n * @param {Object} order - Objednvka\n * @param {Array} statusFilter - Pole systmovch kd status (nap. ['KE_SCHVALENI', 'SCHVALENA'])\n * @param {Function} getOrderSystemStatus - Funkce pro zskn systmovho kdu z objednvky\n */\nexport const filterByStatusArray = (order, statusFilter, getOrderSystemStatus) => {\n  if (!statusFilter || !Array.isArray(statusFilter) || statusFilter.length === 0) return true;\n\n  //  POROVNVEJ PMO ESK NZVY z order.stav_objednavky\n  const orderStatus = order.stav_objednavky;\n\n  if (!orderStatus) {\n    // Pokud objednvka nem stav, potej jako NOVA nebo koncept\n    return statusFilter.includes('Nov') || statusFilter.includes('Koncept') || statusFilter.includes('NOVA') || statusFilter.includes('DRAFT');\n  }\n\n  // Normalizuj nzev stavu (bez diakritiky, lowercase, bez extra mezer)\n  const normalizeStatus = (status) => {\n    return String(status)\n      .toLowerCase()\n      .trim()\n      .normalize('NFD')\n      .replace(/[\\u0300-\\u036f]/g, '') // Odstra diakritiku\n      .replace(/\\s+/g, ' '); // Normalizuj mezery\n  };\n\n  const normalizedOrderStatus = normalizeStatus(orderStatus);\n\n  // Porovnej s normalizovanmi hodnotami z filtru\n  return statusFilter.some(filterValue => {\n    const normalizedFilterValue = normalizeStatus(filterValue);\n    return normalizedFilterValue === normalizedOrderStatus;\n  });\n};\n\n/**\n * Filtr podle archivace\n */\nexport const filterByArchived = (order, showArchived, getOrderSystemStatus) => {\n  if (showArchived) return true;\n\n  const status = getOrderSystemStatus(order);\n  return status !== 'ARCHIVOVANO';\n};\n\n/**\n * Filtr podle uivatele (creator nebo orderer)\n */\nexport const filterByUser = (order, userFilter) => {\n  if (!userFilter) return true;\n\n  const userId = parseInt(userFilter);\n  const matchesCreator = order.uzivatel_id === userId;\n  const matchesOrderer = order.objednatel_id === userId;\n\n  return matchesCreator || matchesOrderer;\n};\n\n/**\n * Filtr podle data (dt_objednavky nebo datum_obj_do)\n */\nexport const filterByDateRange = (order, dateFromFilter, dateToFilter, getOrderDate) => {\n  if (!dateFromFilter && !dateToFilter) return true;\n\n  const dtObjednavky = getOrderDate(order);\n  const datumObjDo = order.datum_obj_do ? order.datum_obj_do.split('T')[0] : null;\n\n  const hasAnyDate = dtObjednavky || datumObjDo;\n  if (!hasAnyDate) return true;\n\n  let passesFilter = false;\n\n  // Kontrola dt_objednavky\n  if (dtObjednavky) {\n    const orderDate = new Date(dtObjednavky);\n    const fromDate = dateFromFilter ? new Date(dateFromFilter) : null;\n    const toDate = dateToFilter ? new Date(dateToFilter) : null;\n\n    if (toDate) toDate.setHours(23, 59, 59, 999);\n\n    const afterFrom = !fromDate || orderDate >= fromDate;\n    const beforeTo = !toDate || orderDate <= toDate;\n\n    if (afterFrom && beforeTo) {\n      passesFilter = true;\n    }\n  }\n\n  // Kontrola datum_obj_do (pokud dt_objednavky neprolo)\n  if (!passesFilter && datumObjDo) {\n    const objDoDate = new Date(datumObjDo);\n    const fromDate = dateFromFilter ? new Date(dateFromFilter) : null;\n    const toDate = dateToFilter ? new Date(dateToFilter) : null;\n\n    if (toDate) toDate.setHours(23, 59, 59, 999);\n\n    const afterFrom = !fromDate || objDoDate >= fromDate;\n    const beforeTo = !toDate || objDoDate <= toDate;\n\n    if (afterFrom && beforeTo) {\n      passesFilter = true;\n    }\n  }\n\n  return passesFilter;\n};\n\n/**\n * Filtr podle stky\n */\nexport const filterByAmountRange = (order, amountFromFilter, amountToFilter) => {\n  const amount = parseFloat(order.max_cena_s_dph || 0);\n\n  if (amountFromFilter && amount < parseFloat(amountFromFilter)) return false;\n  if (amountToFilter && amount > parseFloat(amountToFilter)) return false;\n\n  return true;\n};\n\n/**\n * Filtr podle stavu registru smluv\n */\nexport const filterByRegistrStatus = (order, filterMaBytZverejneno, filterByloZverejneno, getOrderWorkflowStatus) => {\n  if (!filterMaBytZverejneno && !filterByloZverejneno) return true;\n\n  const registr = order.registr_smluv;\n  const workflowStatus = getOrderWorkflowStatus(order);\n\n  const maZverejnit = workflowStatus === 'UVEREJNIT' || registr?.zverejnit === 'ANO';\n  const jeZverejneno = registr?.dt_zverejneni && registr?.registr_iddt;\n\n  // Pokud jsou zakrtnut OBOJE  zobraz objednvky kter spluj ALESPO JEDNO\n  if (filterMaBytZverejneno && filterByloZverejneno) {\n    return (maZverejnit && !jeZverejneno) || jeZverejneno;\n  }\n  // Pokud je zakrtnut jen \"M bt zveejnno\"\n  else if (filterMaBytZverejneno) {\n    return maZverejnit && !jeZverejneno;\n  }\n  // Pokud je zakrtnut jen \"Bylo ji zveejnno\"\n  else if (filterByloZverejneno) {\n    return jeZverejneno;\n  }\n\n  return true;\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from '@emotion/styled';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faClipboardList,\n  faBell,\n  faEdit,\n  faTrash,\n  faFileWord,\n  faCut,\n  faCopy,\n  faPaste,\n  faTimes,\n  faFileInvoice\n} from '@fortawesome/free-solid-svg-icons';\n\nconst MenuContainer = styled.div`\n  position: fixed;\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15), 0 4px 12px rgba(0, 0, 0, 0.1);\n  padding: 0.5rem 0;\n  min-width: 220px;\n  z-index: 999999;\n  font-size: 0.875rem;\n  /*  ZMNA: Animace se aktivuje a po pozicovn pomoc opacity v style */\n  transition: opacity 0.15s ease-out;\n`;\n\nconst MenuItem = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  width: 100%;\n  padding: 0.65rem 1rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  font-size: 0.875rem;\n  color: ${props => props.danger ? '#dc2626' : props.success ? '#059669' : '#0f172a'};\n  transition: all 0.15s;\n  text-align: left;\n\n  &:hover {\n    background: ${props => props.danger ? '#fee2e2' : props.success ? '#d1fae5' : '#f1f5f9'};\n    color: ${props => props.danger ? '#991b1b' : props.success ? '#047857' : '#0369a1'};\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    color: #94a3b8;\n\n    &:hover {\n      background: transparent;\n      color: #94a3b8;\n    }\n  }\n\n  svg {\n    width: 16px;\n    height: 16px;\n    color: ${props => props.danger ? '#dc2626' : props.success ? '#059669' : '#64748b'};\n  }\n\n  &:hover svg {\n    color: ${props => props.danger ? '#991b1b' : props.success ? '#047857' : '#0369a1'};\n  }\n\n  &:disabled svg {\n    color: #94a3b8;\n  }\n`;\n\nconst MenuDivider = styled.div`\n  height: 1px;\n  background: #e2e8f0;\n  margin: 0.5rem 0;\n`;\n\nconst MenuLabel = styled.span`\n  flex: 1;\n  font-weight: 500;\n`;\n\n/**\n * Kontextov menu pro dky tabulky objednvek\n * @param {Object} props\n * @param {number} props.x - X pozice menu\n * @param {number} props.y - Y pozice menu\n * @param {Object} props.order - Vybran objednvka\n * @param {Function} props.onClose - Callback pro zaven menu\n * @param {Function} props.onAddToTodo - Pidat do TODO\n * @param {Function} props.onAddAlarm - Pidat upozornn/alarm\n * @param {Function} props.onEdit - Editovat objednvku\n * @param {Function} props.onDelete - Smazat objednvku\n * @param {Function} props.onGenerateDocx - Generovat DOCX ze ablony\n * @param {Function} props.onGenerateFinancialControl - Generovat finann kontrolu (PDF/tisk)\n * @param {boolean} props.canDelete - M uivatel prvo smazat?\n * @param {Object} props.selectedData - Vybran data (buka nebo dek)\n */\nexport const OrderContextMenu = ({\n  x,\n  y,\n  order,\n  onClose,\n  onAddToTodo,\n  onAddAlarm,\n  onEdit,\n  onDelete,\n  onGenerateDocx,\n  onGenerateFinancialControl,\n  canDelete = false,\n  selectedData = null\n}) => {\n  const menuRef = useRef(null);\n  const [hasClipboardData, setHasClipboardData] = useState(false);\n  const [clipboardData, setClipboardData] = useState(null);\n  const [menuPosition, setMenuPosition] = useState({ left: x, top: y });\n  const [isPositioned, setIsPositioned] = useState(false); //  NOV: Vlajka pro skryt bhem men\n\n  // Funkce pro kontrolu, zda me bt generovn DOCX\n  const canGenerateDocx = () => {\n    //  Generovn DOCX: od fze ROZPRACOVANA a do DOKONCENA (dle WorkflowManager fze 3-8)\n    if (!order) return false;\n\n    //  POVOLEN STAVY: Od ROZPRACOVANA a do DOKONCENA\n    //  SCHVALENA NEN POVOLENA - mus nsledovat ROZPRACOVANA nebo vy fze!\n    // Podle WorkflowManager mappingu:\n    // - FZE 3: ROZPRACOVANA (START - zaalo se pracovat)\n    // - FZE 4: POTVRZENA, ODESLANA\n    // - FZE 5-7: UVEREJNIT, UVEREJNENA, NEUVEREJNIT, FAKTURACE, VECNA_SPRAVNOST\n    // - FZE 8: DOKONCENA, ZKONTROLOVANA\n    const allowedStates = [\n      'ROZPRACOVANA',     //  FZE 3 - START (zaalo se vyplovat)\n      //  'SCHVALENA' - pouze schvleno, ale jet se nezaalo pracovat\n      'POTVRZENA',        //  FZE 4\n      'ODESLANA',         //  FZE 4\n      'UVEREJNIT',        //  FZE 5\n      'UVEREJNENA',       //  FZE 6\n      'NEUVEREJNIT',      //  FZE 6\n      'FAKTURACE',        //  FZE 6\n      'VECNA_SPRAVNOST',  //  FZE 7\n      'DOKONCENA',        //  FZE 8 - KONEC\n      'ZKONTROLOVANA',    //  FZE 8\n      'CEKA_SE'           //  Speciln stav - ek se na dodavatele\n    ];\n\n    //  KONTROLUJ ZDA POLE WORKFLOW STAV OBSAHUJE ALESPO JEDEN POVOLEN STAV\n    let workflowStates = [];\n    let aktualniStav = null;\n    let nazevStavu = '';\n\n    try {\n      // Priorita 1: stav_workflow_kod (pole stav - KONTROLUJ OBSAH, ne jen posledn!)\n      if (order.stav_workflow_kod) {\n        //  FIX: Me bt U ARRAY nebo STRING\n        if (Array.isArray(order.stav_workflow_kod)) {\n          workflowStates = order.stav_workflow_kod;\n        } else if (typeof order.stav_workflow_kod === 'string') {\n          workflowStates = JSON.parse(order.stav_workflow_kod);\n          if (!Array.isArray(workflowStates)) {\n            workflowStates = [];\n          }\n        }\n\n        // Vezmi posledn stav pro zobrazen v debug logu\n        if (workflowStates.length > 0) {\n          const lastState = workflowStates[workflowStates.length - 1];\n          if (typeof lastState === 'object' && (lastState.kod_stavu || lastState.nazev_stavu)) {\n            aktualniStav = lastState.kod_stavu || lastState.nazev_stavu;\n            nazevStavu = lastState.nazev_stavu || lastState.kod_stavu || '';\n          } else if (typeof lastState === 'string') {\n            aktualniStav = lastState;\n            nazevStavu = lastState;\n          }\n        }\n      }\n\n      // Priorita 2: fallback na jin pole stavu\n      if (!aktualniStav) {\n        aktualniStav = order.stav_id_num || order.stav_id || order.stav || order.nazev_stavu;\n        nazevStavu = order.nazev_stavu || order.status_name || aktualniStav;\n      }\n    } catch (error) {\n      aktualniStav = order.stav_id_num || order.stav_id || order.nazev_stavu;\n      nazevStavu = order.nazev_stavu || '';\n      workflowStates = [];\n    }\n\n    //  KONTROLA: Obsahuje pole workflow stav ALESPO JEDEN povolen stav?\n    const canGenerate = workflowStates.some(state => {\n      // Normalizuj stav (me bt string nebo objekt)\n      let stavCode = '';\n      if (typeof state === 'object' && (state.kod_stavu || state.nazev_stavu)) {\n        stavCode = String(state.kod_stavu || state.nazev_stavu).toUpperCase().trim();\n      } else if (typeof state === 'string') {\n        stavCode = String(state).toUpperCase().trim();\n      }\n\n      return allowedStates.includes(stavCode);\n    });\n\n    return canGenerate;\n  };\n\n  // Funkce pro kontrolu, zda me bt generovna finann kontrola\n  const canGenerateFinancialControl = () => {\n    if (!order) return false;\n\n    //  Finann kontrola je dostupn POUZE pro stav DOKONCENA\n    let workflowStates = [];\n    let aktualniStav = null;\n\n    try {\n      // Priorita 1: stav_objednavky (esk nzvy)\n      if (order.stav_objednavky) {\n        const normalizedStav = order.stav_objednavky.toLowerCase().trim();\n        if (normalizedStav === 'dokonena' || normalizedStav === 'dokoncena') {\n          return true;\n        }\n      }\n\n      // Priorita 2: stav_workflow_kod (pole stav)\n      if (order.stav_workflow_kod) {\n        if (Array.isArray(order.stav_workflow_kod)) {\n          workflowStates = order.stav_workflow_kod;\n        } else if (typeof order.stav_workflow_kod === 'string') {\n          workflowStates = JSON.parse(order.stav_workflow_kod);\n          if (!Array.isArray(workflowStates)) {\n            workflowStates = [];\n          }\n        }\n\n        // Zkontroluj, jestli je posledn stav DOKONCENA\n        if (workflowStates.length > 0) {\n          const lastState = workflowStates[workflowStates.length - 1];\n          if (typeof lastState === 'object' && (lastState.kod_stavu || lastState.nazev_stavu)) {\n            aktualniStav = lastState.kod_stavu || lastState.nazev_stavu;\n          } else if (typeof lastState === 'string') {\n            aktualniStav = lastState;\n          }\n\n          if (aktualniStav && String(aktualniStav).toUpperCase().trim() === 'DOKONCENA') {\n            return true;\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Chyba pi kontrole stavu pro finann kontrolu:', error);\n    }\n\n    return false;\n  };\n\n  //  NOV: useEffect pro vpoet pozice HNED po prvnm renderu\n  useEffect(() => {\n    if (menuRef.current && !isPositioned) {\n      const menuRect = menuRef.current.getBoundingClientRect();\n      const viewportWidth = window.innerWidth;\n      const viewportHeight = window.innerHeight;\n\n      let left = x;\n      let top = y;\n\n      // Kontrola, zda menu pesahuje prav okraj\n      if (x + menuRect.width > viewportWidth) {\n        left = viewportWidth - menuRect.width - 10;\n      }\n\n      // Kontrola, zda menu pesahuje spodn okraj\n      if (y + menuRect.height > viewportHeight) {\n        top = viewportHeight - menuRect.height - 10;\n      }\n\n      // Aktualizuj pozici a ozna jako \"positioned\"\n      setMenuPosition({ left, top });\n      setIsPositioned(true);\n    }\n  }, [x, y, isPositioned]);\n\n  // Kontrola obsahu schrnky pi oteven menu\n  useEffect(() => {\n    const checkClipboard = async () => {\n      try {\n        if (navigator.clipboard && navigator.clipboard.readText) {\n          const text = await navigator.clipboard.readText();\n          setHasClipboardData(text && text.trim().length > 0);\n\n          // Zkus parsovat jako JSON (pro strukturovan data)\n          try {\n            const data = JSON.parse(text);\n            if (data && typeof data === 'object') {\n              setClipboardData(data);\n            }\n          } catch {\n            // Nen JSON, ulome jako text\n            setClipboardData(text);\n          }\n        }\n      } catch (error) {\n        // Pokud nemme pstup ke schrnce, zkontrolujeme localStorage\n        const localData = localStorage.getItem('clipboard_data');\n        setHasClipboardData(!!localData);\n        if (localData) {\n          try {\n            setClipboardData(JSON.parse(localData));\n          } catch {\n            setClipboardData(localData);\n          }\n        }\n      }\n    };\n\n    checkClipboard();\n  }, []);\n\n  // Funkce pro koprovn do schrnky\n  const handleCopy = async () => {\n    let dataToCopy;\n    let description = '';\n\n    if (selectedData && selectedData.value) {\n      // Koprujeme obsah buky\n      dataToCopy = selectedData.value;\n      description = `buka: \"${dataToCopy.substring(0, 50)}${dataToCopy.length > 50 ? '...' : ''}\"`;\n    } else {\n      // Koprujeme cel dek objednvky jako JSON\n      dataToCopy = JSON.stringify(order, null, 2);\n      description = `objednvka ${order.cislo_objednavky || order.id}`;\n    }\n\n    try {\n      const textToCopy = typeof dataToCopy === 'string' ? dataToCopy : JSON.stringify(dataToCopy);\n\n      if (navigator.clipboard && navigator.clipboard.writeText) {\n        await navigator.clipboard.writeText(textToCopy);\n      } else {\n        // Fallback pro star prohlee\n        const textArea = document.createElement('textarea');\n        textArea.value = textToCopy;\n        document.body.appendChild(textArea);\n        textArea.select();\n        document.execCommand('copy');\n        document.body.removeChild(textArea);\n      }\n\n      // Ulome tak do localStorage jako backup s metadaty\n      const clipboardInfo = {\n        data: dataToCopy,\n        description: description,\n        type: selectedData ? 'cell' : 'row',\n        timestamp: Date.now()\n      };\n      localStorage.setItem('clipboard_data', JSON.stringify(clipboardInfo));\n      setHasClipboardData(true);\n      setClipboardData(dataToCopy);\n\n      // Meme pidat toast zprvu o spnm koprovn\n\n    } catch (error) {\n    }\n  };\n\n  // Funkce pro vysthnut (koprovn + oznaen pro smazn)\n  const handleCut = async () => {\n    await handleCopy();\n    // Pidme metadata o vysthnut\n    const cutData = {\n      action: 'cut',\n      data: selectedData || order,\n      type: selectedData ? 'cell' : 'row',\n      orderId: order.id || order.cislo_objednavky,\n      timestamp: Date.now()\n    };\n\n    localStorage.setItem('clipboard_action', JSON.stringify(cutData));\n  };\n\n  // Funkce pro vloen ze schrnky\n  const handlePaste = async () => {\n    try {\n      let clipboardInfo = null;\n\n      // Zkus nast ze schrnky\n      try {\n        if (navigator.clipboard && navigator.clipboard.readText) {\n          const text = await navigator.clipboard.readText();\n          if (text) {\n            clipboardInfo = { data: text, type: 'external' };\n          }\n        }\n      } catch (error) {\n      }\n\n      // Pokud jsme nenaetli ze schrnky, zkus localStorage\n      if (!clipboardInfo) {\n        const localData = localStorage.getItem('clipboard_data');\n        if (localData) {\n          try {\n            clipboardInfo = JSON.parse(localData);\n          } catch {\n            clipboardInfo = { data: localData, type: 'text' };\n          }\n        }\n      }\n\n      if (clipboardInfo && clipboardInfo.data) {\n        // Zde meme implementovat konkrtn logiku podle typu dat\n        // napklad:\n        // - Vyplnn formule pi editaci\n        // - Vytvoen nov objednvky na zklad ablony\n        // - Nahrazen obsahu buky\n\n        // Pro te jen ukeme informaci\n        alert(`Vloeno: ${clipboardInfo.description || 'data ze schrnky'}`);\n      }\n    } catch (error) {\n    }\n  };\n\n  // Zavt menu pi kliku mimo nj\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        onClose();\n      }\n    };\n\n    const handleKeyDown = (e) => {\n      if (e.key === 'Escape') {\n        onClose();\n      } else if (e.ctrlKey || e.metaKey) {\n        switch (e.key) {\n          case 'c':\n          case 'C':\n            e.preventDefault();\n            handleCopy();\n            onClose();\n            break;\n          case 'x':\n          case 'X':\n            e.preventDefault();\n            handleCut();\n            onClose();\n            break;\n          case 'v':\n          case 'V':\n            if (hasClipboardData) {\n              e.preventDefault();\n              handlePaste();\n              onClose();\n            }\n            break;\n        }\n      }\n    };\n\n    // Mal zpodn, aby se menu nestihlo zavt hned po oteven\n    setTimeout(() => {\n      document.addEventListener('mousedown', handleClickOutside);\n      document.addEventListener('keydown', handleKeyDown);\n    }, 50);\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  return ReactDOM.createPortal(\n    <MenuContainer\n      ref={menuRef}\n      style={{\n        left: `${menuPosition.left}px`,\n        top: `${menuPosition.top}px`,\n        //  NOV: Skryj menu, dokud nen sprvn umstno (prevence flicker)\n        opacity: isPositioned ? 1 : 0,\n        pointerEvents: isPositioned ? 'auto' : 'none'\n      }}\n    >\n      <MenuItem\n        onClick={() => { handleCut(); onClose(); }}\n        title={`Vystrihnout ${selectedData ? 'obsah buky' : 'cel dek'} (Ctrl+X)`}\n      >\n        <FontAwesomeIcon icon={faCut} />\n        <MenuLabel>Vystrihnout</MenuLabel>\n      </MenuItem>\n\n      <MenuItem\n        onClick={() => { handleCopy(); onClose(); }}\n        title={`Koprovat ${selectedData ? 'obsah buky' : 'cel dek'} (Ctrl+C)`}\n      >\n        <FontAwesomeIcon icon={faCopy} />\n        <MenuLabel>Koprovat</MenuLabel>\n      </MenuItem>\n\n      <MenuItem\n        disabled={!hasClipboardData}\n        onClick={() => { if (hasClipboardData) { handlePaste(); onClose(); } }}\n        title={\n          !hasClipboardData\n            ? 'Schrnka je przdn'\n            : `Vloit ze schrnky${clipboardData ? ` (${typeof clipboardData === 'string' ? clipboardData.substring(0, 30) + '...' : 'strukturovan data'})` : ''}`\n        }\n      >\n        <FontAwesomeIcon icon={faPaste} />\n        <MenuLabel>Vloit</MenuLabel>\n      </MenuItem>\n\n      <MenuDivider />\n\n      <MenuItem onClick={() => { onAddToTodo(order); onClose(); }}>\n        <FontAwesomeIcon icon={faClipboardList} />\n        <MenuLabel>Pidat do mho TODO</MenuLabel>\n      </MenuItem>\n\n      <MenuItem onClick={() => { onAddAlarm(order); onClose(); }}>\n        <FontAwesomeIcon icon={faBell} />\n        <MenuLabel>Pidat upozornn - ALARM</MenuLabel>\n      </MenuItem>\n\n      <MenuDivider />\n\n      <MenuItem onClick={() => { onEdit(order); onClose(); }}>\n        <FontAwesomeIcon icon={faEdit} />\n        <MenuLabel>Editace objednvky</MenuLabel>\n      </MenuItem>\n\n      <MenuItem\n        danger\n        disabled={!canDelete}\n        onClick={() => { if (canDelete) { onDelete(order); onClose(); } }}\n        title={!canDelete ? 'Nemte oprvnn ke smazn tto objednvky' : 'Smazat objednvku'}\n      >\n        <FontAwesomeIcon icon={faTrash} />\n        <MenuLabel>Smazat objednvku</MenuLabel>\n      </MenuItem>\n\n      <MenuDivider />\n\n      <MenuItem\n        disabled={!canGenerateDocx()}\n        onClick={() => { if (canGenerateDocx()) { onGenerateDocx(order); onClose(); } }}\n        title={\n          !canGenerateDocx()\n            ? 'Generovn DOCX je dostupn od fze ROZPRACOVAN (po schvlen, kdy se zane vyplovat) a do DOKONEN'\n            : 'Generovat DOCX dokument ze ablony'\n        }\n      >\n        <FontAwesomeIcon icon={faFileWord} />\n        <MenuLabel>Generovat DOCX</MenuLabel>\n      </MenuItem>\n\n      <MenuItem\n        success\n        disabled={!canGenerateFinancialControl()}\n        onClick={() => { if (canGenerateFinancialControl() && onGenerateFinancialControl) { onGenerateFinancialControl(order); onClose(); } }}\n        title={\n          !canGenerateFinancialControl()\n            ? 'Finann kontrola je dostupn pouze pro objednvky ve stavu DOKONENA'\n            : 'Generovat finann kontrolu (PDF/tisk)'\n        }\n      >\n        <FontAwesomeIcon icon={faFileInvoice} />\n        <MenuLabel>Finann kontrola (PDF/tisk)</MenuLabel>\n      </MenuItem>\n\n      <MenuDivider />\n\n      <MenuItem onClick={() => onClose()}>\n        <FontAwesomeIcon icon={faTimes} />\n        <MenuLabel>Storno</MenuLabel>\n      </MenuItem>\n    </MenuContainer>,\n    document.body\n  );\n};\n","import React, { useEffect, useState, useMemo, useContext, useCallback, useRef, lazy, Suspense } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { ProgressContext } from '../context/ProgressContext';\nimport { DebugContext } from '../context/DebugContext';\nimport { ToastContext } from '../context/ToastContext';\nimport { loadSettingsFromLocalStorage } from '../services/userSettingsApi';\nimport ConfirmDialog from '../components/ConfirmDialog';\nimport ModernHelper from '../components/ModernHelper';\nimport { useBackgroundTasks } from '../context/BackgroundTasksContext';\nimport { createDownloadLink25, lockOrder25, unlockOrder25, getDruhyObjednavky25, getStrediska25 } from '../services/api25orders';\nimport { getOrderV2, listOrdersV2, deleteOrderV2, downloadOrderAttachment, downloadInvoiceAttachment } from '../services/apiOrderV2'; //  V2 API pro natn, mazn a plohy\nimport { fetchAllUsers, fetchApprovers, fetchCiselniky, fetchLimitovanePrisliby } from '../services/api2auth';\nimport { getDocxSablonyList } from '../services/apiv2Dictionaries';\nimport { STATUS_COLORS, getStatusColor } from '../constants/orderStatusColors';\nimport { normalizeStav } from '../utils/orderStatus';\nimport { removeDiacritics } from '../utils/textHelpers';\nimport {\n  filterMyOrders,\n  applyColumnFilters\n} from '../utils/orderFilters';\nimport {\n  filterByGlobalSearch,\n  filterByStatusArray,\n  filterByArchived,\n  filterByUser,\n  filterByDateRange,\n  filterByAmountRange,\n  filterByRegistrStatus\n} from '../utils/orderFiltersAdvanced';\nimport ordersCacheService from '../services/ordersCacheService';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faSearch, faFilter, faTimes, faPlus, faEdit, faEye, faTrash, faFileWord,\n  faDownload, faSyncAlt, faChevronDown, faChevronUp,\n  faFileInvoice, faDashboard, faTableColumns, faFileExport,\n  faBolt, faCalendarAlt, faUser, faBuilding, faMoneyBillWave,\n  faCheckCircle, faTimesCircle, faHourglassHalf, faExclamationTriangle,\n  faFilePen, faShield, faTruck, faXmark, faClock, faCircleNotch,\n  faEraser, faList, faPalette, faMinus, faInfoCircle,\n  faUsers, faPaperclip,\n  faRocket, faBell, faArchive, faDatabase, faBoltLightning, faFileAlt,\n  faFaceFrown, faLock, faEnvelope, faPhone, faFileContract,\n  faReceipt, faListCheck,\n  faChevronLeft, faChevronRight, faBullseye\n} from '@fortawesome/free-solid-svg-icons';\nimport styled from '@emotion/styled';\nimport { Calendar } from 'lucide-react';\nimport { CustomSelect, SelectWithIcon } from '../components/CustomSelect';\nimport { OrderContextMenu } from '../components/OrderContextMenu';\nimport { TooltipWrapper } from '../styles/GlobalTooltip';\nimport { SmartTooltip } from '../styles/SmartTooltip';\nimport { prettyDate, formatDateOnly, exportCsv } from '../utils/format';\nimport { isValidConcept, hasDraftChanges, getDraftKey } from '../utils/draftUtils.js';\nimport order25DraftStorageService from '../services/order25DraftStorageService'; // ORDER25 STANDARD\nimport draftManager from '../services/DraftManager'; //  CENTRALIZOVAN DRAFT MANAGER\nimport { broadcastDraftUpdated, broadcastDraftDeleted, broadcastOrderSaved, onTabSyncMessage, BROADCAST_TYPES } from '../utils/tabSync';\nimport { translateErrorMessage, translateErrorMessageShort } from '../utils/errorTranslation';\nimport { getStatusIcon } from '../utils/iconMapping'; //  Unified icon mapping\nimport {\n  useReactTable,\n  getCoreRowModel,\n  getExpandedRowModel,\n  getSortedRowModel,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  flexRender,\n} from '@tanstack/react-table';\n\n//  PERFORMANCE: Lazy load DocxGeneratorModal (pouze kdy je poteba)\nconst DocxGeneratorModal = lazy(() => import('../components/DocxGeneratorModal').then(m => ({ default: m.DocxGeneratorModal })));\n\n//  PERFORMANCE: Lazy load FinancialControlModal\nconst FinancialControlModal = lazy(() => import('../components/FinancialControlModal'));\n\n// =============================================================================\n// KEYFRAMES FOR ANIMATIONS\n// =============================================================================\n\nconst highlightPulse = `\n  @keyframes highlightPulse {\n    0% {\n      filter: brightness(1.4) saturate(1.3);\n      box-shadow: 0 0 30px currentColor, 0 4px 16px rgba(0, 0, 0, 0.15);\n      transform: translateY(-2px) scale(1.015);\n    }\n    15% {\n      filter: brightness(1.5) saturate(1.4);\n      box-shadow: 0 0 40px currentColor, 0 6px 20px rgba(0, 0, 0, 0.2);\n      transform: translateY(-3px) scale(1.02);\n    }\n    30% {\n      filter: brightness(1.3) saturate(1.2);\n      box-shadow: 0 0 25px currentColor, 0 3px 12px rgba(0, 0, 0, 0.12);\n      transform: translateY(-1px) scale(1.01);\n    }\n    60% {\n      filter: brightness(1.15) saturate(1.1);\n      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1), 0 2px 8px rgba(0, 0, 0, 0.08);\n      transform: translateY(0) scale(1.005);\n    }\n    80% {\n      filter: brightness(1.05) saturate(1.05);\n      box-shadow: 0 0 8px rgba(0, 0, 0, 0.06), 0 1px 4px rgba(0, 0, 0, 0.04);\n      transform: translateY(0) scale(1.002);\n    }\n    100% {\n      filter: brightness(1) saturate(1);\n      box-shadow: none;\n      transform: translateY(0) scale(1);\n    }\n  }\n\n  @keyframes gradientShift {\n    0% { background-position: 0% 50%; }\n    100% { background-position: 100% 50%; }\n  }\n`;\n\n// =============================================================================\n// STYLED COMPONENTS\n// =============================================================================\n\nconst Container = styled.div`\n  position: relative;\n  padding: 1rem;\n  width: 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n  overflow: visible;\n  isolation: isolate;\n`;\n\nconst PageHeader = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  margin-bottom: 2rem;\n`;\n\nconst PageTitle = styled.h1`\n  margin: 0;\n  font-size: 2rem;\n  font-weight: 700;\n  color: #1e293b;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n`;\n\nconst ActionBar = styled.div`\n  display: flex;\n  gap: 0.75rem;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  padding-bottom: 1rem;\n  border-bottom: 3px solid #e5e7eb;\n`;\n\nconst ActionButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.35rem;\n  padding: 0.35rem 0.6rem;\n  border: 2px solid #3b82f6;\n  border-radius: 6px;\n  background: ${props => props.$primary ? '#3b82f6' : 'white'};\n  color: ${props => props.$primary ? 'white' : '#3b82f6'};\n  font-weight: 600;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ${props => props.$primary ? '#2563eb' : '#eff6ff'};\n    border-color: ${props => props.$primary ? '#2563eb' : '#2563eb'};\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n`;\n\n// Funkce pro vytvoen svtlej barvy (90% svtlosti)\nconst getLighterColor = (color, opacity = 0.9) => {\n  // Pokud je barva ve formtu hex, peve na rgba\n  if (color.startsWith('#')) {\n    const r = parseInt(color.slice(1, 3), 16);\n    const g = parseInt(color.slice(3, 5), 16);\n    const b = parseInt(color.slice(5, 7), 16);\n    return `rgba(${r}, ${g}, ${b}, ${opacity})`;\n  }\n\n  // Pokud je u rgba/rgb, upravme opacity\n  if (color.includes('rgba')) {\n    return color.replace(/[\\d\\.]+\\)$/g, `${opacity})`);\n  }\n\n  if (color.includes('rgb')) {\n    return color.replace('rgb', 'rgba').replace(')', `, ${opacity})`);\n  }\n\n  // Fallback\n  return color;\n};\n\n// Funkce pro mapovn uivatelskho stavu na systmov kd\nconst mapUserStatusToSystemCode = (userStatus) => {\n  const mapping = {\n    'Ke schvlen': 'KE_SCHVALENI',\n    'Nov': 'NOVA',\n    'Schvlen': 'SCHVALENA',\n    'Zamtnut': 'ZAMITNUTA',\n    'Rozpracovan': 'ROZPRACOVANA',\n    'Odeslan dodavateli': 'ODESLANA',\n    'Potvrzen dodavatelem': 'POTVRZENA',\n    'M bt zveejnna': 'K_UVEREJNENI_DO_REGISTRU',\n    'Uveejnn': 'UVEREJNENA',\n    'ek na potvrzen': 'CEKA_POTVRZENI',\n    'ek se': 'CEKA_SE',\n    'Vcn sprvnost': 'VECNA_SPRAVNOST',\n    'Dokonen': 'DOKONCENA',\n    'Zruen': 'ZRUSENA',\n    'Smazan': 'SMAZANA',\n    'Archivovno': 'ARCHIVOVANO',\n    'Koncept': 'NOVA' // Koncepty se mapuj jako nov objednvky\n  };\n  return mapping[userStatus] || userStatus;\n};\n\n// Funkce pro barvu pozad dk tabulky - svtl odstny\nconst getRowBackgroundColor = (order) => {\n  try {\n    // Speciln ppad pro koncepty\n    if (order?.isDraft || order?.je_koncept) {\n      return STATUS_COLORS.NOVA.light;\n    }\n\n    // Zskej systmov stav pro mapovn na barvy\n    let systemStatus;\n\n    // Preferuj uivatelsky pvtiv stav z stav_objednavky a zmapuj na systmov\n    if (order?.stav_objednavky) {\n      systemStatus = mapUserStatusToSystemCode(order.stav_objednavky);\n    }\n    // Fallback na stav_workflow_kod\n    else if (order?.stav_workflow_kod) {\n      try {\n        const workflowStates = JSON.parse(order.stav_workflow_kod);\n        if (Array.isArray(workflowStates)) {\n          const lastState = workflowStates[workflowStates.length - 1];\n          // Pouij nazev_stavu nebo kod_stavu pokud je k dispozici\n          if (typeof lastState === 'object' && (lastState.kod_stavu || lastState.nazev_stavu)) {\n            systemStatus = lastState.kod_stavu || 'NEZNAMY';\n          } else {\n            systemStatus = typeof lastState === 'string' ? lastState : 'NEZNAMY';\n          }\n        } else {\n          systemStatus = order.stav_workflow_kod;\n        }\n      } catch {\n        systemStatus = order.stav_workflow_kod;\n      }\n    }\n    // Dal fallbacky pro rzn nzvy pol\n    else {\n      systemStatus = order?.stav_id_num ?? order?.stav_id ?? order?.status_id ?? order?.stav ?? 'NOVA';\n    }\n\n    const statusColors = getStatusColor(systemStatus);\n\n    // Debug vpis (pro testovn) - pmo prvn objednvka\n    if (order?.cislo_objednavky && order.cislo_objednavky.toString().endsWith('1')) {\n\n    }\n\n    return statusColors?.light || STATUS_COLORS.NOVA.light;\n  } catch (error) {\n    // Error getting row background color\n    return STATUS_COLORS.NOVA.light;\n  }\n};\n\n// Funkce pro barvu dladic dashboard - tmav barvy\nconst getDashboardColor = (stav) => {\n  try {\n    const statusColors = getStatusColor(stav);\n    return statusColors.dark;\n  } catch {\n    return STATUS_COLORS.NOVA.dark;\n  }\n};\n\n//  getStatusIcon je nyn importovn z utils/iconMapping.js\n// Odstranna lokln implementace pro zajitn konzistence ikon\n\n//  Helper funkce pro zskn emoji ikony podle stavu (stejn jako v NotificationsPage)\nconst getStatusEmoji = (status) => {\n  const normalizedStatus = status?.toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, ''); // Odstrann diakritiky\n\n  switch (normalizedStatus) {\n    case 'nova':\n    case 'koncept':\n      return '';\n    case 'ke_schvaleni':\n    case 'keschvaleni':\n      return '';\n    case 'schvalena':\n      return '';\n    case 'zamitnuta':\n      return '';\n    case 'rozpracovana':\n      return '';\n    case 'odeslana':\n      return '';\n    case 'potvrzena':\n      return '';\n    case 'uverejnena':\n    case 'registr_zverejnena':\n    case 'registrzverejnena':\n      return '';\n    case 'dokoncena':\n      return '';\n    case 'ceka_potvrzeni':\n    case 'cekapotvrzeni':\n      return '';\n    case 'ceka_se':\n    case 'cekase':\n      return '';\n    case 'zrusena':\n      return '';\n    case 'smazana':\n      return '';\n    case 'ceka_kontrola':\n    case 'cekakontrola':\n      return '';\n    case 'vecna_spravnost':\n    case 'vecnaspravnost':\n      return '';\n    case 'archivovano':\n    case 'archivovana':\n      return '';\n    default:\n      return '';\n  }\n};\n\n// Dashboard Panel\nconst DashboardPanel = styled.div`\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 60%, #e2e8f0 100%);\n  border: 1px solid #cbd5e1;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n`;\n\nconst DashboardGrid = styled.div`\n  display: grid;\n  grid-template-columns: minmax(350px, 400px) repeat(auto-fit, minmax(180px, 220px));\n  gap: clamp(0.8rem, 1.5vw, 1.65rem);\n  margin-bottom: 1.5rem;\n  align-items: start;\n  justify-content: start;\n  overflow-x: auto;\n\n  /* Lep responzivita pro rzn zoom rovn */\n  @media (max-width: 1400px) {\n    grid-template-columns: minmax(320px, 350px) repeat(auto-fit, minmax(160px, 200px));\n    gap: clamp(0.7rem, 1.3vw, 1.4rem);\n  }\n\n  @media (max-width: 1200px) {\n    grid-template-columns: minmax(300px, 330px) repeat(auto-fit, minmax(150px, 180px));\n    gap: clamp(0.6rem, 1.2vw, 1.3rem);\n  }\n\n  @media (max-width: 900px) {\n    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n    gap: clamp(0.8rem, 2vw, 1.2rem);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: clamp(0.8rem, 2vw, 1.15rem);\n  }\n\n  @media (max-width: 600px) {\n    grid-template-columns: 1fr;\n    gap: clamp(0.6rem, 2vw, 0.9rem);\n  }\n\n  /* Speciln pravidla pro vysok zoom (detekce pes velk font-size) */\n  @media (min-width: 1600px) {\n    grid-template-columns: minmax(400px, 450px) repeat(auto-fit, minmax(200px, 250px));\n    gap: clamp(1.2rem, 1.8vw, 2rem);\n  }\n`;\n\nconst LargeStatCard = styled.div`\n  background: linear-gradient(145deg, #ffffff, #f9fafb);\n  border-radius: 16px;\n  padding: clamp(1.25rem, 1.5vw, 1.75rem);\n  border-left: 6px solid ${props => props.$color || '#3b82f6'};\n  box-shadow:\n    0 4px 12px rgba(0, 0, 0, 0.08),\n    0 2px 4px rgba(0, 0, 0, 0.06);\n\n  transition: all 0.3s ease;\n  grid-row: span 2;\n  grid-column: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  min-height: fit-content;\n  height: 100%;\n  position: relative;\n  width: 100%;\n  box-sizing: border-box;\n\n  /* Hover efekt */\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow:\n      0 8px 20px rgba(0, 0, 0, 0.12),\n      0 4px 8px rgba(0, 0, 0, 0.08);\n  }\n\n  /* Responsive breakpoints */\n  @media (max-width: 1200px) {\n    grid-row: span 1;\n    grid-column: span 2;\n    min-height: clamp(140px, 15vh, 180px);\n  }\n\n  @media (max-width: 900px) {\n    grid-column: span 1;\n    min-height: clamp(120px, 14vh, 160px);\n    padding: clamp(1rem, 1.2vw, 1.5rem);\n  }\n\n  @media (max-width: 768px) {\n    min-height: clamp(110px, 13vh, 150px);\n  }\n\n  @media (max-width: 600px) {\n    min-height: clamp(100px, 12vh, 130px);\n    padding: clamp(0.8rem, 1vw, 1.25rem);\n  }\n`;\n\nconst StatCard = styled.div`\n  background: ${props => props.$isActive ?\n    `linear-gradient(145deg, ${props.$color || '#3b82f6'}20, ${props.$color || '#3b82f6'}10)` :\n    'linear-gradient(145deg, #ffffff, #f9fafb)'};\n  border-radius: 12px;\n  padding: clamp(0.8rem, 1vw, 1rem);\n  border-left: 4px solid ${props => props.$color || '#3b82f6'};\n  box-shadow:\n    0 2px 8px rgba(0, 0, 0, 0.06),\n    0 1px 3px rgba(0, 0, 0, 0.04);\n\n  transition: all 0.25s ease;\n  min-height: clamp(90px, 10vh, 120px);\n  min-width: clamp(160px, 18vw, 220px);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  position: relative;\n  cursor: ${props => props.$clickable ? 'pointer' : 'default'};\n  width: 100%;\n  box-sizing: border-box;\n\n  /* Hover efekt */\n  &:hover {\n    transform: ${props => props.$clickable ? 'translateY(-2px)' : 'translateY(-1px)'};\n    box-shadow:\n      0 4px 12px rgba(0, 0, 0, 0.1),\n      0 2px 6px rgba(0, 0, 0, 0.06);\n    ${props => props.$clickable && `\n      background: linear-gradient(145deg, ${props.$color || '#3b82f6'}25, ${props.$color || '#3b82f6'}15);\n    `}\n  }\n\n  /* Aktivn stav */\n  ${props => props.$isActive && `\n    border-left-width: 6px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12), 0 0 0 2px ${props.$color || '#3b82f6'}40;\n  `}\n\n  /* Responsive breakpoints pro rzn velikosti obrazovky a zoom */\n  @media (max-width: 1400px) {\n    min-height: clamp(85px, 9vh, 110px);\n    min-width: clamp(150px, 16vw, 200px);\n  }\n\n  @media (max-width: 1200px) {\n    min-height: clamp(80px, 8vh, 105px);\n    min-width: clamp(140px, 15vw, 190px);\n  }\n\n  @media (max-width: 900px) {\n    min-height: clamp(75px, 8vh, 100px);\n    min-width: 100%;\n  }\n\n  @media (max-width: 768px) {\n    min-height: clamp(70px, 7vh, 95px);\n    padding: clamp(0.7rem, 0.8vw, 0.9rem);\n  }\n\n  @media (max-width: 600px) {\n    min-height: clamp(65px, 7vh, 85px);\n    padding: clamp(0.6rem, 0.7vw, 0.8rem);\n  }\n`;\n\nconst StatValue = styled.div`\n  font-size: clamp(1.25rem, 2.5vw, 1.875rem);\n  font-weight: 700;\n  color: #1e293b;\n  line-height: 1.2;\n  text-align: left;\n\n  /* Zajitn itelnosti na rznch zoom rovnch */\n  @media (max-width: 1400px) {\n    font-size: clamp(1.2rem, 2.3vw, 1.75rem);\n  }\n\n  @media (max-width: 1200px) {\n    font-size: clamp(1.15rem, 2.2vw, 1.65rem);\n  }\n\n  @media (max-width: 900px) {\n    font-size: clamp(1.1rem, 2.1vw, 1.6rem);\n  }\n\n  @media (max-width: 768px) {\n    font-size: clamp(1rem, 2vw, 1.5rem);\n  }\n\n  @media (max-width: 600px) {\n    font-size: clamp(0.95rem, 1.8vw, 1.3rem);\n  }\n`;\n\nconst StatLabel = styled.div`\n  font-size: clamp(0.75rem, 1.2vw, 0.875rem);\n  color: #64748b;\n  font-weight: 500;\n  text-align: left;\n  line-height: 1.4;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  /* Responzivn velikosti pro rzn zoom rovn */\n  @media (max-width: 1200px) {\n    white-space: normal;\n    line-height: 1.3;\n  }\n\n  @media (max-width: 900px) {\n    font-size: clamp(0.7rem, 1.1vw, 0.825rem);\n  }\n\n  @media (max-width: 768px) {\n    font-size: clamp(0.65rem, 1vw, 0.8rem);\n  }\n\n  @media (max-width: 600px) {\n    font-size: clamp(0.6rem, 0.9vw, 0.75rem);\n  }\n`;\n\nconst StatHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 0.5rem;\n`;\n\nconst StatIcon = styled.div`\n  font-size: 1.5rem;\n  opacity: 0.85;\n  line-height: 1;\n\n  /* Kdy obsahuje FontAwesome ikonu (fallback) */\n  color: ${props => props.$color || '#64748b'};\n`;\n\nconst LargeStatValue = styled.div`\n  font-size: clamp(1.25rem, 2.5vw, 1.75rem);\n  font-weight: 700;\n  color: #1e293b;\n  text-align: center;\n  line-height: 1.1;\n  margin-bottom: 0.5rem;\n\n  /* Responzivn velikosti pro rzn zoom rovn */\n  @media (max-width: 1400px) {\n    font-size: clamp(1.15rem, 2.3vw, 1.6rem);\n  }\n\n  @media (max-width: 1200px) {\n    font-size: clamp(1.3rem, 2.6vw, 2rem);\n  }\n\n  @media (max-width: 900px) {\n    font-size: clamp(1.2rem, 2.4vw, 1.9rem);\n  }\n\n  @media (max-width: 768px) {\n    font-size: clamp(1.1rem, 2.2vw, 1.8rem);\n  }\n\n  @media (max-width: 600px) {\n    font-size: clamp(1rem, 2vw, 1.6rem);\n  }\n`;\n\nconst LargeStatLabel = styled.div`\n  font-size: 1rem;\n  color: #64748b;\n  font-weight: 600;\n  text-align: center;\n  margin-bottom: 1rem;\n\n  @media (max-width: 480px) {\n    font-size: 0.875rem;\n  }\n`;\n\nconst SummaryRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n  margin-top: auto;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n`;\n\nconst SummaryItem = styled.div`\n  flex: 1;\n  padding: 0.75rem;\n  border-radius: 8px;\n  border-left: 3px solid ${props => props.$color || '#d1d5db'};\n  background: ${props => props.$bg || 'rgba(0, 0, 0, 0.02)'};\n`;\n\nconst SummaryLabel = styled.div`\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: ${props => props.$color || '#6b7280'};\n  margin-bottom: 0.25rem;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n`;\n\nconst SummaryValue = styled.div`\n  font-size: 0.875rem;\n  font-weight: 700;\n  color: #1f2937;\n`;\n\n// Year Filter Panel (prominent position above main header)\nconst YearFilterPanel = styled.div`\n  background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n  padding: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 1rem;\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n  color: white;\n  position: relative;\n  z-index: 9999;\n`;\n\nconst YearFilterLeft = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  flex-wrap: wrap;\n`;\n\nconst YearFilterTitle = styled.h2`\n  font-size: calc(1.5rem + 3px);\n  font-weight: 700;\n  color: white;\n  margin: 0;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n`;\n\n//  CACHE: Status indicator komponenty\nconst CacheStatusIconWrapper = styled(TooltipWrapper)`\n  z-index: 999999;\n`;\n\n//  Hint text komponenta (jako LockWarning u pokladny)\nconst HintText = styled.span`\n  margin-left: 0.5rem;\n  color: #64748b;\n  font-size: 0.75rem;\n  font-weight: 600;\n  cursor: help;\n  display: inline-flex;\n  align-items: center;\n  gap: 0.25rem;\n  flex-wrap: wrap;\n\n  /* Styling pro <kbd> tagy podle obrzku */\n  kbd {\n    display: inline-block;\n    padding: 0.15rem 0.5rem;\n    font-size: 0.7rem;\n    font-weight: 600;\n    line-height: 1.2;\n    color: #1e40af;\n    background: #dbeafe;\n    border: 1px solid #93c5fd;\n    border-radius: 4px;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;\n    text-transform: capitalize;\n    white-space: nowrap;\n  }\n`;\n\nconst CacheStatusIcon = styled.div`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  background: ${props => props.fromCache\n    ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\n    : 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)'\n  };\n  color: white;\n  font-size: 0.9rem;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  cursor: help;\n  transition: all 0.2s ease;\n  position: relative;\n  z-index: 999999;\n\n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);\n  }\n\n  svg {\n    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));\n  }\n`;\n\nconst YearFilterLabel = styled.label`\n  font-weight: 600;\n  font-size: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst RefreshIconButton = styled.button`\n  background: ${props => props.isBackgroundActive\n    ? 'rgba(255, 193, 7, 0.2)' /* lut pi background refresh */\n    : 'rgba(255, 255, 255, 0.15)'}; /* Normln bl */\n  border: 1px solid ${props => props.isBackgroundActive\n    ? 'rgba(255, 193, 7, 0.4)' /* lut okraj */\n    : 'rgba(255, 255, 255, 0.3)'}; /* Normln okraj */\n  color: ${props => props.isBackgroundActive ? '#ffc107' : 'white'}; /* lut/bl ikona */\n  width: 42px;\n  height: 42px;\n  border-radius: 6px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.1rem;\n  transition: all 0.2s ease;\n  margin-left: 0.5rem;\n\n  &:hover {\n    background: ${props => props.isBackgroundActive\n      ? 'rgba(255, 193, 7, 0.3)' /* lut hover */\n      : 'rgba(255, 255, 255, 0.25)'}; /* Bl hover */\n    border-color: ${props => props.isBackgroundActive\n      ? 'rgba(255, 193, 7, 0.6)' /* lut hover okraj */\n      : 'rgba(255, 255, 255, 0.4)'}; /* Bl hover okraj */\n    transform: translateY(-1px);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n`;\n\nconst RefreshTimeLabel = styled.span`\n  font-size: 0.75rem;\n  color: rgba(255, 255, 255, 0.8);\n  margin-left: 0.5rem;\n  white-space: nowrap;\n  font-weight: 500;\n`;\n\nconst MonthFilterLabel = styled.label`\n  font-weight: 600;\n  font-size: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-left: 1rem;\n`;\n\nconst YearFilterSelect = styled.select`\n  padding: 0.75rem 1rem;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 6px;\n  font-size: 1rem;\n  font-weight: 600;\n  background: rgba(255, 255, 255, 0.15);\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  backdrop-filter: blur(8px);\n\n  &:focus {\n    outline: none;\n    border-color: rgba(255, 255, 255, 0.8);\n    background: rgba(255, 255, 255, 0.25);\n    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);\n  }\n\n  option {\n    background: #1e40af;\n    color: white;\n    padding: 0.5rem;\n  }\n`;\n\nconst MonthFilterSelect = styled.select`\n  padding: 0.75rem 1rem;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 6px;\n  font-size: 1rem;\n  font-weight: 600;\n  background: rgba(255, 255, 255, 0.15);\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  backdrop-filter: blur(8px);\n  width: auto;\n  min-width: 240px;\n\n  /* Scrollbar styling */\n  overflow-y: auto;\n  max-height: 400px;\n\n  &::-webkit-scrollbar {\n    width: 12px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: rgba(30, 64, 175, 0.3);\n    border-radius: 6px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(96, 165, 250, 0.9));\n    border-radius: 6px;\n    border: 2px solid rgba(30, 64, 175, 0.3);\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background: linear-gradient(135deg, rgba(59, 130, 246, 1), rgba(96, 165, 250, 1));\n  }\n\n  /* Firefox scrollbar */\n  scrollbar-width: thin;\n  scrollbar-color: rgba(59, 130, 246, 0.8) rgba(30, 64, 175, 0.3);\n\n  &:focus {\n    outline: none;\n    border-color: rgba(255, 255, 255, 0.8);\n    background: rgba(255, 255, 255, 0.25);\n    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);\n  }\n\n  option {\n    background: #1e40af;\n    color: white;\n    padding: 0.5rem;\n    font-size: 0.95rem;\n\n    &:hover {\n      background: #2563eb;\n    }\n\n    &[data-separator=\"true\"] {\n      padding: 0.5rem 1rem !important;\n      margin: 0 !important;\n      width: 100% !important;\n      height: auto !important;\n      line-height: normal !important;\n      font-size: 0.95rem !important;\n      color: white !important;\n      background: #1e40af !important;\n      border: none !important;\n      border-top: 1px solid white !important;\n      cursor: default;\n      pointer-events: none;\n      display: block;\n      box-sizing: border-box;\n    }\n\n    &[data-action=\"true\"] {\n      font-style: normal;\n      color: white;\n      font-weight: normal;\n      padding: 0.5rem;\n      margin: 0;\n      background: #1e40af;\n\n      &:hover {\n        background: #2563eb;\n      }\n    }\n  }\n`;\n\n// Custom Month Dropdown Components\nconst MonthDropdownContainer = styled.div`\n  position: relative;\n  width: auto;\n  min-width: 240px;\n`;\n\nconst YearDropdownContainer = styled.div`\n  position: relative;\n  width: auto;\n  min-width: 160px;\n`;\n\nconst MonthDropdownButton = styled.button`\n  padding: 0.75rem 1rem;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 6px;\n  font-size: 1rem;\n  font-weight: 600;\n  background: rgba(255, 255, 255, 0.15);\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  backdrop-filter: blur(8px);\n  width: 100%;\n  text-align: left;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  &:focus {\n    outline: none;\n    border-color: rgba(255, 255, 255, 0.8);\n    background: rgba(255, 255, 255, 0.25);\n    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);\n  }\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.25);\n  }\n`;\n\nconst MonthDropdownMenu = styled.div`\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  margin-top: 0.5rem;\n  background: #1e40af;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 6px;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\n  max-height: 400px;\n  overflow-y: auto;\n  z-index: 1000;\n  backdrop-filter: blur(8px);\n\n  /* Scrollbar styling */\n  &::-webkit-scrollbar {\n    width: 12px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: rgba(30, 64, 175, 0.3);\n    border-radius: 6px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(96, 165, 250, 0.9));\n    border-radius: 6px;\n    border: 2px solid rgba(30, 64, 175, 0.3);\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background: linear-gradient(135deg, rgba(59, 130, 246, 1), rgba(96, 165, 250, 1));\n  }\n\n  /* Firefox scrollbar */\n  scrollbar-width: thin;\n  scrollbar-color: rgba(59, 130, 246, 0.8) rgba(30, 64, 175, 0.3);\n`;\n\nconst MonthDropdownItem = styled.div`\n  padding: 0.75rem 1rem;\n  color: white;\n  cursor: ${props => props.disabled ? 'default' : 'pointer'};\n  font-size: 0.95rem;\n  transition: background 0.15s ease;\n  pointer-events: ${props => props.disabled ? 'none' : 'auto'};\n\n  ${props => props.separator && `\n    border-top: 1px solid rgba(255, 255, 255, 0.3);\n    padding: 0.5rem 1rem;\n    text-align: center;\n    color: rgba(255, 255, 255, 0.7);\n  `}\n\n  ${props => props.action && `\n    font-weight: 600;\n    color: rgba(255, 255, 255, 0.9);\n  `}\n\n  ${props => !props.disabled && !props.separator && `\n    &:hover {\n      background: #2563eb;\n    }\n  `}\n`;\n\n// Filters Panel\nconst FiltersPanel = styled.div`\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 60%, #e2e8f0 100%);\n  border: 1px solid #cbd5e1;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 1.5rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n`;\n\nconst FiltersHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n`;\n\nconst FiltersGrid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 0.6fr 0.6fr;\n  gap: clamp(1rem, 1.5vw, 1.5rem);\n  margin-top: 1.5rem;\n  margin-bottom: 1rem;\n\n  /* Prvn dek: Objednatel (1), Garant (1), Pkazce (1), Schvalovatel (1), Stav objednvky (0.6+0.6) */\n  /* Druh dek: Datum (2), Cena (2), Stav registru (0.6), Mimodn udlosti (0.6) pod Stav objednvky */\n  \n  & > *:nth-of-type(5) {\n    grid-column: 5 / 7; /* Stav objednvky zabere sloupce 5, 6 (ka 0.6+0.6) */\n  }\n\n  & > *:nth-of-type(6) {\n    grid-column: 1 / 3; /* Datum - sloupce 1, 2 */\n  }\n\n  & > *:nth-of-type(7) {\n    grid-column: 3 / 5; /* Cena - sloupce 3, 4 */\n  }\n\n  & > *:nth-of-type(8) {\n    grid-column: 5 / 6; /* Stav registru - sloupec 5 (0.6fr) - zarovnn doleva */\n  }\n\n  & > *:nth-of-type(9) {\n    grid-column: 6 / 7; /* Mimodn udlosti - sloupec 6 (0.6fr) - zarovnn doprava */\n  }\n\n  /* Responzivn breakpointy */\n  @media (max-width: 1400px) {\n    grid-template-columns: repeat(3, 1fr);\n\n    & > *:nth-of-type(5) {\n      grid-column: 3 / 4; /* Stav objednvky - 1 sloupec */\n    }\n\n    /* Na stednch obrazovkch - datum a cena na vlastn dky */\n    & > *:nth-of-type(6) {\n      grid-column: 1 / -1;\n    }\n\n    & > *:nth-of-type(7) {\n      grid-column: 1 / -1;\n    }\n\n    & > *:nth-of-type(8) {\n      grid-column: 1 / 2;\n    }\n\n    & > *:nth-of-type(9) {\n      grid-column: 2 / 3;\n    }\n  }\n\n  @media (max-width: 1200px) {\n    grid-template-columns: repeat(2, 1fr);\n\n    & > *:nth-of-type(5) {\n      grid-column: 1 / -1; /* Stav objednvky - full width */\n    }\n\n    /* Na stednch obrazovkch - datum a cena na vlastn dky */\n    & > *:nth-of-type(6) {\n      grid-column: 1 / -1;\n    }\n\n    & > *:nth-of-type(7) {\n      grid-column: 1 / -1;\n    }\n\n    & > *:nth-of-type(8) {\n      grid-column: 1 / 2;\n    }\n\n    & > *:nth-of-type(9) {\n      grid-column: 2 / 3;\n    }\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n    gap: clamp(0.8rem, 1.2vw, 1.25rem);\n\n    /* Na mobilech - vechno na jeden sloupec */\n    & > * {\n      grid-column: 1 !important;\n    }\n  }\n\n  @media (max-width: 480px) {\n    gap: clamp(0.6rem, 1vw, 1rem);\n  }\n`;\n\n// Wrapper pro tlatko vymazat filtry v gridu\nconst ClearFiltersWrapper = styled.div`\n  display: flex;\n  align-items: flex-end;\n  justify-content: flex-end;\n`;\n\nconst FilterGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n`;\n\nconst FilterLabel = styled.div`\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #374151;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 0.5rem;\n  width: 100%;\n  margin-bottom: 0.5rem;\n`;\n\nconst FilterLabelLeft = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst FilterClearButton = styled.button`\n  background: none;\n  border: none;\n  padding: 0.25rem 0.5rem;\n  cursor: pointer;\n  color: #9ca3af;\n  font-size: 0.75rem;\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  transition: all 0.2s ease;\n  border-radius: 4px;\n  opacity: ${props => props.visible ? 1 : 0};\n  pointer-events: ${props => props.visible ? 'auto' : 'none'};\n  margin-left: auto;\n\n  &:hover {\n    color: #ef4444;\n    background: rgba(239, 68, 68, 0.1);\n  }\n\n  svg {\n    width: 12px;\n    height: 12px;\n  }\n`;\n\n// Wrapper pro input s ikonou - konzistentn se zbytkem aplikace\nconst FilterInputWithIcon = styled.div`\n  position: relative;\n  width: 100%;\n\n  > svg:first-of-type {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n`;\n\nconst ClearButton = styled.button`\n  position: absolute;\n  right: 0.75rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 0.25rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  z-index: 1;\n  width: 20px;\n  height: 20px;\n\n  &:hover {\n    color: #6b7280;\n  }\n\n  > svg {\n    width: 14px !important;\n    height: 14px !important;\n  }\n`;\n\nconst FilterInput = styled.input`\n  width: 100%;\n  box-sizing: border-box;\n  padding: ${props => props.hasIcon ? '0.75rem 2.5rem 0.75rem 2.5rem' : '0.75rem'};\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  background: white;\n\n  /* Pro number inputy - zarovnn doprava a odstrann ipek */\n  ${props => props.type === 'number' && `\n    text-align: right;\n    padding-right: 2.5rem; /* msto pro K symbol */\n\n    /* Odstrann spinner ipek - WebKit */\n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n\n    /* Odstrann spinner ipek - Firefox */\n    &[type=number] {\n      -moz-appearance: textfield;\n    }\n  `}\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n  }\n`;\n\n// Wrapper pro select s ikonou\nconst FilterSelectWithIcon = styled.div`\n  position: relative;\n  width: 100%;\n\n  > svg {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n`;\n\nconst FilterSelect = styled.select`\n  width: 100%;\n  box-sizing: border-box;\n  padding: ${props => props.hasIcon ? '0.75rem 1.75rem 0.75rem 2.5rem' : '0.75rem 1.75rem 0.75rem 0.75rem'};\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  background: white;\n  cursor: pointer;\n  color: #1f2937;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  appearance: none;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &:hover {\n    border-color: #3b82f6;\n  }\n\n  /* Custom dropdown arrow - stejn jako v OrderForm25 */\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23374151' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: right 0.5rem center;\n  background-size: 16px 16px;\n\n  /* Styling pro placeholder option */\n  option[value=\"\"] {\n    color: #9ca3af;\n    font-weight: 400;\n  }\n\n  option {\n    color: #1f2937;\n    font-weight: 500;\n    padding: 0.5rem;\n  }\n`;\n\n// Layout pre cena od-do (dva inputy veda seba)\nconst PriceRangeGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n`;\n\nconst PriceRangeInputs = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n`;\n\nconst PriceInputWrapper = styled.div`\n  flex: 1;\n  position: relative;\n\n  > svg {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n\n  /* K symbol vpravo */\n  &::after {\n    content: 'K';\n    position: absolute;\n    right: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #6b7280;\n    font-size: 0.875rem;\n    font-weight: 500;\n    pointer-events: none;\n    z-index: 2;\n  }\n`;\n\nconst PriceSeparator = styled.span`\n  color: #6b7280;\n  font-weight: 500;\n  font-size: 0.875rem;\n  padding: 0 0.25rem;\n`;\n\n// Layout pre datum od-do (dva inputy veda seba)\nconst DateRangeGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n`;\n\nconst DateRangeInputs = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n`;\n\nconst DateInputWrapper = styled.div`\n  flex: 1;\n  position: relative;\n\n  > svg {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n`;\n\nconst DateSeparator = styled.span`\n  color: #6b7280;\n  font-weight: 500;\n  font-size: 0.875rem;\n  padding: 0 0.25rem;\n`;\n\nconst ColumnFilterWrapper = styled.div`\n  position: relative;\n  width: 100%;\n\n  > svg:first-of-type {\n    position: absolute;\n    left: 0.5rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 12px !important;\n    height: 12px !important;\n  }\n`;\n\nconst ColumnClearButton = styled.button`\n  position: absolute;\n  right: 0.5rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 0.15rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  z-index: 1;\n  width: 16px;\n  height: 16px;\n\n  &:hover {\n    color: #6b7280;\n  }\n\n  > svg {\n    width: 10px !important;\n    height: 10px !important;\n  }\n`;\n\nconst ColumnFilterInput = styled.input`\n  width: 100%;\n  padding: 0.5rem 2rem 0.5rem 2rem;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  background: #f9fafb;\n  transition: all 0.2s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    background: white;\n    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n    font-size: 0.75rem;\n  }\n`;\n\nconst ActionBadge = styled.span`\n  position: absolute;\n  top: -6px;\n  right: -6px;\n  background: #dc2626;\n  color: white;\n  font-size: 10px;\n  font-weight: 700;\n  padding: 2px 5px;\n  border-radius: 10px;\n  min-width: 18px;\n  text-align: center;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n  pointer-events: none;\n  line-height: 1.2;\n  z-index: 10;\n  /* Prevence blikn */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  backface-visibility: hidden;\n  transform: translateZ(0);\n`;\n\nconst FilterActionButton = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border: 2px solid #d1d5db;\n  border-radius: 8px;\n  background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);\n  color: #6b7280;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  margin: 0 2px;\n  font-size: 14px;\n  position: relative;\n  overflow: visible;\n  /* Prevence blikn ikon */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  backface-visibility: hidden;\n\n  /* Stabilizace ikon */\n  svg {\n    display: block;\n    pointer-events: none;\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);\n    transition: left 0.5s;\n    pointer-events: none;\n  }\n\n  &:hover {\n    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n    color: #1e40af;\n    border-color: #3b82f6;\n    transform: translateY(-2px) scale(1.05);\n    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n\n    &::before {\n      left: 100%;\n    }\n  }\n\n  &:active {\n    transform: translateY(-1px) scale(1.02);\n  }\n\n  &.active {\n    background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n    color: white;\n    border-color: #1d4ed8;\n    box-shadow:\n      0 4px 16px rgba(59, 130, 246, 0.4),\n      0 0 20px rgba(59, 130, 246, 0.3);\n    transform: scale(1.1);\n\n    &::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: linear-gradient(45deg,\n        rgba(255, 255, 255, 0.1) 0%,\n        transparent 20%,\n        transparent 80%,\n        rgba(255, 255, 255, 0.1) 100%);\n      animation: shimmer 2s infinite;\n    }\n\n    &:hover {\n      background: linear-gradient(135deg, #1d4ed8 0%, #2563eb 50%, #1e40af 100%);\n      box-shadow:\n        0 6px 20px rgba(59, 130, 246, 0.5),\n        0 0 25px rgba(59, 130, 246, 0.4);\n      transform: scale(1.12) translateY(-2px);\n    }\n  }\n\n  @keyframes shimmer {\n    0% { transform: translateX(-100%); }\n    100% { transform: translateX(100%); }\n  }\n`;\n\n// Empty State Styles\nconst EmptyState = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 4rem 2rem;\n  text-align: center;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n  border-radius: 12px;\n  margin: 2rem 0;\n  border: 2px dashed #cbd5e1;\n`;\n\nconst EmptyStateIcon = styled.div`\n  font-size: 4rem;\n  color: #94a3b8;\n  margin-bottom: 1.5rem;\n  opacity: 0.7;\n`;\n\nconst EmptyStateTitle = styled.h3`\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: #475569;\n  margin: 0 0 0.5rem 0;\n`;\n\nconst EmptyStateText = styled.p`\n  font-size: 1rem;\n  color: #64748b;\n  margin: 0;\n  max-width: 500px;\n`;\n\n// Table Styles - wrapper s relativn pozic pro scroll indiktory\nconst TableScrollWrapper = styled.div`\n  position: relative;\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n\n  /* Shadow indiktory na okrajch kdy je mon scrollovat */\n  &::before,\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    width: 40px;\n    pointer-events: none;\n    z-index: 10;\n    transition: opacity 0.3s ease;\n  }\n\n  /* Lev shadow - kdy nen na zatku */\n  &::before {\n    left: 0;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.1), transparent);\n    opacity: ${props => props.$showLeftShadow ? 1 : 0};\n    border-radius: 8px 0 0 8px;\n  }\n\n  /* Prav shadow - kdy nen na konci */\n  &::after {\n    right: 0;\n    background: linear-gradient(to left, rgba(0, 0, 0, 0.1), transparent);\n    opacity: ${props => props.$showRightShadow ? 1 : 0};\n    border-radius: 0 8px 8px 0;\n  }\n`;\n\nconst TableContainer = styled.div`\n  /* Horizontln scrollovn kdy se tabulka nevejde */\n  overflow-x: auto;\n  overflow-y: visible;\n  position: relative;\n\n  /* Smooth scrolling pro lep UX */\n  scroll-behavior: smooth;\n\n  /* Skrt scrollbar - zabrnit blikn */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  /* Firefox scrollbar - skrt */\n  scrollbar-width: none;\n  \n  /* IE a Edge - skrt */\n  -ms-overflow-style: none;\n`;\n\n// Scroll ipka - lev - FIXED position (pohybuje se s vertiklnm scrollem)\nconst ScrollArrowLeft = styled.button`\n  position: fixed;\n  left: 50px;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 9999;\n\n  width: 56px;\n  height: 56px;\n  border-radius: 50%;\n  border: 2px solid #e5e7eb;\n  background: ${props => {\n    // Pln bl JEN kdy je hover pmo NAD IPKOU\n    if (props.$arrowHovered) {\n      return 'rgba(255, 255, 255, 0.98)';\n    }\n    return 'rgba(255, 255, 255, 0.25)'; // 75% prhledn (zobrazuje se kdy je hover nad tabulkou)\n  }};\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  /* Zobrazit kdy: 1) je poteba scrollovat A 2) je hover nad tabulkou NEBO nad ipkou */\n  opacity: ${props => (props.$visible && (props.$tableHovered || props.$arrowHovered)) ? 1 : 0};\n  pointer-events: ${props => (props.$visible && (props.$tableHovered || props.$arrowHovered)) ? 'auto' : 'none'};\n  transform: translateY(-50%); /* Vdy stejn velikost, dn scale */\n\n  &:hover:not(:disabled) {\n    background: rgba(248, 250, 252, 0.98);\n    border-color: #3b82f6;\n    box-shadow: 0 6px 16px rgba(59, 130, 246, 0.3);\n  }\n\n  &:active:not(:disabled) {\n    transform: translateY(-50%) scale(1.05);\n  }\n\n  &:disabled {\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  svg {\n    width: 22px;\n    height: 22px;\n    color: #3b82f6;\n  }\n`;\n\n// Scroll ipka - prav - FIXED position\nconst ScrollArrowRight = styled(ScrollArrowLeft)`\n  left: auto;\n  right: 50px;\n`;\n\nconst Table = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n  font-family: 'Roboto Condensed', 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;\n  font-size: 0.95rem;\n  letter-spacing: -0.01em;\n`;\n\nconst TableHead = styled.thead`\n  background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n`;\n\nconst TableRow = styled.tr`\n  /* Zkladn pozad dku podle priority:\n     1. KONCEPTY V EDITACI - nejvy priorita - oranov zvraznn\n     2. ZVRAZOVN PODLE STAVU - pokud je zapnuto\n     3. STRIPING - jednoduch stdn bl/ed (pokud highlighting vypnuto)\n  */\n  background: ${props => {\n    // 1. KONCEPTY V EDITACI - NEJVY PRIORITA - vdy viditeln\n    if (props.$isDraft || props.$hasLocalChanges) {\n      return 'linear-gradient(135deg, #ea580c 0%, #f97316 30%, #ea580c 70%, #dc2626 100%)';\n    }\n\n    // 2. ZVRAZOVN PODLE STAVU - pokud je zapnuto\n    if (props.$showHighlighting && props.$order) {\n      const bgColor = getRowBackgroundColor(props.$order);\n      if (bgColor && bgColor !== 'transparent') {\n        return `linear-gradient(135deg, ${bgColor} 0%, ${bgColor}dd 50%, ${bgColor} 100%)`;\n      }\n    }\n\n    // 2. DEFAULT - ist bl pozad\n    return 'white';\n  }};\n\n  /* Speciln efekty pro KONCEPTY V EDITACI - jen svtlej pozad */\n  ${props => (props.$isDraft || props.$hasLocalChanges) ? `\n    border-left: 4px solid #ea580c;\n    position: relative;\n    z-index: 5;\n\n    /* Bl psmo pro koncepty - dleit pro itelnost */\n    color: white !important;\n    font-weight: 700;\n\n    /* Vechny vnoen elementy */\n    & * {\n      color: white !important;\n      font-weight: 600 !important;\n    }\n\n    & div, & span, & sup, & sub, & small, & strong {\n      color: white !important;\n    }\n\n    /* Ikony a SVG */\n    & .fa, & svg, & [class*=\"fa-\"] {\n      color: white !important;\n    }\n\n    /* Tlatka v konceptech */\n    & button {\n      color: white !important;\n      background: rgba(255, 255, 255, 0.1) !important;\n      border-color: rgba(255, 255, 255, 0.3) !important;\n\n      &:hover {\n        background: rgba(255, 255, 255, 0.2) !important;\n        color: white !important;\n      }\n    }\n\n    /* Vstupn pole v konceptech */\n    & input {\n      background: rgba(255, 255, 255, 0.1) !important;\n      color: white !important;\n      border-color: rgba(255, 255, 255, 0.3) !important;\n\n      &::placeholder {\n        color: rgba(255, 255, 255, 0.7) !important;\n      }\n    }\n\n    /* Hover efekt pro koncepty - jen svtlej pozad */\n    &:hover {\n      background: linear-gradient(135deg, #fed7aa 0%, #fdba74 30%, #fb923c 70%, #f97316 100%) !important;\n\n      & * {\n        color: #7c2d12 !important;\n      }\n    }\n  ` : ''}\n\n  /* EFEKTY PODLE STAVU - pouze pokud nen koncept */\n  ${props => {\n    if (!(props.$isDraft || props.$hasLocalChanges) && props.$showHighlighting && props.$order) {\n      // Zskej systmov stav pomoc stejn logiky jako getRowBackgroundColor\n      let systemStatus;\n\n      if (props.$order?.stav_objednavky) {\n        // Mapovn uivatelsky pvtivch stav na systmov kdy\n        const mapping = {\n          'Ke schvlen': 'KE_SCHVALENI',\n          'Nov': 'NOVA',\n          'Schvlen': 'SCHVALENA',\n          'Zamtnut': 'ZAMITNUTA',\n          'Rozpracovan': 'ROZPRACOVANA',\n          'Odeslan dodavateli': 'ODESLANA',\n          'Potvrzen dodavatelem': 'POTVRZENA',\n          'Uveejnn': 'UVEREJNENA',\n          'ek na potvrzen': 'CEKA_POTVRZENI',\n          'ek se': 'CEKA_SE',\n          'Dokonen': 'DOKONCENA',\n          'Zruen': 'ZRUSENA',\n          'Smazan': 'SMAZANA',\n          'Koncept': 'NOVA'\n        };\n        systemStatus = mapping[props.$order.stav_objednavky] || props.$order.stav_objednavky;\n      } else if (props.$order?.stav_workflow_kod) {\n        try {\n          const workflowStates = JSON.parse(props.$order.stav_workflow_kod);\n          systemStatus = Array.isArray(workflowStates) ? workflowStates[workflowStates.length - 1] : props.$order.stav_workflow_kod;\n        } catch {\n          systemStatus = props.$order.stav_workflow_kod;\n        }\n      } else {\n        systemStatus = props.$order?.stav_id_num ?? props.$order?.stav_id ?? props.$order?.status_id ?? props.$order?.stav ?? 'NOVA';\n      }\n\n      const statusColors = getStatusColor(systemStatus);\n      const bgColor = statusColors?.light || '#f8fafc';\n      const darkColor = statusColors?.dark || '#64748b';\n\n      return `\n        /* Jemn 3D efekt podle stavu */\n        box-shadow:\n          0 2px 8px ${bgColor}66,\n          inset 0 1px 0 rgba(255, 255, 255, 0.5);\n\n        /* Lep itelnost textu */\n        color: #1f2937;\n        font-weight: 500;\n\n        /* Hover efekt pro dky s highlighting - jen svtlej pozad */\n        &:hover {\n          filter: brightness(1.1);\n          color: #1f2937 !important;\n        }\n      `;\n    }\n    return '';\n  }}\n\n  /* BLINK EFEKT pi uloen - m nejvy prioritu */\n  ${props => props.$isHighlighted ? highlightPulse + `\n    animation: highlightPulse 3s ease-out;\n    animation-iteration-count: 1;\n    z-index: 100 !important;\n    position: relative;\n  ` : ''}\n\n  /* Jemn hover efekt pro vechny dky (krom koncept kter maj vlastn) */\n  ${props => !(props.$isDraft || props.$hasLocalChanges) ? `\n    &:hover {\n      ${props.$showHighlighting ?\n        // Pokud je highlighting zapnuto, jen jemn zesvtlen\n        `filter: brightness(1.08);` :\n        // Pokud highlighting vypnuto, svtle modr hover\n        `background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%) !important;`\n      }\n    }\n  ` : ''}\n\n  /* Plynul pechody */\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n\n  /* Cursor pro dek - pointer s kontextovm menu (double-click pro editaci) */\n  cursor: pointer;\n`;\n\nconst TableHeader = styled.th`\n  padding: 0.5rem 0.375rem;\n  text-align: center;\n  font-weight: 600;\n  color: white;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n  cursor: pointer;\n  user-select: none;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n  }\n`;\n\nconst TableCell = styled.td`\n  padding: 0.375rem;\n  border-bottom: 1px solid #f1f5f9;\n  vertical-align: middle;\n`;\n\nconst ExpandButton = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #3b82f6;\n  font-size: 1.25rem;\n  padding: 0.25rem;\n  border-radius: 4px;\n  transition: background-color 0.2s ease;\n\n  &:hover {\n    background: #eff6ff;\n  }\n`;\n\n// Expanded Row Content\nconst ExpandedContent = styled.div`\n  padding: 0.75rem;\n  background: ${props => {\n    if (props.$order && props.$showRowHighlighting) {\n      // Zskej systmov stav pro mapovn na barvy\n      let systemStatus;\n\n      // Preferuj uivatelsky pvtiv stav z stav_objednavky a zmapuj na systmov\n      if (props.$order?.stav_objednavky) {\n        systemStatus = mapUserStatusToSystemCode(props.$order.stav_objednavky);\n      }\n      // Fallback na stav_workflow_kod\n      else if (props.$order?.stav_workflow_kod) {\n        try {\n          const workflowStates = JSON.parse(props.$order.stav_workflow_kod);\n          systemStatus = Array.isArray(workflowStates) ? workflowStates[workflowStates.length - 1] : props.$order.stav_workflow_kod;\n        } catch {\n          systemStatus = props.$order.stav_workflow_kod;\n        }\n      } else {\n        systemStatus = props.$order?.stav_id_num ?? props.$order?.stav_id ?? props.$order?.status_id ?? props.$order?.stav ?? 'NOVA';\n      }\n\n      const statusColors = getStatusColor(systemStatus);\n      const bgColor = statusColors?.light || '#f8fafc';\n      const lighterBgColor = getLighterColor(bgColor, 0.05); // Jen 5% opacity pro jemnj efekt\n\n      return lighterBgColor;\n    }\n    return '#f9fafb'; // Lehce ed pozad pro lep kontrast\n  }};\n  border-top: 2px solid ${props => {\n    if (props.$order && props.$showRowHighlighting) {\n      // Zskej systmov stav pro mapovn na barvy\n      let systemStatus;\n\n      if (props.$order?.stav_objednavky) {\n        systemStatus = mapUserStatusToSystemCode(props.$order.stav_objednavky);\n      } else if (props.$order?.stav_workflow_kod) {\n        try {\n          const workflowStates = JSON.parse(props.$order.stav_workflow_kod);\n          systemStatus = Array.isArray(workflowStates) ? workflowStates[workflowStates.length - 1] : props.$order.stav_workflow_kod;\n        } catch {\n          systemStatus = props.$order.stav_workflow_kod;\n        }\n      } else {\n        systemStatus = props.$order?.stav_id_num ?? props.$order?.stav_id ?? props.$order?.status_id ?? props.$order?.stav ?? 'NOVA';\n      }\n\n      const statusColors = getStatusColor(systemStatus);\n      const darkColor = statusColors?.dark || '#64748b';\n\n      return darkColor;\n    }\n    return '#e5e7eb';\n  }};\n  border-bottom: 2px solid #000000;\n`;\n\nconst ExpandedGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 1rem;\n\n  /* Prvn dek: 4 karty (Zkladn, Finann, Odpovdn, Workflow) */\n  /* Kad karta zabere 1 sloupec = 25% ky */\n\n  /* Druh dek: 3 sloupce (Dodavatel, Poloky+Faktury, Plohy) */\n  /* Kad sloupec zabere 33.33% ky */\n\n  @media (max-width: 1400px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n\n  @media (max-width: 1200px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\n// Tsloupcov layout: Dodavatel | Poloky+Faktury | Plohy\nconst ThreeColumnLayout = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr; /* 33/33/33 layout */\n  gap: 1rem;\n  grid-column: 1 / -1; /* Zabere celou ku gridu */\n\n  @media (max-width: 1400px) {\n    grid-template-columns: 1fr 1fr;\n  }\n\n  @media (max-width: 1000px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst SupplierColumn = styled.div`\n  display: flex;\n  flex-direction: column;\n  \n  /* InfoCard m zabrat celou vku */\n  > div {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n  }\n`;\n\nconst MiddleColumn = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nconst AttachmentsColumn = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  /* InfoCard m zabrat celou vku */\n  > div {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n\n    /* Obsah plohy rozthnout */\n    > div:last-child {\n      flex: 1;\n      overflow-y: auto;\n    }\n  }\n`;\n\n// Star layout (ponechn pro ppadn dal pouit)\nconst SecondRowLayout = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n  grid-column: 1 / -1;\n\n  @media (max-width: 1200px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst LeftColumn = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nconst RightColumn = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n\n  > div {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n\n    > div:last-child {\n      flex: 1;\n      overflow-y: auto;\n    }\n  }\n`;\nconst InfoCard = styled.div`\n  background: white;\n  border-radius: 8px;\n  padding: 0.625rem;\n  border-left: 4px solid ${props => {\n    if (props.$order && props.$showRowHighlighting) {\n      // Zskej systmov stav pro mapovn na barvy\n      let systemStatus;\n\n      if (props.$order?.stav_objednavky) {\n        systemStatus = mapUserStatusToSystemCode(props.$order.stav_objednavky);\n      } else if (props.$order?.stav_workflow_kod) {\n        try {\n          const workflowStates = JSON.parse(props.$order.stav_workflow_kod);\n          systemStatus = Array.isArray(workflowStates) ? workflowStates[workflowStates.length - 1] : props.$order.stav_workflow_kod;\n        } catch {\n          systemStatus = props.$order.stav_workflow_kod;\n        }\n      } else {\n        systemStatus = props.$order?.stav_id_num ?? props.$order?.stav_id ?? props.$order?.status_id ?? props.$order?.stav ?? 'NOVA';\n      }\n\n      const statusColors = getStatusColor(systemStatus);\n      const darkColor = statusColors?.dark || '#3b82f6';\n\n      return darkColor;\n    }\n    return '#3b82f6';\n  }};\n  box-shadow:\n    0 4px 6px -1px rgba(0, 0, 0, 0.1),\n    0 2px 4px -1px rgba(0, 0, 0, 0.06),\n    inset 0 1px 0 rgba(255, 255, 255, 0.6);\n\n  /* 3D efekt pro karty */\n  position: relative;\n  transform: translateZ(0);\n  transition: all 0.2s ease-in-out;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow:\n      0 10px 15px -3px rgba(0, 0, 0, 0.1),\n      0 4px 6px -2px rgba(0, 0, 0, 0.05),\n      inset 0 1px 0 rgba(255, 255, 255, 0.8);\n  }\n\n  /* Subtle gradient overlay pro 3D efekt */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 50%, rgba(0,0,0,0.02) 100%);\n    border-radius: 8px;\n    pointer-events: none;\n  }\n`;\n\nconst InfoCardTitle = styled.h4`\n  margin: 0 0 0.375rem 0;\n  font-size: 0.95rem;\n  font-weight: 600;\n  color: #0a0a0a;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    color: #6b7280;\n    opacity: 0.8;\n  }\n`;\n\n//  Komponenty pro faktury a dodaten dokumenty\nconst ListItemCard = styled.div`\n  padding: 10px 12px;\n  background: #f8fafc;\n  border-radius: 6px;\n  border: 1px solid #e2e8f0;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #f1f5f9;\n    border-color: #cbd5e1;\n    transform: translateX(2px);\n  }\n`;\n\nconst ListItemHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 6px;\n  gap: 12px;\n`;\n\nconst ListItemTitle = styled.div`\n  font-weight: 600;\n  font-size: 0.95em;\n  color: #0f172a;\n  flex: 1;\n`;\n\nconst ListItemBadge = styled.span`\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 2px 8px;\n  border-radius: 4px;\n  font-size: 0.75em;\n  font-weight: 600;\n  text-transform: uppercase;\n  white-space: nowrap;\n  background: ${props => props.$success ? '#dcfce7' : props.$warning ? '#fef3c7' : '#dbeafe'};\n  color: ${props => props.$success ? '#166534' : props.$warning ? '#854d0e' : '#1e40af'};\n  border: 1px solid ${props => props.$success ? '#86efac' : props.$warning ? '#fde047' : '#93c5fd'};\n\n  svg {\n    color: #6b7280;\n    opacity: 0.8;\n  }\n`;\n\nconst ListItemMeta = styled.div`\n  display: flex;\n  gap: 12px;\n  flex-wrap: wrap;\n  font-size: 0.85em;\n  color: #64748b;\n`;\n\nconst ListItemMetaItem = styled.span`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n`;\n\nconst AttachmentsList = styled.div`\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px dashed #e2e8f0;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n`;\n\nconst AttachmentItem = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 4px 8px;\n  background: white;\n  border-radius: 4px;\n  font-size: 0.85em;\n\n  &:hover {\n    background: #f8fafc;\n  }\n`;\n\nconst AttachmentName = styled.span`\n  flex: 1;\n  color: #475569;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nconst AttachmentSize = styled.span`\n  color: #94a3b8;\n  font-size: 0.9em;\n  margin-left: 8px;\n`;\n\n//  Komponenty pro fze dokonen\nconst PhaseProgressBar = styled.div`\n  width: 100%;\n  height: 8px;\n  background: #e2e8f0;\n  border-radius: 4px;\n  overflow: hidden;\n  margin: 8px 0;\n`;\n\nconst PhaseProgressFill = styled.div`\n  height: 100%;\n  background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);\n  border-radius: 4px;\n  transition: width 0.3s ease;\n  width: ${props => props.$progress || 0}%;\n`;\n\nconst PhaseLabel = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 0.9em;\n  margin-bottom: 4px;\n\n  .phase-name {\n    font-weight: 500;\n    color: #1e293b;\n  }\n\n  .phase-percent {\n    font-weight: 600;\n    color: #3b82f6;\n  }\n`;\n\nconst InfoRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 1.5rem;\n  padding: 0.225rem 0;\n  border-bottom: 1px dashed #e5e7eb;\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n\nconst InfoLabel = styled.span`\n  font-weight: 600;\n  color: #0a0a0a;\n  flex-shrink: 0;\n  white-space: nowrap;\n  max-width: 45%;\n`;\n\nconst InfoValue = styled.span`\n  color: #0a0a0a;\n  text-align: right;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  flex: 1;\n  min-width: 0;\n  line-height: 1.3;\n`;\n\n// Pagination\nconst PaginationContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: #f8fafc;\n  border-top: 1px solid #e5e7eb;\n`;\n\nconst PaginationInfo = styled.div`\n  font-size: 0.875rem;\n  color: #64748b;\n`;\n\nconst PaginationControls = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n`;\n\nconst PageButton = styled.button`\n  padding: 0.5rem 1rem;\n  border: 1px solid #e5e7eb;\n  background: white;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: #f3f4f6;\n    border-color: #3b82f6;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  &.active {\n    background: #3b82f6;\n    color: white;\n    border-color: #3b82f6;\n  }\n`;\n\nconst PageSizeSelect = styled.select`\n  padding: 0.5rem;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  background: white;\n  font-size: 0.875rem;\n  cursor: pointer;\n`;\n\n// Status Badge\nconst StatusBadge = styled.span`\n  display: inline-flex;\n  align-items: flex-start;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  border-radius: 8px;\n  font-size: 0.75rem;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 0.025em;\n  border: 2px solid;\n  background: ${props => {\n    // Speciln styling pro editovan/konceptov dky - transparentn pozad (jen obrys)\n    if (props.$isInEditRow) {\n      return 'transparent';\n    }\n    const statusColors = getStatusColor(props.$status);\n    return statusColors?.light || STATUS_COLORS.NOVA.light;\n  }};\n  color: ${props => {\n    // Speciln styling pro editovan/konceptov dky - tmav barvy pro dobr kontrast\n    if (props.$isInEditRow) {\n      const statusColors = getStatusColor(props.$status);\n      return statusColors?.dark || STATUS_COLORS.NOVA.dark;\n    }\n    const statusColors = getStatusColor(props.$status);\n    return statusColors?.dark || STATUS_COLORS.NOVA.dark;\n  }};\n  border-color: ${props => {\n    // Speciln styling pro editovan/konceptov dky - syt erven rmeek msto modrho\n    if (props.$isInEditRow) {\n      return '#dc2626'; // syt erven barva pro edit dky msto ruiv modr\n    }\n    const statusColors = getStatusColor(props.$status);\n    return statusColors?.dark || STATUS_COLORS.NOVA.dark;\n  }};\n  box-shadow: ${props => {\n    // Pidej stn pro lep viditelnost na oranovm pozad\n    if (props.$isInEditRow) {\n      return '0 1px 3px rgba(0, 0, 0, 0.2)';\n    }\n    return 'none';\n  }};\n`;\n\n// Action Menu\nconst ActionMenu = styled.div`\n  display: flex;\n  gap: 0.12rem;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ActionMenuButton = styled.button`\n  padding: 0.375rem;\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  border-radius: 4px;\n  color: #64748b;\n  font-size: 0.8rem;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 28px;\n  min-height: 28px;\n\n  /* Prevence blikn ikon */\n  svg {\n    display: block;\n    pointer-events: none;\n  }\n\n  &:hover:not(:disabled):not([disabled]) {\n    background: #f1f5f9;\n    color: #1e293b;\n  }\n\n  &.edit:hover:not(:disabled):not([disabled]) {\n    color: #3b82f6;\n    background: #eff6ff;\n  }\n\n  &.export-document:hover:not(:disabled):not([disabled]) {\n    color: #059669;\n    background: #ecfdf5;\n  }\n\n  &.delete:hover:not(:disabled):not([disabled]) {\n    color: #dc2626;\n    background: #fef2f2;\n  }\n\n  &.create-invoice:hover:not(:disabled):not([disabled]) {\n    color: #0891b2;\n    background: #ecfeff;\n  }\n\n  &.financial-control:hover:not(:disabled):not([disabled]) {\n    color: #7c3aed;\n    background: #f5f3ff;\n  }\n\n  /* Disabled stav */\n  &:disabled,\n  &[disabled] {\n    opacity: 0.7;\n    cursor: not-allowed !important;\n    color: #94a3b8;\n    pointer-events: auto;\n    \n    &:hover {\n      background: transparent;\n      color: #94a3b8;\n    }\n  }\n`;\n\n// Debug Panel Styles\nconst DebugPanel = styled.div`\n  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);\n  border: 2px solid #0ea5e9;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  color: white;\n  font-family: 'Courier New', monospace;\n  box-shadow: 0 8px 32px rgba(14, 165, 233, 0.3);\n`;\n\nconst DebugHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  padding-bottom: 0.75rem;\n  border-bottom: 2px solid rgba(14, 165, 233, 0.3);\n`;\n\nconst DebugTitle = styled.h3`\n  margin: 0;\n  color: #0ea5e9;\n  font-size: 1.25rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst DebugContent = styled.div`\n  max-height: 400px;\n  overflow-y: auto;\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 8px;\n  padding: 1rem;\n  border: 1px solid rgba(14, 165, 233, 0.2);\n`;\n\nconst DebugSection = styled.div`\n  margin-bottom: 1rem;\n  &:last-child { margin-bottom: 0; }\n`;\n\nconst DebugLabel = styled.div`\n  color: #0ea5e9;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  font-size: 0.875rem;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n\nconst DebugValue = styled.pre`\n  margin: 0;\n  color: #e2e8f0;\n  font-size: 0.75rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-all;\n  background: rgba(0, 0, 0, 0.2);\n  padding: 0.75rem;\n  border-radius: 6px;\n  border-left: 3px solid #0ea5e9;\n`;\n\n// Loading Overlay with blur and fade effects\nconst LoadingOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(248, 250, 252, 0.95);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 99999;\n  opacity: ${props => props.$visible ? 1 : 0};\n  transition: opacity 0.5s ease-in-out;\n  pointer-events: ${props => props.$visible ? 'auto' : 'none'};\n\n  @media (max-width: 768px) {\n    padding: 1rem;\n  }\n`;\n\nconst LoadingSpinner = styled.div`\n  width: 64px;\n  height: 64px;\n  border: 4px solid #e2e8f0;\n  border-top: 4px solid #f59e0b;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 1.5rem;\n  transform: scale(${props => props.$visible ? 1 : 0.8});\n  transition: transform 0.5s ease-in-out;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg) scale(1); }\n    100% { transform: rotate(360deg) scale(1); }\n  }\n`;\n\nconst LoadingMessage = styled.div`\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #374151;\n  text-align: center;\n  margin-bottom: 0.5rem;\n  transform: translateY(${props => props.$visible ? '0' : '10px'});\n  opacity: ${props => props.$visible ? 1 : 0};\n  transition: transform 0.5s ease-in-out 0.1s, opacity 0.5s ease-in-out 0.1s;\n`;\n\nconst LoadingSubtext = styled.div`\n  font-size: 0.875rem;\n  color: #6b7280;\n  text-align: center;\n  transform: translateY(${props => props.$visible ? '0' : '10px'});\n  opacity: ${props => props.$visible ? 1 : 0};\n  transition: transform 0.5s ease-in-out 0.15s, opacity 0.5s ease-in-out 0.15s;\n`;\n\nconst PageContent = styled.div`\n  position: relative;\n  filter: blur(${props => props.$blurred ? '5px' : '0px'});\n  opacity: ${props => props.$blurred ? 0.6 : 1};\n  transition: filter 0.5s ease-in-out, opacity 0.5s ease-in-out;\n  pointer-events: ${props => props.$blurred ? 'none' : 'auto'};\n  will-change: ${props => props.$blurred ? 'filter, opacity' : 'auto'};\n  isolation: isolate;\n`;\n\n//  Styled komponenty pro zamenou objednvku dialog (pouvno v LOCKED ORDER ConfirmDialog)\nconst UserInfo = styled.div`\n  padding: 1rem;\n  background: #f8fafc;\n  border-left: 4px solid #3b82f6;\n  border-radius: 4px;\n  margin: 1rem 0;\n  font-size: 1.1rem;\n`;\n\nconst InfoText = styled.p`\n  margin: 0.75rem 0;\n  color: #64748b;\n  line-height: 1.6;\n`;\n\nconst WarningText = styled.p`\n  margin: 0.75rem 0;\n  color: #dc2626;\n  font-weight: 600;\n  line-height: 1.6;\n`;\n\nconst ContactInfo = styled.div`\n  margin: 1rem 0;\n  padding: 1rem;\n  background: #f0f9ff;\n  border: 1px solid #bfdbfe;\n  border-radius: 8px;\n`;\n\nconst ContactItem = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.5rem 0;\n  color: #1e40af;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid #e0e7ff;\n  }\n\n  svg {\n    color: #3b82f6;\n    width: 18px;\n    height: 18px;\n  }\n\n  a {\n    color: #1e40af;\n    text-decoration: none;\n    font-weight: 500;\n    transition: all 0.2s ease;\n\n    &:hover {\n      color: #1e3a8a;\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst ContactLabel = styled.span`\n  font-weight: 600;\n  min-width: 80px;\n  color: #64748b;\n`;\n\n//  Styled komponenty pro export preview modal\nconst ExportPreviewOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(8px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 999999;\n  animation: fadeIn 0.2s ease;\n  padding: 2rem;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n\nconst ExportPreviewDialog = styled.div`\n  background: white;\n  border-radius: 16px;\n  max-width: 1200px;\n  width: 100%;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\n  animation: slideUp 0.3s ease;\n\n  @keyframes slideUp {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n`;\n\nconst ExportPreviewHeader = styled.div`\n  padding: 1.5rem 2rem;\n  border-bottom: 2px solid #e5e7eb;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 16px 16px 0 0;\n`;\n\nconst ExportPreviewTitle = styled.h2`\n  margin: 0;\n  font-size: 1.5rem;\n  color: white;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n\n  svg {\n    font-size: 1.75rem;\n  }\n`;\n\nconst ExportPreviewCloseButton = styled.button`\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  border-radius: 8px;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: white;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.3);\n    transform: scale(1.05);\n  }\n\n  svg {\n    font-size: 1.25rem;\n  }\n`;\n\nconst ExportPreviewContent = styled.div`\n  padding: 2rem;\n  overflow-y: auto;\n  flex: 1;\n`;\n\nconst ExportInfoGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: 0.75rem;\n  margin-bottom: 1.5rem;\n`;\n\nconst ExportInfoCard = styled.div`\n  padding: 0.75rem;\n  background: linear-gradient(135deg, #f6f8fb 0%, #eef2f7 100%);\n  border-radius: 8px;\n  border: 1px solid #e5e7eb;\n`;\n\nconst ExportInfoLabel = styled.div`\n  font-size: 0.65rem;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  color: #6b7280;\n  font-weight: 600;\n  margin-bottom: 0.375rem;\n`;\n\nconst ExportInfoValue = styled.div`\n  font-size: 1.125rem;\n  font-weight: 700;\n  color: #1f2937;\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n\n  svg {\n    font-size: 1rem;\n    color: #667eea;\n  }\n`;\n\nconst ExportPreviewTable = styled.div`\n  border: 2px solid #e5e7eb;\n  border-radius: 12px;\n  overflow: hidden;\n  margin-bottom: 1.5rem;\n  width: fit-content;\n  min-width: 100%;\n`;\n\nconst ExportPreviewTableHeader = styled.div`\n  display: flex;\n  background: #f9fafb;\n  border-bottom: 2px solid #e5e7eb;\n  font-weight: 600;\n  font-size: 0.875rem;\n  color: #374151;\n`;\n\nconst ExportPreviewTableHeaderCell = styled.div`\n  padding: 0.75rem 1rem;\n  border-right: 1px solid #e5e7eb;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  flex-shrink: 0;\n  \n  &:last-child {\n    border-right: none;\n  }\n`;\n\nconst ExportPreviewTableRow = styled.div`\n  display: flex;\n  border-bottom: 1px solid #e5e7eb;\n  \n  &:last-child {\n    border-bottom: none;\n  }\n\n  &:nth-of-type(even) {\n    background: #f9fafb;\n  }\n\n  &:hover {\n    background: #f3f4f6;\n  }\n`;\n\nconst ExportPreviewTableCell = styled.div`\n  padding: 0.75rem 1rem;\n  font-size: 0.875rem;\n  color: #1f2937;\n  border-right: 1px solid #e5e7eb;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  flex-shrink: 0;\n  \n  &:last-child {\n    border-right: none;\n  }\n`;\n\nconst ExportPreviewFooter = styled.div`\n  padding: 1.5rem 2rem;\n  border-top: 2px solid #e5e7eb;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n  background: #f9fafb;\n  border-radius: 0 0 16px 16px;\n`;\n\nconst ExportPreviewNote = styled.div`\n  font-size: 0.875rem;\n  color: #6b7280;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    color: #3b82f6;\n  }\n`;\n\nconst ExportPreviewActions = styled.div`\n  display: flex;\n  gap: 1rem;\n`;\n\nconst ExportPreviewButton = styled.button`\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  border: none;\n\n  ${props => props.$variant === 'cancel' && `\n    background: white;\n    color: #6b7280;\n    border: 2px solid #e5e7eb;\n\n    &:hover {\n      background: #f9fafb;\n      border-color: #d1d5db;\n    }\n  `}\n\n  ${props => props.$variant === 'confirm' && `\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n\n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 10px 25px -5px rgba(102, 126, 234, 0.5);\n    }\n  `}\n\n  svg {\n    font-size: 1rem;\n  }\n`;\n\n//  Styled komponenty pro dialog hromadnho generovn DOCX\nconst BulkDocxOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(8px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 999999;\n  animation: fadeIn 0.2s ease;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n\nconst BulkDocxDialog = styled.div`\n  background: white;\n  border-radius: 16px;\n  max-width: 900px;\n  width: 95%;\n  max-height: 90vh;\n  box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n  animation: slideUp 0.3s ease;\n\n  @keyframes slideUp {\n    from { transform: translateY(50px); opacity: 0; }\n    to { transform: translateY(0); opacity: 1; }\n  }\n`;\n\nconst BulkDocxHeader = styled.div`\n  background: linear-gradient(135deg, #0891b2 0%, #06b6d4 100%);\n  padding: 1.5rem 2rem;\n  color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst BulkDocxTitle = styled.h2`\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n`;\n\nconst BulkDocxBody = styled.div`\n  padding: 2rem;\n  max-height: calc(90vh - 200px);\n  overflow-y: auto;\n`;\n\nconst BulkDocxOrderItem = styled.div`\n  background: #f8fafc;\n  border: 2px solid #e2e8f0;\n  border-radius: 12px;\n  padding: 1.25rem;\n  margin-bottom: 1rem;\n  transition: all 0.2s ease;\n\n  &:hover {\n    border-color: #0891b2;\n    box-shadow: 0 4px 12px rgba(8, 145, 178, 0.1);\n  }\n`;\n\nconst BulkDocxOrderHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n`;\n\nconst BulkDocxOrderNumber = styled.div`\n  font-weight: 700;\n  font-size: 1.1rem;\n  color: #1e293b;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst BulkDocxOrderInfo = styled.div`\n  font-size: 0.9rem;\n  color: #64748b;\n  line-height: 1.6;\n  margin-bottom: 0.75rem;\n`;\n\nconst BulkDocxSignerSelect = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-top: 0.75rem;\n`;\n\nconst BulkDocxSignerLabel = styled.label`\n  font-weight: 600;\n  color: #475569;\n  min-width: 120px;\n`;\n\nconst BulkDocxFooter = styled.div`\n  background: #f8fafc;\n  padding: 1.5rem 2rem;\n  border-top: 2px solid #e2e8f0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst BulkDocxSummary = styled.div`\n  font-size: 1rem;\n  color: #475569;\n  font-weight: 600;\n`;\n\nconst BulkDocxActions = styled.div`\n  display: flex;\n  gap: 0.75rem;\n`;\n\nconst BulkDocxButton = styled.button`\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border: 2px solid;\n\n  &.primary {\n    background: linear-gradient(135deg, #0891b2 0%, #06b6d4 100%);\n    color: white;\n    border-color: #0891b2;\n\n    &:hover {\n      background: linear-gradient(135deg, #0e7490 0%, #0891b2 100%);\n      transform: translateY(-1px);\n      box-shadow: 0 4px 12px rgba(8, 145, 178, 0.3);\n    }\n  }\n\n  &.secondary {\n    background: white;\n    color: #64748b;\n    border-color: #cbd5e1;\n\n    &:hover {\n      background: #f8fafc;\n      border-color: #94a3b8;\n    }\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n\nconst LockTimeInfo = styled.div`\n  margin: 0.75rem 0;\n  padding: 0.75rem;\n  background: #fef3c7;\n  border-left: 4px solid #f59e0b;\n  border-radius: 4px;\n  font-size: 0.875rem;\n  color: #92400e;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    color: #f59e0b;\n    width: 16px;\n    height: 16px;\n  }\n`;\n\n// =============================================================================\n// FORCE UNLOCK WARNING DIALOG - Styled Components\n// =============================================================================\n\nconst ForceUnlockWarningOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.75);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  animation: fadeIn 0.2s ease;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n\nconst ForceUnlockWarningDialog = styled.div`\n  background: white;\n  border-radius: 16px;\n  max-width: 500px;\n  width: 90%;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);\n  overflow: hidden;\n  animation: slideUp 0.3s ease;\n\n  @keyframes slideUp {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n`;\n\nconst ForceUnlockWarningHeader = styled.div`\n  background: linear-gradient(135deg, #fca5a5, #ef4444, #dc2626);\n  padding: 1.5rem;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  border-bottom: 3px solid #b91c1c;\n`;\n\nconst ForceUnlockWarningIcon = styled.div`\n  font-size: 2.5rem;\n  animation: pulse 2s ease-in-out infinite;\n  filter: drop-shadow(0 2px 8px rgba(185, 28, 28, 0.5));\n\n  @keyframes pulse {\n    0%, 100% {\n      transform: scale(1);\n      opacity: 1;\n    }\n    50% {\n      transform: scale(1.1);\n      opacity: 0.8;\n    }\n  }\n`;\n\nconst ForceUnlockWarningTitle = styled.h3`\n  margin: 0;\n  color: white;\n  font-size: 1.25rem;\n  font-weight: 800;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  flex: 1;\n`;\n\nconst ForceUnlockWarningContent = styled.div`\n  padding: 1.5rem;\n`;\n\nconst ForceUnlockWarningMessage = styled.div`\n  margin-bottom: 1.25rem;\n  line-height: 1.6;\n  color: #374151;\n\n  strong {\n    color: #dc2626;\n    font-weight: 700;\n  }\n\n  p {\n    margin: 0 0 0.75rem 0;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n`;\n\nconst ForceUnlockWarningDetails = styled.div`\n  background: linear-gradient(135deg, #fef2f2, #fee2e2);\n  border: 2px solid #fecaca;\n  border-radius: 12px;\n  padding: 1rem;\n  margin-top: 1rem;\n`;\n\nconst ForceUnlockWarningDetailRow = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  margin-bottom: 0.75rem;\n  font-size: 0.9375rem;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  svg {\n    color: #dc2626;\n    flex-shrink: 0;\n  }\n`;\n\nconst ForceUnlockWarningDetailLabel = styled.span`\n  font-weight: 700;\n  color: #7f1d1d;\n  min-width: 120px;\n`;\n\nconst ForceUnlockWarningDetailValue = styled.span`\n  color: #991b1b;\n  flex: 1;\n`;\n\nconst ForceUnlockWarningActions = styled.div`\n  display: flex;\n  gap: 0.75rem;\n  justify-content: flex-end;\n  margin-top: 1.5rem;\n  padding-top: 1.5rem;\n  border-top: 2px solid #f3f4f6;\n`;\n\nconst ForceUnlockWarningButton = styled.button`\n  padding: 0.75rem 1.5rem;\n  border: 2px solid;\n  border-radius: 10px;\n  font-weight: 700;\n  font-size: 0.9375rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  ${props => props.$primary ? `\n    background: linear-gradient(135deg, #dc2626, #b91c1c);\n    color: white;\n    border-color: transparent;\n    box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);\n\n    &:hover {\n      background: linear-gradient(135deg, #b91c1c, #991b1b);\n      box-shadow: 0 6px 16px rgba(220, 38, 38, 0.4);\n      transform: translateY(-2px);\n    }\n\n    &:active {\n      transform: translateY(0);\n    }\n  ` : `\n    background: white;\n    color: #6b7280;\n    border-color: #d1d5db;\n\n    &:hover {\n      background: #f9fafb;\n      border-color: #9ca3af;\n      color: #374151;\n    }\n  `}\n`;\n\n// =============================================================================\n// MULTISELECT KOMPONENTA (mimo hlavn komponentu aby se nevytvela pi kadm renderu)\n// =============================================================================\n\nconst MultiSelectLocal = ({ field, value, onChange, options, placeholder, icon }) => {\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [searchTerm, setSearchTerm] = React.useState(''); //  Pidno vyhledvn\n  const dropdownRef = React.useRef(null);\n  const searchInputRef = React.useRef(null);\n\n  // Zavi dropdown pi kliku mimo\n  React.useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsOpen(false);\n        setSearchTerm(''); // Vyma vyhledvn pi zaven\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [isOpen]);\n\n  //  Focus na vyhledvac pole pi oteven\n  React.useEffect(() => {\n    if (isOpen && searchInputRef.current) {\n      //  OPTIMALIZACE: requestAnimationFrame msto setTimeout\n      requestAnimationFrame(() => {\n        searchInputRef.current?.focus();\n      });\n    }\n  }, [isOpen]);\n\n  // Memoizuj aktuln hodnoty pro rychlej porovnvn\n  const valueSet = React.useMemo(() => {\n    const arr = Array.isArray(value) ? value : [];\n    // Peve vechny hodnoty na stringy pro konzistentn porovnvn\n    return new Set(arr.map(v => String(v)));\n  }, [value]);\n\n  //  Filtrovan options podle vyhledvn\n  const filteredOptions = React.useMemo(() => {\n    if (!searchTerm.trim()) return options;\n\n    const search = searchTerm.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n\n    return options.filter(opt => {\n      const label = (opt.displayName || opt.nazev_stavu || opt.nazev || '').toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n      return label.includes(search);\n    });\n  }, [options, searchTerm]);\n\n  const getDisplayValue = React.useCallback(() => {\n    if (!value || value.length === 0) return placeholder || 'Vyberte...';\n    if (value.length === 1) {\n      const opt = options?.find(o => String(o.id) === String(value[0]));\n      // Pro nzvy pouij poad: displayName > nazev_stavu > nazev\n      return opt ? (opt.displayName || opt.nazev_stavu || opt.nazev || value[0]) : value[0];\n    }\n    return `Vybrno: ${value.length}`;\n  }, [value, options, placeholder]);\n\n  const handleToggle = React.useCallback((optValue) => {\n    const currentValue = Array.isArray(value) ? value : [];\n    const newValue = currentValue.includes(optValue)\n      ? currentValue.filter(v => v !== optValue)\n      : [...currentValue, optValue];\n\n    // MultiSelectLocal value change\n\n    // Vytvo fake event s options pro kompatibilitu s existujcmi handlery\n    const fakeEvent = {\n      target: {\n        options: newValue.map(v => ({ value: v, selected: true }))\n      }\n    };\n    onChange(fakeEvent);\n  }, [value, onChange, field]);\n\n  const handleMainClick = React.useCallback((e) => {\n    e.stopPropagation();\n    setIsOpen(prev => !prev);\n  }, []);\n\n  const handleItemClick = React.useCallback((e, optValue) => {\n    e.stopPropagation();\n    handleToggle(optValue);\n  }, [handleToggle]);\n\n  // Pokud nejsou options, zobraz placeholder\n  if (!options || options.length === 0) {\n    return (\n      <div style={{\n        padding: '0.75rem 2.5rem',\n        border: '2px solid #e5e7eb',\n        borderRadius: '8px',\n        color: '#9ca3af',\n        fontSize: '0.875rem'\n      }}>\n        Natn...\n      </div>\n    );\n  }\n\n  return (\n    <div ref={dropdownRef} style={{ position: 'relative', width: '100%' }}>\n      <div\n        onClick={handleMainClick}\n        style={{\n          width: '100%',\n          padding: '0.75rem 2.5rem 0.75rem 2.5rem',\n          border: '2px solid #e5e7eb',\n          borderRadius: '8px',\n          fontSize: '0.875rem',\n          background: '#ffffff',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          position: 'relative',\n          color: (!value || value.length === 0) ? '#9ca3af' : '#1f2937',\n          fontWeight: (value && value.length > 0) ? '600' : '400'\n        }}\n      >\n        <span>{getDisplayValue()}</span>\n        <svg\n          style={{\n            position: 'absolute',\n            right: '0.5rem',\n            width: '16px',\n            height: '16px',\n            transform: isOpen ? 'rotate(180deg)' : 'rotate(0deg)',\n            transition: 'transform 0.2s ease',\n            pointerEvents: 'none'\n          }}\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"#374151\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <polyline points=\"6 9 12 15 18 9\"></polyline>\n        </svg>\n      </div>\n\n      {isOpen && (\n        <div style={{\n          position: 'absolute',\n          top: '100%',\n          left: 0,\n          right: 0,\n          marginTop: '4px',\n          background: '#ffffff',\n          border: '2px solid #3b82f6',\n          borderRadius: '8px',\n          zIndex: 9999,\n          boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n          display: 'flex',\n          flexDirection: 'column',\n          maxHeight: '400px'\n        }}>\n          {/*  Vyhledvac pole */}\n          <div style={{\n            padding: '0.75rem',\n            borderBottom: '2px solid #e5e7eb',\n            position: 'sticky',\n            top: 0,\n            background: '#ffffff',\n            zIndex: 1\n          }}>\n            <div style={{ position: 'relative', width: '100%' }}>\n              <FontAwesomeIcon\n                icon={faSearch}\n                style={{\n                  position: 'absolute',\n                  left: '0.75rem',\n                  top: '50%',\n                  transform: 'translateY(-50%)',\n                  color: '#9ca3af',\n                  width: '12px',\n                  height: '12px',\n                  pointerEvents: 'none',\n                  zIndex: 1\n                }}\n              />\n              <input\n                ref={searchInputRef}\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                placeholder=\"Hledat...\"\n                style={{\n                  width: '100%',\n                  padding: '0.5rem 0.75rem 0.5rem 2rem',\n                  border: '1px solid #d1d5db',\n                  borderRadius: '6px',\n                  fontSize: '0.875rem',\n                  outline: 'none',\n                  transition: 'border-color 0.2s'\n                }}\n                onFocus={(e) => e.target.style.borderColor = '#3b82f6'}\n                onBlur={(e) => e.target.style.borderColor = '#d1d5db'}\n                onClick={(e) => e.stopPropagation()}\n              />\n            </div>\n          </div>\n\n          {/* Seznam options */}\n          <div style={{\n            overflowY: 'auto',\n            maxHeight: '300px'\n          }}>\n            {filteredOptions.length === 0 ? (\n              <div style={{\n                padding: '1rem',\n                textAlign: 'center',\n                color: '#9ca3af',\n                fontSize: '0.875rem'\n              }}>\n                dn vsledky\n              </div>\n            ) : (\n              filteredOptions.map((opt, idx) => {\n                const optValue = String(opt.id || '');\n                const optLabel = opt.displayName || opt.nazev_stavu || opt.nazev || 'Bez nzvu';\n                const isSelected = valueSet.has(optValue);\n\n                if (!optValue) {\n                  return null; // Pesko poloky bez ID\n                }\n\n                return (\n                  <div\n                    key={optValue}\n                    onClick={(e) => handleItemClick(e, optValue)}\n                    style={{\n                      padding: '0.75rem 1rem',\n                      cursor: 'pointer',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '0.5rem',\n                      background: isSelected ? '#eff6ff' : '#ffffff',\n                      borderBottom: '1px solid #f3f4f6',\n                      fontSize: '0.875rem',\n                      transition: 'background 0.15s'\n                    }}\n                    onMouseEnter={(e) => {\n                      if (!isSelected) e.currentTarget.style.background = '#f9fafb';\n                    }}\n                    onMouseLeave={(e) => {\n                      if (!isSelected) e.currentTarget.style.background = '#ffffff';\n                    }}\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={isSelected}\n                      readOnly\n                      style={{\n                        cursor: 'pointer',\n                        width: '16px',\n                        height: '16px',\n                        accentColor: '#3b82f6',\n                        pointerEvents: 'none'\n                      }}\n                    />\n                    <span style={{\n                      fontWeight: isSelected ? '600' : '400',\n                      color: isSelected ? '#1f2937' : '#4b5563'\n                    }}>\n                      {optLabel}\n                    </span>\n                  </div>\n                );\n              })\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Ikona vlevo dole */}\n      {icon && (\n        <div style={{\n          position: 'absolute',\n          left: '0.75rem',\n          bottom: '0.75rem',\n          color: '#9ca3af',\n          pointerEvents: 'none',\n          fontSize: '14px'\n        }}>\n          {icon}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// =============================================================================\n// DATEPICKER KOMPONENTA\n// =============================================================================\n\nconst DatePicker = ({ value, onChange, placeholder = 'Vyberte datum' }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n  const [openUpwards, setOpenUpwards] = useState(false);\n  const wrapperRef = useRef(null);\n\n  const selectedDate = value ? new Date(value) : null;\n\n  useEffect(() => {\n    if (value) {\n      const date = new Date(value);\n      if (!isNaN(date.getTime())) {\n        setCurrentMonth(date);\n      }\n    }\n  }, [value]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (wrapperRef.current && !wrapperRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (isOpen && wrapperRef.current) {\n      const checkPosition = () => {\n        if (!wrapperRef.current) return;\n        const buttonRect = wrapperRef.current.getBoundingClientRect();\n        const calendarHeight = 380;\n        const footerHeight = 54;\n        const buffer = 20;\n        const spaceBelow = window.innerHeight - buttonRect.bottom - footerHeight - buffer;\n        const spaceAbove = buttonRect.top - buffer;\n        const shouldOpenUpward = spaceBelow < 300 || (spaceBelow < calendarHeight && spaceAbove > spaceBelow + 50);\n        setOpenUpwards(shouldOpenUpward);\n      };\n      checkPosition();\n    }\n  }, [isOpen]);\n\n  const formatDisplayDate = (date) => {\n    if (!date) return '';\n    try {\n      const d = new Date(date);\n      if (isNaN(d.getTime())) return '';\n      return d.toLocaleDateString('cs-CZ', { day: '2-digit', month: '2-digit', year: 'numeric' });\n    } catch {\n      return '';\n    }\n  };\n\n  const formatInputDate = (date) => {\n    const d = new Date(date);\n    const year = d.getFullYear();\n    const month = String(d.getMonth() + 1).padStart(2, '0');\n    const day = String(d.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  };\n\n  const getCalendarDays = () => {\n    const year = currentMonth.getFullYear();\n    const month = currentMonth.getMonth();\n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    const startDay = firstDay.getDay() === 0 ? 6 : firstDay.getDay() - 1;\n    const days = [];\n    for (let i = startDay - 1; i >= 0; i--) {\n      const date = new Date(year, month, -i);\n      days.push({ date, isOtherMonth: true });\n    }\n    for (let i = 1; i <= lastDay.getDate(); i++) {\n      const date = new Date(year, month, i);\n      days.push({ date, isOtherMonth: false });\n    }\n    const remainingDays = 42 - days.length;\n    for (let i = 1; i <= remainingDays; i++) {\n      const date = new Date(year, month + 1, i);\n      days.push({ date, isOtherMonth: true });\n    }\n    return days;\n  };\n\n  const handleDateSelect = (date) => {\n    onChange(formatInputDate(date));\n    setIsOpen(false);\n  };\n\n  const handleToday = (e) => {\n    e?.preventDefault();\n    e?.stopPropagation();\n    handleDateSelect(new Date());\n  };\n\n  const handleClear = (e) => {\n    e?.preventDefault();\n    e?.stopPropagation();\n    onChange('');\n    setIsOpen(false);\n  };\n\n  const prevMonth = (e) => {\n    e?.preventDefault();\n    e?.stopPropagation();\n    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1));\n  };\n\n  const nextMonth = (e) => {\n    e?.preventDefault();\n    e?.stopPropagation();\n    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1));\n  };\n\n  const today = new Date();\n  const calendarDays = getCalendarDays();\n  const displayText = value ? formatDisplayDate(value) : placeholder;\n\n  return (\n    <DatePickerWrapper ref={wrapperRef}>\n      <InputWithIcon hasIcon>\n        <Calendar size={18} style={{ position: 'absolute', left: '0.75rem', top: '50%', transform: 'translateY(-50%)', color: '#9ca3af', pointerEvents: 'none' }} />\n        <DateInputButton\n          type=\"button\"\n          onClick={() => setIsOpen(!isOpen)}\n          hasValue={!!value}\n        >\n          {displayText}\n        </DateInputButton>\n        {value && (\n          <DateClearButton type=\"button\" onClick={handleClear} title=\"Smazat datum\"></DateClearButton>\n        )}\n        <DateTodayButton type=\"button\" onClick={handleToday} title=\"Nastavit dnen datum\"></DateTodayButton>\n      </InputWithIcon>\n      {isOpen && (\n        <DateCalendarPopup openUpwards={openUpwards}>\n          <CalendarHeader>\n            <CalendarNav onClick={prevMonth}></CalendarNav>\n            <CalendarTitle>\n              <span>{currentMonth.toLocaleDateString('cs-CZ', { month: 'long' })}</span>\n              <span>{currentMonth.getFullYear()}</span>\n            </CalendarTitle>\n            <CalendarNav onClick={nextMonth}></CalendarNav>\n          </CalendarHeader>\n          <CalendarGrid>\n            {['Po', 't', 'St', 't', 'P', 'So', 'Ne'].map((day) => (\n              <CalendarDay key={day}>{day}</CalendarDay>\n            ))}\n            {calendarDays.map((day, index) => {\n              const isToday = day.date.toDateString() === today.toDateString();\n              const isSelected = selectedDate && day.date.toDateString() === selectedDate.toDateString();\n              return (\n                <CalendarDate\n                  key={index}\n                  onClick={() => handleDateSelect(day.date)}\n                  isToday={isToday}\n                  isSelected={isSelected}\n                  isOtherMonth={day.isOtherMonth}\n                >\n                  {day.date.getDate()}\n                </CalendarDate>\n              );\n            })}\n          </CalendarGrid>\n          <CalendarFooter>\n            <CalendarButton className=\"today\" onClick={handleToday}>Dnes</CalendarButton>\n            <CalendarButton className=\"clear\" onClick={handleClear}>Smazat</CalendarButton>\n          </CalendarFooter>\n        </DateCalendarPopup>\n      )}\n    </DatePickerWrapper>\n  );\n};\n\nconst DatePickerWrapper = styled.div`\n  position: relative;\n  width: 100%;\n`;\n\nconst InputWithIcon = styled.div`\n  position: relative;\n  width: 100%;\n`;\n\nconst DateInputButton = styled.button`\n  width: 100%;\n  display: block;\n  padding: 0.75rem;\n  padding-left: 2.75rem;\n  padding-right: ${props => props.hasValue ? '4.5rem' : '3rem'};\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  background: white;\n  color: ${props => props.hasValue ? '#1f2937' : '#9ca3af'};\n  font-size: 0.875rem;\n  font-weight: ${props => props.hasValue ? '600' : '400'};\n  cursor: pointer;\n  transition: all 0.2s ease;\n  text-align: left;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  min-height: 42px;\n  &:hover {\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n`;\n\nconst DateClearButton = styled.button`\n  position: absolute;\n  right: 36px;\n  top: 50%;\n  transform: translateY(-50%);\n  background: #ef4444;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: bold;\n  transition: all 0.2s ease;\n  z-index: 1;\n  &:hover {\n    background: #dc2626;\n    transform: translateY(-50%) scale(1.1);\n  }\n`;\n\nconst DateTodayButton = styled.button`\n  position: absolute;\n  right: 8px;\n  top: 50%;\n  transform: translateY(-50%);\n  background: white;\n  color: #374151;\n  border: 1px solid #e5e7eb;\n  border-radius: 4px;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 11px;\n  font-weight: bold;\n  transition: all 0.2s ease;\n  z-index: 1;\n  &:hover {\n    background: #f3f4f6;\n    transform: translateY(-50%) scale(1.1);\n  }\n`;\n\nconst DateCalendarPopup = styled.div`\n  position: absolute;\n  ${props => props.openUpwards ? `bottom: calc(100% + 4px); top: auto;` : `top: calc(100% + 4px); bottom: auto;`}\n  left: 0;\n  right: 0;\n  z-index: 10001;\n  background: white;\n  border: 2px solid #3b82f6;\n  border-radius: 8px;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  padding: 0.5rem;\n`;\n\nconst CalendarHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n  padding-bottom: 0.35rem;\n  border-bottom: 1px solid #e5e7eb;\n`;\n\nconst CalendarNav = styled.button`\n  background: #f3f4f6;\n  border: none;\n  border-radius: 4px;\n  width: 28px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: #374151;\n  font-weight: 600;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  &:hover {\n    background: #3b82f6;\n    color: white;\n    transform: scale(1.1);\n  }\n`;\n\nconst CalendarTitle = styled.div`\n  font-weight: 600;\n  font-size: 0.85rem;\n  color: #111827;\n  display: flex;\n  gap: 0.35rem;\n`;\n\nconst CalendarGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 1px;\n`;\n\nconst CalendarDay = styled.div`\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.65rem;\n  font-weight: 600;\n  color: #6b7280;\n  padding: 0.15rem;\n`;\n\nconst CalendarDate = styled.button`\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75rem;\n  border: none;\n  border-radius: 4px;\n  background: ${props => props.isSelected ? '#3b82f6' : 'transparent'};\n  color: ${props => props.isSelected ? 'white' : props.isOtherMonth ? '#9ca3af' : '#374151'};\n  font-weight: ${props => props.isSelected ? '600' : '400'};\n  cursor: pointer;\n  transition: all 0.2s ease;\n  &:hover {\n    background: ${props => props.isSelected ? '#2563eb' : '#f3f4f6'};\n    transform: scale(1.1);\n    color: ${props => props.isSelected ? 'white' : '#111827'};\n  }\n`;\n\nconst CalendarFooter = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 0.5rem;\n  padding-top: 0.5rem;\n  border-top: 2px solid #e5e7eb;\n`;\n\nconst CalendarButton = styled.button`\n  flex: 1;\n  padding: 0.5rem;\n  border: none;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  &.today {\n    background: #dbeafe;\n    color: #1e40af;\n    &:hover {\n      background: #bfdbfe;\n    }\n  }\n  &.clear {\n    background: #fee2e2;\n    color: #991b1b;\n    &:hover {\n      background: #fecaca;\n    }\n  }\n`;\n\n// =============================================================================\n// MAIN COMPONENT\n// =============================================================================\n\nconst Orders25List = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { user, token, username, hasPermission, hasAdminRole, user_id, userDetail, userPermissions, expandedPermissions } = useContext(AuthContext);\n  const { setProgress } = useContext(ProgressContext) || {};\n  const { setDebugInfo } = useContext(DebugContext) || {};\n  const { showToast } = useContext(ToastContext) || {};\n  \n  //  HIERARCHIE: Nast konfiguraci hierarchie\n  const [hierarchyConfig, setHierarchyConfig] = useState(null);\n\n  //  CRITICAL FIX: API V2 vrac ID jako NUMBER, AuthContext m user_id jako STRING\n  // Konverze na number pro vechna porovnn\n  const currentUserId = useMemo(() => parseInt(user_id, 10), [user_id]);\n\n  // Helper funkce pro user-specific localStorage kle\n  const getUserKey = (baseKey) => `${baseKey}_user_${currentUserId || 'anon'}`;\n\n  // Helper funkce pro ukldn/natn s user izolac\n  const getUserStorage = (baseKey, defaultValue = null) => {\n    try {\n      const saved = localStorage.getItem(getUserKey(baseKey));\n      return saved !== null ? JSON.parse(saved) : defaultValue;\n    } catch {\n      return defaultValue;\n    }\n  };\n\n  const setUserStorage = (baseKey, value) => {\n    try {\n      localStorage.setItem(getUserKey(baseKey), JSON.stringify(value));\n    } catch (e) {\n      // Failed to save to localStorage\n    }\n  };\n  const bgTasksContext = useBackgroundTasks();\n\n  //  CACHE FIX: Stabilizuj permissions pro dependencies (useMemo msto pmho voln hasPermission)\n  // Toto zabrn zbytenmu rerendering pi kadm F5\n  const permissions = useMemo(() => {\n    if (!hasPermission) return { canViewAll: false, hasOnlyOwn: false };\n\n    const canViewAll = hasPermission('ORDER_MANAGE') ||\n                       hasPermission('ORDER_READ_ALL') ||\n                       hasPermission('ORDER_VIEW_ALL') ||\n                       hasPermission('ORDER_EDIT_ALL') ||\n                       hasPermission('ORDER_DELETE_ALL');\n\n    const hasOnlyOwn = !canViewAll && (\n      hasPermission('ORDER_READ_OWN') ||\n      hasPermission('ORDER_VIEW_OWN') ||\n      hasPermission('ORDER_EDIT_OWN') ||\n      hasPermission('ORDER_DELETE_OWN')\n    );\n\n    return { canViewAll, hasOnlyOwn };\n  }, [hasPermission]);\n\n  //  OPTIMALIZACE: Ref pro aktuln hodnotu permissions\n  // Pouit v loadData useCallback pro odstrann circular dependency\n  const permissionsRef = useRef(permissions);\n\n  // Aktualizuj ref pi kad zmn permissions\n  useEffect(() => {\n    permissionsRef.current = permissions;\n  }, [permissions]);\n\n  //  HIERARCHIE: Nast konfiguraci pi mount a zmn tokenu/username\n  useEffect(() => {\n    const loadHierarchy = async () => {\n      if (!token || !username) {\n        setHierarchyConfig(null);\n        return;\n      }\n      \n      try {\n        const { getHierarchyConfig } = await import('../services/hierarchyService');\n        const config = await getHierarchyConfig(token, username);\n        setHierarchyConfig(config);\n        \n        console.log(' [Orders25List] Hierarchie natena:', {\n          status: config.status,\n          enabled: config.enabled,\n          profileId: config.profileId,\n          profileName: config.profileName\n        });\n      } catch (error) {\n        console.error(' [Orders25List] Chyba pi natn hierarchie:', error);\n        setHierarchyConfig({\n          status: 'error',\n          enabled: false,\n          profileId: null,\n          profileName: null,\n          error: error.message\n        });\n      }\n    };\n    \n    loadHierarchy();\n  }, [token, username]);\n\n  // State\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [users, setUsers] = useState({});\n\n  //  CRITICAL PERFORMANCE: Ref pro users - pedchz re-renderingu columns useMemo\n  // Kdy se users objekt zmn (loadData), columns by se pepotvaly  cel tabulka re-render!\n  const usersRef = useRef(users);\n\n  // Aktualizuj ref pi kad zmn users\n  useEffect(() => {\n    usersRef.current = users;\n  }, [users]);\n  const [apiMeta, setApiMeta] = useState(null); // Meta data z API response (admin_analysis, atd.)\n\n  //  State a ref pro scroll ipky a shadow efekty\n  const [showLeftArrow, setShowLeftArrow] = useState(false);\n  const [showRightArrow, setShowRightArrow] = useState(false);\n  const [showLeftShadow, setShowLeftShadow] = useState(false);\n  const [showRightShadow, setShowRightShadow] = useState(false);\n  const [isTableHovered, setIsTableHovered] = useState(false); // Hover nad CELOU tabulkou (wrapper)\n  const [isArrowHovered, setIsArrowHovered] = useState(false); // Hover nad ipkou (aby nezmizel kdy na ni najede)\n  const tableContainerRef = useRef(null);\n  const tableWrapperRef = useRef(null); // Pro wrapper s shadow efekty\n\n  // Callback ref pro TableScrollWrapper - detekuje hover nad CELOU tabulkou\n  const setTableWrapperRef = useCallback((node) => {\n    tableWrapperRef.current = node;\n\n    if (node) {\n      const handleMouseEnter = () => {\n        setIsTableHovered(true);\n      };\n\n      const handleMouseLeave = () => {\n        setIsTableHovered(false);\n        // NERESTUJI isArrowHovered - to a si d ipka sama!\n      };\n\n      node.addEventListener('mouseenter', handleMouseEnter);\n      node.addEventListener('mouseleave', handleMouseLeave);\n\n      return () => {\n        node.removeEventListener('mouseenter', handleMouseEnter);\n        node.removeEventListener('mouseleave', handleMouseLeave);\n      };\n    }\n  }, []);\n\n  // Callback ref pro TableContainer s automatickou detekc scrollovn\n  const setTableContainerRef = useCallback((node) => {\n    tableContainerRef.current = node;\n\n    if (node) {\n      // Funkce pro update ipek a shadow\n      //  PERFORMANCE: Reading layout properties causes forced reflow\n      const updateScrollIndicators = () => {\n        const scrollLeft = node.scrollLeft;\n        const maxScroll = node.scrollWidth - node.clientWidth;\n\n        // ipky - zobrazit kdy nen na kraji (tolerance 5px)\n        const leftVisible = scrollLeft > 5;\n        const rightVisible = scrollLeft < maxScroll - 5;\n\n        setShowLeftArrow(leftVisible);\n        setShowRightArrow(rightVisible);\n\n        // Shadow efekty - plynulej (tolerance 1px)\n        setShowLeftShadow(scrollLeft > 1);\n        setShowRightShadow(scrollLeft < maxScroll - 1);\n      };\n\n      // Iniciln update po krtkm timeoutu (aby se tabulka stihla vyrenderovat)\n      setTimeout(updateScrollIndicators, 100);\n\n      //  PERFORMANCE: Throttle scroll handler using requestAnimationFrame\n      // Prevents excessive reflow calculations (Chrome violation: Forced reflow 44-47ms)\n      let rafId = null;\n      const handleScroll = () => {\n        if (rafId) return; // Already scheduled\n        rafId = requestAnimationFrame(() => {\n          updateScrollIndicators();\n          rafId = null;\n        });\n      };\n\n      node.addEventListener('scroll', handleScroll, { passive: true });\n      window.addEventListener('resize', updateScrollIndicators);\n\n      // Cleanup\n      return () => {\n        if (rafId) cancelAnimationFrame(rafId); // Cancel pending animation frame\n        node.removeEventListener('scroll', handleScroll);\n        window.removeEventListener('resize', updateScrollIndicators);\n      };\n    }\n  }, []);\n\n  //  STATE pro inicializaci - splash screen zmiz a po dokonen VEHO\n  const [initializationComplete, setInitializationComplete] = useState(false);\n  const [splashVisible, setSplashVisible] = useState(true); // Pro fade efekt\n\n  //  CACHE: State pro tracking cache info\n  const [lastLoadSource, setLastLoadSource] = useState(null); // 'cache' | 'database' | null\n  const [lastLoadTime, setLastLoadTime] = useState(null);\n  const [lastLoadDuration, setLastLoadDuration] = useState(null); // Jak dlouho trvalo naten (ms)\n\n  //  STATE pro background refresh ikonu a as\n  const [isBackgroundRefreshActive, setIsBackgroundRefreshActive] = useState(false); // lut ikona po background reloadu\n  const [lastRefreshTime, setLastRefreshTime] = useState(null); // as poslednho refreshe pro zobrazen vedle ikony\n\n  // Dropdown lists - pipraven seznamy pro rychl zobrazen\n  const [objednatelList, setObjednatelList] = useState([]);\n  const [garantList, setGarantList] = useState([]);\n  const [schvalovatelList, setSchvalovatelList] = useState([]);\n\n  // Data z DB pro filtry\n  const [allUsers, setAllUsers] = useState([]); // vichni uivatel z DB pro filtry\n  const [approversList, setApproversList] = useState([]); // schvalovatel z DB\n  const [orderStatesList, setOrderStatesList] = useState([]); // stavy objednvek z selnku\n  const [lpKodyList, setLpKodyList] = useState([]); // LP kdy pro pevod ID na nzvy\n  const [druhyObjednavkyList, setDruhyObjednavkyList] = useState([]); // druhy objednvek z DB\n  const [strediskaList, setStrediskaList] = useState([]); // stediska z DB\n  \n  const [showEditConfirmModal, setShowEditConfirmModal] = useState(false);\n  const [orderToEdit, setOrderToEdit] = useState(null);\n  const [currentDraftData, setCurrentDraftData] = useState(null); // Data draftu pro zobrazen v modalu\n  const [showDeleteConfirmModal, setShowDeleteConfirmModal] = useState(false);\n  const [orderToDelete, setOrderToDelete] = useState(null);\n  const [showArchivedWarningModal, setShowArchivedWarningModal] = useState(false);\n  const [showArchivedWithDraftWarningModal, setShowArchivedWithDraftWarningModal] = useState(false); // Kombinovan modal\n\n  //  Nov state pro dialog zamen objednvky\n  const [showLockedOrderDialog, setShowLockedOrderDialog] = useState(false);\n  const [lockedOrderInfo, setLockedOrderInfo] = useState(null); // Info o zamen: { lockedByUserName, canForceUnlock, orderId }\n\n  //  State pro Force Unlock Warning Dialog\n  const [showForceUnlockWarning, setShowForceUnlockWarning] = useState(false);\n  const [forceUnlockWarningData, setForceUnlockWarningData] = useState(null); // { orderNumber, lockedBy, lockedByEmail, lockedByPhone, lockedAt }\n\n  //  State pro hromadn generovn DOCX\n  const [showBulkDocxDialog, setShowBulkDocxDialog] = useState(false);\n  const [bulkDocxOrders, setBulkDocxOrders] = useState([]); // Pole objednvek pro hromadn generovn\n  const [bulkDocxSigners, setBulkDocxSigners] = useState(() => {\n    // Nati z localStorage\n    return getUserStorage('bulkDocxSigners', {});\n  }); // {orderId: userId} - vbr podepisovatel\n  const [bulkDocxTemplates, setBulkDocxTemplates] = useState(() => {\n    // Nati z localStorage\n    return getUserStorage('bulkDocxTemplates', {});\n  }); // {orderId: templateName} - vbr ablon\n\n  //  State pro hromadn schvalovn\n  const [showBulkApprovalDialog, setShowBulkApprovalDialog] = useState(false);\n  const [bulkApprovalOrders, setBulkApprovalOrders] = useState([]);\n\n  //  State pro hromadn mazn\n  const [showBulkDeleteDialog, setShowBulkDeleteDialog] = useState(false);\n  const [bulkDeleteOrders, setBulkDeleteOrders] = useState([]);\n  const [bulkDeleteType, setBulkDeleteType] = useState('soft'); // 'soft' nebo 'hard'\n\n  //  State pro DOCX ablony z selnku\n  const [docxTemplates, setDocxTemplates] = useState([]);\n\n  const [showDashboard, setShowDashboard] = useState(() => {\n    // Nati stav z localStorage s user izolac, vchoz je true (zobrazeno)\n    return getUserStorage('orders25List_showDashboard', true);\n  });\n\n  //  DEBUG: State pro Order V2 API test panel\n  const [showApiTestPanel, setShowApiTestPanel] = useState(false);\n  const [apiTestData, setApiTestData] = useState(null);\n  const [showModalStylesPanel, setShowModalStylesPanel] = useState(false); //  Panel pro nvrhy styl modl\n  const [showFiltersPanel, setShowFiltersPanel] = useState(() => {\n    // Nati stav z localStorage pro zobrazen celho panelu filtr s user izolac, vchoz je true (zobrazeno)\n    return getUserStorage('orders25List_showFiltersPanel', true);\n  });\n  const [showFilters, setShowFilters] = useState(() => {\n    // Nati stav z localStorage s user izolac, vchoz je false (skryto)\n    return getUserStorage('orders25List_showFilters', false);\n  });\n  const [showDebug, setShowDebug] = useState(() => {\n    // Nati stav z localStorage s user izolac, vchoz je false (skryto)\n    return getUserStorage('orders25List_showDebug', false);\n  });\n  // User settings - nast z localStorage (bez transformace - pouvme esk kle pmo)\n  const userSettings = useMemo(() => {\n    if (!currentUserId) return null;\n    return loadSettingsFromLocalStorage(currentUserId);\n  }, [currentUserId]);\n\n  // Zkontrolovat zda m uivatel vlastn nastaven dladic\n  const hasCustomTileSettings = useMemo(() => {\n    return userSettings?.viditelne_dlazdice && Object.keys(userSettings.viditelne_dlazdice).length > 0;\n  }, [userSettings]);\n\n  const [dashboardCompact, setDashboardCompact] = useState(() => {\n    // Nati stav z localStorage s user izolac, vchoz je true (kompaktn)\n    return getUserStorage('orders25List_dashboardCompact', true);\n  });\n  \n  // Dashboard mode: 'standard' (compact/full toggle) nebo 'custom' (dle user settings)\n  const [dashboardMode, setDashboardMode] = useState(() => {\n    return getUserStorage('orders25List_dashboardMode', 'standard');\n  });\n  \n  const [activeStatusFilter, setActiveStatusFilter] = useState(() => {\n    return getUserStorage('orders25List_activeStatusFilter', null);\n  }); // Pro dashboard klikac filtry\n  const [rawData, setRawData] = useState(null);\n  const [initializing, setInitializing] = useState(true);\n\n  // Filters - load from localStorage s user izolac\n  const [globalFilter, setGlobalFilter] = useState(() => {\n    return getUserStorage('orders25List_globalFilter', '');\n  });\n  //  STATUS FILTER - PRIORITA: 1. LS (session zmny), 2. userSettings (DB), 3. przdn pole\n  // Po pihlen: nate z DB (userSettings.vychozi_filtry_stavu_objednavek)\n  // Bhem session: zmny se ukldaj do LS a maj prioritu\n  // Po kliknut \"Uloit a aplikovat\" v Profile: LS se vyist  nate nov DB hodnoty\n  const [statusFilter, setStatusFilter] = useState(() => {\n    const saved = getUserStorage('orders25List_statusFilter', null);\n    if (saved !== null) {\n      // Pokud je uloen jako string (backward compatibility), peve na pole\n      const result = Array.isArray(saved) ? saved : (saved ? [saved] : []);\n      return result;\n    }\n    \n    // Nast z uivatelskch nastaven (DB)\n    try {\n      const userSettings = loadSettingsFromLocalStorage(parseInt(user_id, 10));\n      if (userSettings?.vychozi_filtry_stavu_objednavek && Array.isArray(userSettings.vychozi_filtry_stavu_objednavek)) {\n        return userSettings.vychozi_filtry_stavu_objednavek;\n      }\n    } catch (e) {\n      console.warn('Nelze nast nastaven filtr stav:', e);\n    }\n    \n    // Fallback: przdn pole (dn pednastaven filtry)\n    return [];\n  });\n  const [userFilter, setUserFilter] = useState(() => {\n    return getUserStorage('orders25List_userFilter', '');\n  });\n\n  // Simple dropdown selections (just for showing selected values) - CHANGED TO ARRAYS for multiselect\n  const [selectedObjednatel, setSelectedObjednatel] = useState(() => {\n    const saved = getUserStorage('orders25List_selectedObjednatel', []);\n    // Backward compatibility: peve string na pole\n    return Array.isArray(saved) ? saved : (saved ? [saved] : []);\n  });\n  const [selectedGarant, setSelectedGarant] = useState(() => {\n    const saved = getUserStorage('orders25List_selectedGarant', []);\n    // Backward compatibility: peve string na pole\n    return Array.isArray(saved) ? saved : (saved ? [saved] : []);\n  });\n  const [selectedSchvalovatel, setSelectedSchvalovatel] = useState(() => {\n    const saved = getUserStorage('orders25List_selectedSchvalovatel', []);\n    // Backward compatibility: peve string na pole\n    return Array.isArray(saved) ? saved : (saved ? [saved] : []);\n  });\n  const [selectedPrikazce, setSelectedPrikazce] = useState(() => {\n    const saved = getUserStorage('orders25List_selectedPrikazce', []);\n    // Backward compatibility: peve string na pole\n    return Array.isArray(saved) ? saved : (saved ? [saved] : []);\n  });\n  const [dateFromFilter, setDateFromFilter] = useState('');\n  const [dateToFilter, setDateToFilter] = useState('');\n  const [amountFromFilter, setAmountFromFilter] = useState(() => {\n    return getUserStorage('orders25List_amountFrom', '');\n  });\n  const [amountToFilter, setAmountToFilter] = useState(() => {\n    return getUserStorage('orders25List_amountTo', '');\n  });\n\n  // Filtry pro zveejnn\n  const [filterMaBytZverejneno, setFilterMaBytZverejneno] = useState(() => {\n    return getUserStorage('orders25List_filterMaBytZverejneno', false);\n  });\n  const [filterByloZverejneno, setFilterByloZverejneno] = useState(() => {\n    return getUserStorage('orders25List_filterByloZverejneno', false);\n  });\n\n  // Filtr pro mimodn objednvky\n  const [filterMimoradneObjednavky, setFilterMimoradneObjednavky] = useState(() => {\n    return getUserStorage('orders25List_filterMimoradneObjednavky', false);\n  });\n\n  // Filtry pro faktury a plohy\n  const [filterWithInvoices, setFilterWithInvoices] = useState(false);\n  const [filterWithAttachments, setFilterWithAttachments] = useState(false);\n\n  // Vbr objednvek pro hromadn akce (React Table format: { '0': true, '2': true })\n  const [rowSelection, setRowSelection] = useState(() => {\n    // Nati z localStorage s user izolac\n    return getUserStorage('orders25List_rowSelection', {});\n  });\n\n  // Ukldej rowSelection do localStorage pi kad zmn\n  useEffect(() => {\n    setUserStorage('orders25List_rowSelection', rowSelection);\n  }, [rowSelection]);\n\n  // Highlight newly created order\n  const [highlightOrderId, setHighlightOrderId] = useState(null);\n\n  // Column-specific filters (textov filtry z hlaviky tabulky) - load from localStorage\n  const [columnFilters, setColumnFilters] = useState(() => {\n    return getUserStorage('orders25List_columnFilters', {\n      dt_objednavky: '',\n      cislo_objednavky: '',\n      predmet: '',\n      objednatel: '',\n      stav_objednavky: '',\n      max_cena_s_dph: '',\n      garant: '',\n      prikazce: '',\n      schvalovatel: ''\n    });\n  });\n\n  // Multiselect filters (ID filtry z rozenho filtrovacho panelu)\n  const [multiselectFilters, setMultiselectFilters] = useState({\n    objednatel: '',\n    garant: '',\n    prikazce: '',\n    schvalovatel: ''\n  });\n\n  // Row highlighting by status (zvrazovn podle stavu)\n  const [showRowHighlighting, setShowRowHighlighting] = useState(() => {\n    return getUserStorage('orders25List_showRowHighlighting', true);\n  });\n\n  // Year filter - load from localStorage s user izolac or use user settings or current year\n  //  YEAR FILTER - PRIORITA: 1. LS (session zmny), 2. userSettings (DB), 3. aktuln rok\n  // Po pihlen: nate z DB (userSettings)\n  // Bhem session: zmny se ukldaj do LS a maj prioritu\n  // Po kliknut \"Uloit a aplikovat\" v Profile: LS se vyist  nate nov DB hodnoty\n  const [selectedYear, setSelectedYear] = useState(() => {\n    const saved = getUserStorage('orders25List_selectedYear', null);\n    if (saved !== null) return saved;\n    \n    // Nast z uivatelskch nastaven (DB)\n    try {\n      const userSettings = loadSettingsFromLocalStorage(parseInt(user_id, 10));\n      if (userSettings?.vychozi_rok) {\n        // Pokud je 'current', pouij aktuln rok\n        if (userSettings.vychozi_rok === 'current') {\n          return new Date().getFullYear();\n        }\n        // Pokud je 'all', vra 'all'\n        if (userSettings.vychozi_rok === 'all') {\n          return 'all';\n        }\n        // Jinak vra konkrtn rok\n        return userSettings.vychozi_rok;\n      }\n    } catch (e) {\n      console.warn('Nelze nast nastaven roku:', e);\n    }\n    \n    // Fallback: aktuln rok\n    return new Date().getFullYear();\n  });\n\n  //  MONTH FILTER - PRIORITA: 1. LS (session zmny), 2. userSettings (DB), 3. 'all'\n  // Po pihlen: nate z DB (userSettings)\n  // Bhem session: zmny se ukldaj do LS a maj prioritu\n  // Po kliknut \"Uloit a aplikovat\" v Profile: LS se vyist  nate nov DB hodnoty\n  const [selectedMonth, setSelectedMonth] = useState(() => {\n    const saved = getUserStorage('orders25List_selectedMonth', null);\n    if (saved !== null) return saved;\n    \n    // Nast z uivatelskch nastaven (DB)\n    try {\n      const userSettings = loadSettingsFromLocalStorage(parseInt(user_id, 10));\n      if (userSettings?.vychozi_obdobi) {\n        return userSettings.vychozi_obdobi; // 'all' nebo '1'-'12' nebo 'last-month', 'Q1', etc.\n      }\n    } catch (e) {\n      console.warn('Nelze nast nastaven obdob:', e);\n    }\n    \n    // Fallback: vechny msce\n    return 'all';\n  });\n\n  // Show expanded month options\n  const [showExpandedMonths, setShowExpandedMonths] = useState(() => {\n    const saved = getUserStorage('orders25List_selectedMonth', 'all');\n    // Pokud je uloen hodnota mimo zkladn 4, zobraz rozen monosti\n    return saved && !['all', 'last-month', 'last-quarter', 'last-half'].includes(saved);\n  });\n\n  // Show archived orders checkbox - defaultn false (nezakrtnuto = nezobrazovat archivovan)\n  const [showArchived, setShowArchived] = useState(() => {\n    return getUserStorage('orders25List_showArchived', false);\n  });\n\n  // \"JEN MOJE\" filter - pouze pro SUPERADMIN a ADMINISTRATOR\n  const [showOnlyMyOrders, setShowOnlyMyOrders] = useState(() => {\n    return getUserStorage('orders25List_showOnlyMyOrders', false);\n  });\n\n  // Export preview modal\n  const [showExportPreview, setShowExportPreview] = useState(false);\n  const [exportPreviewData, setExportPreviewData] = useState(null);\n\n  // Ref pro msn select\n  const monthSelectRef = useRef(null);\n\n  // Ref pro ron select\n  const yearSelectRef = useRef(null);\n\n  // Stav pro oteven msnho dropdownu\n  const [isMonthDropdownOpen, setIsMonthDropdownOpen] = useState(false);\n\n  // Stav pro oteven ronho dropdownu\n  const [isYearDropdownOpen, setIsYearDropdownOpen] = useState(false);\n\n  // Custom Select states\n  const [selectStates, setSelectStates] = useState({});\n  const [searchStates, setSearchStates] = useState({});\n  const [touchedSelectFields, setTouchedSelectFields] = useState(new Set());\n  const [hasTriedToSubmit, setHasTriedToSubmit] = useState(false);\n\n  // Kontextov menu\n  const [contextMenu, setContextMenu] = useState(null); // { x, y, order }\n\n  // DOCX Generator Modal\n  const [docxModalOpen, setDocxModalOpen] = useState(false);\n  const [docxModalOrder, setDocxModalOrder] = useState(null);\n\n  // Financial Control Modal\n  const [financialControlModalOpen, setFinancialControlModalOpen] = useState(false);\n  const [financialControlOrder, setFinancialControlOrder] = useState(null);\n\n  // Memoizovan options pro MultiSelect - aby se nevytvely nov pole pi kadm renderu\n  const sortedAllUsers = useMemo(() => {\n    const processed = [...allUsers].map(user => {\n      // Najdi prvn dostupn ID\n      const userId = user.id || user.uzivatel_id || user.user_id;\n      if (!userId) {\n        // User without ID - data issue\n      }\n      return {\n        ...user,\n        id: userId // Vdy nastav id\n      };\n    }).sort((a, b) => {\n      const nameA = a.displayName || '';\n      const nameB = b.displayName || '';\n      return nameA.localeCompare(nameB);\n    });\n\n    return processed;\n  }, [allUsers]);\n\n  const sortedApprovers = useMemo(() => {\n    const processed = [...approversList].map(approver => {\n      // Najdi prvn dostupn ID\n      const approverId = approver.id || approver.user_id || approver.uzivatel_id;\n      if (!approverId) {\n        // Approver without ID - data issue\n      }\n      return {\n        ...approver,\n        id: approverId, // Vdy nastav id\n        // Normalizuj displayName\n        displayName: approver.displayName || approver.jmeno_prijmeni || `${approver.jmeno || ''} ${approver.prijmeni || ''}`.trim() || `User ${approverId}`\n      };\n    }).sort((a, b) => {\n      const nameA = a.displayName || '';\n      const nameB = b.displayName || '';\n      return nameA.localeCompare(nameB);\n    });\n\n    return processed;\n  }, [approversList]);\n\n  // Filtrovan approvers podle showArchived\n  const sortedActiveApprovers = useMemo(() => {\n    if (showArchived) {\n      return sortedApprovers; // Pokud je archiv zapnut, zobraz vechny schvalovatele\n    }\n\n    // Jinak pouze aktivn (aktivni = 1)\n    return sortedApprovers.filter(approver => {\n      // Primrn pouvme pole 'aktivni' (1 = aktivn, 0 = neaktivn)\n      if (approver.aktivni !== undefined && approver.aktivni !== null) {\n        return approver.aktivni === 1 || approver.aktivni === '1' || approver.aktivni === true;\n      }\n      // Fallback na deaktivovan (0 = aktivn, 1 = neaktivn)\n      if (approver.deaktivovan !== undefined && approver.deaktivovan !== null) {\n        return approver.deaktivovan === 0 || approver.deaktivovan === '0' || approver.deaktivovan === false;\n      }\n      // Fallback: pokud dn pole nen, povauj za aktivnho\n      return true;\n    });\n  }, [sortedApprovers, showArchived]);\n\n  // Filtrovan seznamy podle showArchived\n  const sortedActiveUsers = useMemo(() => {\n    if (showArchived) {\n      return sortedAllUsers; // Pokud je archiv zapnut, zobraz vechny uivatele\n    }\n\n    // Jinak pouze aktivn (aktivni = 1)\n    return sortedAllUsers.filter(user => {\n      // Primrn pouvme pole 'aktivni' (1 = aktivn, 0 = neaktivn)\n      if (user.aktivni !== undefined && user.aktivni !== null) {\n        return user.aktivni === 1 || user.aktivni === '1' || user.aktivni === true;\n      }\n      // Fallback na deaktivovan (0 = aktivn, 1 = neaktivn)\n      if (user.deaktivovan !== undefined && user.deaktivovan !== null) {\n        return user.deaktivovan === 0 || user.deaktivovan === '0' || user.deaktivovan === false;\n      }\n      // Fallback: pokud dn pole nen, povauj za aktivnho\n      return true;\n    });\n  }, [sortedAllUsers, showArchived]);\n\n  const statusOptions = useMemo(() => {\n    return [...orderStatesList].map(status => {\n      //  POUIJ ESK NZEV jako ID pro filtrovn (ne kod_stavu)\n      // Protoe order.stav_objednavky obsahuje esk nzvy\n      const statusName = status.nazev_stavu || status.nazev || status.kod_stavu || status.id;\n      return {\n        ...status,\n        id: statusName, // esk nzev pro porovnn\n        kod_stavu: status.kod_stavu || status.id // Zachovej originln kd\n      };\n    });\n  }, [orderStatesList]);\n\n  // Listen for calendar date filter changes from Layout.js\n  useEffect(() => {\n    const handleDateFilterChange = (event) => {\n      const { dateFrom, dateTo, userId } = event.detail || {};\n      const currentUserId = user_id || 'anon';\n\n      // Only react if the event is for current user\n      if (userId !== currentUserId) return;\n\n      if (dateFrom) {\n        setDateFromFilter(dateFrom || '');\n      }\n      if (dateTo !== undefined) { // Allow empty string to clear\n        setDateToFilter(dateTo || '');\n      }\n    };\n\n    window.addEventListener('orders25_date_filter_changed', handleDateFilterChange);\n\n    return () => {\n      window.removeEventListener('orders25_date_filter_changed', handleDateFilterChange);\n    };\n  }, [user_id]);\n\n  // Load date filters from localStorage when user_id becomes available\n  useEffect(() => {\n    if (!user_id) return;\n\n    const sid = user_id || 'anon';\n    const dateFromKey = `orders25_dateFrom_${sid}`;\n    const dateToKey = `orders25_dateTo_${sid}`;\n\n    try {\n      const savedFrom = localStorage.getItem(dateFromKey);\n      const savedTo = localStorage.getItem(dateToKey);\n      if (savedFrom && !dateFromFilter) setDateFromFilter(savedFrom || '');\n      if (savedTo && !dateToFilter) setDateToFilter(savedTo || '');\n    } catch (_) {}\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user_id]); // Nati jen jednou kdy se user_id zmn\n\n  // Table pagination - load from localStorage\n  const [pageSize, setPageSize] = useState(() => {\n    const saved = localStorage.getItem('orders25List_pageSize');\n    return saved ? parseInt(saved, 10) : 25;\n  });\n\n  const [currentPageIndex, setCurrentPageIndex] = useState(() => {\n    const saved = localStorage.getItem('orders25List_pageIndex');\n    return saved ? parseInt(saved, 10) : 0;\n  });\n\n  // Table sorting - load from user-specific localStorage\n  const [sorting, setSorting] = useState(() => {\n    return getUserStorage('orders25List_sorting', []);\n  });\n\n  //  EXPANDED ROWS: State pro rozbalen dky (ukldme row index, ne ID)\n  const [expanded, setExpanded] = useState({});\n\n  //  DEBOUNCE: Ref pro timeout column filtr (3 sekundy delay)\n  const columnFiltersTimeoutRef = useRef(null);\n\n  //  DEBOUNCED: Funkce pro uloen column filtr s 3s debounce\n  const saveColumnFiltersDebounced = useCallback((filters) => {\n    if (!user_id) return;\n\n    // Zru pedchoz timeout\n    if (columnFiltersTimeoutRef.current) {\n      clearTimeout(columnFiltersTimeoutRef.current);\n    }\n\n    // Nastav nov timeout na 3 sekundy\n    columnFiltersTimeoutRef.current = setTimeout(() => {\n      setUserStorage('orders25List_columnFilters', filters);\n    }, 3000); // 3 sekundy debounce\n  }, [user_id, setUserStorage]);\n\n  //  OPTIMALIZACE: Batch update vech filtr do localStorage najednou\n  // Nahrazuje 14 samostatnch useEffects  1 useEffect\n  // Vhody: rychlej pi zmn user_id, mn re-render, lep itelnost\n  useEffect(() => {\n    if (!user_id) return; // ekej na user_id\n\n    // Jednoduch filtry - pm uloen\n    const simpleFilters = {\n      'orders25List_globalFilter': globalFilter,\n      'orders25List_statusFilter': statusFilter,\n      'orders25List_userFilter': userFilter,\n      'orders25List_selectedObjednatel': selectedObjednatel,\n      'orders25List_selectedGarant': selectedGarant,\n      'orders25List_selectedSchvalovatel': selectedSchvalovatel,\n      'orders25List_selectedPrikazce': selectedPrikazce,\n      'orders25List_amountFrom': amountFromFilter,\n      'orders25List_amountTo': amountToFilter,\n      'orders25List_filterMaBytZverejneno': filterMaBytZverejneno,\n      'orders25List_filterByloZverejneno': filterByloZverejneno,\n      'orders25List_activeStatusFilter': activeStatusFilter,\n      'orders25List_sorting': sorting //  Pidno sorting\n      // POZNMKA: columnFilters se ukldaj separtn s debounce\n    };\n\n    // Batch save vech jednoduchch filtr\n    Object.entries(simpleFilters).forEach(([key, value]) => {\n      setUserStorage(key, value);\n    });\n\n    // Speciln handling pro datum filtry (odstrann pokud przdn)\n    if (dateFromFilter) {\n      setUserStorage('orders25_dateFrom', dateFromFilter);\n    } else {\n      const key = getUserKey('orders25_dateFrom');\n      localStorage.removeItem(key);\n    }\n\n    if (dateToFilter) {\n      setUserStorage('orders25_dateTo', dateToFilter);\n    } else {\n      const key = getUserKey('orders25_dateTo');\n      localStorage.removeItem(key);\n    }\n  }, [\n    globalFilter,\n    statusFilter,\n    userFilter,\n    selectedObjednatel,\n    selectedGarant,\n    selectedSchvalovatel,\n    selectedPrikazce,\n    dateFromFilter,\n    dateToFilter,\n    amountFromFilter,\n    amountToFilter,\n    filterMaBytZverejneno,\n    filterByloZverejneno,\n    activeStatusFilter,\n    sorting, //  Pidno sorting do dependencies\n    user_id\n    // POZNMKA: columnFilters se zpracovvaj separtn s debounce\n  ]);\n\n  //  DEBOUNCED useEffect: Column filters s 3s debounce - brn zahlcovn localStorage pi rychlm psan\n  useEffect(() => {\n    saveColumnFiltersDebounced(columnFilters);\n  }, [columnFilters, saveColumnFiltersDebounced]);\n\n  //  CLEANUP: Vyisti timeout pi unmount\n  useEffect(() => {\n    return () => {\n      if (columnFiltersTimeoutRef.current) {\n        clearTimeout(columnFiltersTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  //  SCROLL STATE: Ref pro tracking zda u byla pozice obnovena\n  const scrollStateRestored = React.useRef(false);\n  const isFirstRender = React.useRef(true); //  Track first render\n\n  //  SCROLL STATE: Pamatuj si pedchoz filtry pro detekci RELN zmny\n  const prevFiltersRef = React.useRef(null);\n\n  //  SCROLL STATE: Ref pro uloen ID rozbalench objednvek (obnov pozdji kdy je filteredData ready)\n  const pendingExpandedOrderIds = React.useRef(null);\n\n  //  SCROLL STATE: Ref na filteredData (pro pouit v save useEffect)\n  const filteredDataRef = React.useRef([]);\n\n  //  SCROLL STATE: Refs pro aktuln hodnoty (pro scroll listener)\n  const currentPageIndexRef = React.useRef(currentPageIndex);\n  const pageSizeRef = React.useRef(pageSize);\n  const expandedRef = React.useRef(expanded);\n\n  // Aktualizuj refs pi kad zmn\n  React.useEffect(() => {\n    currentPageIndexRef.current = currentPageIndex;\n    pageSizeRef.current = pageSize;\n    expandedRef.current = expanded;\n  }, [currentPageIndex, pageSize, expanded]);\n\n  //  INITIALIZATION: Ref pro sledovn krok inicializace\n  const initStepsCompleted = React.useRef({\n    dataLoaded: false,\n    paginationRestored: false,\n    expandedRestored: false,\n    scrollRestored: false\n  });\n\n  //  SCROLL STATE: Obnovit pozici pi prvnm naten dat\n  useEffect(() => {\n    // Pokud u byla pozice obnovena, skip\n    if (scrollStateRestored.current) {\n      return;\n    }\n\n    // Pokud nejsou potebn data, skip\n    if (!user_id) {\n      return;\n    }\n\n    // Pokud jet nejsou naten data (loading), pokej\n    if (loading) {\n      return;\n    }\n\n    // Pokud jsou data przdn, ozna vechny kroky jako hotov\n    if (orders.length === 0) {\n      initStepsCompleted.current.dataLoaded = true; //  FIX: Mus bt nastaven i dataLoaded!\n      initStepsCompleted.current.paginationRestored = true;\n      initStepsCompleted.current.expandedRestored = true;\n      initStepsCompleted.current.scrollRestored = true;\n      scrollStateRestored.current = true;\n      return;\n    }\n\n    const savedState = ordersCacheService.getScrollState(user_id, {\n      ...(selectedYear !== 'all' && { rok: selectedYear }),\n      mesic: selectedMonth\n    }, orders.length);\n\n    if (savedState && savedState.page && savedState.rowsPerPage) {\n      // Obnov strnku (convert from 1-based to 0-based)\n      const targetPage = savedState.page - 1;\n      const maxPage = Math.ceil(orders.length / savedState.rowsPerPage) - 1;\n\n      if (targetPage >= 0 && targetPage <= maxPage) {\n        setCurrentPageIndex(targetPage);\n      }\n\n      // Obnov page size pokud se zmnil\n      if (savedState.rowsPerPage !== pageSize) {\n        setPageSize(savedState.rowsPerPage);\n        localStorage.setItem('orders25List_pageSize', savedState.rowsPerPage);\n      }\n\n      initStepsCompleted.current.paginationRestored = true;\n\n      //  OBNOV ROZBALEN OBJEDNVKY - ulo ID do ref (obnov pozdji)\n      if (savedState.expandedOrderIds && savedState.expandedOrderIds.length > 0) {\n        pendingExpandedOrderIds.current = savedState.expandedOrderIds;\n      } else {\n        // dn rozbalen objednvky\n        initStepsCompleted.current.expandedRestored = true;\n      }\n\n      // Scroll restoration disabled\n      initStepsCompleted.current.scrollRestored = true;\n    } else {\n      // dn uloen stav\n      initStepsCompleted.current.paginationRestored = true;\n      initStepsCompleted.current.expandedRestored = true;\n      initStepsCompleted.current.scrollRestored = true;\n    }\n\n    scrollStateRestored.current = true;\n  }, [orders.length, loading, user_id, selectedYear, selectedMonth, pageSize]);\n\n  //  SCROLL STATE: Helper funkce pro manuln uloen pozice\n  const saveCurrentScrollState = useCallback(() => {\n    if (!user_id || !scrollStateRestored.current || orders.length === 0) {\n      return;\n    }\n\n    // Scroll saving disabled - keeping only expanded rows memory\n    const currentPage = currentPageIndexRef.current;\n    const currentPageSize = pageSizeRef.current;\n    const currentExpanded = expandedRef.current;\n\n    const expandedOrderIds = Object.keys(currentExpanded)\n      .filter(index => currentExpanded[index])\n      .map(index => {\n        const order = filteredDataRef.current[parseInt(index)];\n        return order?.id;\n      })\n      .filter(Boolean);\n\n    ordersCacheService.saveScrollState(user_id, {\n      ...(selectedYear !== 'all' && { rok: selectedYear }),\n      mesic: selectedMonth\n    }, {\n      page: currentPage + 1,\n      rowsPerPage: currentPageSize,\n      scrollY: 0, // Scroll disabled\n      totalRows: orders.length,\n      expandedOrderIds\n    });\n  }, [user_id, selectedYear, selectedMonth, orders.length]);\n\n  //  AUTO-SAVE: Automaticky ukldej pi zmn strnky, pageSize nebo expanded rows\n  useEffect(() => {\n    // Skip pokud jet nebyla obnovena pozice (neukldej pi prvnm naten)\n    if (!scrollStateRestored.current) {\n      return;\n    }\n\n    // Ulo aktuln stav\n    saveCurrentScrollState();\n  }, [currentPageIndex, pageSize, expanded, saveCurrentScrollState]);\n\n  //  SCROLL STATE: Invaliduj POUZE pi SKUTEN zmn filtr\n  useEffect(() => {\n    // Skip prvn render (pi mount se filtry inicializuj)\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n\n      // Ulo aktuln hodnoty filtr jako baseline\n      prevFiltersRef.current = {\n        year: selectedYear,\n        month: selectedMonth,\n        status: statusFilter,\n        user: userFilter,\n        global: globalFilter,\n        objednatel: selectedObjednatel,\n        garant: selectedGarant,\n        schvalovatel: selectedSchvalovatel,\n        dateFrom: dateFromFilter,\n        dateTo: dateToFilter,\n        amountFrom: amountFromFilter,\n        amountTo: amountToFilter,\n        activeStatus: activeStatusFilter\n      };\n\n      return;\n    }\n\n    if (!user_id || !prevFiltersRef.current) return;\n\n    // Porovnej PEDCHOZ hodnoty s aktulnmi\n    const currentFilters = {\n      year: selectedYear,\n      month: selectedMonth,\n      status: statusFilter,\n      user: userFilter,\n      global: globalFilter,\n      objednatel: selectedObjednatel,\n      garant: selectedGarant,\n      schvalovatel: selectedSchvalovatel,\n      dateFrom: dateFromFilter,\n      dateTo: dateToFilter,\n      amountFrom: amountFromFilter,\n      amountTo: amountToFilter,\n      activeStatus: activeStatusFilter\n    };\n\n    // Detekuj skutenou zmnu\n    const hasChanged = JSON.stringify(prevFiltersRef.current) !== JSON.stringify(currentFilters);\n\n    if (!hasChanged) {\n      return; // Filtry se nezmnily = jen remount komponenty\n    }\n\n    // Ulo nov hodnoty\n    prevFiltersRef.current = currentFilters;\n\n    // Pi SKUTEN zmn filtru resetuj scroll state\n    ordersCacheService.clearScrollState(user_id, {\n      ...(selectedYear !== 'all' && { rok: selectedYear }),\n      mesic: selectedMonth\n    });\n\n    // Reset tracking\n    scrollStateRestored.current = false;\n\n    // Reset rozbalench objednvek\n    setExpanded({});\n\n    // Reset na prvn strnku\n    setCurrentPageIndex(0);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, [selectedYear, selectedMonth, statusFilter, userFilter, globalFilter,\n      selectedObjednatel, selectedGarant, selectedSchvalovatel,\n      dateFromFilter, dateToFilter, amountFromFilter, amountToFilter, activeStatusFilter]);\n\n  //  AUTO-REFRESH: Poslouchat Custom Event \"orderStatusChanged\" z notifikac\n  // Kdy pijde notifikace o zmn stavu objednvky, auto-reload t konkrtn objednvky z DB\n  useEffect(() => {\n    const handleOrderStatusChanged = async (event) => {\n      const { orderId, orderNumber, notificationType } = event.detail;\n      \n      if (!orderId || !token || !username) return;\n\n      try {\n        //  V2 API: Nati aktualizovanou objednvku z DB\n        const response = await getOrderV2(orderId, token, username, true);\n        \n        if (response && response.data) {\n          const updatedOrder = response.data;\n          \n          // Aktualizuj konkrtn objednvku v seznamu\n          setOrders(prevOrders => {\n            const orderExists = prevOrders.some(o => String(o.id) === String(orderId));\n            \n            if (orderExists) {\n              // UPDATE: Nahra existujc objednvku\n              return prevOrders.map(order => \n                String(order.id) === String(orderId) ? updatedOrder : order\n              );\n            } else {\n              // INSERT: Pidej novou objednvku na zatek (me bt nov objednvka jinho uivatele)\n              return [updatedOrder, ...prevOrders].sort((a, b) => b.id - a.id);\n            }\n          });\n          \n        }\n      } catch (error) {\n        // Tich selhn - nezpsob problm v UI\n        console.warn('Auto-refresh objednvky selhal:', error);\n      }\n    };\n\n    window.addEventListener('orderStatusChanged', handleOrderStatusChanged);\n    \n    return () => {\n      window.removeEventListener('orderStatusChanged', handleOrderStatusChanged);\n    };\n  }, [token, username]);\n\n  // Debug vpis pro testovn highlighting\n  React.useEffect(() => {\n    if (orders.length > 0) {\n\n      // Success log odstrann\n\n      // Debug vpis odstrann pro produkci\n\n    }\n  }, [showRowHighlighting, orders]);\n\n  // Custom Select helper functions\n  const toggleSelect = useCallback((field) => {\n    setSelectStates(prev => {\n      // Zavi vechny ostatn selecty\n      const newState = Object.keys(prev).reduce((acc, key) => {\n        acc[key] = false;\n        return acc;\n      }, {});\n      // Toggleni jen poadovan select\n      newState[field] = !prev[field];\n      return newState;\n    });\n  }, []);\n\n  const filterOptions = useCallback((options, searchTerm, field) => {\n    if (!searchTerm) return options;\n\n    const lowerSearchTerm = searchTerm.toLowerCase();\n    return options.filter(option => {\n      const label = getOptionLabel(option, field);\n      return label.toLowerCase().includes(lowerSearchTerm);\n    });\n  }, []);\n\n  const getOptionLabel = useCallback((option, field) => {\n    if (!option) return '';\n\n    switch (field) {\n      case 'statusFilter':\n        return option.nazev_stavu || option.nazev || option.popis || option.kod_stavu || option.kod || String(option);\n      case 'selectedObjednatel':\n      case 'selectedGarant':\n        return option.displayName || `${option.jmeno || ''} ${option.prijmeni || ''}`.trim() || 'Bez jmna';\n      case 'selectedSchvalovatel':\n        return option.displayName || option.jmeno_prijmeni || `${option.jmeno || ''} ${option.prijmeni || ''}`.trim() || 'Bez jmna';\n      case 'pageSize':\n        return option.label || String(option.value || option);\n      // OrderForm25 field typy\n      case 'zpusob_financovani':\n        return option.nazev || option.label || (typeof option === 'string' ? option : 'Neznm');\n      case 'lp_kod':\n        return `${option.kod || option.id || option} - ${option.nazev || option.label || 'Bez nzvu'}`;\n      case 'druh_objednavky_kod':\n        return option.nazev || option.label || (typeof option === 'string' ? option : 'Neznm');\n      default:\n        return String(option);\n    }\n  }, []);\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (!event.target.closest('[data-custom-select]')) {\n        setSelectStates({});\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  // Piprav dropdown seznamy pro filtry\n  const prepareDropdownLists = useCallback((ordersData) => {\n    // Preparing dropdown lists\n\n    // Objednatel\n    const uniqueObjednatele = new Set();\n    const uniqueGaranti = new Set();\n    const uniqueSchvalovatel = new Set();\n\n    ordersData.forEach(order => {\n      // Objednatel: objednatel_id -> uzivatel_id\n      const objednatelId = order.objednatel_id || order.uzivatel_id;\n      if (objednatelId && users[objednatelId]) {\n        uniqueObjednatele.add(objednatelId);\n      }\n\n      // Garant\n      if (order.garant_uzivatel_id && users[order.garant_uzivatel_id]) {\n        uniqueGaranti.add(order.garant_uzivatel_id);\n      }\n\n      // Schvalovatel\n      if (order.schvalovatel_id && users[order.schvalovatel_id]) {\n        uniqueSchvalovatel.add(order.schvalovatel_id);\n      }\n    });\n\n    // Peve na seazen seznamy\n    const sortByName = (a, b) => {\n      const nameA = (typeof users[a] === 'object' ? users[a].displayName : users[a]) || '';\n      const nameB = (typeof users[b] === 'object' ? users[b].displayName : users[b]) || '';\n      return nameA.localeCompare(nameB);\n    };\n\n    //  POZNMKA: objednatelList a garantList se ji nepouvaj\n    // Filtry GARANT a OBJEDNATEL pouvaj pmo sortedActiveUsers (reaguje na showArchived)\n    const objednatelArray = Array.from(uniqueObjednatele).sort(sortByName);\n    const garantArray = Array.from(uniqueGaranti).sort(sortByName);\n    const schvalovatelArray = Array.from(uniqueSchvalovatel).sort(sortByName);\n\n    // Dropdown lists prepared\n\n    setObjednatelList(objednatelArray);\n    setGarantList(garantArray);\n    setSchvalovatelList(schvalovatelArray);\n  }, [users]);\n\n  // Aktualizuj dropdown seznamy kdy se zmn users nebo orders\n  useEffect(() => {\n    if (orders.length > 0 && Object.keys(users).length > 0) {\n      prepareDropdownLists(orders);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [orders, users]); // prepareDropdownLists vynechno - stabiln dky useCallback s [users]\n\n  // Load data\n  const loadData = useCallback(async (forceRefresh = false) => {\n    if (!token || !user?.username) return;\n\n    //  CACHE: Start men doby natn\n    const loadStartTime = performance.now();\n\n    try {\n      setLoading(true);\n      setError(null);\n      setProgress?.(5);\n\n      // Load orders podle oprvnn - pouij orders25/by-user pro filtrovn na BE\n      setProgress?.(20);\n\n      let ordersData;\n\n      // Zskej datum_od a datum_do pro API\n      const dateRange = calculateDateRange();\n\n      // OPTIMALIZACE: Pouij ref pro aktuln permissions msto pm dependency\n      const currentPermissions = permissionsRef.current;\n      const canViewAllOrders = currentPermissions.canViewAll;\n      const hasOnlyOwnPermissions = currentPermissions.hasOnlyOwn;\n\n      //  MIGRACE: Fetch funkce pro V2 API\n      const fetchFunction = async () => {\n        const filters = {\n          ...dateRange,\n          ...(showArchived && { archivovano: 1 })\n        };\n\n        setApiTestData(prev => ({\n          ...prev,\n          requestFilters: filters,\n          requestTimestamp: new Date().toISOString()\n        }));\n\n        //  V2 API: VDY pouvej enriched endpoint pro kompletn data\n        // returnFullResponse=true pro zskn meta dat z backendu\n        const apiResult = await listOrdersV2(filters, token, username, true, true);\n\n        //  Ulo meta data do state (admin_analysis, atd.)\n        if (apiResult?.meta) {\n          setApiMeta(apiResult.meta);\n        }\n\n        //  DEBUG: Ulo API response data\n        setApiTestData(prev => ({\n          ...prev,\n          apiResponse: apiResult?.data,\n          apiResponseCount: apiResult?.data?.length || 0,\n          archivedInResponse: apiResult?.data?.filter(o => o.stav_objednavky === 'ARCHIVOVANO').length || 0,\n          responseTimestamp: new Date().toISOString()\n        }));\n\n        return apiResult?.data || [];\n      };\n\n      //  CACHE: Pouij getOrders pro inteligentn cache (memory + localStorage + TTL)\n      // forceRefresh se pouv JEN pi manulnm kliknut na tlatko \"Obnovit\"\n\n      const cacheResult = forceRefresh\n        ? await ordersCacheService.forceRefresh(\n            user_id,\n            fetchFunction,\n            {\n              ...dateRange,\n              viewAll: canViewAllOrders,\n              showArchived: showArchived\n            }\n          )\n        : await ordersCacheService.getOrders(\n            user_id,\n            fetchFunction,\n            {\n              ...dateRange,\n              viewAll: canViewAllOrders,\n              showArchived: showArchived\n            }\n          );\n\n      //  CACHE: Rozbal data a info o zdroji\n      ordersData = cacheResult.data;\n\n      //  FILTR: Odstra systmov ablony (ID <= 1)\n      // Systmov objednvky s ID=0 a ID=1 se nesm zobrazovat v seznamu\n      if (ordersData && Array.isArray(ordersData)) {\n        ordersData = ordersData.filter(o => {\n          const orderId = parseInt(o.id);\n          return !isNaN(orderId) && orderId > 1;\n        });\n      }\n\n      //  Zm dobu natn\n      const loadEndTime = performance.now();\n      const loadDuration = Math.round(loadEndTime - loadStartTime);\n\n      //  Nastav zdroj podle skutenho zdroje z cache\n      setLastLoadSource(cacheResult.source); // 'memory', 'database', nebo 'database_forced'\n      setLastLoadTime(new Date());\n      setLastLoadDuration(loadDuration);\n\n      setProgress?.(60);\n\n      // Load users for names\n      try {\n        const usersData = await fetchAllUsers({ token, username });\n        const usersMap = {};\n\n        //  Pidej systmovho uivatele SYSTEM (ID 0) pro archivovan objednvky\n        usersMap['0'] = {\n          id: '0',\n          jmeno: 'SYSTEM',\n          prijmeni: '',\n          titul_pred: '',\n          titul_za: '',\n          username: 'system',\n          displayName: 'SYSTEM'\n        };\n\n        usersData.forEach((u, index) => {\n          // Ulome kompletn informace o uivateli vetn titul\n          const userId = u.id || u.user_id || u.uzivatel_id;\n\n          // Sprvn poad: Titul ped + Jmno + Pjmen + Titul za\n          const titul_pred_str = u.titul_pred ? u.titul_pred + ' ' : '';\n          const jmeno_str = u.jmeno || '';\n          const prijmeni_str = u.prijmeni || '';\n          const titul_za_str = u.titul_za ? ', ' + u.titul_za : '';\n          const displayName = `${titul_pred_str}${jmeno_str} ${prijmeni_str}${titul_za_str}`.replace(/\\s+/g, ' ').trim() || u.username || u.uzivatelske_jmeno || `User ${userId}`;\n\n          if (userId) {\n            usersMap[userId] = {\n              id: userId,\n              jmeno: u.jmeno || '',\n              prijmeni: u.prijmeni || '',\n              titul_pred: u.titul_pred || '',\n              titul_za: u.titul_za || '',\n              username: u.username || u.uzivatelske_jmeno || '',\n              displayName: displayName\n            };\n\n          }\n        });\n\n        setUsers(usersMap);\n\n        // NYN meme zpracovat koncepty s dostupnmi users daty\n        const localDrafts = [];\n        try {\n          //  FIX: Pouij draftManager msto pmho localStorage\n          draftManager.setCurrentUser(user_id);\n          const draftData = await draftManager.loadDraft();\n\n          // Draft loading debug removed for performance\n\n          if (draftData) {\n            const isConceptValid = isValidConcept(draftData);\n            const hasDbChanges = hasDraftChanges(draftData);\n\n            if (isConceptValid && !hasDbChanges) {\n              const formData = draftData.formData || draftData;\n              const draftKey = getDraftKey(user_id); // Zskej kl pro ID\n\n              // Extrahuj ID z hodnot (CustomSelect me uloit objekt msto ID)\n              let garantUserId = formData.garant_uzivatel_id;\n              if (typeof garantUserId === 'object' && garantUserId !== null) {\n                garantUserId = garantUserId.id || garantUserId.user_id || garantUserId.uzivatel_id;\n              }\n\n              let objednatelId = formData.objednatel_id || user_id;\n              if (typeof objednatelId === 'object' && objednatelId !== null) {\n                objednatelId = objednatelId.id || objednatelId.user_id || objednatelId.uzivatel_id;\n              }\n\n              const conceptOrder = {\n                id: `draft_${draftKey}`,\n                cislo_objednavky: formData.ev_cislo || ' KONCEPT ',\n                predmet: formData.predmet || 'Nov objednvka (koncept)',\n                popis_pozadavku: formData.popis_pozadavku || '',\n                stav_objednavky: 'Koncept',\n                stav_workflow_kod: '[\"NOVA\"]',\n                max_cena_s_dph: formData.max_cena_s_dph || 0,\n                poznamky: formData.poznamky || '',\n                dodavatel_nazev: formData.dodavatel_nazev || '',\n                dodavatel_kontakt_jmeno: formData.dodavatel_kontakt_jmeno || '',\n                dodavatel_kontakt_telefon: formData.dodavatel_kontakt_telefon || '',\n                dodavatel_kontakt_email: formData.dodavatel_kontakt_email || '',\n                garant_uzivatel_id: garantUserId || '',\n                objednatel_id: objednatelId || '',\n                prikazce_id: formData.prikazce_id || '',\n                uzivatel_id: objednatelId || user_id,\n                strediska_kod: formData.strediska_kod || [],\n                dt_vytvoreni: draftData.timestamp || new Date().toISOString(),\n                temp_datum_objednavky: draftData.firstAutoSaveDate ? draftData.firstAutoSaveDate.split('T')[0] : (formData.temp_datum_objednavky || new Date().toISOString().split('T')[0]),\n                vytvoril_uzivatel: username,\n                isDraft: true,\n                je_koncept: true,\n                _originalKey: draftKey,\n                _originalData: draftData,\n                _formData: formData\n              };\n\n              localDrafts.push(conceptOrder);\n            }\n          }\n        } catch (err) {\n          //  FIX: Lep error handling pro draft loading\n        }\n\n        // Pidej koncepty na zatek seznamu\n        if (localDrafts.length > 0) {\n          ordersData = [...localDrafts, ...(ordersData || [])];\n        }\n\n        // Ulome tak vechny uivatele pro filtry (ne jen ty z objednvek)\n        const allUsersForFilters = usersData.map(u => {\n          // Zkus najt ID z rznch monch pol\n          const userId = u.id || u.user_id || u.uzivatel_id;\n\n          const titul_pred_str = u.titul_pred ? u.titul_pred + ' ' : '';\n          const jmeno_str = u.jmeno || '';\n          const prijmeni_str = u.prijmeni || '';\n          const titul_za_str = u.titul_za ? ', ' + u.titul_za : '';\n          const displayName = `${titul_pred_str}${jmeno_str} ${prijmeni_str}${titul_za_str}`.replace(/\\s+/g, ' ').trim() || u.username || u.uzivatelske_jmeno || `User ${userId}`;\n\n          return {\n            id: userId,\n            jmeno: u.jmeno || '',\n            prijmeni: u.prijmeni || '',\n            titul_pred: u.titul_pred || '',\n            titul_za: u.titul_za || '',\n            username: u.username || u.uzivatelske_jmeno || '',\n            email: u.email || '',\n            deaktivovan: u.deaktivovan !== undefined ? u.deaktivovan : 0, // Stav deaktivace (0 = aktivn, 1 = deaktivovan)\n            aktivni: u.aktivni !== undefined ? u.aktivni : 1, // Stav aktivity (1 = aktivn, 0 = neaktivn)\n            displayName: displayName\n          };\n        });\n\n        //  Pidej systmovho uivatele SYSTEM (ID 0) pro archivovan objednvky\n        allUsersForFilters.unshift({\n          id: '0',\n          jmeno: 'SYSTEM',\n          prijmeni: '',\n          titul_pred: '',\n          titul_za: '',\n          username: 'system',\n          email: '',\n          deaktivovan: 0,\n          aktivni: 1,\n          displayName: 'SYSTEM'\n        });\n\n        setAllUsers(allUsersForFilters);\n\n        setProgress?.(70);\n      } catch (err) {\n        // Error loading users\n      }\n\n      // Load schvalovatel z DB\n      try {\n        const approversData = await fetchApprovers({ token, username: user.username });\n\n        // Pidej displayName pro schvalovatelje pokud chyb\n        const approversWithDisplayName = (approversData || []).map(approver => {\n          if (approver.displayName) return approver; // u m displayName\n\n          const titul_pred_str = approver.titul_pred ? approver.titul_pred + ' ' : '';\n          const jmeno_str = approver.jmeno || '';\n          const prijmeni_str = approver.prijmeni || '';\n          const titul_za_str = approver.titul_za ? ', ' + approver.titul_za : '';\n          const displayName = `${titul_pred_str}${jmeno_str} ${prijmeni_str}${titul_za_str}`.replace(/\\s+/g, ' ').trim() ||\n                             approver.jmeno_prijmeni ||\n                             approver.username ||\n                             approver.uzivatelske_jmeno ||\n                             `User ${approver.user_id || approver.uzivatel_id}`;\n\n          return { ...approver, displayName };\n        });\n\n        //  Pidej systmovho uivatele SYSTEM (ID 0) pro archivovan objednvky\n        approversWithDisplayName.unshift({\n          id: '0',\n          user_id: '0',\n          uzivatel_id: '0',\n          jmeno: 'SYSTEM',\n          prijmeni: '',\n          titul_pred: '',\n          titul_za: '',\n          username: 'system',\n          deaktivovan: 0,\n          aktivni: 1,\n          displayName: 'SYSTEM'\n        });\n\n        setApproversList(approversWithDisplayName);\n        setProgress?.(75);\n      } catch (err) {\n        // Error loading approvers\n      }\n\n      // Load selnky pro stavy objednvek\n      try {\n        const statesData = await fetchCiselniky({ token, username: user.username, typ: 'OBJEDNAVKA' });\n        // Sea stavy abecedn podle nzvu\n        const sortedStates = (statesData || []).sort((a, b) => {\n          const nameA = (a.nazev_stavu || a.nazev || '').toLowerCase();\n          const nameB = (b.nazev_stavu || b.nazev || '').toLowerCase();\n          return nameA.localeCompare(nameB, 'cs');\n        });\n        setOrderStatesList(sortedStates);\n        setProgress?.(80);\n      } catch (err) {\n        // Error loading state codes\n      }\n\n      // Load DOCX ablony pomoc getDocxSablonyList (stejn jako v jednotlivm DOCX dialogu)\n      try {\n        const response = await getDocxSablonyList({\n          token,\n          username: user.username,\n          aktivni: 1 // Pouze aktivn ablony\n        });\n\n        const templatesData = response?.data || [];\n\n        // Sea ablony podle nzvu\n        const sortedTemplates = (templatesData || []).sort((a, b) => {\n          const nameA = (a.nazev || a.kod || '').toLowerCase();\n          const nameB = (b.nazev || b.kod || '').toLowerCase();\n          return nameA.localeCompare(nameB, 'cs');\n        });\n        setDocxTemplates(sortedTemplates);\n      } catch (err) {\n        console.warn(' Nepodailo se nast DOCX ablony:', err);\n        // Fallback na przdn seznam\n        setDocxTemplates([]);\n      }\n\n      // Load LP kdy pro pevod ID na nzvy\n      try {\n        const lpData = await fetchLimitovanePrisliby({ token, username: user.username });\n        setLpKodyList(lpData || []);\n      } catch (err) {\n        // Error loading LP codes\n      }\n\n      // Load druhy objednvek\n      try {\n        const druhyData = await getDruhyObjednavky25({ token, username: user.username });\n        setDruhyObjednavkyList(druhyData || []);\n      } catch (err) {\n        console.warn(' Nepodailo se nast druhy objednvek:', err);\n        setDruhyObjednavkyList([]);\n      }\n\n      // Load stediska\n      try {\n        const strediskaData = await getStrediska25({ token, username: user.username });\n        setStrediskaList(strediskaData || []);\n      } catch (err) {\n        console.warn(' Nepodailo se nast stediska:', err);\n        setStrediskaList([]);\n      }\n\n      // Koncepty ji byly zpracovny ve po naten users\n      let finalOrders = ordersData || [];\n\n      // Oznait existujc DB dky, kter maj rozpracovan zmny - DRAFT MANAGER\n      draftManager.setCurrentUser(user_id);\n      const hasUserDraft = await draftManager.hasDraft();\n\n      if (hasUserDraft) {\n        try {\n          const draftData = await draftManager.loadDraft();\n\n          // Pouij sprvnou funkci pro kontrolu validnch draft zmn\n          const hasValidDraftChanges = hasDraftChanges(draftData);\n          // Oznauj dek POUZE pokud skuten m validn zmny\n          if (hasValidDraftChanges) {\n            // Pokud m draft DB ID, pokus se oznait odpovdajc dek\n            const orderIdToMark = draftData.formData?.id || draftData.savedOrderId;\n            if (orderIdToMark) {\n              let foundAndMarked = false;\n              finalOrders = finalOrders.map(order => {\n                // Porovnvej jak sla tak stringy (DB me vracet rzn typy)\n                const orderIdStr = String(order.id);\n                const markIdStr = String(orderIdToMark);\n\n                if (orderIdStr === markIdStr && !order.isDraft) {\n                  foundAndMarked = true;\n                  return { ...order, hasLocalDraftChanges: true };\n                }\n                return order;\n              });\n            }\n          }\n        } catch (err) {\n          // Chyba pi kontrole DB dk pro oznaen\n        }\n      }\n\n      //  NORMALIZACE: Pro archivovan objednvky bez pkazce/schvalovatele nastav SYSTEM (ID 0)\n      finalOrders = finalOrders.map(order => {\n        // Aplikuj pouze na archivovan objednvky (importovan star objednvky)\n        if (order.stav_objednavky === 'ARCHIVOVANO') {\n          const normalized = { ...order };\n\n          // Pokud nen pkazce, nastav SYSTEM (ID 0)\n          if (!normalized.prikazce_id || normalized.prikazce_id === '' || normalized.prikazce_id === null) {\n            normalized.prikazce_id = '0';\n          }\n\n          // Pokud nen schvalovatel, nastav SYSTEM (ID 0)\n          if (!normalized.schvalovatel_id || normalized.schvalovatel_id === '' || normalized.schvalovatel_id === null) {\n            normalized.schvalovatel_id = '0';\n          }\n\n          return normalized;\n        }\n        return order;\n      });\n\n      setOrders(finalOrders);\n\n      // Populate rawData for debug panel\n      setRawData({\n        timestamp: new Date().toISOString(),\n        ordersCount: finalOrders.length,\n        allFields: finalOrders.length > 0 ? Object.keys(finalOrders[0]) : [],\n        firstOrder: finalOrders[0] || null,\n        rawData: finalOrders\n      });\n\n      // Generate calendar_order_counts immediately after loading from DB\n      // This must run BEFORE any filtering, on raw DB data\n      try {\n        const counts = {};\n\n        finalOrders.forEach(order => {\n          // Skip draft/concept orders\n          if (order.isDraft || order.isLocalConcept) return;\n\n          // Get order date - try multiple field names\n          let dateStr = order.dt_objednavky || order.datum_objednavky || order.created_at || order.dt_vytvoreni;\n\n          if (!dateStr) return;\n\n          // Parse date - support both ISO format (YYYY-MM-DD HH:MM:SS) and Czech format (DD.MM.YYYY)\n          let year, month, day;\n\n          // Try ISO format first (from DB): YYYY-MM-DD HH:MM:SS or YYYY-MM-DD\n          const isoMatch = dateStr.match(/(\\d{4})-(\\d{2})-(\\d{2})/);\n          if (isoMatch) {\n            year = isoMatch[1];\n            month = isoMatch[2];\n            day = isoMatch[3];\n          } else {\n            // Try Czech format: DD.MM.YYYY\n            const czMatch = dateStr.match(/(\\d{2})\\.(\\d{2})\\.(\\d{4})/);\n            if (czMatch) {\n              day = czMatch[1];\n              month = czMatch[2];\n              year = czMatch[3];\n            } else {\n              return; // Neither format matched\n            }\n          }\n\n          // Create key in format YYYY-MM-DD\n          const key = `${year}-${month}-${day}`;\n\n          // Initialize day data if not exists\n          if (!counts[key]) {\n            counts[key] = { total: 0, pending: 0 };\n          }\n\n          counts[key].total += 1;\n\n          //  OPRAVA: Detekce \"Ke schvlen\" konzistentn s dlazdikami\n          // Pouij stejnou logiku jako getOrderSystemStatus()\n          let systemStatus = 'UNKNOWN';\n\n          if (order.isDraft || order.je_koncept) {\n            systemStatus = 'NOVA';\n          } else if (order.stav_objednavky) {\n            systemStatus = mapUserStatusToSystemCode(order.stav_objednavky);\n          } else if (order.stav_workflow_kod) {\n            try {\n              const workflowStates = JSON.parse(order.stav_workflow_kod);\n              systemStatus = Array.isArray(workflowStates)\n                ? workflowStates[workflowStates.length - 1]\n                : order.stav_workflow_kod;\n            } catch {\n              systemStatus = order.stav_workflow_kod;\n            }\n          }\n\n          // Ke schvlen = KE_SCHVALENI\n          if (systemStatus === 'KE_SCHVALENI') {\n            counts[key].pending += 1;\n          }\n        });\n\n        //  OPRAVA: Ukldat pmo do localStorage bez user_id suffixu\n        // CalendarPanel te z 'calendar_order_counts', ne z getUserKey()\n        localStorage.setItem('calendar_order_counts', JSON.stringify(counts));\n        localStorage.setItem('calendar_order_counts_updated', Date.now());\n        window.dispatchEvent(new CustomEvent('calendar_order_counts_updated'));\n      } catch (err) {\n        // Tie ignorovat chyby pi generovn kalende\n      }\n\n      setProgress?.(100);\n\n      //  ODSTRANNO: Broadcast po kadm naten dat\n      // Toto zpsobovalo nekonenou smyku mezi zlokami\n      // Broadcast se pole jen kdy se draft skuten zmn (v handleDraftSave, handleDelete, etc.)\n\n      //  INITIALIZATION: Ozna dokonen natn dat\n      initStepsCompleted.current.dataLoaded = true;\n\n    } catch (err) {\n      // Pekldme anglick error messages do etiny\n      const errorMessage = translateErrorMessage(err.message || 'Chyba pi natn objednvek');\n      setError(errorMessage);\n\n      //  INITIALIZATION: V ppad chyby ozna vechny kroky jako hotov\n      initStepsCompleted.current.dataLoaded = true;\n      initStepsCompleted.current.paginationRestored = true;\n      initStepsCompleted.current.expandedRestored = true;\n      initStepsCompleted.current.scrollRestored = true;\n    } finally {\n      setLoading(false);\n      setInitializing(false);\n      setTimeout(() => setProgress?.(0), 500);\n    }\n  }, [token, user?.username, user_id, selectedYear, selectedMonth, showArchived]);\n  //  OPTIMALIZACE: Odstranno 'permissions' z dependencies - pouit permissionsRef.current msto toho\n  // Toto odstran circular dependency a zabrn zbytenm reload pi zmn permissions objektu\n  // permissions zmny jsou zachyceny pes ref kter je vdy aktuln\n\n  // Load data on mount - s kontrolou forceReload z navigation state\n  useEffect(() => {\n    const shouldForceReload = location.state?.forceReload === true;\n    loadData(shouldForceReload);\n  }, [loadData, location.state?.forceReload]);\n\n  //  Listen for ORDER_SAVED broadcasts from other tabs/windows\n  //  PERFORMANCE: Debounce loadData to prevent message handler violations\n  //  LOOP PREVENTION: Ignoruj vlastn broadcasty\n  useEffect(() => {\n    let debounceTimer = null;\n    let lastMessageTimestamp = 0;\n\n    const cleanup = onTabSyncMessage((message) => {\n      //  Ignoruj dupliktn zprvy ve velmi krtkm asovm intervalu (< 100ms)\n      // Toto zabrn smyce kdy jedna zloka pole broadcast -> druh reaguje -> pole dal broadcast\n      const now = Date.now();\n      if (now - lastMessageTimestamp < 100) {\n        return; // Ignoruj duplicity\n      }\n      lastMessageTimestamp = now;\n\n      if (message.type === BROADCAST_TYPES.ORDER_SAVED || message.type === BROADCAST_TYPES.DRAFT_DELETED) {\n        //  PERFORMANCE: Debounce loadData - prevent excessive reloads from multiple messages\n        // Chrome violation fixed: Increased debounce to 1000ms to prevent handler violations\n        if (debounceTimer) clearTimeout(debounceTimer);\n        debounceTimer = setTimeout(() => {\n          loadData();\n          debounceTimer = null;\n        }, 1000); // 1000ms debounce (zveno pro performance)\n      }\n    });\n\n    return () => {\n      if (debounceTimer) clearTimeout(debounceTimer);\n      cleanup();\n    };\n  }, [loadData]);\n\n  //  Registrace callback pro getCurrentFilters - pouv background task ped API volnm\n  useEffect(() => {\n    if (!bgTasksContext?.registerGetCurrentFiltersCallback) {\n      return;\n    }\n\n    /**\n     * Vrac aktuln filtry (ROK, OBDOB, ARCHIV) pro background refresh\n     * Stejn logika jako loadData() - zajitn konzistence mezi F5 a background refresh\n     */\n    const getFiltersCallback = () => {\n      // Pomocn funkce pro vpoet datum_od a datum_do (kopie z loadData)\n      const getDateRange = () => {\n        if (selectedYear !== 'all') {\n          const year = parseInt(selectedYear);\n\n          if (selectedMonth) {\n            const monthMatch = selectedMonth.match(/^(\\d+)(?:-(\\d+))?$/);\n            if (monthMatch) {\n              const startMonth = parseInt(monthMatch[1]);\n              const endMonth = monthMatch[2] ? parseInt(monthMatch[2]) : startMonth;\n\n              const datum_od = `${year}-${String(startMonth).padStart(2, '0')}-01`;\n              const lastDay = new Date(year, endMonth, 0).getDate();\n              const datum_do = `${year}-${String(endMonth).padStart(2, '0')}-${String(lastDay).padStart(2, '0')}`;\n\n              return { datum_od, datum_do };\n            }\n          } else {\n            return {\n              datum_od: `${year}-01-01`,\n              datum_do: `${year}-12-31`\n            };\n          }\n        }\n        return {};\n      };\n\n      const dateRange = getDateRange();\n      const filters = { ...dateRange };\n\n      // ARCHIV filtr\n      if (showArchived) {\n        filters.archivovano = 1;\n      }\n\n      return filters;\n    };\n\n    bgTasksContext.registerGetCurrentFiltersCallback(getFiltersCallback);\n\n    return () => {\n      bgTasksContext.registerGetCurrentFiltersCallback?.(null);\n    };\n  }, [bgTasksContext, selectedYear, selectedMonth, showArchived]);\n\n  // Registrace callback pro background refresh objednvek\n  //  Background refresh FUNGUJE pro vechny uivatele\n  // Backend API nyn filtruje podle permissions (uzivatel_id pro ORDER_READ_OWN)\n  //  FIX: Background refresh nyn posl STEJN filtry jako F5 reload do backendu!\n  useEffect(() => {\n    if (!bgTasksContext) return;\n\n    const refreshCallback = (ordersData) => {\n      //  OPTIMALIZACE: Validace dat ped nastavenm\n      // Ochrana proti pepsn existujcch dat nevalidnmi daty\n\n      // Kontrola 1: Data mus bt pole\n      if (!ordersData || !Array.isArray(ordersData)) {\n        return; //  OCHRANA: Nemnit orders pokud data nejsou validn\n      }\n\n      // Kontrola 2: Pokud mme aktuln data a pilo przdn pole, varovn\n      if (orders.length > 0 && ordersData.length === 0) {\n        return; //  OCHRANA: Zachovat aktuln data msto pepsn przdnm polem\n      }\n\n      // Kontrola 3: Minimln validace struktury dat (prvn objednvka m ID)\n      if (ordersData.length > 0 && !ordersData[0]?.id) {\n        return;\n      }\n\n      //  FILTR: Odstra systmov ablony (ID <= 1)\n      // Systmov objednvky s ID=0 a ID=1 se nesm zobrazovat v seznamu objednvek\n      const filteredOrders = ordersData.filter(o => {\n        const orderId = parseInt(o.id);\n        return !isNaN(orderId) && orderId > 1;\n      });\n\n      //  Backend ji filtroval podle ROK, OBDOB, ARCHIV - data jsou ready to use!\n      //  Frontend filtraci NU JU NEPOTEBUJEME - backend posl ji filtrovan data\n\n      //  Nastavit lutou ikonu a as poslednho background refreshe\n      setIsBackgroundRefreshActive(true);\n      setLastRefreshTime(new Date());\n\n      setOrders(filteredOrders);\n\n      // Update rawData for debug panel\n      setRawData({\n        timestamp: new Date().toISOString(),\n        ordersCount: filteredOrders.length,\n        allFields: filteredOrders.length > 0 ? Object.keys(filteredOrders[0]) : [],\n        firstOrder: filteredOrders[0] || null,\n        rawData: filteredOrders\n      });\n\n      // Zobraz toast o aktualizaci\n      showToast?.(`Seznam objednvek aktualizovn (${filteredOrders.length} obj)`, {\n        type: 'info',\n        duration: 3000\n      });\n    };\n\n    bgTasksContext.registerOrdersRefreshCallback?.(refreshCallback);\n\n    return () => {\n      bgTasksContext.registerOrdersRefreshCallback?.(null);\n    };\n  }, [bgTasksContext, showToast, orders.length]); //  Odstranny showArchived, user_id, currentUserId, permissions - ji nejsou poteba\n\n  //  Registrace callbacku pro nov notifikace (force unlock warning)\n  useEffect(() => {\n    if (!bgTasksContext?.registerNewNotificationsCallback) {\n      return;\n    }\n\n    const handleNewNotifications = (notifications, unreadCount) => {\n      if (!notifications || notifications.length === 0) {\n        return;\n      }\n\n      // Hledej ORDER_UNLOCK_FORCED notifikace\n      const forceUnlockNotifications = notifications.filter(n =>\n        n.type === 'order_unlock_forced' &&\n        n.is_read === false\n      );\n\n      if (forceUnlockNotifications.length > 0) {\n        // Zobraz warning dialog pro prvn force unlock notifikaci\n        const notification = forceUnlockNotifications[0];\n\n        // Parsuj data z notifikace\n        const notifData = notification.data || {};\n\n        setForceUnlockWarningData({\n          orderNumber: notifData.cislo_objednavky || 'N/A',\n          lockedBy: notifData.forced_by_name || notifData.forced_by_username || 'N/A',\n          lockedByEmail: notifData.forced_by_email || null,\n          lockedByPhone: notifData.forced_by_telefon || null,\n          lockedAt: notifData.forced_at || new Date().toISOString(),\n          notificationId: notification.id\n        });\n\n        setShowForceUnlockWarning(true);\n\n      }\n    };\n\n    bgTasksContext.registerNewNotificationsCallback(handleNewNotifications);\n\n    return () => {\n      bgTasksContext.registerNewNotificationsCallback?.(null);\n    };\n  }, [bgTasksContext]);\n\n  // Check for highlighted order ID from DraftManager (after redirect from form)\n  useEffect(() => {\n    if (!user_id) return;\n\n    //  Nast highlightOrderId pes DraftManager\n    const uiState = draftManager.getUIState();\n    const highlightId = uiState?.highlightOrderId;\n\n    if (highlightId) {\n      setHighlightOrderId(highlightId);\n\n      //  HNED SMAZAT z DraftManager po nastaven\n      draftManager.saveUIState({ highlightOrderId: null });\n\n      //  AUTOMATICK SCROLL na zvraznnou objednvku\n      // Pokat a se DOM aktualizuje (po naten dat)\n      const scrollToHighlightedRow = () => {\n        const highlightedRow = document.querySelector(`[data-order-id=\"${highlightId}\"]`);\n        if (highlightedRow) {\n          // Zskej pozici dku a vku okna\n          const rect = highlightedRow.getBoundingClientRect();\n          const viewportHeight = window.innerHeight;\n          const rowHeight = rect.height;\n\n          // Zjisti, jestli je to jeden z prvnch dk (mlo prostoru nahoe)\n          const rowTop = highlightedRow.offsetTop;\n          const isNearTop = rowTop < viewportHeight / 2;\n\n          //  Pro dky nahoe (vetn PRVNHO) pouij 'start', jinak 'center'\n          const blockPosition = isNearTop ? 'start' : 'center';\n\n          try {\n            highlightedRow.scrollIntoView({\n              behavior: 'smooth',\n              block: blockPosition,  // 'start' pro prvn dky, 'center' pro ostatn\n              inline: 'nearest'\n            });\n          } catch (e) {\n            // Fallback pro star prohlee\n            highlightedRow.scrollIntoView(isNearTop); // true = align top, false = align bottom\n          }\n          return true; // spch\n        }\n        return false; // Nepodailo se najt\n      };\n\n      // Prvn pokus po 300ms\n      setTimeout(() => {\n        if (!scrollToHighlightedRow()) {\n\n          // Druh pokus po 800ms (celkem 1100ms)\n          setTimeout(() => {\n            if (!scrollToHighlightedRow()) {\n            }\n          }, 800);\n        }\n      }, 300);\n\n      // Clear highlight after 5 seconds with fade effect\n      setTimeout(() => {\n        setHighlightOrderId(null);\n      }, 5000);\n    }\n  }, [orders, user_id]); // Run when orders change (after load)\n\n  // Mapovn uivatelsky pvtivch stav na systmov kdy pro statistiky\n\n  // Helper function to get order status pro ZOBRAZEN (preferuje stav_objednavky, fallback na stav_workflow_kod)\n  //  CRITICAL: Must use useCallback to prevent filteredData useMemo from recalculating on every render\n  const getOrderDisplayStatus = useCallback((order) => {\n    // Preferuj uivatelsky pvtiv stav z stav_objednavky\n    if (order.stav_objednavky) {\n      return order.stav_objednavky;\n    }\n\n    // Fallback na posledn stav z stav_workflow_kod - pouij kod_stavu nebo nazev_stavu\n    if (order.stav_workflow_kod) {\n      try {\n        const workflowStates = JSON.parse(order.stav_workflow_kod);\n        if (Array.isArray(workflowStates)) {\n          const lastState = workflowStates[workflowStates.length - 1];\n          // Pouij kod_stavu pokud je k dispozici\n          if (typeof lastState === 'object' && (lastState.kod_stavu || lastState.nazev_stavu)) {\n            return lastState.kod_stavu || 'NEZNAMY_STAV';\n          }\n          return typeof lastState === 'string' ? lastState : 'NEZNAMY_STAV';\n        } else {\n          return order.stav_workflow_kod;\n        }\n      } catch {\n        return order.stav_workflow_kod;\n      }\n    }\n\n    return 'DRAFT';\n  }, []); // No dependencies - pure function\n\n  //  CRITICAL: Must use useCallback to prevent filteredData useMemo from recalculating on every render\n  // Helper function to get order status pro STATISTIKY (vdy systmov kd)\n  const getOrderSystemStatus = useCallback((order) => {\n    // Speciln ppad pro koncepty - potaj se jako NOVA pro statistiky\n    if (order.isDraft || order.je_koncept) {\n      return 'NOVA';\n    }\n\n    // Zskej zkladn systmov stav\n    let systemStatus;\n\n    // Pokud mme uivatelsky pvtiv stav, zmapuj na systmov kd\n    if (order.stav_objednavky) {\n      systemStatus = mapUserStatusToSystemCode(order.stav_objednavky);\n    }\n    // Fallback na posledn stav z stav_workflow_kod\n    else if (order.stav_workflow_kod) {\n      try {\n        const workflowStates = JSON.parse(order.stav_workflow_kod);\n        systemStatus = Array.isArray(workflowStates) ? workflowStates[workflowStates.length - 1] : order.stav_workflow_kod;\n      } catch {\n        systemStatus = order.stav_workflow_kod;\n      }\n    }\n    else {\n      systemStatus = 'DRAFT';\n    }\n\n    //  SPECILN LOGIKA PRO UVEEJNN V REGISTRU SMLUV\n    // Kontroluj data o publikaci - m pednost ped obecnm stavem\n    if (order.registr_smluv) {\n      if (order.registr_smluv.ma_byt_zverejnena && !order.registr_smluv.registr_iddt) {\n        return 'K_UVEREJNENI_DO_REGISTRU';\n      }\n    }\n\n    return systemStatus;\n  }, []); // No dependencies - pure function\n\n  //  Helper funkce pro zskn aktulnho workflow stavu objednvky\n  const getOrderWorkflowStatus = useCallback((order) => {\n    if (!order) return null;\n\n    // Zkus zskat posledn stav z stav_workflow_kod\n    if (order.stav_workflow_kod) {\n      try {\n        let workflowStates = [];\n        if (Array.isArray(order.stav_workflow_kod)) {\n          workflowStates = order.stav_workflow_kod;\n        } else if (typeof order.stav_workflow_kod === 'string') {\n          workflowStates = JSON.parse(order.stav_workflow_kod);\n          if (!Array.isArray(workflowStates)) {\n            workflowStates = [];\n          }\n        }\n\n        if (workflowStates.length > 0) {\n          const lastState = workflowStates[workflowStates.length - 1];\n          if (typeof lastState === 'object' && lastState.kod_stavu) {\n            return lastState.kod_stavu;\n          } else if (typeof lastState === 'string') {\n            return lastState;\n          }\n        }\n      } catch (e) {\n        // Pokud parsing sele, pokrauj na dal fallbacky\n      }\n    }\n\n    // Fallback na stav_workflow objekt\n    if (order.stav_workflow) {\n      if (typeof order.stav_workflow === 'object' && order.stav_workflow.kod_stavu) {\n        return order.stav_workflow.kod_stavu;\n      }\n    }\n\n    return null;\n  }, []);\n\n  //  Helper funkce pro zskn celkov ceny s DPH Z POLOEK OBJEDNVKY\n  // Pot POUZE ze soutu poloek (cena_s_dph), NIKDY z max_cena_s_dph\n  const getOrderTotalPriceWithDPH = useCallback((order) => {\n    // 1. Zkus vrcen pole z BE (polozky_celkova_cena_s_dph je ji souet)\n    if (order.polozky_celkova_cena_s_dph != null && order.polozky_celkova_cena_s_dph !== '') {\n      const value = parseFloat(order.polozky_celkova_cena_s_dph);\n      if (!isNaN(value)) return value;\n    }\n\n    // 2. Spotej z poloek (Order V2 API vrac polozky pmo v order objektu)\n    if (order.polozky && Array.isArray(order.polozky) && order.polozky.length > 0) {\n      const total = order.polozky.reduce((sum, item) => {\n        const cena = parseFloat(item.cena_s_dph || 0);\n        return sum + (isNaN(cena) ? 0 : cena);\n      }, 0);\n      return total;\n    }\n\n    // 3. Pokud nejsou poloky, vra 0 (NE max_cena_s_dph!)\n    // max_cena_s_dph je limit, ne skuten cena\n    return 0;\n  }, [orders]);\n\n  // Stats calculation\n  const stats = useMemo(() => {\n    // OPRAVA: Potej stats z orders, ale aplikuj showArchived filtr\n    // Aby dladice odpovdaly tomu, co se zobrazuje v tabulce\n    const dataToCount = showArchived\n      ? orders\n      : orders.filter(order => {\n          const status = getOrderSystemStatus(order);\n          return status !== 'ARCHIVOVANO';\n        });\n\n    const total = dataToCount.length;\n    const byStatus = dataToCount.reduce((acc, order) => {\n      const systemStatus = getOrderSystemStatus(order);\n      const displayStatus = getOrderDisplayStatus(order);\n      acc[systemStatus] = (acc[systemStatus] || 0) + 1;\n\n      // Debug: loguj stav pro prvn pr objednvek\n      if (acc._debug < 5) {\n\n        acc._debug = (acc._debug || 0) + 1;\n      }\n\n      return acc;\n    }, {});\n\n    const totalAmount = dataToCount.reduce((sum, order) => {\n      const amount = getOrderTotalPriceWithDPH(order);\n      return sum + (isNaN(amount) ? 0 : amount);\n    }, 0);\n\n    // Potn cen dokonench a nedokonench\n    const completedAmount = dataToCount.reduce((sum, order) => {\n      const status = getOrderSystemStatus(order);\n      const isCompleted = ['DOKONCENA', 'VYRIZENA', 'COMPLETED'].includes(status);\n      if (isCompleted) {\n        const amount = getOrderTotalPriceWithDPH(order);\n        return sum + (isNaN(amount) ? 0 : amount);\n      }\n      return sum;\n    }, 0);\n\n    const incompleteAmount = dataToCount.reduce((sum, order) => {\n      const status = getOrderSystemStatus(order);\n      const isCancelledOrRejected = ['STORNOVA', 'ZAMITNUTA', 'ZRUSENA', 'CANCELLED', 'SMAZANA'].includes(status);\n      const isCompleted = ['DOKONCENA', 'VYRIZENA', 'COMPLETED'].includes(status);\n      if (!isCancelledOrRejected && !isCompleted) {\n        const amount = getOrderTotalPriceWithDPH(order);\n        return sum + (isNaN(amount) ? 0 : amount);\n      }\n      return sum;\n    }, 0);\n\n    //  Potn objednvek s fakturami (min. 1 faktura)\n    const withInvoices = dataToCount.reduce((count, order) => {\n      const faktury = order.faktury || [];\n      const fakturyCount = order.faktury_count || faktury.length || 0;\n      return fakturyCount > 0 ? count + 1 : count;\n    }, 0);\n\n    //  Potn objednvek s plohami (min. 1 ploha)\n    const withAttachments = dataToCount.reduce((count, order) => {\n      const prilohy = order.prilohy || [];\n      const prilohyCount = order.prilohy_count || prilohy.length || 0;\n      return prilohyCount > 0 ? count + 1 : count;\n    }, 0);\n\n    //  Potn mimodnch udlost\n    const mimoradneUdalosti = dataToCount.reduce((count, order) => {\n      return order.mimoradna_udalost ? count + 1 : count;\n    }, 0);\n\n    // Debug: uk cel byStatus objekt\n\n    return {\n      total,\n      nova: byStatus.NOVA || 0,\n      ke_schvaleni: byStatus.KE_SCHVALENI || 0,\n      schvalena: byStatus.SCHVALENA || 0,\n      zamitnuta: byStatus.ZAMITNUTA || 0,\n      ceka_se: byStatus.CEKA_SE || 0,\n      rozpracovana: byStatus.ROZPRACOVANA || 0,\n      odeslana: byStatus.ODESLANA || 0,\n      potvrzena: byStatus.POTVRZENA || 0,\n      uverejnena: byStatus.UVEREJNENA || 0,\n      vecna_spravnost: byStatus.VECNA_SPRAVNOST || 0,\n      dokoncena: byStatus.DOKONCENA || 0,\n      vyrizena: byStatus.VYRIZENA || 0,\n      zrusena: byStatus.ZRUSENA || 0,\n      stornova: byStatus.STORNOVA || 0,\n      smazana: byStatus.SMAZANA || 0,\n      archivovano: byStatus.ARCHIVOVANO || 0,\n      k_uverejneni_do_registru: byStatus.K_UVEREJNENI_DO_REGISTRU || 0,\n      ceka_potvrzeni: byStatus.CEKA_POTVRZENI || 0,\n      draft: byStatus.DRAFT || 0,\n      approved: byStatus.APPROVED || 0,\n      completed: byStatus.COMPLETED || 0,\n      cancelled: byStatus.CANCELLED || 0,\n      totalAmount,\n      completedAmount,\n      incompleteAmount,\n      withInvoices,\n      withAttachments,\n      mimoradneUdalosti\n    };\n  }, [orders, showArchived, getOrderSystemStatus, getOrderDisplayStatus, getOrderTotalPriceWithDPH]);\n\n  // Pomocn funkce pro zskn data objednvky (skuten nebo doasn pro koncepty)\n  // Zskn full datetime pro objednvku\n  const getOrderDateTime = useCallback((order) => {\n    // Pokud je to koncept (isDraft)\n    if (order.isDraft) {\n      // Pokud m uloen datum prvnho autosave v _originalData, pouij ho\n      if (order._originalData?.firstAutoSaveDate && typeof order._originalData.firstAutoSaveDate === 'string') {\n        return order._originalData.firstAutoSaveDate; // Cel ISO string\n      }\n      // Jinak pouij dt_vytvoreni\n      if (order.dt_vytvoreni && typeof order.dt_vytvoreni === 'string') {\n        return order.dt_vytvoreni; // Cel ISO string\n      }\n    }\n    // Jinak pouij standardn dt_objednavky\n    return (order.dt_objednavky && typeof order.dt_objednavky === 'string') ? order.dt_objednavky : null;\n  }, []);\n\n  // Zskn jen data pro objednvku (pro filtrovn apod.)\n  const getOrderDate = useCallback((order) => {\n    const dateTime = getOrderDateTime(order);\n    return (dateTime && typeof dateTime === 'string') ? dateTime.split('T')[0] : null;\n  }, [getOrderDateTime]);\n\n  // Helper funkce pro zvraznn vyhledanho textu\n  const highlightText = useCallback((text, searchTerm) => {\n    if (!text || !searchTerm || typeof text !== 'string') return text;\n\n    const normalizedText = text.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').toLowerCase();\n    const normalizedSearch = searchTerm.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').toLowerCase();\n\n    const index = normalizedText.indexOf(normalizedSearch);\n    if (index === -1) return text;\n\n    const beforeMatch = text.substring(0, index);\n    const match = text.substring(index, index + searchTerm.length);\n    const afterMatch = text.substring(index + searchTerm.length);\n\n    return (\n      <>\n        {beforeMatch}\n        <mark style={{ backgroundColor: '#ffeb3b', padding: '0 2px', borderRadius: '2px' }}>\n          {match}\n        </mark>\n        {afterMatch}\n      </>\n    );\n  }, []);\n\n  //  CRITICAL PERFORMANCE: Forward declaration for action click handler\n  // Defined here (before columns) to avoid \"Cannot access before initialization\" error\n  // Actual handlers (handleEdit, handleView, etc.) are defined later\n  // Uses refs to access handlers without creating circular dependencies\n  const handlersRef = useRef({});\n\n  const handleActionClick = useCallback((e) => {\n    const button = e.target.closest('button[data-action]');\n    if (!button) return;\n\n    const action = button.dataset.action;\n    const orderIndex = parseInt(button.dataset.orderIndex, 10); // Local index in current page\n    const orderId = parseInt(button.dataset.orderId, 10); // Actual order ID from DB\n    \n    // Use LOCAL index to get order from filteredDataRef (current page data)\n    const order = filteredDataRef.current[orderIndex];\n\n    if (!order) {\n      return;\n    }\n\n    // Use refs to call handlers (populated after they're defined)\n    const handlers = handlersRef.current;\n    switch (action) {\n      case 'edit':\n        handlers.handleEdit?.(order);\n        break;\n      case 'view':\n        handlers.handleView?.(order);\n        break;\n      case 'export':\n        handlers.handleExportDocument?.(order);\n        break;\n      case 'financial-control':\n        handlers.handleFinancialControl?.(order);\n        break;\n      case 'create-invoice':\n        handlers.handleCreateInvoice?.(order);\n        break;\n      case 'delete':\n        handlers.handleDelete?.(order);\n        break;\n    }\n  }, []); // No dependencies - uses refs\n\n  // Helper function to get user display name with titles\n  //  CRITICAL: Uses usersRef.current instead of users dependency to prevent columns re-render\n  const getUserDisplayName = useCallback((userId, enrichedUser = null) => {\n    if (enrichedUser) {\n      const { titul_pred, jmeno, prijmeni, titul_za } = enrichedUser;\n      // Sprvn poad: Titul ped + Jmno + Pjmen + Titul za\n      const titul_pred_str = titul_pred ? titul_pred + ' ' : '';\n      const jmeno_str = jmeno || '';\n      const prijmeni_str = prijmeni || '';\n      const titul_za_str = titul_za ? ', ' + titul_za : '';\n\n      return `${titul_pred_str}${jmeno_str} ${prijmeni_str}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n    }\n\n    const currentUsers = usersRef.current;\n    if (userId && currentUsers[userId]) {\n      // Pokud mme objekt s displayName, pouij ho\n      if (typeof currentUsers[userId] === 'object' && currentUsers[userId].displayName) {\n        return currentUsers[userId].displayName;\n      }\n      // Pokud je to star formt (pouze string), pouij ho\n      if (typeof currentUsers[userId] === 'string') {\n        return currentUsers[userId];\n      }\n    }\n\n    return 'Neznm';\n  }, []); // No dependencies - uses usersRef.current\n\n  // Helper function to get druh objednvky nzev by kod\n  const getDruhObjednavkyNazev = useCallback((kod) => {\n    if (!kod) return '---';\n    const druh = druhyObjednavkyList.find(d => d.kod === kod);\n    return druh?.nazev || kod;\n  }, [druhyObjednavkyList]);\n\n  // Helper function to get stedisko nzev by kod\n  const getStrediskoNazev = useCallback((kod) => {\n    if (!kod) return '---';\n    // Pevod na string pro porovnn (API me vracet sla i stringy)\n    const kodStr = String(kod);\n    \n    // Hledme stedisko - data mohou bt v raw objektu nebo pmo\n    const stredisko = strediskaList.find(s => {\n      const itemKod = String(s.value || s.kod_stavu || s.kod || s.raw?.kod_stavu || s.raw?.kod);\n      return itemKod === kodStr;\n    });\n    \n    // Vrtme cel nazev_stavu tak jak je v DB (nap. \"100 Sprva Kladno\")\n    const nazev = stredisko?.label || stredisko?.nazev_stavu || stredisko?.nazev || \n                  stredisko?.raw?.nazev_stavu || stredisko?.raw?.nazev;\n    \n    return nazev || `Stedisko (kd ${kod})`;\n  }, [strediskaList]);\n\n  // Column definitions\n  const columns = useMemo(() => [\n    {\n      id: 'select',\n      header: '',\n      cell: ({ row }) => (\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n          <input\n            type=\"checkbox\"\n            checked={row.getIsSelected()}\n            onChange={row.getToggleSelectedHandler()}\n            style={{ cursor: 'pointer', width: '18px', height: '18px' }}\n          />\n        </div>\n      ),\n      size: 50,\n      meta: {\n        align: 'center'\n      }\n    },\n    {\n      id: 'expander',\n      header: '',\n      cell: ({ row }) => (\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n          <ExpandButton\n            onClick={(e) => {\n              row.getToggleExpandedHandler()(e);\n\n              // Pokud se dek rozbaluje, nati detaily osob (pokud jet nejsou v enriched datech)\n              if (!row.getIsExpanded()) {\n                const order = row.original;\n\n                // Order V2 API enriched vrac: uzivatel{}, prikazce_uzivatel{}, garant_uzivatel{}, schvalovatel{}\n                // Nati detaily jen pokud chyb\n                if (order.prikazce_id && !order.prikazce?.email && !order.prikazce_uzivatel?.email) {\n                  loadPersonDetail(order.id, 'prikazce', order.prikazce_id);\n                }\n                if (order.uzivatel_id && !order.objednatel?.email && !order.uzivatel?.email) {\n                  loadPersonDetail(order.id, 'objednatel', order.uzivatel_id);\n                }\n                if (order.garant_uzivatel_id && !order.garant?.email && !order.garant_uzivatel?.email) {\n                  loadPersonDetail(order.id, 'garant', order.garant_uzivatel_id);\n                }\n                if (order.schvalovatel_id && !order.schvalovatel?.email) {\n                  loadPersonDetail(order.id, 'schvalovatel', order.schvalovatel_id);\n                }\n              }\n            }}\n            title={row.getIsExpanded() ? 'Sbalit' : 'Rozbalit'}\n          >\n            <FontAwesomeIcon icon={row.getIsExpanded() ? faMinus : faPlus} />\n          </ExpandButton>\n        </div>\n      ),\n      size: 50,\n      meta: {\n        align: 'center'\n      }\n    },\n    {\n      accessorKey: 'dt_objednavky',\n      header: 'Datum objednvky',\n      sortingFn: (rowA, rowB) => {\n        const dateA = getOrderDateTime(rowA.original);\n        const dateB = getOrderDateTime(rowB.original);\n\n        // Pokud jeden z dk nem datum, dej ho na konec\n        if (!dateA && !dateB) return 0;\n        if (!dateA) return 1;\n        if (!dateB) return -1;\n\n        // Porovnej timestamp\n        const timeA = new Date(dateA).getTime();\n        const timeB = new Date(dateB).getTime();\n        return timeA - timeB;\n      },\n      filterFn: (row, columnId, filterValue) => {\n        if (!filterValue) return true;\n\n        const orderDateTime = getOrderDateTime(row.original);\n        if (!orderDateTime) return false;\n\n        const date = new Date(orderDateTime);\n        const dateStr = formatDateOnly(date);\n        const timeStr = date.toLocaleTimeString('cs-CZ', { hour: '2-digit', minute: '2-digit' });\n        const fullText = `${dateStr} ${timeStr}`;\n\n        // Case-insensitive a bez diakritiky\n        const normalizedText = removeDiacritics(fullText.toLowerCase());\n        const normalizedFilter = removeDiacritics(filterValue.toLowerCase());\n\n        return normalizedText.includes(normalizedFilter);\n      },\n      cell: ({ row }) => {\n        const orderDateTime = getOrderDateTime(row.original);\n        if (!orderDateTime) return <div style={{ textAlign: 'center' }}>---</div>;\n\n        const date = new Date(orderDateTime);\n        const dateStr = formatDateOnly(date);\n        const timeStr = date.toLocaleTimeString('cs-CZ', { hour: '2-digit', minute: '2-digit' });\n\n        return (\n          <div style={{ textAlign: 'center', lineHeight: '1.2' }}>\n            <div>{dateStr}</div>\n            <div style={{ fontSize: '0.75rem', color: '#6b7280' }}>{timeStr}</div>\n          </div>\n        );\n      },\n      size: 120\n    },\n    {\n      accessorKey: 'cislo_objednavky',\n      header: 'Evidenn slo',\n      sortingFn: (rowA, rowB) => {\n        const numA = rowA.original.cislo_objednavky || '';\n        const numB = rowB.original.cislo_objednavky || '';\n\n        // Przdn hodnoty na konec\n        if (!numA && !numB) return 0;\n        if (!numA) return 1;\n        if (!numB) return -1;\n\n        // esk tdn sel objednvek\n        return numA.localeCompare(numB, 'cs', { numeric: true, sensitivity: 'base' });\n      },\n      filterFn: (row, columnId, filterValue) => {\n        if (!filterValue) return true;\n\n        const cislo = row.original.cislo_objednavky || '';\n\n        // Case-insensitive a bez diakritiky\n        const normalizedText = removeDiacritics(cislo.toLowerCase());\n        const normalizedFilter = removeDiacritics(filterValue.toLowerCase());\n\n        return normalizedText.includes(normalizedFilter);\n      },\n      cell: ({ row }) => (\n        <div style={{\n          fontWeight: 600,\n          color: '#1e293b',\n          fontFamily: 'monospace',\n          textAlign: 'left',\n          whiteSpace: 'nowrap',\n          overflow: 'visible',\n          position: 'relative'\n        }}>\n          {row.original.mimoradna_udalost && (\n            <SmartTooltip content=\"Mimodn objednvka (krize/havrie)\">\n              <span style={{\n                color: '#dc2626',\n                fontWeight: 'bold',\n                marginRight: '4px',\n                fontSize: '1.1em'\n              }}>\n                <FontAwesomeIcon icon={faBoltLightning} />\n              </span>\n            </SmartTooltip>\n          )}\n          {row.original.stav_objednavky === 'ARCHIVOVANO' && (\n            <span style={{\n              color: '#dc2626',\n              fontWeight: 'bold',\n              marginRight: '4px',\n              fontSize: '1.1em'\n            }}>\n              \n            </span>\n          )}\n          {globalFilter\n            ? highlightText(row.original.cislo_objednavky || '---', globalFilter)\n            : (row.original.cislo_objednavky || '---')\n          }\n          {row.original.id && !row.original.isDraft && !row.original.je_koncept && (\n            <sup style={{\n              fontSize: '0.6rem',\n              color: '#9ca3af',\n              fontWeight: 'normal',\n              marginLeft: '2px'\n            }}>\n              #{row.original.id}\n            </sup>\n          )}\n        </div>\n      ),\n      size: 100\n    },\n    {\n      accessorKey: 'predmet',\n      header: 'Pedmt',\n      sortingFn: (rowA, rowB) => {\n        const predmetA = rowA.original.predmet || '';\n        const predmetB = rowB.original.predmet || '';\n\n        // Przdn hodnoty na konec\n        if (!predmetA && !predmetB) return 0;\n        if (!predmetA) return 1;\n        if (!predmetB) return -1;\n\n        // esk tdn\n        return predmetA.localeCompare(predmetB, 'cs', { sensitivity: 'base' });\n      },\n      filterFn: (row, columnId, filterValue) => {\n        if (!filterValue) return true;\n\n        const predmet = row.original.predmet || '';\n\n        // Case-insensitive a bez diakritiky\n        const normalizedText = removeDiacritics(predmet.toLowerCase());\n        const normalizedFilter = removeDiacritics(filterValue.toLowerCase());\n\n        return normalizedText.includes(normalizedFilter);\n      },\n      cell: ({ row }) => (\n        <div style={{ maxWidth: '300px', overflow: 'hidden', textOverflow: 'ellipsis' }}>\n          {globalFilter\n            ? highlightText(row.original.predmet || '---', globalFilter)\n            : (row.original.predmet || '---')\n          }\n        </div>\n      )\n    },\n    {\n      accessorKey: 'objednatel_garant',\n      header: 'Objednatel / Garant',\n      sortingFn: (rowA, rowB) => {\n        // Tdn primrn podle objednatele\n        const getObjednatelName = (order) => {\n          if (order.objednatel_uzivatel) {\n            if (order.objednatel_uzivatel.cele_jmeno) {\n              return order.objednatel_uzivatel.cele_jmeno;\n            }\n            return getUserDisplayName(null, order.objednatel_uzivatel);\n          }\n          if (order.objednatel) {\n            const obj = order.objednatel;\n            if (obj.cele_jmeno) {\n              return obj.cele_jmeno;\n            }\n            if (obj.jmeno && obj.prijmeni) {\n              const titul_pred_str = obj.titul_pred ? obj.titul_pred + ' ' : '';\n              const titul_za_str = obj.titul_za ? ', ' + obj.titul_za : '';\n              return `${titul_pred_str}${obj.jmeno} ${obj.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n            }\n            if (obj.username) {\n              return obj.username;\n            }\n          }\n          if (order.objednatel_id) {\n            return getUserDisplayName(order.objednatel_id);\n          }\n          return '---';\n        };\n\n        const nameA = getObjednatelName(rowA.original);\n        const nameB = getObjednatelName(rowB.original);\n\n        // esk tdn jmen (--- na konec)\n        if (nameA === '---' && nameB === '---') return 0;\n        if (nameA === '---') return 1;\n        if (nameB === '---') return -1;\n\n        return nameA.localeCompare(nameB, 'cs', { sensitivity: 'base' });\n      },\n      filterFn: (row, columnId, filterValue) => {\n        if (!filterValue) return true;\n\n        const order = row.original;\n        let objednatelName = '---';\n        let garantName = '---';\n\n        // Zskej jmno objednatele\n        if (order.objednatel_uzivatel) {\n          if (order.objednatel_uzivatel.cele_jmeno) {\n            objednatelName = order.objednatel_uzivatel.cele_jmeno;\n          } else {\n            objednatelName = getUserDisplayName(null, order.objednatel_uzivatel);\n          }\n        } else if (order.objednatel) {\n          const obj = order.objednatel;\n          if (obj.cele_jmeno) {\n            objednatelName = obj.cele_jmeno;\n          } else if (obj.jmeno && obj.prijmeni) {\n            const titul_pred_str = obj.titul_pred ? obj.titul_pred + ' ' : '';\n            const titul_za_str = obj.titul_za ? ', ' + obj.titul_za : '';\n            objednatelName = `${titul_pred_str}${obj.jmeno} ${obj.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n          } else if (obj.username) {\n            objednatelName = obj.username;\n          }\n        } else if (order.objednatel_id) {\n          objednatelName = getUserDisplayName(order.objednatel_id);\n        }\n\n        // Zskej jmno garanta\n        if (order.garant_uzivatel) {\n          if (order.garant_uzivatel.cele_jmeno) {\n            garantName = order.garant_uzivatel.cele_jmeno;\n          } else {\n            garantName = getUserDisplayName(null, order.garant_uzivatel);\n          }\n        } else if (order.garant) {\n          const gar = order.garant;\n          if (gar.cele_jmeno) {\n            garantName = gar.cele_jmeno;\n          } else if (gar.jmeno && gar.prijmeni) {\n            const titul_pred_str = gar.titul_pred ? gar.titul_pred + ' ' : '';\n            const titul_za_str = gar.titul_za ? ', ' + gar.titul_za : '';\n            garantName = `${titul_pred_str}${gar.jmeno} ${gar.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n          } else if (gar.username) {\n            garantName = gar.username;\n          }\n        } else if (order.garant_uzivatel_id) {\n          garantName = getUserDisplayName(order.garant_uzivatel_id);\n        }\n\n        // Filtruj podle obou jmen (OR podmnka)\n        const normalizedObjednatel = removeDiacritics(objednatelName.toLowerCase());\n        const normalizedGarant = removeDiacritics(garantName.toLowerCase());\n        const normalizedFilter = removeDiacritics(filterValue.toLowerCase());\n\n        return normalizedObjednatel.includes(normalizedFilter) || normalizedGarant.includes(normalizedFilter);\n      },\n      cell: ({ row }) => {\n        const order = row.original;\n        let objednatelName = '---';\n        let garantName = '---';\n\n        // Zskej jmno objednatele\n        if (order.objednatel_uzivatel) {\n          if (order.objednatel_uzivatel.cele_jmeno) {\n            objednatelName = order.objednatel_uzivatel.cele_jmeno;\n          } else {\n            objednatelName = getUserDisplayName(null, order.objednatel_uzivatel);\n          }\n        } else if (order.objednatel) {\n          const obj = order.objednatel;\n          if (obj.cele_jmeno) {\n            objednatelName = obj.cele_jmeno;\n          } else if (obj.jmeno && obj.prijmeni) {\n            const titul_pred_str = obj.titul_pred ? obj.titul_pred + ' ' : '';\n            const titul_za_str = obj.titul_za ? ', ' + obj.titul_za : '';\n            objednatelName = `${titul_pred_str}${obj.jmeno} ${obj.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n          } else if (obj.username) {\n            objednatelName = obj.username;\n          }\n        } else if (order.objednatel_id) {\n          objednatelName = getUserDisplayName(order.objednatel_id);\n        }\n\n        // Zskej jmno garanta\n        if (order.garant_uzivatel) {\n          if (order.garant_uzivatel.cele_jmeno) {\n            garantName = order.garant_uzivatel.cele_jmeno;\n          } else {\n            garantName = getUserDisplayName(null, order.garant_uzivatel);\n          }\n        } else if (order.garant) {\n          const gar = order.garant;\n          if (gar.cele_jmeno) {\n            garantName = gar.cele_jmeno;\n          } else if (gar.jmeno && gar.prijmeni) {\n            const titul_pred_str = gar.titul_pred ? gar.titul_pred + ' ' : '';\n            const titul_za_str = gar.titul_za ? ', ' + gar.titul_za : '';\n            garantName = `${titul_pred_str}${gar.jmeno} ${gar.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n          } else if (gar.username) {\n            garantName = gar.username;\n          }\n        } else if (order.garant_uzivatel_id) {\n          garantName = getUserDisplayName(order.garant_uzivatel_id);\n        }\n\n        return (\n          <div style={{ lineHeight: '1.3' }} title={`Objednatel: ${objednatelName}\\nGarant: ${garantName}`}>\n            <div style={{ fontWeight: 500 }}>{objednatelName}</div>\n            <div style={{ fontSize: '0.85em', color: '#6b7280' }}>{garantName}</div>\n          </div>\n        );\n      },\n      size: 180\n    },\n    {\n      accessorKey: 'prikazce_schvalovatel',\n      header: 'Pkazce / Schvalovatel',\n      sortingFn: (rowA, rowB) => {\n        const getPrikazceName = (order) => {\n          if (order.prikazce_uzivatel) {\n            return getUserDisplayName(null, order.prikazce_uzivatel);\n          }\n          if (order.prikazce) {\n            const pri = order.prikazce;\n            if (pri.jmeno && pri.prijmeni) {\n              const titul_pred_str = pri.titul_pred ? pri.titul_pred + ' ' : '';\n              const titul_za_str = pri.titul_za ? ', ' + pri.titul_za : '';\n              return `${titul_pred_str}${pri.jmeno} ${pri.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n            }\n            if (pri.username) {\n              return pri.username;\n            }\n            if (pri.cele_jmeno) {\n              return pri.cele_jmeno;\n            }\n          }\n          if (order.prikazce_id) {\n            return getUserDisplayName(order.prikazce_id);\n          }\n          return '---';\n        };\n\n        const nameA = getPrikazceName(rowA.original);\n        const nameB = getPrikazceName(rowB.original);\n\n        // esk tdn jmen (--- na konec)\n        if (nameA === '---' && nameB === '---') return 0;\n        if (nameA === '---') return 1;\n        if (nameB === '---') return -1;\n\n        return nameA.localeCompare(nameB, 'cs', { sensitivity: 'base' });\n      },\n      filterFn: (row, columnId, filterValue) => {\n        if (!filterValue) return true;\n\n        const order = row.original;\n        let prikazceName = '---';\n        let schvalovatelName = '---';\n\n        // Zskej jmno pkazce\n        if (order.prikazce_uzivatel) {\n          prikazceName = getUserDisplayName(null, order.prikazce_uzivatel);\n        } else if (order.prikazce) {\n          const pri = order.prikazce;\n          if (pri.jmeno && pri.prijmeni) {\n            const titul_pred_str = pri.titul_pred ? pri.titul_pred + ' ' : '';\n            const titul_za_str = pri.titul_za ? ', ' + pri.titul_za : '';\n            prikazceName = `${titul_pred_str}${pri.jmeno} ${pri.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n          } else if (pri.username) {\n            prikazceName = pri.username;\n          } else if (pri.cele_jmeno) {\n            prikazceName = pri.cele_jmeno;\n          }\n        } else if (order.prikazce_id) {\n          prikazceName = getUserDisplayName(order.prikazce_id);\n        }\n\n        // Zskej jmno schvalovatele\n        if (order.schvalovatel_uzivatel) {\n          schvalovatelName = getUserDisplayName(null, order.schvalovatel_uzivatel);\n        } else if (order.schvalovatel) {\n          const sch = order.schvalovatel;\n          if (sch.jmeno && sch.prijmeni) {\n            const titul_pred_str = sch.titul_pred ? sch.titul_pred + ' ' : '';\n            const titul_za_str = sch.titul_za ? ', ' + sch.titul_za : '';\n            schvalovatelName = `${titul_pred_str}${sch.jmeno} ${sch.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n          } else if (sch.username) {\n            schvalovatelName = sch.username;\n          } else if (sch.cele_jmeno) {\n            schvalovatelName = sch.cele_jmeno;\n          }\n        } else if (order.schvalovatel_id) {\n          schvalovatelName = getUserDisplayName(order.schvalovatel_id);\n        }\n\n        // Filtruj podle obou jmen (OR podmnka)\n        const normalizedPrikazce = removeDiacritics(prikazceName.toLowerCase());\n        const normalizedSchvalovatel = removeDiacritics(schvalovatelName.toLowerCase());\n        const normalizedFilter = removeDiacritics(filterValue.toLowerCase());\n\n        return normalizedPrikazce.includes(normalizedFilter) || normalizedSchvalovatel.includes(normalizedFilter);\n      },\n      cell: ({ row }) => {\n        const order = row.original;\n        let prikazceName = '---';\n        let schvalovatelName = '---';\n\n        // Zskej jmno pkazce\n        if (order.prikazce_uzivatel) {\n          prikazceName = getUserDisplayName(null, order.prikazce_uzivatel);\n        } else if (order.prikazce) {\n          const pri = order.prikazce;\n          if (pri.jmeno && pri.prijmeni) {\n            const titul_pred_str = pri.titul_pred ? pri.titul_pred + ' ' : '';\n            const titul_za_str = pri.titul_za ? ', ' + pri.titul_za : '';\n            prikazceName = `${titul_pred_str}${pri.jmeno} ${pri.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n          } else if (pri.username) {\n            prikazceName = pri.username;\n          } else if (pri.cele_jmeno) {\n            prikazceName = pri.cele_jmeno;\n          }\n        } else if (order.prikazce_id) {\n          prikazceName = getUserDisplayName(order.prikazce_id);\n        }\n\n        // Zskej jmno schvalovatele\n        if (order.schvalovatel_uzivatel) {\n          schvalovatelName = getUserDisplayName(null, order.schvalovatel_uzivatel);\n        } else if (order.schvalovatel) {\n          const sch = order.schvalovatel;\n          if (sch.jmeno && sch.prijmeni) {\n            const titul_pred_str = sch.titul_pred ? sch.titul_pred + ' ' : '';\n            const titul_za_str = sch.titul_za ? ', ' + sch.titul_za : '';\n            schvalovatelName = `${titul_pred_str}${sch.jmeno} ${sch.prijmeni}${titul_za_str}`.replace(/\\s+/g, ' ').trim();\n          } else if (sch.username) {\n            schvalovatelName = sch.username;\n          } else if (sch.cele_jmeno) {\n            schvalovatelName = sch.cele_jmeno;\n          }\n        } else if (order.schvalovatel_id) {\n          schvalovatelName = getUserDisplayName(order.schvalovatel_id);\n        }\n\n        return (\n          <div style={{ lineHeight: '1.3' }} title={`Pkazce: ${prikazceName}\\nSchvalovatel: ${schvalovatelName}`}>\n            <div style={{ fontWeight: 500 }}>{prikazceName}</div>\n            <div style={{ fontSize: '0.85em', color: '#6b7280' }}>{schvalovatelName}</div>\n          </div>\n        );\n      },\n      size: 180\n    },\n    {\n      accessorKey: 'dodavatel_nazev',\n      header: 'Dodavatel',\n      sortingFn: (rowA, rowB) => {\n        const nameA = rowA.original.dodavatel_nazev || '---';\n        const nameB = rowB.original.dodavatel_nazev || '---';\n\n        // esk tdn nzv (--- na konec)\n        if (nameA === '---' && nameB === '---') return 0;\n        if (nameA === '---') return 1;\n        if (nameB === '---') return -1;\n\n        return nameA.localeCompare(nameB, 'cs', { sensitivity: 'base' });\n      },\n      filterFn: (row, columnId, filterValue) => {\n        if (!filterValue) return true;\n\n        const order = row.original;\n\n        // Vyhledvej v nzvu, IO, adrese, emailu, telefonu, kontaktn osob\n        const searchableText = [\n          order.dodavatel_nazev || '',\n          order.dodavatel_ico || '',\n          order.dodavatel_ulice || '',\n          order.dodavatel_mesto || '',\n          order.dodavatel_psc || '',\n          order.dodavatel_kontakt_email || '',\n          order.dodavatel_kontakt_telefon || '',\n          order.dodavatel_kontakt_jmeno || ''\n        ].join(' ').toLowerCase();\n\n        const normalizedText = removeDiacritics(searchableText);\n        const normalizedFilter = removeDiacritics(filterValue.toLowerCase());\n\n        return normalizedText.includes(normalizedFilter);\n      },\n      cell: ({ row }) => {\n        const order = row.original;\n\n        if (!order.dodavatel_nazev) {\n          return <div style={{ color: '#9ca3af' }}>---</div>;\n        }\n\n        // Sestaven kontakt (email | telefon)\n        const kontakty = [];\n        if (order.dodavatel_kontakt_email) kontakty.push(order.dodavatel_kontakt_email);\n        if (order.dodavatel_kontakt_telefon) kontakty.push(order.dodavatel_kontakt_telefon);\n        const kontaktText = kontakty.join(' | ');\n\n        // Adresa dodavatele\n        const adresaText = order.dodavatel_adresa || '';\n\n        return (\n          <div style={{ lineHeight: '1.4', whiteSpace: 'nowrap' }}>\n            {/* dek 1: Nzev dodavatele */}\n            <div style={{ fontWeight: 500 }}>\n              {order.dodavatel_nazev}\n            </div>\n            {/* dek 2: Adresa (men psmo) */}\n            {adresaText && (\n              <div style={{ fontSize: '0.85em', color: '#6b7280' }}>\n                {adresaText}\n              </div>\n            )}\n            {/* dek 3: IO (men psmo) */}\n            {order.dodavatel_ico && (\n              <div style={{ fontSize: '0.85em', color: '#6b7280' }}>\n                IO: {order.dodavatel_ico}\n              </div>\n            )}\n            {/* dek 4: Email | Telefon */}\n            {kontaktText && (\n              <div style={{ fontSize: '0.85em', color: '#6b7280' }}>\n                {kontaktText}\n              </div>\n            )}\n          </div>\n        );\n      },\n      size: 220\n    },\n    {\n      accessorKey: 'stav_objednavky',\n      header: 'Stav',\n      sortingFn: (rowA, rowB) => {\n        const getStatusText = (order) => {\n          const displayStatus = getOrderDisplayStatus(order);\n\n          if (order.isDraft || order.je_koncept) {\n            return 'Nova / koncept';\n          }\n          if (order.stav_workflow) {\n            if (typeof order.stav_workflow === 'object') {\n              if (order.stav_workflow.nazev_stavu) {\n                return order.stav_workflow.nazev_stavu;\n              }\n              if (order.stav_workflow.nazev) {\n                return order.stav_workflow.nazev;\n              }\n              return 'Neznm stav';\n            }\n            return order.stav_workflow?.nazev_stavu || order.stav_workflow?.nazev || String(order.stav_workflow) || 'Neznm stav';\n          }\n\n          return displayStatus;\n        };\n\n        const statusA = getStatusText(rowA.original);\n        const statusB = getStatusText(rowB.original);\n\n        // esk tdn stav (przdn na konec)\n        if (!statusA && !statusB) return 0;\n        if (!statusA) return 1;\n        if (!statusB) return -1;\n\n        return statusA.localeCompare(statusB, 'cs', { sensitivity: 'base' });\n      },\n      filterFn: (row, columnId, filterValue) => {\n        if (!filterValue) return true;\n\n        const order = row.original;\n        const displayStatus = getOrderDisplayStatus(order);\n        let statusText = displayStatus;\n\n        // Stejn logika jako v sortingFn - zskej zobrazovan text\n        if (order.isDraft || order.je_koncept) {\n          statusText = 'Nova / koncept';\n        } else if (order.stav_workflow) {\n          if (typeof order.stav_workflow === 'object') {\n            if (order.stav_workflow.nazev_stavu) {\n              statusText = order.stav_workflow.nazev_stavu;\n            } else if (order.stav_workflow.nazev) {\n              statusText = order.stav_workflow.nazev;\n            } else {\n              statusText = 'Neznm stav';\n            }\n          } else {\n            statusText = order.stav_workflow?.nazev_stavu || order.stav_workflow?.nazev || String(order.stav_workflow) || 'Neznm stav';\n          }\n        }\n\n        // Case-insensitive a bez diakritiky\n        const normalizedText = removeDiacritics(statusText.toLowerCase());\n        const normalizedFilter = removeDiacritics(filterValue.toLowerCase());\n\n        return normalizedText.includes(normalizedFilter);\n      },\n      cell: ({ row }) => {\n        const order = row.original;\n        const statusCode = getOrderSystemStatus(order);\n        const displayStatus = getOrderDisplayStatus(order);\n\n        // Pouijeme displayStatus (uivatelsky pvtiv) pro zobrazen\n        let statusText = displayStatus;\n\n        // Speciln zobrazen pro koncepty\n        if (order.isDraft || order.je_koncept) {\n          statusText = 'Nova / koncept';\n        }\n        else if (order.stav_workflow) {\n          // Order V2 API enriched me vracet stav_workflow objekt nebo string\n          if (typeof order.stav_workflow === 'object') {\n            // Pouij nazev_stavu pokud je k dispozici\n            if (order.stav_workflow.nazev_stavu) {\n              statusText = order.stav_workflow.nazev_stavu;\n            } else if (order.stav_workflow.nazev) {\n              statusText = order.stav_workflow.nazev;\n            } else {\n              statusText = 'Neznm stav';\n            }\n          } else {\n            // Pro string nebo jin primitivn hodnoty\n            statusText = order.stav_workflow?.nazev_stavu || order.stav_workflow?.nazev || String(order.stav_workflow) || 'Neznm stav';\n          }\n        }\n\n        return (\n          <div style={{\n            display: 'flex',\n            justifyContent: 'flex-start',\n            alignItems: 'center',\n            width: '100%'\n          }}>\n            <StatusBadge\n              $status={statusCode}\n              $isInEditRow={row.original.isDraft || row.original.hasLocalDraftChanges || false}\n            >\n              <FontAwesomeIcon\n                icon={\n                  statusCode === 'NOVA' ? faFilePen :\n                  statusCode === 'KE_SCHVALENI' ? faClock :\n                  statusCode === 'SCHVALENA' ? faShield :\n                  statusCode === 'POTVRZENA' ? faCheckCircle :\n                  statusCode === 'UVEREJNENA' ? faFileContract :\n                  statusCode === 'DOKONCENA' ? faTruck :\n                  statusCode === 'ZRUSENA' ? faXmark :\n                  faCircleNotch\n                }\n                style={{\n                  alignSelf: 'flex-start',\n                  marginTop: '2px',\n                  fontSize: '12px'\n                }}\n              />\n              <span style={{ lineHeight: '1.2' }}>{statusText}</span>\n            </StatusBadge>\n          </div>\n        );\n      }\n    },\n    {\n      accessorKey: 'stav_registru',\n      header: 'Stav registru',\n      sortingFn: (rowA, rowB) => {\n        const getRegistrStav = (order) => {\n          const registr = order.registr_smluv;\n          const workflowStatus = getOrderWorkflowStatus(order);\n\n          if (registr) {\n            if (registr.dt_zverejneni && registr.registr_iddt) {\n              return 'Zveejnno';\n            }\n            if (workflowStatus === 'UVEREJNIT' || registr.zverejnit === 'ANO') {\n              return 'M bt zveejnno';\n            }\n          }\n          if (workflowStatus === 'UVEREJNIT') {\n            return 'M bt zveejnno';\n          }\n\n          return ''; // przdn\n        };\n\n        const stavA = getRegistrStav(rowA.original);\n        const stavB = getRegistrStav(rowB.original);\n\n        // Przdn hodnoty nejprve, pak tdn podle nzvu\n        if (!stavA && !stavB) return 0;\n        if (!stavA) return -1; // przdn nahoru\n        if (!stavB) return 1;\n\n        return stavA.localeCompare(stavB, 'cs', { sensitivity: 'base' });\n      },\n      filterFn: (row, columnId, filterValue) => {\n        if (!filterValue) return true;\n\n        const order = row.original;\n        const registr = order.registr_smluv;\n        const workflowStatus = getOrderWorkflowStatus(order);\n        let stavText = '';\n\n        // Stejn logika jako v sortingFn - zskej zobrazovan text\n        if (registr) {\n          if (registr.dt_zverejneni && registr.registr_iddt) {\n            stavText = 'Zveejnno';\n          } else if (workflowStatus === 'UVEREJNIT' || registr.zverejnit === 'ANO') {\n            stavText = 'M bt zveejnno';\n          }\n        } else if (workflowStatus === 'UVEREJNIT') {\n          stavText = 'M bt zveejnno';\n        }\n\n        // Pokud je przdn, prohledvej i \"---\" (pro ppad, e uivatel zad ---)\n        if (!stavText) {\n          const normalizedFilter = removeDiacritics(filterValue.toLowerCase());\n          return normalizedFilter === '---' || normalizedFilter === '';\n        }\n\n        // Case-insensitive a bez diakritiky\n        const normalizedText = removeDiacritics(stavText.toLowerCase());\n        const normalizedFilter = removeDiacritics(filterValue.toLowerCase());\n\n        return normalizedText.includes(normalizedFilter);\n      },\n      cell: ({ row }) => {\n        const order = row.original;\n        const registr = order.registr_smluv;\n        const workflowStatus = getOrderWorkflowStatus(order);\n\n        let stavText = '';\n        let stavIcon = null;\n        let statusCode = 'EMPTY'; // Pro przdn stav\n\n        // Logika podle BE struktury + workflow stavu:\n        // 1. Pokud existuje dt_zverejneni A registr_iddt -> \"Zveejnno\"\n        // 2. Pokud je workflow stav UVEREJNIT NEBO zverejnit: \"ANO\" -> \"M bt zveejnno\"\n        // 3. Jinak -> przdn\n\n        if (registr) {\n          // 1. Zveejnno - m vyplnn oboje dt_zverejneni I registr_iddt\n          if (registr.dt_zverejneni && registr.registr_iddt) {\n            stavText = 'Zveejnno';\n            stavIcon = faCheckCircle;\n            statusCode = 'UVEREJNENA'; // Pouij status code pro zelen tma\n          }\n          // 2. M bt zveejnno - workflow stav UVEREJNIT NEBO m zakrtnut zverejnit: 'ANO'\n          else if (workflowStatus === 'UVEREJNIT' || registr.zverejnit === 'ANO') {\n            stavText = 'M bt zveejnno';\n            stavIcon = faClock;\n            statusCode = 'KE_SCHVALENI'; // Pouij status code pro oranov tma\n          }\n        }\n        // Zkontroluj i ppad, kdy registr_smluv neexistuje, ale stav je UVEREJNIT\n        else if (workflowStatus === 'UVEREJNIT') {\n          stavText = 'M bt zveejnno';\n          stavIcon = faClock;\n          statusCode = 'KE_SCHVALENI';\n        }\n\n        // Pokud nemme dn stav, vra ---\n        if (!stavText) {\n          return (\n            <div style={{\n              textAlign: 'left',\n              color: '#94a3b8',\n              fontSize: '0.9em'\n            }}>\n              ---\n            </div>\n          );\n        }\n\n        return (\n          <div style={{\n            display: 'flex',\n            justifyContent: 'flex-start',\n            alignItems: 'center',\n            width: '100%'\n          }}>\n            <StatusBadge\n              $status={statusCode}\n              $isInEditRow={false}\n              title={registr?.registr_iddt || ''}\n            >\n              <FontAwesomeIcon\n                icon={stavIcon}\n                style={{\n                  alignSelf: 'flex-start',\n                  marginTop: '2px',\n                  fontSize: '12px'\n                }}\n              />\n              <span style={{ lineHeight: '1.2' }}>{stavText}</span>\n            </StatusBadge>\n          </div>\n        );\n      },\n      size: 150\n    },\n    {\n      accessorKey: 'cena_s_dph',\n      header: 'Cena s DPH',\n      sortingFn: (rowA, rowB) => {\n        const priceA = getOrderTotalPriceWithDPH(rowA.original);\n        const priceB = getOrderTotalPriceWithDPH(rowB.original);\n\n        // Numerick tdn (0 nebo NaN na konec)\n        const validA = !isNaN(priceA) && priceA > 0 ? priceA : -Infinity;\n        const validB = !isNaN(priceB) && priceB > 0 ? priceB : -Infinity;\n\n        return validA - validB;\n      },\n      filterFn: (row, columnId, filterValue) => {\n        if (!filterValue) return true;\n\n        const price = getOrderTotalPriceWithDPH(row.original);\n        const filterTrimmed = filterValue.trim();\n\n        // Podpora pro porovnvac opertory: =10000, <10000, >10000\n        if (filterTrimmed.match(/^[=<>]/)) {\n          const operator = filterTrimmed[0];\n          const valueStr = filterTrimmed.substring(1).trim().replace(/\\s/g, '').replace(/,/g, '');\n          const compareValue = parseFloat(valueStr);\n\n          // Platn slo pro porovnn (vetn 0)\n          if (!isNaN(compareValue) && !isNaN(price)) {\n            if (operator === '=') return Math.abs(price - compareValue) < 0.01; // Rovnost s toleranc\n            if (operator === '<') return price < compareValue;\n            if (operator === '>') return price > compareValue;\n          }\n          return false;\n        }\n\n        // Bn vyhledvn v textu\n        if (!isNaN(price)) {\n          if (price > 0) {\n            // Formtuj cenu jako string pro vyhledvn\n            const priceText = price.toLocaleString('cs-CZ');\n\n            // Case-insensitive (sla bez diakritiky)\n            const normalizedText = priceText.toLowerCase();\n            const normalizedFilter = filterValue.toLowerCase();\n\n            return normalizedText.includes(normalizedFilter);\n          } else {\n            // Cena je 0 - hledej \"0\" nebo \"---\"\n            return filterValue === '0' || filterValue === '---' || filterValue === '';\n          }\n        }\n\n        // Pokud nem cenu, hledej \"---\"\n        return filterValue === '---' || filterValue === '';\n      },\n      cell: ({ row }) => {\n        //  Pouij helper funkci pro pesn vpoet ceny s DPH\n        const price = getOrderTotalPriceWithDPH(row.original);\n        return (\n          <div style={{ textAlign: 'right', fontWeight: 600, fontFamily: 'monospace', whiteSpace: 'nowrap' }}>\n            {!isNaN(price) && price > 0 ? <>{price.toLocaleString('cs-CZ')}&nbsp;K</> : '---'}\n          </div>\n        );\n      }\n    },\n    {\n      accessorKey: 'max_cena_s_dph',\n      header: 'Max. cena s DPH',\n      sortingFn: (rowA, rowB) => {\n        const priceA = parseFloat(rowA.original.max_cena_s_dph || 0);\n        const priceB = parseFloat(rowB.original.max_cena_s_dph || 0);\n\n        // Numerick tdn (0 nebo NaN na konec)\n        const validA = !isNaN(priceA) && priceA > 0 ? priceA : -Infinity;\n        const validB = !isNaN(priceB) && priceB > 0 ? priceB : -Infinity;\n\n        return validA - validB;\n      },\n      filterFn: (row, columnId, filterValue) => {\n        if (!filterValue) return true;\n\n        const price = parseFloat(row.original.max_cena_s_dph || 0);\n        const filterTrimmed = filterValue.trim();\n\n        // Podpora pro porovnvac opertory: =10000, <10000, >10000\n        if (filterTrimmed.match(/^[=<>]/)) {\n          const operator = filterTrimmed[0];\n          const valueStr = filterTrimmed.substring(1).trim().replace(/\\s/g, '').replace(/,/g, '');\n          const compareValue = parseFloat(valueStr);\n\n          // Platn slo pro porovnn (vetn 0)\n          if (!isNaN(compareValue) && !isNaN(price)) {\n            if (operator === '=') return Math.abs(price - compareValue) < 0.01; // Rovnost s toleranc\n            if (operator === '<') return price < compareValue;\n            if (operator === '>') return price > compareValue;\n          }\n          return false;\n        }\n\n        // Bn vyhledvn v textu\n        if (!isNaN(price)) {\n          if (price > 0) {\n            // Formtuj cenu jako string pro vyhledvn\n            const priceText = price.toLocaleString('cs-CZ');\n\n            // Case-insensitive (sla bez diakritiky)\n            const normalizedText = priceText.toLowerCase();\n            const normalizedFilter = filterValue.toLowerCase();\n\n            return normalizedText.includes(normalizedFilter);\n          } else {\n            // Cena je 0 - hledej \"0\" nebo \"---\"\n            return filterValue === '0' || filterValue === '---' || filterValue === '';\n          }\n        }\n\n        // Pokud nem cenu, hledej \"---\"\n        return filterValue === '---' || filterValue === '';\n      },\n      cell: ({ row }) => {\n        const price = parseFloat(row.original.max_cena_s_dph || 0);\n        return (\n          <div style={{ textAlign: 'right', fontWeight: 600, fontFamily: 'monospace', whiteSpace: 'nowrap' }}>\n            {!isNaN(price) && price > 0 ? <>{price.toLocaleString('cs-CZ')}&nbsp;K</> : '---'}\n          </div>\n        );\n      }\n    },\n    {\n      id: 'actions',\n      header: () => (\n        <div style={{\n          textAlign: 'center',\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          width: '100%'\n        }}>\n          <FontAwesomeIcon\n            icon={faBolt}\n            style={{\n              color: '#eab308',\n              fontSize: '16px'\n            }}\n          />\n        </div>\n      ),\n      cell: ({ row }) => {\n        //  PERFORMANCE: Use refs to avoid columns re-render when pagination changes\n        const orderIndex = row.index; // LOCAL index in current page\n        const orderId = row.original.id; // Actual order ID from database\n        return (\n          <ActionMenu onClick={handleActionClick}>\n            {/* 1 EDIT */}\n            <ActionMenuButton\n              className=\"edit\"\n              data-action=\"edit\"\n              data-order-index={orderIndex}\n              data-order-id={orderId}\n              title={\n                row.original.isDraft\n                  ? \"Vrtit se ke konceptu objednvky\"\n                  : row.original.hasLocalDraftChanges\n                    ? \"Pokraovat v editaci\"\n                    : \"Editovat\"\n              }\n              disabled={!canEdit(row.original)}\n            >\n              <FontAwesomeIcon icon={faEdit} />\n            </ActionMenuButton>\n            {/* 2 EVIDOVAT FAKTURU */}\n            <ActionMenuButton\n              className=\"create-invoice\"\n              data-action=\"create-invoice\"\n              data-order-index={orderIndex}\n              data-order-id={orderId}\n              title={row.original.hasLocalDraftChanges \n                ? 'Objednvka je prv oteven na formuli - zavete ji pro evidovn faktury' \n                : (!canCreateInvoice(row.original) \n                  ? 'Evidovn faktury je dostupn pouze pro objednvky od stavu ROZPRACOVAN' \n                  : 'Evidovat fakturu k tto objednvce')}\n              disabled={row.original.hasLocalDraftChanges || !canCreateInvoice(row.original)}\n            >\n              <FontAwesomeIcon icon={faFileInvoice} />\n            </ActionMenuButton>\n            {/* 3 GENEROVAT DOCX */}\n            <ActionMenuButton\n              className=\"export-document\"\n              data-action=\"export\"\n              data-order-index={orderIndex}\n              data-order-id={orderId}\n              title={row.original.hasLocalDraftChanges \n                ? 'Objednvka je prv oteven na formuli - zavete ji pro generovn DOCX' \n                : (!canExportDocument(row.original) \n                  ? 'Generovn DOCX je dostupn pouze pro objednvky od stavu ROZPRACOVAN' \n                  : 'Generovat DOCX')}\n              disabled={row.original.hasLocalDraftChanges || !canExportDocument(row.original)}\n            >\n              <FontAwesomeIcon icon={faFileWord} />\n            </ActionMenuButton>\n            {/* 4 FINANN KONTROLA */}\n            <ActionMenuButton\n              className=\"financial-control\"\n              data-action=\"financial-control\"\n              data-order-index={orderIndex}\n              data-order-id={orderId}\n              title={getOrderSystemStatus(row.original) !== 'DOKONCENA' \n                ? 'Finann kontrola je dostupn pouze pro objednvky ve stavu DOKONENA'\n                : 'Generovat finann kontrolu (PDF/tisk)'\n              }\n              disabled={getOrderSystemStatus(row.original) !== 'DOKONCENA'}\n            >\n              <FontAwesomeIcon icon={faListCheck} />\n            </ActionMenuButton>\n            {/* 5 SMAZAT */}\n            <ActionMenuButton\n              className=\"delete\"\n              data-action=\"delete\"\n              data-order-index={orderIndex}\n              data-order-id={orderId}\n              title=\"Smazat\"\n              disabled={!canDelete(row.original)}\n            >\n              <FontAwesomeIcon icon={faTrash} />\n            </ActionMenuButton>\n          </ActionMenu>\n        );\n      },\n      size: 120,\n      minSize: 120,\n      maxSize: 140\n    }\n  ], [getOrderDate, getOrderWorkflowStatus, getOrderSystemStatus, globalFilter, highlightText, handleActionClick, getUserDisplayName]);\n  //  CRITICAL: Removed currentPageIndex, pageSize from deps\n  // orderIndex is calculated inside cell renderer, doesn't need to be in deps\n  // handleActionClick has stable reference (no deps) - won't cause re-render\n  // Removed 'users' dependency - uses usersRef.current via getUserDisplayName instead\n  // This prevents entire table re-render when users object changes (loadData)\n\n  //  FUNKCE PRO ZVRAZNN VYHLEDVANHO TEXTU V PODDCCH\n  const highlightSearchText = useCallback((text, searchTerm) => {\n    if (!text || !searchTerm || typeof text !== 'string') return text;\n\n    const normalizedText = String(text);\n    const normalizedSearch = removeDiacritics(searchTerm.toLowerCase());\n\n    if (!normalizedSearch) return normalizedText;\n\n    // Najdi vechny vskyty vyhledvanho textu (bez diakritiky)\n    const textLower = removeDiacritics(normalizedText.toLowerCase());\n    const parts = [];\n    let lastIndex = 0;\n    let index = textLower.indexOf(normalizedSearch);\n\n    while (index !== -1) {\n      // Pidej text ped nalezenm vskytem\n      if (index > lastIndex) {\n        parts.push(\n          <span key={`text-${lastIndex}`}>\n            {normalizedText.substring(lastIndex, index)}\n          </span>\n        );\n      }\n\n      // Pidej zvraznn text\n      parts.push(\n        <mark\n          key={`highlight-${index}`}\n          style={{\n            backgroundColor: '#fef08a',\n            color: '#854d0e',\n            fontWeight: 600,\n            padding: '1px 2px',\n            borderRadius: '2px',\n            boxShadow: '0 0 0 1px rgba(133, 77, 14, 0.1)'\n          }}\n        >\n          {normalizedText.substring(index, index + normalizedSearch.length)}\n        </mark>\n      );\n\n      lastIndex = index + normalizedSearch.length;\n      index = textLower.indexOf(normalizedSearch, lastIndex);\n    }\n\n    // Pidej zbytek textu\n    if (lastIndex < normalizedText.length) {\n      parts.push(\n        <span key={`text-${lastIndex}`}>\n          {normalizedText.substring(lastIndex)}\n        </span>\n      );\n    }\n\n    return parts.length > 0 ? <>{parts}</> : normalizedText;\n  }, []);\n\n  // Get unique users for dropdowns from current orders data\n\n  //  REFACTORED: Filter function - rozdleno do modulrnch funkc\n  const filteredData = useMemo(() => {\n    const filtered = orders.filter(order => {\n      // 1. \"Jen moje\" filtr\n      if (!filterMyOrders(order, showOnlyMyOrders, userDetail, currentUserId)) return false;\n\n      // 2a. Sloupcov filtry z hlaviky tabulky (textov)\n      if (!applyColumnFilters(order, columnFilters, getOrderDate, getOrderDisplayStatus, getUserDisplayName)) return false;\n\n      // 2b. Multiselect filtry z rozenho panelu (ID)\n      if (!applyColumnFilters(order, multiselectFilters, getOrderDate, getOrderDisplayStatus, getUserDisplayName)) return false;\n\n      // 3. Globln vyhledvn\n      if (!filterByGlobalSearch(order, globalFilter, getUserDisplayName, getOrderDisplayStatus)) return false;\n\n      // 4. Filtr podle statusu (pole stav)\n      if (!filterByStatusArray(order, statusFilter, getOrderSystemStatus)) return false;\n\n      // 5. Filtr archivovanch\n      if (!filterByArchived(order, showArchived, getOrderSystemStatus)) return false;\n\n      // 6. Filtr podle uivatele\n      if (!filterByUser(order, userFilter)) return false;\n\n      // 7. Filtr podle datovho rozmez\n      if (!filterByDateRange(order, dateFromFilter, dateToFilter, getOrderDate)) return false;\n\n      // 8. Filtr podle stky\n      if (!filterByAmountRange(order, amountFromFilter, amountToFilter)) return false;\n\n      // 9. Filtr podle registru smluv\n      if (!filterByRegistrStatus(order, filterMaBytZverejneno, filterByloZverejneno, getOrderWorkflowStatus)) return false;\n\n      // 10. Filtr podle mimodnch objednvek\n      if (filterMimoradneObjednavky) {\n        if (!order.mimoradna_udalost) return false;\n      }\n\n      // 11. Filtr podle faktur (min. 1 faktura)\n      if (filterWithInvoices) {\n        const faktury = order.faktury || [];\n        const fakturyCount = order.faktury_count || faktury.length || 0;\n        if (fakturyCount === 0) return false;\n      }\n\n      // 12. Filtr podle ploh (min. 1 ploha)\n      if (filterWithAttachments) {\n        const prilohy = order.prilohy || [];\n        const prilohyCount = order.prilohy_count || prilohy.length || 0;\n        if (prilohyCount === 0) return false;\n      }\n\n      return true;\n    });\n\n    //  SORTING: Koncepty (drafty) vdy jako prvn\n    // Objednvky co nejsou jet uloen v DB (isDraft nebo je_koncept) zobrazit jako prvn dky\n    const sortedFiltered = filtered.sort((a, b) => {\n      const aIsDraft = a.isDraft || a.je_koncept || false;\n      const bIsDraft = b.isDraft || b.je_koncept || false;\n      \n      // Pokud jedna je draft a druh ne, draft je prvn\n      if (aIsDraft && !bIsDraft) return -1;\n      if (!aIsDraft && bIsDraft) return 1;\n      \n      // Jinak zachovat pvodn poad\n      return 0;\n    });\n\n    return sortedFiltered;\n  }, [\n    orders,\n    columnFilters,\n    multiselectFilters,\n    globalFilter,\n    statusFilter,\n    userFilter,\n    dateFromFilter,\n    dateToFilter,\n    amountFromFilter,\n    amountToFilter,\n    filterMaBytZverejneno,\n    filterByloZverejneno,\n    filterMimoradneObjednavky,\n    filterWithInvoices,\n    filterWithAttachments,\n    getOrderDate,\n    getUserDisplayName,\n    getOrderDisplayStatus,\n    getOrderSystemStatus,\n    showArchived,\n    showOnlyMyOrders,\n    userDetail,\n    currentUserId,\n    getOrderWorkflowStatus\n  ]);\n\n  //  DEBUG: Ulo filtered data pro test panel\n  useEffect(() => {\n    setApiTestData(prev => ({\n      ...prev,\n      filteredData: filteredData,\n      filteredCount: filteredData.length,\n      archivedInFiltered: filteredData.filter(o => getOrderSystemStatus(o) === 'ARCHIVOVANO').length,\n      nonArchivedInFiltered: filteredData.filter(o => getOrderSystemStatus(o) !== 'ARCHIVOVANO').length,\n      filterState: {\n        showArchived,\n        selectedYear,\n        selectedMonth,\n        canViewAllOrders: permissionsRef.current?.canViewAll,\n        currentUserId\n      }\n    }));\n  }, [filteredData, showArchived, selectedYear, selectedMonth, currentUserId, getOrderSystemStatus]);\n\n  //  SCROLL STATE: Obnov rozbalen objednvky A kdy je filteredData ready\n  useEffect(() => {\n    // Aktualizuj ref pro pouit v save useEffect\n    filteredDataRef.current = filteredData;\n\n    if (!pendingExpandedOrderIds.current || filteredData.length === 0) {\n      return;\n    }\n\n    // Pokej na render tabulky, pak rozbali objednvky podle ID\n    setTimeout(() => {\n      // Double-check e ref stle existuje (mohl bt vynulovn mezitm)\n      if (!pendingExpandedOrderIds.current || !Array.isArray(pendingExpandedOrderIds.current)) {\n        return;\n      }\n\n      const newExpanded = {};\n\n      // Najdi indexy objednvek podle ID\n      pendingExpandedOrderIds.current.forEach(orderId => {\n        const index = filteredData.findIndex(order => order.id === orderId);\n        if (index >= 0) {\n          newExpanded[index] = true;\n        }\n      });\n\n      if (Object.keys(newExpanded).length > 0) {\n        setExpanded(newExpanded);\n\n        //  INITIALIZATION: Ozna dokonen rozbalen\n        initStepsCompleted.current.expandedRestored = true;\n\n        // Ozna scroll jako \"pipraven\"\n        initStepsCompleted.current.scrollRestored = true;\n      } else {\n        // dn objednvky se nepodailo rozbalit\n        initStepsCompleted.current.expandedRestored = true;\n        initStepsCompleted.current.scrollRestored = true;\n      }\n\n      // Vyisti ref\n      pendingExpandedOrderIds.current = null;\n    }, 100); // Krtk ekn aby se stihla vykreslit tabulka\n  }, [filteredData]); // Spust se kdy je filteredData pipraven\n\n  //  INITIALIZATION: Kontroluj dokonen vech krok a skryj splash screen\n  //  REVERT: Vrcen pvodn polling pstup (funguje spolehliv)\n  // Event-driven pstup by vyadoval pepis vech mst kde se nastavuje initStepsCompleted.current\n  useEffect(() => {\n    const steps = initStepsCompleted.current;\n\n    // Kontroluj kadch 100ms jestli jsou vechny kroky hotov\n    const checkInterval = setInterval(() => {\n      if (steps.dataLoaded && steps.paginationRestored &&\n          steps.expandedRestored && steps.scrollRestored) {\n\n        // Zani fade-out\n        setSplashVisible(false);\n\n        // Po dokonen fade animace (200ms) ozna inicializaci jako hotovou\n        setTimeout(() => {\n          setInitializationComplete(true);\n        }, 200);\n\n        clearInterval(checkInterval);\n      }\n    }, 100);\n\n    // Cleanup\n    return () => clearInterval(checkInterval);\n  }, []); // Spust se jen jednou pi mount\n\n  // Debug log - upozornn na aktivn filtry bez vsledk\n  useEffect(() => {\n    const hasActiveFilters =\n      globalFilter ||\n      (Array.isArray(statusFilter) && statusFilter.length > 0) ||\n      userFilter ||\n      dateFromFilter ||\n      dateToFilter ||\n      amountFromFilter ||\n      amountToFilter ||\n      Object.values(columnFilters).some(val => val);\n\n    if (hasActiveFilters && orders.length > 0 && filteredData.length === 0) {\n      // Filter warning detection - filters are hiding all orders\n    }\n  }, [filteredData.length, orders.length, globalFilter, statusFilter, userFilter, dateFromFilter, dateToFilter, amountFromFilter, amountToFilter, columnFilters]);\n\n  // Funkce pro rozbalen/sbalen vech dk\n  const expandAllRows = () => {\n    table.toggleAllRowsExpanded(true);\n  };\n\n  const collapseAllRows = () => {\n    table.toggleAllRowsExpanded(false);\n  };\n\n  const toggleAllRows = () => {\n    const anyExpanded = table.getIsSomeRowsExpanded();\n    table.toggleAllRowsExpanded(!anyExpanded);\n  };\n\n  // Table instance\n  const table = useReactTable({\n    data: filteredData,\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n    getExpandedRowModel: getExpandedRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    getPaginationRowModel: getPaginationRowModel(),\n    enableExpanding: true,\n    getRowCanExpand: () => true,\n    enableRowSelection: true,\n    manualPagination: false,\n    state: {\n      sorting,\n      expanded,\n      rowSelection,\n      pagination: {\n        pageSize: pageSize,\n        pageIndex: currentPageIndex,\n      },\n    },\n    onSortingChange: setSorting,\n    onExpandedChange: setExpanded,\n    onRowSelectionChange: setRowSelection,\n  });\n\n  //  OPTIMALIZACE: Odstrann redundantn useEffect pro table.setPageSize/Index\n  // React Table automaticky reaguje na zmny v state.pagination prop\n  // Manuln nastavovn zpsobovalo potenciln race conditions\n\n  //  OPTIMALIZACE: sorting useEffect byl pesunut do batch localStorage updatu ve\n\n  // Reset to first page if current page is out of bounds - sleduj jen data length\n  const pageCount = Math.max(1, Math.ceil(filteredData.length / pageSize));\n  useEffect(() => {\n    const maxPageIndex = pageCount - 1;\n    if (currentPageIndex > maxPageIndex && maxPageIndex >= 0) {\n      setCurrentPageIndex(0);\n      setUserStorage('orders25List_pageIndex', 0);\n      // React Table automaticky reaguje na zmnu state.pagination.pageIndex\n    }\n  }, [pageCount, currentPageIndex, pageSize]); //  Bez 'table' a 'filteredData'\n\n  // Pagination navigation helpers - pm funkce bez memoizace (table se mn kad render)\n  const goToFirstPage = () => {\n    saveCurrentScrollState();\n    setCurrentPageIndex(0);\n    setUserStorage('orders25List_pageIndex', 0);\n  };\n\n  const goToPreviousPage = () => {\n    saveCurrentScrollState();\n    const newIndex = Math.max(0, currentPageIndex - 1);\n    setCurrentPageIndex(newIndex);\n    setUserStorage('orders25List_pageIndex', newIndex);\n  };\n\n  const goToNextPage = () => {\n    saveCurrentScrollState();\n    const newIndex = Math.min(pageCount - 1, currentPageIndex + 1);\n    setCurrentPageIndex(newIndex);\n    setUserStorage('orders25List_pageIndex', newIndex);\n  };\n\n  const goToLastPage = () => {\n    saveCurrentScrollState();\n    const lastIndex = pageCount - 1;\n    setCurrentPageIndex(lastIndex);\n    setUserStorage('orders25List_pageIndex', lastIndex);\n  };\n\n  // Permission checks\n  const canEdit = (order) => {\n    if (!hasPermission) return false;\n\n    // Koncepty me editovat kad kdo m zkladn prva (je to jeho vlastn koncept)\n    if (order.isDraft || order.je_koncept) {\n      return hasPermission('ORDER_EDIT_ALL') || hasPermission('ORDER_EDIT_OWN');\n    }\n\n    // Uivatel s ORDER_*_ALL oprvnnmi mohou editovat vechny objednvky\n    if (hasPermission('ORDER_EDIT_ALL') || hasPermission('ORDER_MANAGE')) {\n      // hasPermission('ORDER_OLD') - ORDER_OLD je pouze pro star systm (Orders.js)\n      return true;\n    }\n\n    // Uivatel s ORDER_*_OWN oprvnnmi (vetn ORDER_2025) mohou editovat pouze sv objednvky\n    //  FIX: Pouij currentUserId (number) msto user_id (string)\n    if (hasPermission('ORDER_EDIT_OWN') || hasPermission('ORDER_2025')) {\n      return order.objednatel_id === currentUserId ||\n             order.uzivatel_id === currentUserId ||\n             order.garant_uzivatel_id === currentUserId ||\n             order.schvalovatel_id === currentUserId;\n    }\n\n    return false;\n  };\n\n  const canDelete = (order) => {\n    if (!hasPermission) return false;\n\n    // Zakzat smazn pro objednvky v editaci/konceptu\n    if (order.isDraft || order.je_koncept || order.hasLocalDraftChanges) return false;\n\n    // Importovan objednvky (ARCHIVOVANO) mohou mazat pouze ORDER_MANAGE a ORDER_DELETE_ALL\n    if (order.stav_objednavky === 'ARCHIVOVANO') {\n      return hasPermission('ORDER_MANAGE') || hasPermission('ORDER_DELETE_ALL');\n    }\n\n    // Uivatel s ORDER_*_ALL oprvnnmi mohou mazat vechny objednvky\n    if (hasPermission('ORDER_DELETE_ALL') || hasPermission('ORDER_MANAGE')) {\n      // hasPermission('ORDER_OLD') - ORDER_OLD je pouze pro star systm (Orders.js)\n      return true;\n    }\n\n    // Uivatel s ORDER_*_OWN oprvnnmi (vetn ORDER_2025) mohou mazat pouze sv objednvky\n    //  FIX: Pouij currentUserId (number) msto user_id (string)\n    if (hasPermission('ORDER_DELETE_OWN') || hasPermission('ORDER_2025')) {\n      return order.objednatel_id === currentUserId ||\n             order.uzivatel_id === currentUserId ||\n             order.garant_uzivatel_id === currentUserId ||\n             order.schvalovatel_id === currentUserId;\n    }\n\n    return false;\n  };\n\n  const canExportDocument = (order) => {\n    //  Generovn DOCX: od fze ROZPRACOVANA a do DOKONCENA (dle WorkflowManager fze 3-8)\n    if (!order) return false;\n\n    //  POVOLEN STAVY: Od ROZPRACOVANA a do DOKONCENA\n    //  SCHVALENA NEN POVOLENA - mus nsledovat ROZPRACOVANA nebo vy fze!\n    // Podle WorkflowManager mappingu:\n    // - FZE 3: ROZPRACOVANA (START - zaalo se pracovat)\n    // - FZE 4: POTVRZENA, ODESLANA\n    // - FZE 5-7: UVEREJNIT, UVEREJNENA, NEUVEREJNIT, FAKTURACE, VECNA_SPRAVNOST\n    // - FZE 8: DOKONCENA, ZKONTROLOVANA\n    const allowedStates = [\n      'ROZPRACOVANA',     //  FZE 3 - START (zaalo se vyplovat)\n      //  'SCHVALENA' - pouze schvleno, ale jet se nezaalo pracovat\n      'POTVRZENA',        //  FZE 4\n      'ODESLANA',         //  FZE 4\n      'UVEREJNIT',        //  FZE 5\n      'UVEREJNENA',       //  FZE 6\n      'NEUVEREJNIT',      //  FZE 6\n      'FAKTURACE',        //  FZE 6\n      'VECNA_SPRAVNOST',  //  FZE 7\n      'DOKONCENA',        //  FZE 8 - KONEC\n      'ZKONTROLOVANA',    //  FZE 8\n      'CEKA_SE'           //  Speciln stav - ek se na dodavatele\n    ];\n\n    //  KONTROLUJ ZDA POLE WORKFLOW STAV OBSAHUJE ALESPO JEDEN POVOLEN STAV\n    let workflowStates = [];\n    let aktualniStav = null;\n    let nazevStavu = '';\n\n    try {\n      // Priorita 1: stav_workflow_kod (pole stav - KONTROLUJ OBSAH, ne jen posledn!)\n      if (order.stav_workflow_kod) {\n        //  FIX: Me bt U ARRAY nebo STRING\n        if (Array.isArray(order.stav_workflow_kod)) {\n          workflowStates = order.stav_workflow_kod;\n        } else if (typeof order.stav_workflow_kod === 'string') {\n          workflowStates = JSON.parse(order.stav_workflow_kod);\n          if (!Array.isArray(workflowStates)) {\n            workflowStates = [];\n          }\n        }\n\n        // Vezmi posledn stav pro zobrazen v debug logu\n        if (workflowStates.length > 0) {\n          const lastState = workflowStates[workflowStates.length - 1];\n          if (typeof lastState === 'object' && (lastState.kod_stavu || lastState.nazev_stavu)) {\n            aktualniStav = lastState.kod_stavu || lastState.nazev_stavu;\n            nazevStavu = lastState.nazev_stavu || lastState.kod_stavu || '';\n          } else if (typeof lastState === 'string') {\n            aktualniStav = lastState;\n            nazevStavu = lastState;\n          }\n        }\n      }\n\n      // Priorita 2: fallback na jin pole stavu\n      if (!aktualniStav) {\n        aktualniStav = order.stav_id_num || order.stav_id || order.stav || order.nazev_stavu;\n        nazevStavu = order.nazev_stavu || order.status_name || aktualniStav;\n      }\n    } catch (error) {\n      aktualniStav = order.stav_id_num || order.stav_id || order.nazev_stavu;\n      nazevStavu = order.nazev_stavu || '';\n      workflowStates = [];\n    }\n\n    //  KONTROLA: Obsahuje pole workflow stav ALESPO JEDEN povolen stav?\n    const canGenerate = workflowStates.some(state => {\n      // Normalizuj stav (me bt string nebo objekt)\n      let stavCode = '';\n      if (typeof state === 'object' && (state.kod_stavu || state.nazev_stavu)) {\n        stavCode = String(state.kod_stavu || state.nazev_stavu).toUpperCase().trim();\n      } else if (typeof state === 'string') {\n        stavCode = String(state).toUpperCase().trim();\n      }\n\n      return allowedStates.includes(stavCode);\n    });\n\n    return canGenerate;\n  };\n\n  /**\n   *  Kontrola zda lze evidovat fakturu k objednvce\n   * Od stavu ROZPRACOVANA ve\n   */\n  const canCreateInvoice = (order) => {\n    if (!order) return false;\n\n    //  POVOLEN STAVY: Od ROZPRACOVANA a do DOKONCENA\n    // FZE 3-8 dle WorkflowManager\n    const allowedStates = [\n      'ROZPRACOVANA',     //  FZE 3 - zaalo se vyplovat\n      'ODESLANA',         //  FZE 4 - objednvka byla odeslna\n      'ODESLANO',         //  FZE 4 - alternativn oznaen\n      'POTVRZENA',        //  FZE 4 - dodavatel potvrdil\n      'UVEREJNIT',        //  FZE 5 - ek na zveejnn\n      'NEUVEREJNIT',      //  FZE 6 - nezveejnno v registru, ale platn obj.\n      'UVEREJNENA',       //  FZE 6 - zveejnno v registru\n      'FAKTURACE',        //  FZE 6 - probh fakturace\n      'VECNA_SPRAVNOST',  //  FZE 7 - kontrola vcn sprvnosti\n      'ZKONTROLOVANA',    //  FZE 8 - zkontrolovna\n      'DOKONCENA',        //  FZE 8 - dokoneno\n      'CEKA_SE'           //  Speciln stav - ek se na dodavatele\n    ];\n\n    //  NEPLATN STAVY (stornovan/zamtnut)\n    const invalidStates = ['STORNOVANA', 'ZAMITNUTA'];\n\n    let workflowStates = [];\n    try {\n      if (order.stav_workflow_kod) {\n        if (Array.isArray(order.stav_workflow_kod)) {\n          workflowStates = order.stav_workflow_kod;\n        } else if (typeof order.stav_workflow_kod === 'string') {\n          workflowStates = JSON.parse(order.stav_workflow_kod);\n          if (!Array.isArray(workflowStates)) {\n            workflowStates = [];\n          }\n        }\n      }\n    } catch (error) {\n      workflowStates = [];\n    }\n\n    //  Zkontroluj zda nen stornovan/zamtnut\n    const hasInvalidState = workflowStates.some(state => {\n      let stavCode = '';\n      if (typeof state === 'object' && (state.kod_stavu || state.nazev_stavu)) {\n        stavCode = String(state.kod_stavu || state.nazev_stavu).toUpperCase().trim();\n      } else if (typeof state === 'string') {\n        stavCode = String(state).toUpperCase().trim();\n      }\n      return invalidStates.includes(stavCode);\n    });\n\n    if (hasInvalidState) {\n      return false;\n    }\n\n    //  Zkontroluj zda obsahuje alespo jeden platn stav\n    const hasValidState = workflowStates.some(state => {\n      let stavCode = '';\n      if (typeof state === 'object' && (state.kod_stavu || state.nazev_stavu)) {\n        stavCode = String(state.kod_stavu || state.nazev_stavu).toUpperCase().trim();\n      } else if (typeof state === 'string') {\n        stavCode = String(state).toUpperCase().trim();\n      }\n      return allowedStates.includes(stavCode);\n    });\n\n    return hasValidState;\n  };\n\n  // Funkce pro vbr ablon - nabdni VECHNY aktivn ablony (stejn jako v jednotlivm dialogu)\n  const getTemplateOptions = (order) => {\n    if (!order) return [];\n\n    // Pokud nejsou naten ablony z API, vra przdn pole\n    if (!docxTemplates || docxTemplates.length === 0) {\n      console.warn(' [DOCX] ablony nejsou naten pro order:', order.cislo_objednavky);\n      return [];\n    }\n\n    // Mapuj VECHNY ablony na formt pro select (bez filtrovn!)\n    const options = docxTemplates.map(template => ({\n      value: template.kod || template.id,\n      label: template.nazev || template.kod || 'Bez nzvu'\n    }));\n\n    return options;\n  };\n\n  // Handlers\n  const handleExportDocument = async (order) => {\n    try {\n      //  Pedej enriched data pmo do dialogu (u jsou v order objektu!)\n      setDocxModalOrder(order);\n      setDocxModalOpen(true);\n\n    } catch (error) {\n      console.error(' [Orders25List] Chyba pi otevrn DOCX dialogu:', error);\n      showToast?.(`Chyba pi otevrn DOCX genertoru: ${error.message}`, { type: 'error' });\n    }\n  };\n  const handleEdit = async (order) => {\n    //  KONCEPT vs EDITACE - KRITICK ROZLIEN!\n    //\n    // KONCEPT (isDraft === true):\n    //   - Objekt NEN V DATABZI\n    //   - Je uloen POUZE v localStorage (order25DraftStorageService)\n    //   - URL: /order-form-25?mode=concept\n    //   - Stav: \"Koncept\" (NIKDY ne \"Editace\"!)\n    //\n    // EDITACE (hasLocalDraftChanges === true):\n    //   - Objekt JE V DATABZI (m objednavka_id)\n    //   - M uloen zmny v localStorage\n    //   - URL: /order-form-25?edit=<objednavka_id>\n    //   - Stav: \"Editace\"\n\n    //  KONCEPT - pokraovat v tvorb nov objednvky (nen v DB)\n    if (order.isDraft && !order.objednavka_id) {\n      console.log(' [ORDERS25LIST DEBUG] Navigate to concept:', {\n        orderId: order.id,\n        isDraft: order.isDraft,\n        url: '/order-form-25?mode=concept',\n        reason: 'Continuing draft (not in DB yet)'\n      });\n      navigate(`/order-form-25?mode=concept`);\n      return;\n    }\n\n    //  EDITACE - pokraovat v editaci existujc DB objednvky (m lokln zmny)\n    if (order.hasLocalDraftChanges && order.objednavka_id) {\n      //  ZVRAZNN: Ulo ID objednvky pro zvraznn pi nvratu na seznam\n      try {\n        draftManager.setCurrentUser(user_id);\n        draftManager.saveUIState({ \n          highlightOrderId: order.objednavka_id,\n          editOrderId: order.objednavka_id \n        });\n      } catch (e) {\n        console.error(' Chyba pi ukldn highlightOrderId:', e);\n      }\n      \n      console.log(' [ORDERS25LIST DEBUG] Navigate to edit (with draft):', {\n        orderId: order.objednavka_id,\n        hasLocalDraftChanges: order.hasLocalDraftChanges,\n        url: `/order-form-25?edit=${order.objednavka_id}`,\n        reason: 'Continuing edit with local changes'\n      });\n      navigate(`/order-form-25?edit=${order.objednavka_id}`);\n      return;\n    }\n\n    //  KONTROLA ZAMEN - PRVN VC PED NATNM DAT!\n    // Nati aktuln data z DB pro kontrolu lock_info (BE vrac lock_info v orders25/by-id)\n    const orderIdToCheck = order.id || order.objednavka_id;\n\n    try {\n      //  V2 API\n      const dbOrder = await getOrderV2(\n        orderIdToCheck,\n        token,\n        username,\n        true // enriched = true\n      );\n\n      if (!dbOrder) {\n        showToast('Nepodailo se nast objednvku z databze', { type: 'error' });\n        return;\n      }\n\n      //  NOV LOGIKA podle BE dokumentace (24.10.2025):\n      // BE vrac locked: true POUZE kdy je zamen JINM uivatelem\n      // locked: false znamen \"mu editovat\" (voln NEBO moje zamen)\n\n      //   orderId: orderIdToCheck,\n      //   locked: dbOrder.lock_info?.locked,\n      //   lock_status: dbOrder.lock_info?.lock_status,\n      //   is_owned_by_me: dbOrder.lock_info?.is_owned_by_me,\n      //   locked_by: dbOrder.lock_info?.locked_by_user_fullname\n      // });\n\n      //  JEDNODUCH kontrola podle nov BE smantiky\n      if (dbOrder.lock_info?.locked === true) {\n        //  Zamen JINM uivatelem - ZOBRAZ dialog a BLOKUJ editaci\n        const lockInfo = dbOrder.lock_info;\n        const lockedByUserName = lockInfo.locked_by_user_fullname || `uivatel #${lockInfo.locked_by_user_id}`;\n\n        // Zjisti, zda m uivatel prvo na force unlock (SUPERADMIN nebo ADMINISTRATOR)\n        const canForceUnlock = userDetail?.roles?.some(role =>\n          role.kod_role === 'SUPERADMIN' || role.kod_role === 'ADMINISTRATOR'\n        );\n        // Ulo info o zamen vetn kontaktnch daj (24.10.2025 - rozen lock_info)\n        setLockedOrderInfo({\n          lockedByUserName,\n          lockedByUserEmail: lockInfo.locked_by_user_email || null,\n          lockedByUserTelefon: lockInfo.locked_by_user_telefon || null,\n          lockedAt: lockInfo.locked_at || null,\n          lockAgeMinutes: lockInfo.lock_age_minutes || null,\n          canForceUnlock,\n          orderId: orderIdToCheck,\n          userRoleName: userDetail?.roles?.find(r => r.kod_role === 'SUPERADMIN' || r.kod_role === 'ADMINISTRATOR')?.nazev_role || 'administrtor'\n        });\n        setOrderToEdit(order); // Ulo pro pozdj pouit\n        setShowLockedOrderDialog(true);\n        return; // ZASTAVIT - ekme na rozhodnut uivatele\n      } else {\n        //  locked === false znamen mu editovat (voln NEBO moje zamen)\n        if (dbOrder.lock_info?.is_owned_by_me === true) {\n        } else if (dbOrder.lock_info?.lock_status === 'unlocked' || dbOrder.lock_info?.lock_status === 'expired') {\n        }\n      }\n    } catch (error) {\n      showToast('Chyba pi kontrole dostupnosti objednvky', { type: 'error' });\n      return;\n    }\n\n    // Zkontroluj, jestli existuje validn koncept (pro rozhodnut o confirm dialogu) - DRAFT MANAGER\n    draftManager.setCurrentUser(user_id);\n    const hasDraft = await draftManager.hasDraft();\n\n    let shouldShowConfirmDialog = false;\n    let draftDataToStore = null;\n    let isDraftForThisOrder = false; //  NOV FLAG\n\n    if (hasDraft) {\n      try {\n        const draftData = await draftManager.loadDraft();\n\n        //  KONTROLA OWNERSHIP: Pat draft k TTO objednvce?\n        const draftOrderId = draftData.savedOrderId || draftData.formData?.id;\n        const currentOrderId = order.id;\n\n        //  Pokud draft pat k TTO objednvce, NEPTAT SE!\n        if (draftOrderId && currentOrderId && String(draftOrderId) === String(currentOrderId)) {\n          shouldShowConfirmDialog = false; // Draft pat k tto objednvce - pouij ho tie\n          isDraftForThisOrder = true; //  OZNAIT e draft je pro tuto objednvku\n        } else {\n          //  Draft pat k JIN objednvce - zeptej se\n          const hasNewConcept = isValidConcept(draftData);\n          const hasDbChanges = hasDraftChanges(draftData);\n          shouldShowConfirmDialog = hasNewConcept || hasDbChanges;\n\n          if (shouldShowConfirmDialog) {\n            draftDataToStore = draftData; // Ulo pro zobrazen v modalu\n          }\n        }\n\n      } catch (error) {\n        shouldShowConfirmDialog = false;\n      }\n    }\n\n    //  OPTIMALIZACE: Pokud draft pat k TTO objednvce, rovnou naviguj bez reload\n    if (isDraftForThisOrder) {\n      //  ZVRAZNN: Ulo ID objednvky pro zvraznn pi nvratu na seznam\n      try {\n        draftManager.setCurrentUser(user_id);\n        draftManager.saveUIState({ \n          highlightOrderId: order.id,\n          editOrderId: order.id \n        });\n      } catch (e) {\n        console.error(' Chyba pi ukldn highlightOrderId:', e);\n      }\n      \n      console.log(' [ORDERS25LIST DEBUG] Navigate from row (draft matches):', {\n        orderId: order.id,\n        isDraftForThisOrder: true,\n        url: `/order-form-25?edit=${order.id}`,\n        reason: 'Draft belongs to this order - no reload needed'\n      });\n      // Draft u existuje pro tuto objednvku - pouze naviguj na formul\n      // NEMAZAT draft, NENATAT znovu z DB\n      navigate(`/order-form-25?edit=${order.id}`);\n      return;\n    }\n\n    // KONTROLA: Pokud je objednvka ARCHIVOVANO a zrove existuje koncept\n    if (order.stav_objednavky === 'ARCHIVOVANO' && shouldShowConfirmDialog) {\n      setCurrentDraftData(draftDataToStore);\n      setOrderToEdit(order);\n      setShowArchivedWithDraftWarningModal(true); // Zobraz KOMBINOVAN modal\n      return;\n    }\n\n    // KONTROLA: Pokud je objednvka ARCHIVOVANO (bez konceptu)\n    if (order.stav_objednavky === 'ARCHIVOVANO') {\n      setOrderToEdit(order);\n      setShowArchivedWarningModal(true);\n      return;\n    }\n\n    // Rozhodni, zda zobrazit confirm dialog nebo editovat rovnou\n    if (shouldShowConfirmDialog) {\n      setCurrentDraftData(draftDataToStore); // Ulo draft data\n      setOrderToEdit(order); // Nastav pro modal\n      setShowEditConfirmModal(true);\n    } else {\n      handleEditConfirm(order); // Pedej order pmo\n    }\n  };\n\n  // Handler pro KOMBINOVAN modal (archivovno + draft)\n  const handleArchivedWithDraftConfirm = () => {\n    // 1. Zavi kombinovan modal\n    setShowArchivedWithDraftWarningModal(false);\n\n    // 2. Sma existujc draft z localStorage - DRAFT MANAGER\n    draftManager.setCurrentUser(user_id);\n    draftManager.deleteDraft();\n\n    // 3. Edituj archivovanou objednvku (s parametrem archivovano=1)\n    if (orderToEdit) {\n      handleEditConfirm(orderToEdit);\n    }\n  };\n\n  const handleArchivedWarningConfirm = async () => {\n    // Zavi archivovan warning modal\n    setShowArchivedWarningModal(false);\n\n    // Pokrauj v normlnm edit flow - zkontroluj, jestli existuje koncept - DRAFT MANAGER\n    draftManager.setCurrentUser(user_id);\n    const hasDraft = await draftManager.hasDraft();\n\n    let shouldShowConfirmDialog = false;\n    let isDraftForThisOrder = false; //  NOV FLAG\n\n    if (hasDraft) {\n      try {\n        const draftData = await draftManager.loadDraft();\n\n        //  KONTROLA OWNERSHIP: Pat draft k TTO objednvce?\n        const draftOrderId = draftData.savedOrderId || draftData.formData?.id;\n        const currentOrderId = orderToEdit?.id;\n\n        //  Pokud draft pat k TTO objednvce, NEPTAT SE!\n        if (draftOrderId && currentOrderId && String(draftOrderId) === String(currentOrderId)) {\n          shouldShowConfirmDialog = false; // Draft pat k tto objednvce - pouij ho tie\n          isDraftForThisOrder = true; //  OZNAIT e draft je pro tuto objednvku\n        } else {\n          //  Draft pat k JIN objednvce - zeptej se\n          const hasNewConcept = isValidConcept(draftData);\n          const hasDbChanges = hasDraftChanges(draftData);\n          shouldShowConfirmDialog = hasNewConcept || hasDbChanges;\n        }\n      } catch (error) {\n        shouldShowConfirmDialog = false;\n      }\n    }\n\n    //  OPTIMALIZACE: Pokud draft pat k TTO objednvce, rovnou naviguj bez reload\n    if (isDraftForThisOrder && orderToEdit) {\n      //  ZVRAZNN: Ulo ID objednvky pro zvraznn pi nvratu na seznam\n      try {\n        draftManager.setCurrentUser(user_id);\n        draftManager.saveUIState({ \n          highlightOrderId: orderToEdit.id,\n          editOrderId: orderToEdit.id \n        });\n      } catch (e) {\n        console.error(' Chyba pi ukldn highlightOrderId:', e);\n      }\n      \n      console.log(' [ORDERS25LIST DEBUG] Navigate from archived modal (draft matches):', {\n        orderId: orderToEdit.id,\n        isDraftForThisOrder: true,\n        isArchived: true,\n        url: `/order-form-25?edit=${orderToEdit.id}&archivovano=1`,\n        reason: 'Draft belongs to this archived order - no reload needed'\n      });\n      // Draft u existuje pro tuto objednvku - pouze naviguj na formul\n      navigate(`/order-form-25?edit=${orderToEdit.id}&archivovano=1`);\n      return;\n    }\n\n    // Rozhodni, zda zobrazit confirm dialog nebo editovat rovnou\n    if (shouldShowConfirmDialog) {\n      setShowEditConfirmModal(true);\n    } else {\n      handleEditConfirm(orderToEdit);\n    }\n  };\n\n  const handleEditConfirm = async (orderParam = null) => {\n\n    // Pokud orderParam je SyntheticEvent (z onClick), ignoruj ho a pouij orderToEdit ze state\n    let orderToUse = orderToEdit;\n    if (orderParam && orderParam.id && !orderParam.type) { // orderParam je skuten objednvka, ne event\n      orderToUse = orderParam;\n    }\n\n    if (!orderToUse) {\n      return;\n    }\n\n    try {\n      const orderIdToLoad = orderToUse.id || orderToUse.objednavka_id;\n\n      if (!orderIdToLoad) {\n        showToast('Chyba: Nelze urit ID objednvky', { type: 'error' });\n        return;\n      }\n\n      // Nati aktuln data z DB -  V2 API\n      const dbOrder = await getOrderV2(\n        orderIdToLoad,\n        token,\n        username,\n        true // enriched = true\n      );\n\n      if (!dbOrder) {\n        showToast('Nepodailo se nast objednvku z databze', { type: 'error' });\n        return;\n      }\n\n      //  Zamkni objednvku pro editaci (kontrola zamen u byla provedena v handleEdit)\n      try {\n        const lockResult = await lockOrder25({ token, username, orderId: orderIdToLoad });\n        if (lockResult.success) {\n        }\n      } catch (lockError) {\n        //\n        // Pokrauj i kdy sele zamykn (kontrola u byla provedena v handleEdit)\n      }\n\n      // Nati detaily objednatele z DB pes jeho ID\n      let objednatelDetails = null;\n\n      if (dbOrder.objednatel_id) {\n        try {\n          const { getUserDetailApi2 } = await import('../services/api2auth');\n          objednatelDetails = await getUserDetailApi2(username, token, dbOrder.objednatel_id);\n        } catch (error) {\n          // DLEIT: Pokud nelze nast detaily, zkusme najt uivatele v existujcm seznamu\n          objednatelDetails = null;\n        }\n      } else {\n      }\n\n      let cleanedKeys = [];\n\n      // Vyisti vechny star koncepty\n      for (let i = localStorage.length - 1; i >= 0; i--) {\n        const key = localStorage.key(i);\n        if (key && (\n          key.startsWith('orderForm25_') ||\n          key.startsWith('order25_draft_') ||  // ORDER25 STANDARD\n          key.startsWith('order25-draft-') ||  // LEGACY cleanup\n          key.startsWith('orderForm25-') ||\n          key.includes('draft') && key.includes('order')\n        )) {\n          localStorage.removeItem(key);\n          cleanedKeys.push(key);\n        }\n      }\n\n      // Vytvo koncept s erstvmi daty z DB\n      const orderId = dbOrder.id;\n\n      // Vytvo sprvn daje objednatele z natench detail z DB\n      let objednatelData = {\n        objednatel_id: dbOrder.objednatel_id || user_id,\n        jmeno: 'Neuvedeno',\n        email: '',\n        telefon: ''\n      };\n\n      if (objednatelDetails) {\n        // Pouij detaily naten z DB podle objednatel_id\n        const jmeno = `${objednatelDetails.titul_pred ? objednatelDetails.titul_pred + ' ' : ''}${objednatelDetails.jmeno || ''} ${objednatelDetails.prijmeni || ''}${objednatelDetails.titul_za ? ', ' + objednatelDetails.titul_za : ''}`.replace(/\\s+/g, ' ').trim();\n        objednatelData = {\n          objednatel_id: dbOrder.objednatel_id,\n          jmeno: jmeno || 'Neuvedeno',\n          email: objednatelDetails.email || '',\n          telefon: objednatelDetails.telefon || ''\n        };\n      } else if (dbOrder.objednatel_id) {\n      }\n\n      // Analza workflow stavu a nastaven checkbox\n      const hasWorkflowState = (workflowCode, state) => {\n        if (!workflowCode) return false;\n        try {\n          if (typeof workflowCode === 'string' && workflowCode.startsWith('[')) {\n            const states = JSON.parse(workflowCode);\n            return Array.isArray(states) && states.includes(state);\n          }\n          return String(workflowCode).includes(state);\n        } catch {\n          return String(workflowCode).includes(state);\n        }\n      };\n\n      // Analza workflow stavu pro sprvn nastaven UI\n      const isSchvalena = hasWorkflowState(dbOrder.stav_workflow_kod, 'SCHVALENA');\n      const isOdeslana = hasWorkflowState(dbOrder.stav_workflow_kod, 'ODESLANA');\n      const isZrusena = hasWorkflowState(dbOrder.stav_workflow_kod, 'ZRUSENA');\n      const isZamitnuta = hasWorkflowState(dbOrder.stav_workflow_kod, 'ZAMITNUTA');\n      const isCekaSe = hasWorkflowState(dbOrder.stav_workflow_kod, 'CEKA_SE');\n\n      // Odvozen UI stav ze workflow\n      let stavSchvaleni = dbOrder.stav_schvaleni || ''; // Zachovat pvodn nebo przdn\n      if (isSchvalena) {\n        stavSchvaleni = 'schvaleno';\n      } else if (isZamitnuta) {\n        stavSchvaleni = 'neschvaleno';\n      } else if (isCekaSe) {\n        stavSchvaleni = 'ceka_se';\n      }\n\n      // DEBUG: Kontrola ev_cislo ped vytvoenm draftu\n      const finalEvCislo = dbOrder.cislo_objednavky || dbOrder.ev_cislo || 'CHYBA: Chyb slo v DB!';\n\n      const freshDraft = {\n        formData: {\n          ...dbOrder, // erstv data z DB\n          uzivatel_id: user_id, // Souasn uivatel co edituje\n          // KRITICK: Sprvn mapovn sla objednvky pro frontend\n          ev_cislo: dbOrder.cislo_objednavky || dbOrder.ev_cislo || 'CHYBA: Chyb slo v DB!',\n          // Sprvn nastaven UI prvk podle workflow stavu\n          stav_schvaleni: stavSchvaleni, // Odvozeno ze workflow\n          stav_odeslano: isOdeslana,     // Checkbox \"Odeslno\"\n          stav_stornovano: isZrusena,    // Checkbox \"Stornovno\"\n          // EXPLICITN pepsat daje objednatele z API (aby nepepsaly star data z dbOrder)\n          ...(objednatelData && {\n            objednatel_id: objednatelData.objednatel_id,\n            jmeno: objednatelData.jmeno,\n            email: objednatelData.email,\n            telefon: objednatelData.telefon\n          })\n        },\n        timestamp: Date.now(),\n        version: '1.4',\n        isConceptSaved: true,\n        isChanged: false, // Synchronn s DB\n        isOrderSavedToDB: true,\n        savedOrderId: orderId,\n        attachments: []\n      };\n\n      // Ulo koncept s DB daty\n      setUserStorage('order25-draft', freshDraft);\n\n      // Odeli broadcast udlost pro aktualizaci menubar\n      broadcastDraftUpdated(user_id, freshDraft);\n\n      //  EXPLICITN REFRESH MENUBAR: Oznm MenuBaru o naten objednvky pro editaci\n      window.dispatchEvent(new CustomEvent('orderDraftChange', {\n        detail: {\n          hasDraft: true,\n          isEditMode: true, // EDITACE objednvky (ne koncept)\n          orderId: orderId,\n          orderNumber: finalEvCislo,\n          isLoading: false\n        }\n      }));\n\n      //  ZVRAZNN: Ulo ID objednvky pro zvraznn pi nvratu na seznam\n      try {\n        draftManager.setCurrentUser(user_id);\n        draftManager.saveUIState({ \n          highlightOrderId: orderId,\n          editOrderId: orderId \n        });\n      } catch (e) {\n        console.error(' Chyba pi ukldn highlightOrderId:', e);\n      }\n\n      // Pouij React Router s edit parametrem pro naten objednvky do editace\n      navigate(`/order-form-25?edit=${orderId}&archivovano=1`);\n\n    } catch (error) {\n      showToast('Chyba pi natn objednvky z databze', { type: 'error' });\n    }\n\n    setShowEditConfirmModal(false);\n    setOrderToEdit(null);\n  };\n\n  const handleEditCancel = () => {\n    // Jen zavi modal bez mazn koncept\n    // Uivatel zstane na seznamu objednvek a zachovaj se jeho rozepsan zmny\n    setShowEditConfirmModal(false);\n    setOrderToEdit(null);\n    setCurrentDraftData(null);\n  };\n\n  const handleView = (order) => {\n    // TODO: Implement preview\n\n  };\n\n  const handleFinancialControl = async (order) => {\n    try {\n      // Zkontroluj stav objednvky pomoc getOrderSystemStatus\n      const systemStatus = getOrderSystemStatus(order);\n      if (systemStatus !== 'DOKONCENA') {\n        showToast?.('Finann kontrola je dostupn pouze pro dokonen objednvky', { type: 'warning' });\n        return;\n      }\n\n      // Otevi modal s PDF nhledem\n      setFinancialControlOrder(order);\n      setFinancialControlModalOpen(true);\n    } catch (error) {\n      console.error(' [Orders25List] Chyba pi otevrn finann kontroly:', error);\n      showToast?.(`Chyba pi otevrn finann kontroly: ${error.message}`, { type: 'error' });\n    }\n  };\n\n  //  Handler pro scroll ipky - scrolluj o ku viewportu\n  const handleScrollLeft = () => {\n    const tableContainer = tableContainerRef.current;\n    if (!tableContainer) return;\n\n    // Scrolluj o 80% ky containeru doleva\n    const scrollAmount = tableContainer.clientWidth * 0.8;\n    tableContainer.scrollBy({\n      left: -scrollAmount,\n      behavior: 'smooth'\n    });\n  };\n\n  const handleScrollRight = () => {\n    const tableContainer = tableContainerRef.current;\n    if (!tableContainer) return;\n\n    // Scrolluj o 80% ky containeru doprava\n    const scrollAmount = tableContainer.clientWidth * 0.8;\n    tableContainer.scrollBy({\n      left: scrollAmount,\n      behavior: 'smooth'\n    });\n  };\n\n  // Handler pro vytvoen nov objednvky z action menu\n  const handleCreateNewOrder = async () => {\n    // Zkontroluj, jestli existuje aktivn koncept nebo editace - DRAFT MANAGER\n    draftManager.setCurrentUser(user_id);\n    const hasDraft = await draftManager.hasDraft();\n\n    let shouldShowConfirmDialog = false;\n    let draftDataToStore = null;\n\n    if (hasDraft) {\n      try {\n        const draftData = await draftManager.loadDraft();\n        const hasNewConcept = isValidConcept(draftData);\n        const hasDbChanges = hasDraftChanges(draftData);\n        shouldShowConfirmDialog = hasNewConcept || hasDbChanges;\n\n        if (shouldShowConfirmDialog) {\n          draftDataToStore = draftData; // Ulo pro zobrazen v modalu\n        }\n      } catch (error) {\n        shouldShowConfirmDialog = false;\n      }\n    }\n\n    // Pokud existuje aktivn koncept/editace, zobraz confirm dialog\n    if (shouldShowConfirmDialog) {\n      setCurrentDraftData(draftDataToStore); // Ulo draft data pro modal\n      setOrderToEdit(null); // dn konkrtn objednvka - vytvme novou\n      setShowEditConfirmModal(true);\n    } else {\n      // Rovnou pesmruj na przdn formul\n      console.log(' [ORDERS25LIST DEBUG] Navigate to new order (direct):', {\n        url: '/order-form-25',\n        reason: 'No existing draft - creating new order'\n      });\n      navigate('/order-form-25');\n    }\n  };\n\n  // Handler pro potvrzen vytvoen nov objednvky (po confirm dialogu)\n  const handleCreateNewOrderConfirm = () => {\n    // Sma existujc draft - DRAFT MANAGER\n    draftManager.setCurrentUser(user_id);\n    draftManager.deleteDraft();\n\n    //  KRITICK: Vyma activeOrderEditId z localStorage (jinak se nate pvodn objednvka)\n    localStorage.removeItem('activeOrderEditId');\n\n    // Zavi modal a vyisti state\n    setShowEditConfirmModal(false);\n    setOrderToEdit(null);\n    setCurrentDraftData(null);\n\n    //  FIX: Pokud je oteven formul, force reload pes window.location\n    const isOnOrderForm = window.location.pathname === '/order-form-25';\n    \n    if (isOnOrderForm) {\n      // Jsme na formuli - pouij window.location pro hard reload\n      console.log(' [ORDERS25LIST DEBUG] Hard reload to new order:', {\n        url: '/order-form-25',\n        method: 'window.location.href',\n        reason: 'Already on form - forcing hard reload after draft deletion'\n      });\n      window.location.href = '/order-form-25';\n    } else {\n      // Nejsme na formuli - normln navigate\n      console.log(' [ORDERS25LIST DEBUG] Navigate to new order (after confirm):', {\n        url: '/order-form-25',\n        method: 'navigate',\n        reason: 'Not on form - normal navigate after draft deletion'\n      });\n      navigate('/order-form-25');\n    }\n  };\n\n  // =============================================================================\n  //  HANDLER PRO ZAMENOU OBJEDNVKU\n  // =============================================================================\n\n  const handleLockedOrderForceUnlock = async () => {\n    if (!lockedOrderInfo) return;\n\n    try {\n      // 1. Nsiln odemkni\n      const unlockResult = await unlockOrder25({\n        token,\n        username,\n        orderId: lockedOrderInfo.orderId,\n        force: true\n      });\n\n      if (unlockResult.success && unlockResult.unlock_type === 'forced') {\n        showToast(\n          `Objednvka byla nsiln odemena uivateli ${lockedOrderInfo.lockedByUserName} a pevzata`,\n          { type: 'success' }\n        );\n\n        // 2. Zamkni pro aktulnho uivatele\n        const lockResult = await lockOrder25({ token, username, orderId: lockedOrderInfo.orderId });\n        if (lockResult.success) {\n          showToast(\n            `Objednvka byla zamknuta pro editaci`,\n            { type: 'success' }\n          );\n        }\n\n        // Zavi dialog\n        setShowLockedOrderDialog(false);\n        setLockedOrderInfo(null);\n\n        // Pokrauj v editaci - znovu zavolej handleEditConfirm\n        if (orderToEdit) {\n          handleEditConfirm(orderToEdit);\n        }\n      }\n    } catch (forceError) {\n      showToast(\n        `Nepodailo se nsiln odemknout objednvku: ${forceError.message}`,\n        { type: 'error' }\n      );\n      setShowLockedOrderDialog(false);\n      setLockedOrderInfo(null);\n      setOrderToEdit(null);\n    }\n  };\n\n  const handleLockedOrderCancel = () => {\n    // Zavi dialog a vyisti state\n    setShowLockedOrderDialog(false);\n    setLockedOrderInfo(null);\n    setShowEditConfirmModal(false);\n    setOrderToEdit(null);\n  };\n\n  // =============================================================================\n  // FORCE UNLOCK WARNING DIALOG HANDLERS\n  // =============================================================================\n\n  const handleForceUnlockWarningClose = () => {\n    setShowForceUnlockWarning(false);\n    setForceUnlockWarningData(null);\n  };\n\n  const handleForceUnlockWarningAcknowledge = async () => {\n    // Ozna notifikaci jako petenou (pokud mme ID)\n    if (forceUnlockWarningData?.notificationId) {\n      try {\n        // TODO: Voln API pro oznaen notifikace jako peten\n        // await markNotificationAsRead(forceUnlockWarningData.notificationId);\n      } catch (error) {\n      }\n    }\n\n    // Refresh dat (objednvka byla pevzata jinm uivatelem)\n    await loadData(true);\n\n    // Zavi dialog\n    handleForceUnlockWarningClose();\n\n    showToast?.('Seznam objednvek byl aktualizovn', { type: 'info' });\n  };\n\n  // =============================================================================\n  // KONTEXTOV MENU HANDLERS\n  // =============================================================================\n\n  //  CRITICAL PERFORMANCE: Memoize to prevent re-creating on every render\n  const handleContextMenu = useCallback((e, order, cellData = null) => {\n    e.preventDefault(); // Zabra vchozmu kontextovmu menu\n\n    // Zjisti na jakou buku se kliklo\n    let selectedData = null;\n    const target = e.target;\n\n    if (cellData) {\n      selectedData = cellData;\n    } else if (target && target.closest('td')) {\n      // Najdi text obsahu buky\n      const cellElement = target.closest('td');\n      selectedData = {\n        value: cellElement.textContent?.trim() || '',\n        element: cellElement\n      };\n    }\n\n    setContextMenu({\n      x: e.clientX,\n      y: e.clientY,\n      order: order,\n      selectedData: selectedData\n    });\n  }, []); // No dependencies - pure event handler\n\n  //  PERFORMANCE: Event delegation handler - avoid inline functions in render loop\n  // Uses filteredDataRef to prevent re-creation when filteredData changes\n  const handleTableContextMenu = useCallback((e) => {\n    const row = e.target.closest('tr[data-order-index]');\n    if (!row) return;\n\n    const orderIndex = parseInt(row.dataset.orderIndex, 10);\n    const order = filteredDataRef.current[orderIndex];\n    if (!order) return;\n\n    handleContextMenu(e, order);\n  }, [handleContextMenu]); // No filteredData dependency - uses ref!\n\n  const handleCloseContextMenu = useCallback(() => {\n    setContextMenu(null);\n  }, []);\n\n  const handleAddToTodo = useCallback((order) => {\n    // TODO: Implementace - pid objednvku do TODO panelu\n    showToast(` Funkce \"Pidat do TODO\" bude brzy implementovna pro objednvku ${order.cislo_objednavky}`, { type: 'info' });\n  }, [showToast]);\n\n  const handleAddAlarm = useCallback((order) => {\n    // TODO: Implementace - oteve dialog pro nastaven alarmu\n    showToast(` Funkce \"Pidat alarm\" bude brzy implementovna pro objednvku ${order.cislo_objednavky}`, { type: 'info' });\n  }, [showToast]);\n\n  const handleContextMenuEdit = useCallback((order) => {\n    // Pouije existujc handleEdit\n    handleEdit(order);\n  }, [handleEdit]);\n\n  const handleContextMenuDelete = useCallback((order) => {\n    // Pouije existujc handleDelete\n    handleDelete(order);\n  }, []);\n\n  const handleGenerateDocx = useCallback((order) => {\n    // Zavol stejnou funkci jako action button\n    handleExportDocument(order);\n  }, [handleExportDocument]);\n\n  const handleGenerateFinancialControl = useCallback((order) => {\n    // Oteven modalu s nhledem PDF finann kontroly\n    setFinancialControlOrder(order);\n    setFinancialControlModalOpen(true);\n  }, []);\n\n  const handleDocxModalClose = useCallback(() => {\n    setDocxModalOpen(false);\n    setDocxModalOrder(null);\n  }, []);\n\n  const handleDelete = useCallback((order) => {\n    if (!canDelete(order)) {\n      showToast('Nemte oprvnn smazat tuto objednvku', { type: 'warning' });\n      return;\n    }\n    setOrderToDelete(order);\n    setShowDeleteConfirmModal(true);\n  }, [canDelete, showToast]);\n  \n  // Handler: Evidovat fakturu\n  const handleCreateInvoice = useCallback((order) => {\n    //  Kontrola zda je objednvka ve sprvnm stavu\n    if (!canCreateInvoice(order)) {\n      showToast('Evidovn faktury je dostupn pouze pro objednvky od stavu ROZPRACOVAN', { type: 'warning' });\n      return;\n    }\n    navigate(`/invoice-evidence/${order.id}`);\n  }, [navigate, showToast]);\n\n  //  PERFORMANCE: Populate handlers ref for handleActionClick\n  // Direct assignment (not useEffect) - happens on every render\n  // This is intentional: ensures ref is always up-to-date before render\n  handlersRef.current = {\n    handleEdit,\n    handleView,\n    handleExportDocument,\n    handleFinancialControl,\n    handleCreateInvoice,\n    handleDelete\n  };\n\n  const handleDeleteConfirm = async (deleteType) => {\n    if (!orderToDelete) return;\n\n    try {\n      //  V2 API: deleteOrderV2 s parametrem soft/hard\n\n      //  Okamit odebrat ze seznamu (optimistick aktualizace)\n      setOrders(prevOrders => prevOrders.filter(order => order.id !== orderToDelete.id));\n\n      if (deleteType === 'hard') {\n        //  V2 API: pln smazn vetn poloek a ploh (na pozad)\n        deleteOrderV2(orderToDelete.id, token, username)\n          .then(() => {\n            showToast && showToast('Objednvka byla pln smazna vetn vech ploh.', { type: 'success' });\n          })\n          .catch(error => {\n            // Rollback - vrtit objednvku zpt\n            setOrders(prevOrders => [...prevOrders, orderToDelete].sort((a, b) => b.id - a.id));\n            const errorMsg = translateErrorMessageShort(error.message);\n            showToast && showToast(`Chyba pi mazn: ${errorMsg}`, { type: 'error' });\n          });\n      } else {\n        //  V2 API: Pouze oznait jako neaktivn (soft delete, na pozad)\n        deleteOrderV2(orderToDelete.id, token, username)\n          .then(() => {\n            showToast && showToast('Objednvka byla oznaena jako neaktivn.', { type: 'success' });\n          })\n          .catch(error => {\n            // Rollback - vrtit objednvku zpt\n            setOrders(prevOrders => [...prevOrders, orderToDelete].sort((a, b) => b.id - a.id));\n            const errorMsg = translateErrorMessageShort(error.message);\n            showToast && showToast(`Chyba pi mazn: ${errorMsg}`, { type: 'error' });\n          });\n      }\n\n      //  NEREFRESHOVAT loadData() - u jsme odebrali lokln\n\n      // Odeli broadcast udlost pro aktualizaci menubar (objednvka byla smazna)\n      broadcastDraftDeleted(user_id);\n\n    } catch (error) {\n      const errorMsg = translateErrorMessageShort(error.message);\n      showToast && showToast(`Chyba pi mazn objednvky: ${errorMsg}`, { type: 'error' });\n    } finally {\n      setShowDeleteConfirmModal(false);\n      setOrderToDelete(null);\n    }\n  };\n\n  const handleDeleteCancel = () => {\n    setShowDeleteConfirmModal(false);\n    setOrderToDelete(null);\n  };\n\n  const performDelete = async (order, orderName) => {\n    try {\n      setLoading(true);\n\n      //  V2 API: soft delete\n      await deleteOrderV2(order.id, token, username);\n\n      // Refresh data after successful deletion\n      await loadData();\n\n      // Show success notification\n      if (typeof window !== 'undefined') {\n        const event = new CustomEvent('showNotification', {\n          detail: {\n            message: `Objednvka \"${orderName}\" byla oznaena jako neaktivn.`,\n            type: 'success'\n          }\n        });\n        window.dispatchEvent(event);\n      }\n\n    } catch (error) {\n      // Error deleting order\n\n      // Show error notification\n      if (typeof window !== 'undefined') {\n        const event = new CustomEvent('showNotification', {\n          detail: {\n            message: `Chyba pi mazn objednvky: ${error.message}`,\n            type: 'error'\n          }\n        });\n        window.dispatchEvent(event);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleNewOrder = async () => {\n    //  KONTROLA AKTIVNHO DRAFTU - stejn logika jako v handleEdit\n    // Zkontroluj, jestli existuje validn draft (pro rozhodnut o confirm dialogu)\n    draftManager.setCurrentUser(user_id);\n    const hasDraft = await draftManager.hasDraft();\n\n    let shouldShowConfirmDialog = false;\n    let draftDataToStore = null;\n\n    if (hasDraft) {\n      try {\n        const draftData = await draftManager.loadDraft();\n\n        // Zkontroluj, jestli jsou v draftu platn zmny\n        const hasNewConcept = isValidConcept(draftData);\n        const hasDbChanges = hasDraftChanges(draftData);\n        shouldShowConfirmDialog = hasNewConcept || hasDbChanges;\n\n        if (shouldShowConfirmDialog) {\n          draftDataToStore = draftData; // Ulo pro zobrazen v modalu\n        }\n      } catch (error) {\n        shouldShowConfirmDialog = false;\n      }\n    }\n\n    // Rozhodni, zda zobrazit confirm dialog nebo vytvoit novou rovnou\n    if (shouldShowConfirmDialog) {\n      setCurrentDraftData(draftDataToStore); // Ulo draft data\n      setOrderToEdit(null); // Jasn indikuj, e jde o NOVOU objednvku\n      setShowEditConfirmModal(true);\n    } else {\n      // dn draft nebo przdn draft - naviguj rovnou\n      navigate('/order-form-25');\n    }\n  };\n\n  const handleRefresh = async () => {\n    //  FORCE REFRESH: Vyma cache a nati z DB\n    if (!token || !user?.username) return;\n\n    // Reset background refresh stavu (uivatel kliknul manuln)\n    setIsBackgroundRefreshActive(false);\n    setLastRefreshTime(new Date());\n\n    try {\n      // 1. Vyma celou cache pro aktulnho uivatele (vechny filtry)\n      ordersCacheService.invalidate(user_id);\n\n      // 2. Vyma i scroll state\n      ordersCacheService.clearScrollState(user_id);\n\n      // 3. Force reload z databze\n      setLoading(true);\n      await loadData(true); // forceRefresh=true\n\n      // 4. Trigger manuln refresh notifikac\n      if (bgTasksContext?.triggerNotificationsRefresh) {\n        bgTasksContext.triggerNotificationsRefresh();\n      }\n\n      // 5. Zobraz toast potvrzen\n      showToast && showToast('Seznam objednvek byl obnoven z databze', { type: 'success' });\n\n    } catch (error) {\n      showToast && showToast('Chyba pi obnoven dat: ' + error.message, { type: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleYearChange = (newYear) => {\n    setSelectedYear(newYear);\n    setUserStorage('orders25List_selectedYear', newYear);\n    setIsYearDropdownOpen(false);\n  };\n\n  // Toggle year dropdown\n  const toggleYearDropdown = () => {\n    setIsYearDropdownOpen(prev => !prev);\n  };\n\n  // Close year dropdown when clicking outside\n  useEffect(() => {\n    if (!isYearDropdownOpen) return;\n\n    const handleClickOutside = (event) => {\n      if (yearSelectRef.current && !yearSelectRef.current.contains(event.target)) {\n        setIsYearDropdownOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isYearDropdownOpen]);\n\n  const handleMonthChange = (newMonth) => {\n    // Pokud uivatel vybere \"show-more\", jen zobraz dal monosti a nechej dropdown oteven\n    if (newMonth === 'show-more') {\n      setShowExpandedMonths(true);\n      // Nechme dropdown oteven - nemnme isMonthDropdownOpen\n      return;\n    }\n\n    // Pokud uivatel vybere \"show-less\", sbal zpt na zkladn monosti\n    if (newMonth === 'show-less') {\n      setShowExpandedMonths(false);\n      // Nechme dropdown oteven - nemnme isMonthDropdownOpen\n      return;\n    }\n\n    // Pro skuten vbr msce - zaveme dropdown\n    setSelectedMonth(newMonth);\n    setUserStorage('orders25List_selectedMonth', newMonth);\n    setIsMonthDropdownOpen(false);\n  };\n\n  // Handle show archived checkbox change\n  const handleShowArchivedChange = (e) => {\n    // Pokud je to udlost z checkboxu, pouij checked\n    // Pokud je to kliknut na div, toggleni hodnotu\n    const newValue = e?.target?.type === 'checkbox' ? e.target.checked : !showArchived;\n\n    setShowArchived(newValue);\n    setUserStorage('orders25List_showArchived', newValue);\n  };\n\n  // Toggle month dropdown\n  const toggleMonthDropdown = () => {\n    setIsMonthDropdownOpen(prev => !prev);\n  };\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    if (!isMonthDropdownOpen) return;\n\n    const handleClickOutside = (event) => {\n      if (monthSelectRef.current && !monthSelectRef.current.contains(event.target)) {\n        setIsMonthDropdownOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isMonthDropdownOpen]);\n\n  // Helper funkce pro zskn datum_od a datum_do pro API\n  const calculateDateRange = () => {\n    const today = new Date();\n    const currentYear = today.getFullYear();\n    const currentMonth = today.getMonth(); // 0-11\n    const currentDay = today.getDate();\n    const year = selectedYear !== 'all' ? parseInt(selectedYear) : currentYear;\n\n    switch (selectedMonth) {\n      case 'all':\n        // dn msn filtr\n        if (selectedYear !== 'all') {\n          // Konkrtn rok - cel rok\n          return {\n            datum_od: `${year}-01-01`,\n            datum_do: `${year}-12-31`\n          };\n        }\n        // Vechny roky - dn datumov filtr\n        return {};\n\n      case 'current-month':\n        // Aktuln msc: od 1. do dnes (1.12 - 6.12)\n        return {\n          datum_od: `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-01`,\n          datum_do: `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(currentDay).padStart(2, '0')}`\n        };\n\n      case 'last-month': {\n        // Posledn msc: cel pedchoz msc + aktuln dny (1.11 - 6.12)\n        const prevMonth = currentMonth - 1;\n        const prevMonthYear = prevMonth < 0 ? currentYear - 1 : currentYear;\n        const prevMonthNum = prevMonth < 0 ? 11 : prevMonth;\n        \n        return {\n          datum_od: `${prevMonthYear}-${String(prevMonthNum + 1).padStart(2, '0')}-01`,\n          datum_do: `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(currentDay).padStart(2, '0')}`\n        };\n      }\n\n      case 'last-quarter': {\n        // Posledn kvartl: 3 pedchoz msce + aktuln msc do dnes\n        const startMonth = currentMonth - 3;\n        const startYear = startMonth < 0 ? currentYear - 1 : currentYear;\n        const startMonthNum = startMonth < 0 ? 12 + startMonth : startMonth;\n        \n        return {\n          datum_od: `${startYear}-${String(startMonthNum + 1).padStart(2, '0')}-01`,\n          datum_do: `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(currentDay).padStart(2, '0')}`\n        };\n      }\n\n      case 'last-half': {\n        // Poslednch 6 msc\n        const startMonth = currentMonth - 6;\n        const startYear = startMonth < 0 ? currentYear - 1 : currentYear;\n        const startMonthNum = startMonth < 0 ? 12 + startMonth : startMonth;\n        \n        return {\n          datum_od: `${startYear}-${String(startMonthNum + 1).padStart(2, '0')}-01`,\n          datum_do: `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(currentDay).padStart(2, '0')}`\n        };\n      }\n\n      case 'last-year': {\n        // Posledn rok: 12 pedchozch msc + aktuln msc do dnes\n        const startMonth = currentMonth - 12;\n        const startYear = startMonth < 0 ? currentYear - 1 : currentYear;\n        const startMonthNum = startMonth < 0 ? 12 + startMonth : startMonth;\n        \n        return {\n          datum_od: `${startYear}-${String(startMonthNum + 1).padStart(2, '0')}-01`,\n          datum_do: `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(currentDay).padStart(2, '0')}`\n        };\n      }\n\n      default: {\n        // Konkrtn msc nebo rozsah (nap. \"1\", \"1-3\", \"10-12\")\n        if (selectedYear === 'all') {\n          // Pokud nen vybrn rok, nefiltrujeme\n          return {};\n        }\n\n        const monthMatch = selectedMonth.match(/^(\\d+)(?:-(\\d+))?$/);\n        if (monthMatch) {\n          const startMonth = parseInt(monthMatch[1]);\n          const endMonth = monthMatch[2] ? parseInt(monthMatch[2]) : startMonth;\n\n          const lastDay = new Date(year, endMonth, 0).getDate();\n          \n          return {\n            datum_od: `${year}-${String(startMonth).padStart(2, '0')}-01`,\n            datum_do: `${year}-${String(endMonth).padStart(2, '0')}-${String(lastDay).padStart(2, '0')}`\n          };\n        }\n        \n        return {};\n      }\n    }\n  };\n\n  // Helper funkce pro zskn nzvu msce\n  const getMonthLabel = (value) => {\n    const labels = {\n      'all': 'Vechny msce',\n      'current-month': 'Aktuln msc',\n      'last-month': 'Posledn msc',\n      'last-quarter': 'Posledn kvartl',\n      'last-half': 'Posledn plrok',\n      'last-year': 'Posledn rok',\n      '1': 'Leden',\n      '2': 'nor',\n      '3': 'Bezen',\n      '4': 'Duben',\n      '5': 'Kvten',\n      '6': 'erven',\n      '7': 'ervenec',\n      '8': 'Srpen',\n      '9': 'Z',\n      '10': 'jen',\n      '11': 'Listopad',\n      '12': 'Prosinec',\n      '1-3': 'Q1 (Leden-Bezen)',\n      '4-6': 'Q2 (Duben-erven)',\n      '7-9': 'Q3 (ervenec-Z)',\n      '10-12': 'Q4 (jen-Prosinec)'\n    };\n    return labels[value] || value;\n  };\n\n  // Helper funkce pro zskn seznamu rok\n  const getYearsList = () => {\n    const currentYear = new Date().getFullYear();\n    const startYear = 2016;\n    const years = []; // Zani bez \"Vechny roky\"\n\n    // Generuj roky od 2016 do souasnosti (vzestupn)\n    for (let year = startYear; year <= currentYear; year++) {\n      years.push(year);\n    }\n\n    // Pokud je souasn rok men ne 2016, pidej ho\n    if (currentYear < startYear) {\n      years.push(currentYear);\n    }\n\n    // Vra roky v sestupnm poad (nejnovj nahoe), \"Vechny\" a na konci\n    const numericYears = years.sort((a, b) => b - a);\n    return [...numericYears, 'all']; // \"Vechny roky\" na konci\n  };\n\n  const handleExport = () => {\n    // Nati nastaven sloupc z profilu uivatele\n    const csvColumns = userSettings?.export_csv_sloupce || {};\n    \n    // Nati nastaven multiline/list oddlovae z profilu\n    const listDelimiterMap = {\n      'pipe': '|',\n      'comma': ',',\n      'semicolon': ';',\n      'custom': userSettings?.exportCsvListCustomDelimiter || '|'\n    };\n    const listSeparator = listDelimiterMap[userSettings?.exportCsvListDelimiter || 'pipe'] || '|';\n    \n    //  Helper: Bezpen zskn hodnoty s fallbackem\n    const safeGet = (value, fallback = '') => value !== null && value !== undefined ? value : fallback;\n    \n    //  Helper: Formtovn jmna uivatele z enriched dat\n    const formatUserName = (user) => {\n      if (!user) return '';\n      const titul_pred = user.titul_pred ? user.titul_pred + ' ' : '';\n      const jmeno = user.jmeno || '';\n      const prijmeni = user.prijmeni || '';\n      const titul_za = user.titul_za ? ', ' + user.titul_za : '';\n      return `${titul_pred}${jmeno} ${prijmeni}${titul_za}`.trim().replace(/\\s+/g, ' ');\n    };\n    \n    const exportData = filteredData.map(order => {\n      const enriched = order._enriched || {};\n      const row = {};\n\n      // Zskme zpsob financovn z JSON struktury\n      const financovaniKodyMap = {\n        'SMLOUVA': 'Smlouva',\n        'INDIVIDUALNI_SCHVALENI': 'Individuln schvlen',\n        'POKLADNA': 'Pokladna',\n        'LP': 'Limitovan pslib',\n        'POJISTNA_UDALOST': 'Pojistn udlost'\n      };\n\n      let zpusobFinancovani = '';\n      let finData = null;\n\n      if (order.financovani_parsed && typeof order.financovani_parsed === 'object') {\n        finData = order.financovani_parsed;\n      } else if (order.financovani && typeof order.financovani === 'string') {\n        try {\n          finData = JSON.parse(order.financovani);\n        } catch {\n          zpusobFinancovani = order.financovani;\n        }\n      } else if (order.zpusob_financovani) {\n        if (typeof order.zpusob_financovani === 'string') {\n          try {\n            finData = JSON.parse(order.zpusob_financovani);\n          } catch {\n            zpusobFinancovani = order.zpusob_financovani;\n          }\n        } else if (typeof order.zpusob_financovani === 'object') {\n          finData = order.zpusob_financovani;\n        }\n      }\n\n      // Pokud mme parsovan data, extrahujeme nazev_stavu nebo mapujeme kod_stavu\n      if (finData && typeof finData === 'object') {\n        zpusobFinancovani = finData.nazev_stavu ||\n                           (finData.kod_stavu ? financovaniKodyMap[finData.kod_stavu] : null) ||\n                           finData.nazev || finData.label || '';\n      }\n\n      //  DYNAMICK SLOUPCE PODLE NASTAVEN V PROFILU\n      \n      // Zkladn identifikace\n      if (csvColumns.id) row['ID'] = safeGet(order.id);\n      if (csvColumns.cislo_objednavky) row['slo objednvky'] = safeGet(order.cislo_objednavky);\n      \n      // Pedmt a popis\n      if (csvColumns.predmet) row['Pedmt'] = safeGet(order.predmet);\n      if (csvColumns.poznamka) row['Poznmka'] = safeGet(order.poznamka);\n      \n      // Stavy\n      if (csvColumns.stav_objednavky) {\n        // Pouij pmo stav_objednavky z order (obsahuje esk nzev)\n        row['Stav objednvky'] = safeGet(order.stav_objednavky) || getOrderDisplayStatus(order);\n      }\n      if (csvColumns.stav_workflow) {\n        row['Workflow stavy'] = enriched.stav_workflow \n          ? (Array.isArray(enriched.stav_workflow) \n              ? enriched.stav_workflow.map(s => s.nazev_stavu || s.nazev || '').filter(Boolean).join(listSeparator)\n              : (enriched.stav_workflow.nazev_stavu || enriched.stav_workflow.nazev || ''))\n          : '';\n      }\n      if (csvColumns.stav_komentar) row['Koment ke stavu'] = safeGet(order.stav_komentar);\n      \n      // Datumy - pouit formatDateOnly pro konzistentn formtovn\n      if (csvColumns.dt_objednavky) row['Datum objednvky'] = getOrderDate(order) ? formatDateOnly(getOrderDate(order)) : '';\n      if (csvColumns.dt_vytvoreni) row['Datum vytvoen'] = order.dt_vytvoreni ? formatDateOnly(order.dt_vytvoreni) : '';\n      if (csvColumns.dt_schvaleni) row['Datum schvlen'] = order.dt_schvaleni ? formatDateOnly(order.dt_schvaleni) : '';\n      if (csvColumns.dt_odeslani) row['Datum odesln'] = order.dt_odeslani ? formatDateOnly(order.dt_odeslani) : '';\n      if (csvColumns.dt_akceptace) row['Datum akceptace'] = order.dt_akceptace ? formatDateOnly(order.dt_akceptace) : '';\n      if (csvColumns.dt_zverejneni) row['Datum zveejnn'] = order.dt_zverejneni ? formatDateOnly(order.dt_zverejneni) : '';\n      if (csvColumns.dt_predpokladany_termin_dodani) row['Pedpokl. termn dodn'] = order.predpokladany_termin_dodani ? formatDateOnly(order.predpokladany_termin_dodani) : '';\n      if (csvColumns.dt_aktualizace) row['Datum aktualizace'] = order.dt_aktualizace ? formatDateOnly(order.dt_aktualizace) : '';\n      \n      // Finann daje - oeten NaN hodnot\n      if (csvColumns.max_cena_s_dph) row['Max. cena s DPH'] = parseFloat(order.max_cena_s_dph) || 0;\n      if (csvColumns.celkova_cena_bez_dph) row['Celkov cena bez DPH'] = parseFloat(order.celkova_cena_bez_dph) || 0;\n      if (csvColumns.celkova_cena_s_dph) row['Celkov cena s DPH'] = getOrderTotalPriceWithDPH(order);\n      if (csvColumns.financovani_typ) row['Typ financovn'] = safeGet(finData?.typ);\n      if (csvColumns.financovani_typ_nazev) row['Nzev typu financovn'] = zpusobFinancovani;\n      if (csvColumns.financovani_lp_kody) {\n        row['LP kdy'] = finData?.lp_kody \n          ? (Array.isArray(finData.lp_kody) ? finData.lp_kody.join(listSeparator) : String(finData.lp_kody)) \n          : '';\n      }\n      if (csvColumns.financovani_lp_nazvy) {\n        row['LP nzvy'] = finData?.lp_nazvy && Array.isArray(finData.lp_nazvy)\n          ? finData.lp_nazvy.map(lp => lp.nazev || '').filter(Boolean).join(listSeparator)\n          : '';\n      }\n      if (csvColumns.financovani_lp_cisla) {\n        row['LP sla'] = finData?.lp_nazvy && Array.isArray(finData.lp_nazvy)\n          ? finData.lp_nazvy.map(lp => lp.cislo_lp || '').filter(Boolean).join(listSeparator)\n          : '';\n      }\n      \n      // Lid - pouit enriched dat s formtovacm helperem\n      if (csvColumns.objednatel) {\n        row['Objednatel'] = enriched.uzivatel\n          ? formatUserName(enriched.uzivatel)\n          : getUserDisplayName(order.uzivatel_id);\n      }\n      if (csvColumns.objednatel_email) row['Objednatel email'] = safeGet(enriched.uzivatel?.email);\n      if (csvColumns.objednatel_telefon) row['Objednatel telefon'] = safeGet(enriched.uzivatel?.telefon);\n      if (csvColumns.garant) row['Garant'] = enriched.garant_uzivatel ? formatUserName(enriched.garant_uzivatel) : '';\n      if (csvColumns.garant_email) row['Garant email'] = safeGet(enriched.garant_uzivatel?.email);\n      if (csvColumns.garant_telefon) row['Garant telefon'] = safeGet(enriched.garant_uzivatel?.telefon);\n      if (csvColumns.prikazce) row['Pkazce'] = enriched.prikazce_po ? formatUserName(enriched.prikazce_po) : '';\n      if (csvColumns.schvalovatel) row['Schvalovatel'] = enriched.schvalovatel ? formatUserName(enriched.schvalovatel) : '';\n      if (csvColumns.vytvoril_uzivatel) row['Vytvoil'] = enriched.vytvoril_uzivatel ? formatUserName(enriched.vytvoril_uzivatel) : '';\n      \n      // Dodavatel\n      if (csvColumns.dodavatel_nazev) row['Dodavatel'] = safeGet(order.dodavatel_nazev);\n      if (csvColumns.dodavatel_ico) row['Dodavatel IO'] = safeGet(order.dodavatel_ico);\n      if (csvColumns.dodavatel_dic) row['Dodavatel DI'] = safeGet(order.dodavatel_dic);\n      if (csvColumns.dodavatel_adresa) row['Dodavatel adresa'] = safeGet(order.dodavatel_adresa);\n      if (csvColumns.dodavatel_zastoupeny) row['Dodavatel zastoupen'] = safeGet(order.dodavatel_zastoupeny);\n      if (csvColumns.dodavatel_kontakt_jmeno) row['Dodavatel kontakt jmno'] = safeGet(order.dodavatel_kontakt_jmeno);\n      if (csvColumns.dodavatel_kontakt_email) row['Dodavatel kontakt email'] = safeGet(order.dodavatel_kontakt_email);\n      if (csvColumns.dodavatel_kontakt_telefon) row['Dodavatel kontakt telefon'] = safeGet(order.dodavatel_kontakt_telefon);\n      \n      // Stediska - oeten rznch zdroj dat (exportuje NZVY, ne kdy)\n      if (csvColumns.strediska) {\n        row['Stediska'] = enriched.strediska && Array.isArray(enriched.strediska) && enriched.strediska.length > 0\n          ? enriched.strediska.map(s => s.nazev || s.kod || '').filter(Boolean).join(listSeparator)\n          : (Array.isArray(order.strediska_kod) ? order.strediska_kod.map(kod => getStrediskoNazev(kod) || kod).filter(Boolean).join(listSeparator) : safeGet(order.strediska_kod));\n      }\n      if (csvColumns.strediska_nazvy) {\n        row['Stediska nzvy'] = enriched.strediska && Array.isArray(enriched.strediska) && enriched.strediska.length > 0\n          ? enriched.strediska.map(s => s.nazev || s.kod || '').filter(Boolean).join(listSeparator)\n          : (Array.isArray(order.strediska_kod) ? order.strediska_kod.map(kod => getStrediskoNazev(kod) || kod).filter(Boolean).join(listSeparator) : '');\n      }\n      if (csvColumns.druh_objednavky_kod) row['Druh objednvky'] = safeGet(enriched.druh_objednavky?.nazev || order.druh_objednavky);\n      if (csvColumns.stav_workflow_kod) row['Stav workflow kd'] = safeGet(order.stav_workflow_kod);\n      \n      // Poloky - bezpen zpracovn arrays\n      if (csvColumns.pocet_polozek) row['Poet poloek'] = (order.polozky && Array.isArray(order.polozky)) ? order.polozky.length : 0;\n      if (csvColumns.polozky_celkova_cena_s_dph) row['Poloky celkov cena s DPH'] = getOrderTotalPriceWithDPH(order);\n      if (csvColumns.polozky_popis) {\n        row['Poloky popis'] = (order.polozky && Array.isArray(order.polozky))\n          ? order.polozky.map(p => safeGet(p.popis)).filter(Boolean).join(listSeparator)\n          : '';\n      }\n      if (csvColumns.polozky_cena_bez_dph) {\n        row['Poloky cena bez DPH'] = (order.polozky && Array.isArray(order.polozky))\n          ? order.polozky.map(p => parseFloat(p.cena_bez_dph) || 0).join(listSeparator)\n          : '';\n      }\n      if (csvColumns.polozky_sazba_dph) {\n        row['Poloky sazba DPH'] = (order.polozky && Array.isArray(order.polozky))\n          ? order.polozky.map(p => (p.sazba_dph || 0) + '%').join(listSeparator)\n          : '';\n      }\n      if (csvColumns.polozky_cena_s_dph) {\n        row['Poloky cena s DPH'] = (order.polozky && Array.isArray(order.polozky))\n          ? order.polozky.map(p => parseFloat(p.cena_s_dph) || 0).join(listSeparator)\n          : '';\n      }\n      \n      // Plohy\n      if (csvColumns.prilohy_count) {\n        row['Poet ploh'] = (order.prilohy && Array.isArray(order.prilohy)) ? order.prilohy.length : 0;\n      }\n      if (csvColumns.prilohy_nazvy) {\n        row['Plohy nzvy'] = (order.prilohy && Array.isArray(order.prilohy))\n          ? order.prilohy.map(p => safeGet(p.nazev || p.originalni_nazev)).filter(Boolean).join(listSeparator)\n          : '';\n      }\n      \n      // Faktury - bezpen zpracovn\n      if (csvColumns.faktury_count) {\n        row['Poet faktur'] = (order.faktury && Array.isArray(order.faktury)) ? order.faktury.length : 0;\n      }\n      if (csvColumns.faktury_celkova_castka_s_dph) {\n        const totalInvoices = (order.faktury && Array.isArray(order.faktury))\n          ? order.faktury.reduce((sum, f) => sum + (parseFloat(f.fa_castka) || 0), 0)\n          : 0;\n        row['Faktury celkov stka'] = totalInvoices;\n      }\n      if (csvColumns.faktury_cisla_vema) {\n        row['Faktury sla VEMA'] = (order.faktury && Array.isArray(order.faktury))\n          ? order.faktury.map(f => safeGet(f.fa_cislo_vema)).filter(Boolean).join(listSeparator)\n          : '';\n      }\n      \n      // Ostatn - boolean pevod na Ano/Ne\n      if (csvColumns.stav_odeslano) row['Stav odesln'] = (order.stav_odeslano === 1 || order.stav_odeslano === '1' || order.stav_odeslano === true) ? 'Ano' : 'Ne';\n      if (csvColumns.potvrzeno_dodavatelem) row['Potvrzeno dodavatelem'] = (order.potvrzeno_dodavatelem === 1 || order.potvrzeno_dodavatelem === true) ? 'Ano' : 'Ne';\n      if (csvColumns.zpusob_potvrzeni) row['Zpsob potvrzen'] = safeGet(order.zpusob_potvrzeni);\n      if (csvColumns.zpusob_platby) row['Zpsob platby'] = safeGet(order.zpusob_platby);\n      if (csvColumns.zverejnit_registr_smluv) row['Zveejnit v registru'] = (order.zverejnit_registr_smluv === 1 || order.zverejnit_registr_smluv === true) ? 'Ano' : 'Ne';\n      if (csvColumns.registr_iddt) row['Registr IDDT'] = safeGet(order.registr_iddt);\n      if (csvColumns.zaruka) row['Zruka'] = safeGet(order.zaruka);\n      if (csvColumns.misto_dodani) row['Msto dodn'] = safeGet(order.misto_dodani);\n\n      return row;\n    });\n\n    // Pevod exportCsvDelimiter na skuten separtor\n    const delimiterMap = {\n      'semicolon': ';',\n      'tab': '\\t',\n      'pipe': '|',\n      'custom': userSettings?.exportCsvCustomDelimiter || ';'\n    };\n    \n    const separator = delimiterMap[userSettings?.exportCsvDelimiter || 'semicolon'] || ';';\n    \n    // Piprav data pro nhled a zobraz modal\n    const columnCount = Object.keys(exportData[0] || {}).length;\n    const separatorName = userSettings?.exportCsvDelimiter === 'tab' ? 'Tabultor' : \n                          userSettings?.exportCsvDelimiter === 'pipe' ? 'Svisltko (|)' :\n                          userSettings?.exportCsvDelimiter === 'custom' ? `Vlastn (${userSettings?.exportCsvCustomDelimiter || ';'})` :\n                          'Stednk (;)';\n    \n    // Multiline/list oddlova z nastaven (u nateno ve v handleExport)\n    const multilineSeparator = listSeparator;\n    const multilineSeparatorName = userSettings?.exportCsvListDelimiter === 'comma' ? 'rka (,)' :\n                                    userSettings?.exportCsvListDelimiter === 'semicolon' ? 'Stednk (;)' :\n                                    userSettings?.exportCsvListDelimiter === 'custom' ? `Vlastn (${userSettings?.exportCsvListCustomDelimiter || '|'})` :\n                                    'Svisltko (|)';\n    \n    setExportPreviewData({\n      data: exportData,\n      separator,\n      separatorName,\n      multilineSeparator,\n      multilineSeparatorName,\n      columnCount,\n      rowCount: exportData.length\n    });\n    setShowExportPreview(true);\n  };\n\n  // Funkce pro finln export (volna z preview modalu)\n  const handleConfirmExport = () => {\n    if (!exportPreviewData) return;\n    \n    exportCsv(exportPreviewData.data, 'objednavky_2025', { \n      separator: exportPreviewData.separator,\n      includeBOM: true // UTF-8 BOM pro sprvn zobrazen v Excelu\n    });\n    \n    setShowExportPreview(false);\n    setExportPreviewData(null);\n    showToast('Export byl spn staen', 'success');\n  };\n\n  // Pomocn funkce pro formtovn stek s oddlovai tisc\n  const formatNumberWithSpaces = (value) => {\n    if (!value) return '';\n    // Odstra vechny mezery a neseln znaky krom rky a teky\n    const numericValue = value.toString().replace(/[^\\d]/g, '');\n    if (!numericValue) return '';\n\n    // Pidej mezery jako oddlovae tisc\n    return numericValue.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\n  };\n\n  const parseFormattedNumber = (value) => {\n    if (!value) return '';\n    // Odstra mezery a vra ist selnou hodnotu\n    return value.toString().replace(/\\s/g, '');\n  };\n\n  const handleAmountFromChange = (e) => {\n    const rawValue = e.target.value;\n    const numericValue = parseFormattedNumber(rawValue);\n    setAmountFromFilter(numericValue);\n  };\n\n  const handleAmountToChange = (e) => {\n    const rawValue = e.target.value;\n    const numericValue = parseFormattedNumber(rawValue);\n    setAmountToFilter(numericValue);\n  };\n\n  const clearFilters = () => {\n    // Vyma vechny filtry ve stavu (pole = przdn pole)\n    setGlobalFilter('');\n    setStatusFilter([]);\n    setUserFilter('');\n    setSelectedObjednatel([]);\n    setSelectedGarant([]);\n    setSelectedSchvalovatel([]);\n    setDateFromFilter('');\n    setDateToFilter('');\n    setAmountFromFilter('');\n    setAmountToFilter('');\n    setActiveStatusFilter(null); // Zru tak aktivn filter z dladic\n    setColumnFilters({\n      dt_objednavky: '',\n      cislo_objednavky: '',\n      predmet: '',\n      objednatel: '',\n      stav_objednavky: '',\n      max_cena_s_dph: '',\n      garant: '',\n      schvalovatel: ''\n    });\n\n    // Vyma vechny filtry z localStorage\n    const sid = user_id || 'anon';\n    localStorage.removeItem('orders25List_globalFilter');\n    localStorage.removeItem('orders25List_statusFilter');\n    localStorage.removeItem('orders25List_userFilter');\n    localStorage.removeItem('orders25List_selectedObjednatel');\n    localStorage.removeItem('orders25List_selectedGarant');\n    localStorage.removeItem('orders25List_selectedSchvalovatel');\n    localStorage.removeItem(`orders25_dateFrom_${sid}`);\n    localStorage.removeItem(`orders25_dateTo_${sid}`);\n    localStorage.removeItem('orders25List_amountFrom');\n    localStorage.removeItem('orders25List_amountTo');\n    localStorage.removeItem('orders25List_activeStatusFilter');\n  };\n\n  // Handlery pro jednoduch filtrovn pes globalFilter\n  const handleStatusFilterChange = (e) => {\n    const options = e.target.options;\n    const selected = [];\n    for (let i = 0; i < options.length; i++) {\n      if (options[i].selected && options[i].value) {\n        selected.push(options[i].value);\n      }\n    }\n    setStatusFilter(selected);\n    setUserStorage('orders25List_statusFilter', selected);\n  };\n\n  const handleObjednatelChange = (e) => {\n    const options = e.target.options;\n    const selected = [];\n    for (let i = 0; i < options.length; i++) {\n      if (options[i].selected && options[i].value) {\n        selected.push(options[i].value);\n      }\n    }\n\n    setSelectedObjednatel(selected);\n    setUserStorage('orders25List_selectedObjednatel', selected);\n\n    // Ulo vybran ID oddlen | do MULTISELECT filtru (ne do columnFilters!)\n    if (selected.length === 0) {\n      setMultiselectFilters(prev => ({ ...prev, objednatel: '' }));\n    } else {\n      // Ulo ID oddlen |\n      const filterValue = selected.join('|');\n      setMultiselectFilters(prev => ({ ...prev, objednatel: filterValue }));\n    }\n  };\n\n  const handleGarantChange = (e) => {\n    const options = e.target.options;\n    const selected = [];\n    for (let i = 0; i < options.length; i++) {\n      if (options[i].selected && options[i].value) {\n        selected.push(options[i].value);\n      }\n    }\n\n    setSelectedGarant(selected);\n    setUserStorage('orders25List_selectedGarant', selected);\n\n    // Ulo vybran ID oddlen | do MULTISELECT filtru\n    if (selected.length === 0) {\n      setMultiselectFilters(prev => ({ ...prev, garant: '' }));\n    } else {\n      const filterValue = selected.join('|');\n      setMultiselectFilters(prev => ({ ...prev, garant: filterValue }));\n    }\n  };\n\n  const handleSchvalovatelChange = (e) => {\n    const options = e.target.options;\n    const selected = [];\n    for (let i = 0; i < options.length; i++) {\n      if (options[i].selected && options[i].value) {\n        selected.push(options[i].value);\n      }\n    }\n\n    setSelectedSchvalovatel(selected);\n    setUserStorage('orders25List_selectedSchvalovatel', selected);\n\n    // Ulo vybran ID oddlen | do MULTISELECT filtru\n    if (selected.length === 0) {\n      setMultiselectFilters(prev => ({ ...prev, schvalovatel: '' }));\n    } else {\n      const filterValue = selected.join('|');\n      setMultiselectFilters(prev => ({ ...prev, schvalovatel: filterValue }));\n    }\n  };\n\n  const handlePrikazceChange = (e) => {\n    const options = e.target.options;\n    const selected = [];\n    for (let i = 0; i < options.length; i++) {\n      if (options[i].selected && options[i].value) {\n        selected.push(options[i].value);\n      }\n    }\n\n    setSelectedPrikazce(selected);\n    setUserStorage('orders25List_selectedPrikazce', selected);\n\n    // Ulo vybran ID oddlen | do MULTISELECT filtru\n    if (selected.length === 0) {\n      setMultiselectFilters(prev => ({ ...prev, prikazce: '' }));\n    } else {\n      const filterValue = selected.join('|');\n      setMultiselectFilters(prev => ({ ...prev, prikazce: filterValue }));\n    }\n  };\n\n  const clearColumnFilters = () => {\n    // Vyma vyhledvac pole v hlavice tabulky\n    setColumnFilters({\n      dt_objednavky: '',\n      cislo_objednavky: '',\n      predmet: '',\n      objednatel: '',\n      stav_objednavky: '',\n      max_cena_s_dph: '',\n      garant: '',\n      prikazce: '',\n      schvalovatel: ''\n    });\n\n    // Reset select v rozenm filtru - przdn pole msto przdnch string\n    setSelectedObjednatel([]);\n    setSelectedGarant([]);\n    setSelectedPrikazce([]);\n    setSelectedSchvalovatel([]);\n    setStatusFilter([]);\n\n    // Vyma tak z localStorage\n    setUserStorage('orders25List_selectedObjednatel', []);\n    setUserStorage('orders25List_selectedGarant', []);\n    setUserStorage('orders25List_selectedPrikazce', []);\n    setUserStorage('orders25List_selectedSchvalovatel', []);\n    setUserStorage('orders25List_statusFilter', []);\n  };\n\n  // Funkce pro vymazn jednotlivch filtr\n  const clearStatusFilter = () => {\n    setStatusFilter([]);\n    setUserStorage('orders25List_statusFilter', []);\n  };\n\n  // Funkce pro naten vlastnho filtru z DB (userSettings)\n  const loadCustomStatusFilter = () => {\n    try {\n      // Vyistit localStorage cache (pouv getUserKey formt: baseKey_user_userId)\n      const cacheKey = getUserKey('orders25List_statusFilter');\n      localStorage.removeItem(cacheKey);\n      \n      // Nast z userSettings (DB)\n      const userSettings = loadSettingsFromLocalStorage(parseInt(user_id, 10));\n      if (userSettings?.vychozi_filtry_stavu_objednavek && Array.isArray(userSettings.vychozi_filtry_stavu_objednavek)) {\n        const customFilter = userSettings.vychozi_filtry_stavu_objednavek;\n        setStatusFilter(customFilter);\n        setUserStorage('orders25List_statusFilter', customFilter);\n        \n        if (showToast) {\n          showToast(`Naten vlastn filtr stav (${customFilter.length} ${customFilter.length === 1 ? 'stav' : customFilter.length < 5 ? 'stavy' : 'stav'})`, 'success');\n        }\n      } else {\n        if (showToast) {\n          showToast('Vlastn filtr stav nen nastaven. Nastavte ho v Profilu  Nastaven.', 'info');\n        }\n      }\n    } catch (e) {\n      console.error('Chyba pi natn vlastnho filtru:', e);\n      if (showToast) {\n        showToast('Chyba pi natn vlastnho filtru stav', 'error');\n      }\n    }\n  };\n\n  const clearObjednatelFilter = () => {\n    setSelectedObjednatel([]);\n    setMultiselectFilters(prev => ({ ...prev, objednatel: '' }));\n    setUserStorage('orders25List_selectedObjednatel', []);\n  };\n\n  const clearGarantFilter = () => {\n    setSelectedGarant([]);\n    setMultiselectFilters(prev => ({ ...prev, garant: '' }));\n    setUserStorage('orders25List_selectedGarant', []);\n  };\n\n  const clearSchvalovatelFilter = () => {\n    setSelectedSchvalovatel([]);\n    setMultiselectFilters(prev => ({ ...prev, schvalovatel: '' }));\n    setUserStorage('orders25List_selectedSchvalovatel', []);\n  };\n\n  const clearPrikazceFilter = () => {\n    setSelectedPrikazce([]);\n    setMultiselectFilters(prev => ({ ...prev, prikazce: '' }));\n    setUserStorage('orders25List_selectedPrikazce', []);\n  };\n\n  const clearDateFilter = () => {\n    setDateFromFilter('');\n    setDateToFilter('');\n    const sid = user_id || 'anon';\n    localStorage.removeItem(`orders25_dateFrom_${sid}`);\n    localStorage.removeItem(`orders25_dateTo_${sid}`);\n  };\n\n  const clearPriceFilter = () => {\n    setAmountFromFilter('');\n    setAmountToFilter('');\n  };\n\n  const toggleRowHighlighting = () => {\n    const newHighlighting = !showRowHighlighting;\n    setShowRowHighlighting(newHighlighting);\n    setUserStorage('orders25List_showRowHighlighting', newHighlighting);\n  };\n\n  // Handler pro klik na dashboard karty - filtrovn podle stavu\n  //  VECHNY DLADICE FUNGUJ JAKO RADIO - VDY JEN JEDNA AKTIVN\n  const handleStatusFilterClick = (status) => {\n    if (activeStatusFilter === status) {\n      // Opakovan klik - zru vechny filtry\n      setActiveStatusFilter(null);\n      setStatusFilter([]);\n      setUserStorage('orders25List_statusFilter', []);\n      setFilterWithInvoices(false);\n      setFilterWithAttachments(false);\n    } else {\n      //  MAPUJ DASHBOARD KDY NA ESK NZVY (ne systmov kdy!)\n      const statusToCzechName = {\n        'ke_schvaleni': 'Ke schvlen',\n        'schvalena': 'Schvlen',\n        'rozpracovana': 'Rozpracovan',\n        'odeslana': 'Odeslan dodavateli',\n        'potvrzena': 'Potvrzen dodavatelem',\n        'k_uverejneni_do_registru': 'M bt zveejnna',\n        'uverejnena': 'Uveejnn',\n        'vecna_spravnost': 'Vcn sprvnost',\n        'dokoncena': 'Dokonen',\n        'nova': 'Nov',\n        'zamitnuta': 'Zamtnut',\n        'zrusena': 'Zruen',\n        'ceka_potvrzeni': 'ek na potvrzen',\n        'ceka_se': 'ek se',\n        'smazana': 'Smazan',\n        'archivovano': 'Archivovno'\n      };\n\n      // Zru vechny ostatn filtry\n      setFilterWithInvoices(false);\n      setFilterWithAttachments(false);\n      \n      // Aktivuj pouze tento stav\n      setActiveStatusFilter(status);\n      const czechName = statusToCzechName[status] || status;\n      setStatusFilter([czechName]);\n      setUserStorage('orders25List_statusFilter', [czechName]);\n    }\n  };\n\n  const handleToggleInvoicesFilter = () => {\n    if (filterWithInvoices) {\n      // Opakovan klik - zru vechny filtry\n      setFilterWithInvoices(false);\n      setActiveStatusFilter(null);\n      setStatusFilter([]);\n      setUserStorage('orders25List_statusFilter', []);\n      setFilterWithAttachments(false);\n    } else {\n      // Zru vechny ostatn filtry a aktivuj faktury\n      setActiveStatusFilter(null);\n      setStatusFilter([]);\n      setUserStorage('orders25List_statusFilter', []);\n      setFilterWithAttachments(false);\n      setFilterWithInvoices(true);\n    }\n  };\n\n  const handleToggleAttachmentsFilter = () => {\n    if (filterWithAttachments) {\n      // Opakovan klik - zru vechny filtry\n      setFilterWithAttachments(false);\n      setActiveStatusFilter(null);\n      setStatusFilter([]);\n      setUserStorage('orders25List_statusFilter', []);\n      setFilterWithInvoices(false);\n    } else {\n      // Zru vechny ostatn filtry a aktivuj plohy\n      setActiveStatusFilter(null);\n      setStatusFilter([]);\n      setUserStorage('orders25List_statusFilter', []);\n      setFilterWithInvoices(false);\n      setFilterWithAttachments(true);\n    }\n  };\n\n  const handleToggleMimoradneFilter = () => {\n    const newFilterMimoradne = !filterMimoradneObjednavky;\n    setFilterMimoradneObjednavky(newFilterMimoradne);\n    setUserStorage('orders25List_filterMimoradneObjednavky', newFilterMimoradne);\n    \n    if (newFilterMimoradne) {\n      // Zru ostatn filtry pokud aktivujeme mimodn\n      setActiveStatusFilter(null);\n      setStatusFilter([]);\n      setUserStorage('orders25List_statusFilter', []);\n      setFilterWithInvoices(false);\n      setFilterWithAttachments(false);\n    }\n  };\n\n  const handleToggleDebug = () => {\n    const newShowDebug = !showDebug;\n    setShowDebug(newShowDebug);\n    setUserStorage('orders25List_showDebug', newShowDebug);\n  };\n\n  const handleToggleDashboard = () => {\n    const newShowDashboard = !showDashboard;\n    setShowDashboard(newShowDashboard);\n    setUserStorage('orders25List_showDashboard', newShowDashboard);\n  };\n\n  const handleToggleFilters = () => {\n    const newShowFilters = !showFilters;\n    setShowFilters(newShowFilters);\n    setUserStorage('orders25List_showFilters', newShowFilters);\n  };\n\n  const handleHideFilters = () => {\n    setShowFiltersPanel(false);\n    setUserStorage('orders25List_showFiltersPanel', false);\n  };\n\n  const handleShowFilters = () => {\n    setShowFiltersPanel(true);\n    setUserStorage('orders25List_showFiltersPanel', true);\n  };\n\n  const handleToggleDashboardView = () => {\n    // Pepnout mezi Kompaktn a Pln a deaktivovat Vlastn reim\n    const newDashboardCompact = !dashboardCompact;\n    setDashboardCompact(newDashboardCompact);\n    setUserStorage('orders25List_dashboardCompact', newDashboardCompact);\n    \n    // Deaktivovat Vlastn reim\n    if (dashboardMode === 'custom') {\n      setDashboardMode('standard');\n      setUserStorage('orders25List_dashboardMode', 'standard');\n    }\n  };\n\n  const handleToggleCustomDashboard = () => {\n    // Aktivovat/deaktivovat Vlastn reim\n    const newMode = dashboardMode === 'custom' ? 'standard' : 'custom';\n    setDashboardMode(newMode);\n    setUserStorage('orders25List_dashboardMode', newMode);\n  };\n\n  // Helper funkce pro kontrolu zda m bt dladice viditeln v Custom reimu\n  const isTileVisible = useCallback((tileKey) => {\n    if (dashboardMode !== 'custom' || !userSettings?.viditelne_dlazdice) {\n      return true; // V standard reimu zobrazit ve\n    }\n    return userSettings.viditelne_dlazdice[tileKey] === true;\n  }, [dashboardMode, userSettings]);\n\n  const handleToggleOnlyMyOrders = () => {\n    const newShowOnlyMyOrders = !showOnlyMyOrders;\n    setShowOnlyMyOrders(newShowOnlyMyOrders);\n    setUserStorage('orders25List_showOnlyMyOrders', newShowOnlyMyOrders);\n  };\n\n  // Staen plohy\n  const handleDownloadAttachment = async (attachment, orderId) => {\n    const fileName = attachment.originalni_nazev_souboru || attachment.nazev || `priloha_${attachment.id}`;\n\n    // Pro archivovan objednvky (importovan ze star DB) - sthnout pmo ze star URL\n    if (attachment.typ_prilohy === 'IMPORT' && attachment.originalni_nazev_souboru) {\n      const oldAttachmentsUrl = process.env.REACT_APP_OLD_ATTACHMENTS_URL || 'https://erdms.zachranka.cz/prilohy/';\n      const oldUrl = `${oldAttachmentsUrl}${attachment.originalni_nazev_souboru}`;\n\n      // Sthnout pmo bez dialogu\n      const link = document.createElement('a');\n      link.href = oldUrl;\n      link.download = attachment.originalni_nazev_souboru;\n      link.style.display = 'none';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      \n      showToast?.(`Ploha \"${attachment.originalni_nazev_souboru}\" se stahuje ze starho systmu`, { type: 'info' });\n      return;\n    }\n\n    // Standardn staen pro bn plohy\n    if (!attachment.id || !orderId || !token || !username) {\n      showToast?.('Nelze sthnout plohu - chyb potebn daje', { type: 'error' });\n      return;\n    }\n\n    try {\n      let blob;\n      \n      //  Rozlien podle typu plohy - faktury vs objednvky\n      if (attachment.typ_prilohy && attachment.typ_prilohy.startsWith('FAKTURA')) {\n        // Ploha faktury - pouij invoice attachment endpoint\n        // Potebuji faktura_id - me bt v attachment.faktura_id\n        const fakturaId = attachment.faktura_id || attachment.invoice_id;\n        if (!fakturaId) {\n          showToast?.('Nelze sthnout plohu faktury - chyb ID faktury', { type: 'error' });\n          return;\n        }\n        blob = await downloadInvoiceAttachment(fakturaId, attachment.id, username, token);\n      } else {\n        // Ploha objednvky\n        blob = await downloadOrderAttachment(orderId, attachment.id, username, token);\n      }\n\n      // Pmo sthnout soubor bez dialog\n      createDownloadLink25(blob, fileName);\n      showToast?.(`Ploha staena`, { type: 'success' });\n\n    } catch (error) {\n      showToast?.(error.message || 'Plohu nelze sthnout', { type: 'error' });\n    }\n  };\n\n  // State pro detaily osob\n  const [personDetailsCache, setPersonDetailsCache] = useState({});\n\n  // Funkce pro naten detailu osoby - zavol se pi rozbalen dku\n  const loadPersonDetail = async (orderId, personKey, personId) => {\n    const cacheKey = `${orderId}_${personKey}`;\n\n    // Pokud u mme v cache, nemusme natat znovu\n    if (personDetailsCache[cacheKey]) {\n      return;\n    }\n\n    try {\n      const { getUserDetailApi2 } = await import('../services/api2auth');\n      const userDetail = await getUserDetailApi2(username, token, personId);\n\n      if (userDetail) {\n        const details = {\n          jmeno: userDetail.jmeno,\n          prijmeni: userDetail.prijmeni,\n          titul_pred: userDetail.titul_pred,\n          titul_za: userDetail.titul_za,\n          email: userDetail.email\n        };\n\n        // Ulo do cache\n        setPersonDetailsCache(prev => ({\n          ...prev,\n          [cacheKey]: details\n        }));\n      }\n    } catch (error) {\n      // Error loading person detail\n    }\n  };\n\n  // \n  //  RENDER EXPANDED ROW - V2 API OPTIMIZED\n  // \n  const renderExpandedContent = (order) => {\n    //  Order V2 API vrac enriched data pmo v order objektu:\n    // - polozky[] (s cena_bez_dph, cena_s_dph, dph_castka, dph_procento)\n    // - polozky_count, polozky_celkova_cena_s_dph, polozky_celkova_cena_bez_dph\n    // - faktury[] (s fa_castka_bez_dph, fa_castka_s_dph, fa_dph_castka, prilohy[])\n    // - faktury_count, faktury_celkova_castka_s_dph\n    // - prilohy[] (objednvky), prilohy_count\n    // - dodavatel_detail{}, user_detail{}, organizace_detail{}\n    // - strediska[], strediska_kod[]\n    // - financovani{typ, lp_kody[], ...}\n\n    // Pipravme data\n    const polozky = order.polozky || [];\n    const hasPolozky = Array.isArray(polozky) && polozky.length > 0;\n\n    const faktury = order.faktury || [];\n    const hasFaktury = Array.isArray(faktury) && faktury.length > 0;\n\n    const prilohy = order.prilohy || [];\n    const hasPrilohy = Array.isArray(prilohy) && prilohy.length > 0;\n\n    const dodatecneDokumenty = order.dodatecne_dokumenty || [];\n    const hasDodatecneDokumenty = Array.isArray(dodatecneDokumenty) && dodatecneDokumenty.length > 0;\n\n    const strediska = order.strediska_kod || order.strediska || [];\n    const hasStrediska = Array.isArray(strediska) && strediska.length > 0;\n\n    return (\n      <ExpandedContent $order={order} $showRowHighlighting={showRowHighlighting}>\n        <ExpandedGrid>\n\n          {/*  */}\n          {/* 1 ZKLADN DAJE OBJEDNVKY */}\n          {/*  */}\n          <InfoCard $order={order} $showRowHighlighting={showRowHighlighting}>\n            <InfoCardTitle>\n              <FontAwesomeIcon icon={faInfoCircle} />\n              Zkladn daje objednvky\n            </InfoCardTitle>\n\n            {/* slo objednvky - cel ka, nezalomiteln, s ID jako horn index */}\n            <div style={{\n              width: '100%',\n              marginBottom: '0.75rem',\n              padding: '0.5rem',\n              background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\n              borderRadius: '6px',\n              border: '1px solid #e2e8f0'\n            }}>\n              <div style={{\n                fontSize: '0.75em',\n                color: '#64748b',\n                marginBottom: '0.25rem',\n                fontWeight: 500,\n                textTransform: 'uppercase',\n                letterSpacing: '0.05em'\n              }}>\n                slo objednvky\n              </div>\n              <div style={{\n                fontFamily: 'monospace',\n                fontWeight: 700,\n                fontSize: '1.15em',\n                color: '#0f172a',\n                whiteSpace: 'nowrap',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis'\n              }}>\n                {order.cislo_objednavky || '---'}\n                <sup style={{\n                  fontSize: '0.6em',\n                  color: '#94a3b8',\n                  fontWeight: 400,\n                  marginLeft: '0.3em'\n                }}>\n                  #{order.id || '?'}\n                </sup>\n              </div>\n            </div>\n\n            <InfoRow>\n              <InfoLabel>Pedmt:</InfoLabel>\n              <InfoValue style={{ fontWeight: 500 }}>\n                {order.predmet || '---'}\n              </InfoValue>\n            </InfoRow>\n\n            <InfoRow>\n              <InfoLabel>Stav:</InfoLabel>\n              <InfoValue>\n                <span style={{\n                  fontWeight: 600,\n                  color: (() => {\n                    const statusCode = order.stav_objednavky\n                      ? mapUserStatusToSystemCode(order.stav_objednavky)\n                      : 'NOVA';\n                    const statusColors = getStatusColor(statusCode);\n                    return statusColors?.dark || STATUS_COLORS.NOVA.dark;\n                  })()\n                }}>\n                  {order.stav_objednavky || getOrderDisplayStatus(order) || '---'}\n                </span>\n              </InfoValue>\n            </InfoRow>\n\n            {/* Oddlovac linka pod stavem */}\n            <div style={{\n              borderBottom: '1px solid #e5e7eb',\n              margin: '0.75rem 0'\n            }} />\n\n            <InfoRow>\n              <InfoLabel>Datum vytvoen:</InfoLabel>\n              <InfoValue>\n                {order.dt_vytvoreni ? prettyDate(order.dt_vytvoreni) : '---'}\n              </InfoValue>\n            </InfoRow>\n\n            {order.dt_schvaleni && (\n              <InfoRow>\n                <InfoLabel>Datum schvlen:</InfoLabel>\n                <InfoValue style={{ color: '#059669', fontWeight: 500 }}>\n                  {prettyDate(order.dt_schvaleni)}\n                </InfoValue>\n              </InfoRow>\n            )}\n\n            {order.dt_predpokladany_termin_dodani && (\n              <InfoRow>\n                <InfoLabel>Termn dodn:</InfoLabel>\n                <InfoValue style={{ fontWeight: 500 }}>\n                  {formatDateOnly(order.dt_predpokladany_termin_dodani)}\n                </InfoValue>\n              </InfoRow>\n            )}\n\n                          {order.dt_potvrzeni_vecne_spravnosti && (\n                            <InfoRow>\n                              <InfoLabel>Potvrzen vc. sprvnosti:</InfoLabel>\n                              <InfoValue style={{ color: '#0891b2', fontWeight: 500 }}>\n                                {prettyDate(order.dt_potvrzeni_vecne_spravnosti)}\n                              </InfoValue>\n                            </InfoRow>\n                          )}            {order.dt_dokonceni && (\n              <InfoRow>\n                <InfoLabel>Datum dokonen:</InfoLabel>\n                <InfoValue style={{ color: '#16a34a', fontWeight: 600 }}>\n                  {prettyDate(order.dt_dokonceni)}\n                </InfoValue>\n              </InfoRow>\n            )}\n\n            <InfoRow>\n              <InfoLabel>Posledn zmna:</InfoLabel>\n              <InfoValue>\n                {order.dt_aktualizace ? prettyDate(order.dt_aktualizace) : '---'}\n              </InfoValue>\n            </InfoRow>\n\n            {/* Dlic linka */}\n            <div style={{\n              borderTop: '1px solid #d1d5db',\n              margin: '0.75rem 0'\n            }} />\n\n            {/* Uveejnn v registru smluv - VDY ZOBRAZIT */}\n            {(() => {\n              // 1. Zveejnno - m vyplnn datum i IDDS\n              if (order.registr_smluv?.dt_zverejneni && order.registr_smluv?.registr_iddt) {\n                return (\n                  <>\n                    <InfoRow>\n                      <InfoLabel>Uveejnno v registru:</InfoLabel>\n                      <InfoValue style={{\n                        fontWeight: 600,\n                        color: '#059669',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'flex-end',\n                        gap: '0.5rem'\n                      }}>\n                        <FontAwesomeIcon icon={faCheckCircle} style={{ fontSize: '0.9em' }} />\n                        <span>Ano</span>\n                      </InfoValue>\n                    </InfoRow>\n\n                    <InfoRow>\n                      <InfoLabel>Datum zveejnn:</InfoLabel>\n                      <InfoValue style={{ fontWeight: 500, color: '#059669' }}>\n                        {formatDateOnly(order.registr_smluv.dt_zverejneni)}\n                      </InfoValue>\n                    </InfoRow>\n\n                    <InfoRow>\n                      <InfoLabel>Kd IDDS:</InfoLabel>\n                      <InfoValue style={{\n                        fontFamily: 'monospace',\n                        fontWeight: 600,\n                        fontSize: '0.95em',\n                        color: '#0891b2'\n                      }}>\n                        {order.registr_smluv.registr_iddt}\n                      </InfoValue>\n                    </InfoRow>\n                  </>\n                );\n              }\n\n              // 2. ek se na zveejnn - m bt zveejnno, ale jet nebylo\n              let workflowStatus = null;\n              if (order.stav_workflow_kod) {\n                try {\n                  // Pokud je to string, parsuj ho\n                  const parsed = typeof order.stav_workflow_kod === 'string'\n                    ? JSON.parse(order.stav_workflow_kod)\n                    : order.stav_workflow_kod;\n\n                  // Pokud je to pole, vezmi posledn prvek\n                  if (Array.isArray(parsed)) {\n                    workflowStatus = parsed[parsed.length - 1];\n                  } else {\n                    workflowStatus = parsed;\n                  }\n                } catch (e) {\n                  // Pokud parsovn sele, pouij hodnotu jako string\n                  workflowStatus = order.stav_workflow_kod;\n                }\n              }\n\n              if (workflowStatus === 'UVEREJNIT' || order.registr_smluv?.zverejnit === 'ANO' || order.registr_smluv?.ma_byt_zverejnena) {\n                return (\n                  <InfoRow>\n                    <InfoLabel>Uveejnno v registru:</InfoLabel>\n                    <InfoValue style={{\n                      fontWeight: 600,\n                      color: '#f59e0b',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'flex-end',\n                      gap: '0.5rem'\n                    }}>\n                      <FontAwesomeIcon icon={faHourglassHalf} style={{ fontSize: '0.9em' }} />\n                      <span>ek se</span>\n                    </InfoValue>\n                  </InfoRow>\n                );\n              }\n\n              // 3. Nebude zveejnno\n              return (\n                <InfoRow>\n                  <InfoLabel>Uveejnno v registru:</InfoLabel>\n                  <InfoValue style={{\n                    fontWeight: 500,\n                    color: '#6b7280',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'flex-end',\n                    gap: '0.5rem'\n                  }}>\n                    <FontAwesomeIcon icon={faTimesCircle} style={{ fontSize: '0.9em' }} />\n                    <span>Ne</span>\n                  </InfoValue>\n                </InfoRow>\n              );\n            })()}\n          </InfoCard>\n\n          {/*  */}\n          {/* 2 FINANN DAJE - KOMPLETN S V2 API */}\n          {/*  */}\n          <InfoCard $order={order} $showRowHighlighting={showRowHighlighting}>\n            <InfoCardTitle>\n              <FontAwesomeIcon icon={faMoneyBillWave} />\n              Finann daje\n            </InfoCardTitle>\n\n            {/*  FINANN ZDROJ - NA ZATKU */}\n            {/* Stediska */}\n            {hasStrediska && (\n              <InfoRow>\n                <InfoLabel>Stediska:</InfoLabel>\n                <InfoValue style={{ fontSize: '0.9em', fontWeight: 500, display: 'flex', flexDirection: 'column', gap: '4px', alignItems: 'flex-end' }}>\n                  {Array.isArray(strediska) ? (\n                    strediska.map((s, idx) => {\n                      let strediskoText;\n                      if (typeof s === 'string' || typeof s === 'number') {\n                        // Je to kd (string nebo slo), pelo na nzev\n                        strediskoText = getStrediskoNazev(String(s));\n                      } else if (s.nazev_stavu) {\n                        // U mme enriched objekt s nzvem\n                        strediskoText = s.nazev_stavu;\n                      } else if (s.nazev) {\n                        strediskoText = s.nazev;\n                      } else if (s.kod_stavu) {\n                        // Mme objekt s kdem, pelo ho\n                        strediskoText = getStrediskoNazev(String(s.kod_stavu));\n                      } else if (s.kod) {\n                        strediskoText = getStrediskoNazev(String(s.kod));\n                      } else {\n                        strediskoText = `Stedisko ${idx + 1}`;\n                      }\n                      return (\n                        <div key={idx}>\n                          {highlightSearchText(strediskoText, globalFilter)}\n                        </div>\n                      );\n                    })\n                  ) : (\n                    <div>{highlightSearchText(getStrediskoNazev(String(strediska)), globalFilter)}</div>\n                  )}\n                </InfoValue>\n              </InfoRow>\n            )}\n\n            {/* Zpsob financovn */}\n            {order.financovani && (\n              <>\n                <InfoRow>\n                  <InfoLabel>Zpsob financovn:</InfoLabel>\n                  <InfoValue style={{ fontWeight: 600, color: '#7c3aed' }}>\n                    {highlightSearchText(order.financovani.typ_nazev || order.financovani.typ || '---', globalFilter)}\n                  </InfoValue>\n                </InfoRow>\n\n                {/* LP kdy s detaily */}\n                {order.financovani?.lp_nazvy && Array.isArray(order.financovani.lp_nazvy) && order.financovani.lp_nazvy.length > 0 && (\n                  <div style={{ marginTop: '0.5rem', marginBottom: '0.5rem' }}>\n                    <InfoLabel style={{ marginBottom: '0.5rem', display: 'block' }}>LP ty:</InfoLabel>\n                    {order.financovani.lp_nazvy.map((lp, index) => (\n                      <div key={index} style={{\n                        fontSize: '0.9em',\n                        marginBottom: '0.25rem',\n                        paddingLeft: '0.5rem',\n                        borderLeft: '3px solid #7c3aed',\n                        backgroundColor: '#faf5ff',\n                        padding: '0.4rem 0.5rem',\n                        borderRadius: '0 4px 4px 0'\n                      }}>\n                        <span style={{ fontWeight: 600, color: '#7c3aed' }}>\n                          {highlightSearchText(lp.cislo_lp || lp.kod || '---', globalFilter)}\n                        </span>\n                        {lp.nazev && (\n                          <span style={{ color: '#64748b', marginLeft: '0.5rem' }}>\n                             {highlightSearchText(lp.nazev, globalFilter)}\n                          </span>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Fallback na star LP kdy (pokud nejsou lp_nazvy) */}\n                {(!order.financovani?.lp_nazvy || order.financovani.lp_nazvy.length === 0) &&\n                 order.financovani?.lp_kody && Array.isArray(order.financovani.lp_kody) && order.financovani.lp_kody.length > 0 && (\n                  <InfoRow>\n                    <InfoLabel>LP kdy:</InfoLabel>\n                    <InfoValue style={{ fontSize: '0.9em' }}>\n                      {highlightSearchText(order.financovani.lp_kody.join(', '), globalFilter)}\n                    </InfoValue>\n                  </InfoRow>\n                )}\n\n                {/* Dal dynamick data financovn */}\n                {order.financovani && typeof order.financovani === 'object' && (() => {\n                  const fin = order.financovani;\n                  const skipKeys = ['typ', 'typ_nazev', 'nazev', 'lp_kody', 'lp_nazvy', 'kod_stavu', 'nazev_stavu', 'label'];\n                  const extraKeys = Object.keys(fin).filter(key => !skipKeys.includes(key) && fin[key] != null);\n\n                  return extraKeys.map(key => {\n                    const value = fin[key];\n                    const displayValue = Array.isArray(value) ? value.join(', ') : String(value);\n                    const labelMap = {\n                      'cislo': 'slo',\n                      'poznamka': 'Poznmka',\n                      'cislo_smlouvy': 'slo smlouvy',\n                      'smlouva_cislo': 'slo smlouvy',\n                      'poznamka_smlouvy': 'Poznmka smlouvy',\n                      'cislo_pojistne_udalosti': 'slo pojistn udlosti',\n                      'poznamka_pojistne_udalosti': 'Poznmka',\n                      'individualni_schvaleni': 'slo schvlen',\n                      'individualni_poznamka': 'Poznmka',\n                      'individualni_schvaleni_poznamka': 'Poznmka',\n                      'pokladna_cislo': 'slo',\n                      'pokladna_poznamka': 'Poznmka',\n                      'castka': 'stka',\n                      'datum': 'Datum',\n                      'schvalovaci_osoba': 'Schvalujc osoba'\n                    };\n                    const label = labelMap[key] || key.replace(/_/g, ' ').replace(/^\\w/, c => c.toUpperCase());\n\n                    return (\n                      <InfoRow key={key}>\n                        <InfoLabel>{label}:</InfoLabel>\n                        <InfoValue style={{ fontSize: '0.9em' }}>\n                          {highlightSearchText(displayValue, globalFilter)}\n                        </InfoValue>\n                      </InfoRow>\n                    );\n                  });\n                })()}\n              </>\n            )}\n\n            {/* Oddlovac ra */}\n            {(hasStrediska || order.financovani) && (\n              <div style={{\n                borderBottom: '2px solid #e2e8f0',\n                margin: '0.75rem 0',\n                boxShadow: '0 1px 2px rgba(0,0,0,0.05)'\n              }} />\n            )}\n\n            {/* Oddlovac linka */}\n            <div style={{\n              borderBottom: '1px solid #e5e7eb',\n              margin: '0.75rem 0'\n            }} />\n\n            {/* Max cena s DPH */}\n            <InfoRow>\n              <InfoLabel>Max. cena s DPH:</InfoLabel>\n              <InfoValue style={{ fontWeight: 700, color: '#059669', fontSize: '1.1em', whiteSpace: 'nowrap' }}>\n                {order.max_cena_s_dph ? <>{parseFloat(order.max_cena_s_dph).toLocaleString('cs-CZ')}&nbsp;K</> : '---'}\n              </InfoValue>\n            </InfoRow>\n\n            {/* Druh objednvky */}\n            <InfoRow>\n              <InfoLabel>Druh objednvky:</InfoLabel>\n              <InfoValue style={{ fontWeight: 500, fontSize: '0.9em' }}>\n                {(() => {\n                  // Podpora rznch formt dat z backendu\n                  // 1. Enriched: order.druh_objednavky = {kod, nazev}\n                  if (order.druh_objednavky?.nazev) {\n                    return order.druh_objednavky.nazev;\n                  }\n                  // 2. Direct: order.druh_objednavky_nazev (string)\n                  if (order.druh_objednavky_nazev) {\n                    return order.druh_objednavky_nazev;\n                  }\n                  // 3. Code only: order.druh_objednavky_kod (string) - pelo pes API slovnk\n                  if (order.druh_objednavky_kod) {\n                    return getDruhObjednavkyNazev(order.druh_objednavky_kod);\n                  }\n                  // 4. String value: order.druh_objednavky (string) - pelo pes API slovnk\n                  if (typeof order.druh_objednavky === 'string') {\n                    return getDruhObjednavkyNazev(order.druh_objednavky);\n                  }\n                  return '---';\n                })()}\n              </InfoValue>\n            </InfoRow>\n\n            {/* POLOKY - CENY */}\n            {hasPolozky && (\n              <>\n                {/* Poet poloek */}\n                <InfoRow>\n                  <InfoLabel>Poet poloek:</InfoLabel>\n                  <InfoValue style={{ fontWeight: 500 }}>\n                    {order.polozky_count || polozky.length} ks\n                  </InfoValue>\n                </InfoRow>\n\n                {/* Poloky - cena s DPH */}\n                {order.polozky_celkova_cena_s_dph && parseFloat(order.polozky_celkova_cena_s_dph) > 0 && (\n                  <InfoRow>\n                    <InfoLabel>Poloky (s DPH):</InfoLabel>\n                    <InfoValue style={{ fontWeight: 600, color: '#3b82f6', whiteSpace: 'nowrap' }}>\n                      {parseFloat(order.polozky_celkova_cena_s_dph).toLocaleString('cs-CZ')}&nbsp;K\n                    </InfoValue>\n                  </InfoRow>\n                )}\n              </>\n            )}\n\n            {/* Oddlovac linka */}\n            <div style={{\n              borderBottom: '1px solid #e5e7eb',\n              margin: '0.75rem 0'\n            }} />\n\n            {/* FAKTURY - CENY */}\n            {hasFaktury && (\n              <>\n                {/* Faktury - celkov stka s DPH */}\n                {order.faktury_celkova_castka_s_dph && parseFloat(order.faktury_celkova_castka_s_dph) > 0 && (\n                  <InfoRow>\n                    <InfoLabel>Faktury (s DPH):</InfoLabel>\n                    <InfoValue style={{ fontWeight: 600, color: '#7c3aed', whiteSpace: 'nowrap' }}>\n                      {parseFloat(order.faktury_celkova_castka_s_dph).toLocaleString('cs-CZ')}&nbsp;K\n                    </InfoValue>\n                  </InfoRow>\n                )}\n\n                {/* Poet faktur */}\n                <InfoRow>\n                  <InfoLabel>Poet faktur:</InfoLabel>\n                  <InfoValue style={{ fontWeight: 500 }}>\n                    {order.faktury_count || faktury.length} ks\n                  </InfoValue>\n                </InfoRow>\n              </>\n            )}\n          </InfoCard>\n\n          {/*  */}\n          {/* 3 ODPOVDN OSOBY */}\n          {/*  */}\n          <InfoCard $order={order} $showRowHighlighting={showRowHighlighting}>\n            <InfoCardTitle>\n              <FontAwesomeIcon icon={faUsers} />\n              Odpovdn osoby\n            </InfoCardTitle>\n\n            {/* Objednatel */}\n            <InfoRow>\n              <InfoLabel>Objednatel:</InfoLabel>\n              <InfoValue>\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '2px', alignItems: 'flex-end' }}>\n                  <span style={{ fontWeight: 500 }}>\n                    {order.objednatel?.cele_jmeno || order.uzivatel?.cele_jmeno || getUserDisplayName(order.uzivatel_id) || '---'}\n                  </span>\n                </div>\n              </InfoValue>\n            </InfoRow>\n            {(order.objednatel?.email || order.uzivatel?.email) && (\n              <div style={{\n                textAlign: 'right',\n                fontSize: '0.85em',\n                color: '#6b7280',\n                marginTop: '-0.3rem',\n                marginBottom: '0.5rem',\n                paddingRight: '0',\n                wordBreak: 'break-all'\n              }}>\n                {order.objednatel?.email || order.uzivatel?.email}\n              </div>\n            )}\n\n            {/* Garant */}\n            {order.garant_uzivatel && (\n              <>\n                <InfoRow>\n                  <InfoLabel>Garant:</InfoLabel>\n                  <InfoValue>\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '2px', alignItems: 'flex-end' }}>\n                      <span style={{ fontWeight: 500 }}>\n                        {order.garant_uzivatel.cele_jmeno || getUserDisplayName(order.garant_uzivatel.id) || '---'}\n                      </span>\n                    </div>\n                  </InfoValue>\n                </InfoRow>\n                {order.garant_uzivatel.email && (\n                  <div style={{\n                    textAlign: 'right',\n                    fontSize: '0.85em',\n                    color: '#6b7280',\n                    marginTop: '-0.3rem',\n                    marginBottom: '0.5rem',\n                    wordBreak: 'break-all'\n                  }}>\n                    {order.garant_uzivatel.email}\n                  </div>\n                )}\n              </>\n            )}\n\n            {/* Pkazce */}\n            {order.prikazce && (\n              <>\n                <InfoRow>\n                  <InfoLabel>Pkazce:</InfoLabel>\n                  <InfoValue>\n                    <span style={{ fontWeight: 500 }}>\n                      {order.prikazce.cele_jmeno || getUserDisplayName(order.prikazce.id) || '---'}\n                    </span>\n                  </InfoValue>\n                </InfoRow>\n                {order.prikazce.email && (\n                  <div style={{\n                    textAlign: 'right',\n                    fontSize: '0.85em',\n                    color: '#6b7280',\n                    marginTop: '-0.3rem',\n                    marginBottom: '0.5rem',\n                    wordBreak: 'break-all'\n                  }}>\n                    {order.prikazce.email}\n                  </div>\n                )}\n              </>\n            )}\n\n            {/* Schvalovatel */}\n            {order.schvalovatel && (\n              <>\n                <InfoRow>\n                  <InfoLabel>Schvalovatel:</InfoLabel>\n                  <InfoValue>\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '2px', alignItems: 'flex-end' }}>\n                      <span style={{ fontWeight: 500 }}>\n                        {order.schvalovatel.cele_jmeno || getUserDisplayName(order.schvalovatel.id) || '---'}\n                      </span>\n                    </div>\n                  </InfoValue>\n                </InfoRow>\n                {order.schvalovatel.email && (\n                  <div style={{\n                    textAlign: 'right',\n                    fontSize: '0.85em',\n                    color: '#6b7280',\n                    marginTop: '-0.3rem',\n                    marginBottom: '0.5rem',\n                    wordBreak: 'break-all'\n                  }}>\n                    {order.schvalovatel.email}\n                  </div>\n                )}\n              </>\n            )}\n\n            {/* Odeslatel */}\n            {order.odesilatel && (\n              <>\n                <InfoRow>\n                  <InfoLabel>Odeslatel:</InfoLabel>\n                  <InfoValue style={{ fontWeight: 500, color: '#0891b2' }}>\n                    {order.odesilatel.cele_jmeno || '---'}\n                  </InfoValue>\n                </InfoRow>\n                {order.odesilatel.email && (\n                  <div style={{\n                    textAlign: 'right',\n                    fontSize: '0.85em',\n                    color: '#6b7280',\n                    marginTop: '-0.3rem',\n                    marginBottom: '0.5rem',\n                    wordBreak: 'break-all'\n                  }}>\n                    {order.odesilatel.email}\n                  </div>\n                )}\n              </>\n            )}\n\n            {/* Dodavatel potvrdil */}\n            {order.dodavatel_potvrdil && (\n              <>\n                <InfoRow>\n                  <InfoLabel>Dodavatel potvrdil:</InfoLabel>\n                  <InfoValue style={{ fontWeight: 500, color: '#0891b2' }}>\n                    {order.dodavatel_potvrdil.cele_jmeno || '---'}\n                  </InfoValue>\n                </InfoRow>\n                {order.dodavatel_potvrdil.email && (\n                  <div style={{\n                    textAlign: 'right',\n                    fontSize: '0.85em',\n                    color: '#6b7280',\n                    marginTop: '-0.3rem',\n                    marginBottom: '0.5rem',\n                    wordBreak: 'break-all'\n                  }}>\n                    {order.dodavatel_potvrdil.email}\n                  </div>\n                )}\n              </>\n            )}\n\n            {/* Zveejnil */}\n            {order.zverejnil && (\n              <>\n                <InfoRow>\n                  <InfoLabel>Zveejnil:</InfoLabel>\n                  <InfoValue style={{ fontWeight: 500, color: '#0891b2' }}>\n                    {order.zverejnil.cele_jmeno || '---'}\n                  </InfoValue>\n                </InfoRow>\n                {order.zverejnil.email && (\n                  <div style={{\n                    textAlign: 'right',\n                    fontSize: '0.85em',\n                    color: '#6b7280',\n                    marginTop: '-0.3rem',\n                    marginBottom: '0.5rem',\n                    wordBreak: 'break-all'\n                  }}>\n                    {order.zverejnil.email}\n                  </div>\n                )}\n              </>\n            )}\n\n            {/* Fakturant */}\n            {order.fakturant && (\n              <>\n                <InfoRow>\n                  <InfoLabel>Fakturant:</InfoLabel>\n                  <InfoValue style={{ fontWeight: 500, color: '#7c3aed' }}>\n                    {order.fakturant.cele_jmeno || '---'}\n                  </InfoValue>\n                </InfoRow>\n                {order.fakturant.email && (\n                  <div style={{\n                    textAlign: 'right',\n                    fontSize: '0.85em',\n                    color: '#6b7280',\n                    marginTop: '-0.3rem',\n                    marginBottom: '0.5rem',\n                    wordBreak: 'break-all'\n                  }}>\n                    {order.fakturant.email}\n                  </div>\n                )}\n              </>\n            )}\n\n            {/* Potvrdil vcnou sprvnost */}\n            {order.potvrdil_vecnou_spravnost && (\n              <>\n                <InfoRow>\n                  <InfoLabel>Potvrdil vcnou sprvnost:</InfoLabel>\n                  <InfoValue style={{ fontWeight: 500, color: '#0891b2' }}>\n                    {order.potvrdil_vecnou_spravnost.cele_jmeno || '---'}\n                  </InfoValue>\n                </InfoRow>\n                {order.potvrdil_vecnou_spravnost.email && (\n                  <div style={{\n                    textAlign: 'right',\n                    fontSize: '0.85em',\n                    color: '#6b7280',\n                    marginTop: '-0.3rem',\n                    marginBottom: '0.5rem',\n                    wordBreak: 'break-all'\n                  }}>\n                    {order.potvrdil_vecnou_spravnost.email}\n                  </div>\n                )}\n              </>\n            )}\n\n            {/* Dokonil objednvku */}\n            {order.dokoncil && (\n              <>\n                <InfoRow>\n                  <InfoLabel>Dokonil objednvku:</InfoLabel>\n                  <InfoValue style={{ fontWeight: 600, color: '#16a34a' }}>\n                    {order.dokoncil.cele_jmeno || '---'}\n                  </InfoValue>\n                </InfoRow>\n                {order.dokoncil.email && (\n                  <div style={{\n                    textAlign: 'right',\n                    fontSize: '0.85em',\n                    color: '#6b7280',\n                    marginTop: '-0.3rem',\n                    marginBottom: '0.5rem',\n                    wordBreak: 'break-all'\n                  }}>\n                    {order.dokoncil.email}\n                  </div>\n                )}\n              </>\n            )}\n          </InfoCard>\n\n          {/*  */}\n          {/* 4 WORKFLOW KROKY */}\n          {/*  */}\n          <InfoCard $order={order} $showRowHighlighting={showRowHighlighting}>\n            <InfoCardTitle>\n              <FontAwesomeIcon icon={faListCheck} />\n              Workflow kroky\n            </InfoCardTitle>\n\n            {/* Vytvoil */}\n            {order.uzivatel && (\n              <div style={{\n                marginBottom: '0.75rem',\n                paddingBottom: '0.75rem',\n                borderBottom: '1px dashed #e2e8f0'\n              }}>\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  marginBottom: '2px'\n                }}>\n                  <div style={{ fontWeight: 600, fontSize: '0.85em', color: '#3b82f6' }}>\n                    1. Vytvoil\n                  </div>\n                  <div style={{ fontSize: '0.9em', fontWeight: 500 }}>\n                    {order.uzivatel.cele_jmeno}\n                  </div>\n                </div>\n                {order.uzivatel.datum && (\n                  <div style={{\n                    fontSize: '0.75em',\n                    color: '#64748b',\n                    textAlign: 'right'\n                  }}>\n                    {prettyDate(order.uzivatel.datum)}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Schvlil */}\n            {order.schvalovatel && (\n              <div style={{\n                marginBottom: '0.75rem',\n                paddingBottom: '0.75rem',\n                borderBottom: '1px dashed #e2e8f0'\n              }}>\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  marginBottom: '2px'\n                }}>\n                  <div style={{ fontWeight: 600, fontSize: '0.85em', color: '#059669' }}>\n                    2. Schvlil\n                  </div>\n                  <div style={{ fontSize: '0.9em', fontWeight: 500 }}>\n                    {order.schvalovatel.cele_jmeno}\n                  </div>\n                </div>\n                {order.schvalovatel.datum && (\n                  <div style={{\n                    fontSize: '0.75em',\n                    color: '#64748b',\n                    textAlign: 'right'\n                  }}>\n                    {prettyDate(order.schvalovatel.datum)}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Odeslal */}\n            {order.odesilatel && (\n              <div style={{\n                marginBottom: '0.75rem',\n                paddingBottom: '0.75rem',\n                borderBottom: '1px dashed #e2e8f0'\n              }}>\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  marginBottom: '2px'\n                }}>\n                  <div style={{ fontWeight: 600, fontSize: '0.85em', color: '#0891b2' }}>\n                    3. Odeslal dodavateli\n                  </div>\n                  <div style={{ fontSize: '0.9em', fontWeight: 500 }}>\n                    {order.odesilatel.cele_jmeno}\n                  </div>\n                </div>\n                {order.odesilatel.datum && (\n                  <div style={{\n                    fontSize: '0.75em',\n                    color: '#64748b',\n                    textAlign: 'right'\n                  }}>\n                    {prettyDate(order.odesilatel.datum)}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Dodavatel potvrdil */}\n            {order.dodavatel_potvrdil && (\n              <div style={{\n                marginBottom: '0.75rem',\n                paddingBottom: '0.75rem',\n                borderBottom: '1px dashed #e2e8f0'\n              }}>\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  marginBottom: '2px'\n                }}>\n                  <div style={{ fontWeight: 600, fontSize: '0.85em', color: '#7c3aed' }}>\n                    4. Dodavatel potvrdil\n                  </div>\n                  <div style={{ fontSize: '0.9em', fontWeight: 500 }}>\n                    {order.dodavatel_potvrdil.cele_jmeno}\n                  </div>\n                </div>\n                {order.dodavatel_potvrdil.datum && (\n                  <div style={{\n                    fontSize: '0.75em',\n                    color: '#64748b',\n                    textAlign: 'right'\n                  }}>\n                    {formatDateOnly(order.dodavatel_potvrdil.datum)}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Zveejnil */}\n            {order.zverejnil && (\n              <div style={{\n                marginBottom: '0.75rem',\n                paddingBottom: '0.75rem',\n                borderBottom: '1px dashed #e2e8f0'\n              }}>\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  marginBottom: '2px'\n                }}>\n                  <div style={{ fontWeight: 600, fontSize: '0.85em', color: '#f59e0b' }}>\n                    5. Zveejnil\n                  </div>\n                  <div style={{ fontSize: '0.9em', fontWeight: 500 }}>\n                    {order.zverejnil.cele_jmeno}\n                  </div>\n                </div>\n                {order.zverejnil.datum && (\n                  <div style={{\n                    fontSize: '0.75em',\n                    color: '#64748b',\n                    textAlign: 'right'\n                  }}>\n                    {formatDateOnly(order.zverejnil.datum)}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Pidal fakturu */}\n            {order.fakturant && order.faktury && order.faktury.length > 0 && (() => {\n              // Najdeme posledn pidanou fakturu (s nejnovjm dt_vytvoreni)\n              const fakturaSejtimem = order.faktury\n                .filter(f => f.dt_vytvoreni)\n                .sort((a, b) => new Date(b.dt_vytvoreni) - new Date(a.dt_vytvoreni))[0];\n              \n              if (!fakturaSejtimem) return null;\n              \n              return (\n                <div style={{\n                  marginBottom: '0.75rem',\n                  paddingBottom: '0.75rem',\n                  borderBottom: '1px dashed #e2e8f0'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    marginBottom: '2px'\n                  }}>\n                    <div style={{ fontWeight: 600, fontSize: '0.85em', color: '#ea580c' }}>\n                      6. Pidal fakturu\n                    </div>\n                    <div style={{ fontSize: '0.9em', fontWeight: 500 }}>\n                      {order.fakturant.cele_jmeno}\n                    </div>\n                  </div>\n                  <div style={{\n                    fontSize: '0.75em',\n                    color: '#64748b',\n                    textAlign: 'right'\n                  }}>\n                    {prettyDate(fakturaSejtimem.dt_vytvoreni)}\n                  </div>\n                </div>\n              );\n            })()}\n\n            {/* Potvrdil vcnou sprvnost */}\n            {order.potvrdil_vecnou_spravnost && (\n              <div style={{\n                marginBottom: '0.75rem',\n                paddingBottom: '0.75rem',\n                borderBottom: '1px dashed #e2e8f0'\n              }}>\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  marginBottom: '2px'\n                }}>\n                  <div style={{ fontWeight: 600, fontSize: '0.85em', color: '#0891b2' }}>\n                    7. Potvrdil vcnou sprvnost\n                  </div>\n                  <div style={{ fontSize: '0.9em', fontWeight: 500 }}>\n                    {order.potvrdil_vecnou_spravnost.cele_jmeno}\n                  </div>\n                </div>\n                {order.potvrdil_vecnou_spravnost.datum && (\n                  <div style={{\n                    fontSize: '0.75em',\n                    color: '#64748b',\n                    textAlign: 'right'\n                  }}>\n                    {prettyDate(order.potvrdil_vecnou_spravnost.datum)}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Dokonil */}\n            {order.dokoncil && (\n              <div style={{\n                marginBottom: '0'\n              }}>\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  marginBottom: '2px'\n                }}>\n                  <div style={{ fontWeight: 600, fontSize: '0.85em', color: '#16a34a' }}>\n                    8. Dokonil objednvku\n                  </div>\n                  <div style={{ fontSize: '0.9em', fontWeight: 500 }}>\n                    {order.dokoncil.cele_jmeno}\n                  </div>\n                </div>\n                {order.dokoncil.datum && (\n                  <div style={{\n                    fontSize: '0.75em',\n                    color: '#64748b',\n                    textAlign: 'right'\n                  }}>\n                    {prettyDate(order.dokoncil.datum)}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Posledn aktualizace */}\n            {order.uzivatel_akt && (\n              <div style={{\n                marginTop: '0.75rem',\n                paddingTop: '0.75rem',\n                borderTop: '2px solid #e2e8f0'\n              }}>\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'flex-start',\n                  gap: '8px'\n                }}>\n                  <div style={{ flex: 1 }}>\n                    <div style={{ fontWeight: 600, fontSize: '0.75em', color: '#94a3b8', marginBottom: '2px', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                      Posledn zmna\n                    </div>\n                    <div style={{ fontSize: '0.85em', color: '#64748b' }}>\n                      {order.uzivatel_akt.cele_jmeno}\n                    </div>\n                  </div>\n                  {order.uzivatel_akt.datum && (\n                    <div style={{\n                      fontSize: '0.75em',\n                      color: '#94a3b8',\n                      textAlign: 'right',\n                      whiteSpace: 'nowrap'\n                    }}>\n                      {prettyDate(order.uzivatel_akt.datum)}\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n          </InfoCard>\n\n          {/*  */}\n          {/* TSLOUPCOV LAYOUT: Dodavatel | Poloky+Faktury | Plohy */}\n          {/*  */}\n          <ThreeColumnLayout>\n            {/*  */}\n            {/* LEV SLOUPEC: DODAVATEL */}\n            {/*  */}\n            <SupplierColumn>\n              <InfoCard $order={order} $showRowHighlighting={showRowHighlighting}>\n                <InfoCardTitle>\n                  <FontAwesomeIcon icon={faBuilding} />\n                  Dodavatel\n                </InfoCardTitle>\n\n                <InfoRow>\n                  <InfoLabel>Nzev:</InfoLabel>\n                  <InfoValue style={{ fontWeight: 600 }}>\n                    {highlightSearchText(order.dodavatel_nazev || '---', globalFilter)}\n                  </InfoValue>\n                </InfoRow>\n\n                <InfoRow>\n                  <InfoLabel>IO:</InfoLabel>\n                  <InfoValue style={{ fontFamily: 'monospace', fontSize: '0.95em' }}>\n                    {highlightSearchText(order.dodavatel_ico || '---', globalFilter)}\n                  </InfoValue>\n                </InfoRow>\n\n                {order.dodavatel_adresa && (\n                  <InfoRow>\n                    <InfoLabel>Adresa:</InfoLabel>\n                    <InfoValue>{highlightSearchText(order.dodavatel_adresa, globalFilter)}</InfoValue>\n                  </InfoRow>\n                )}\n\n                {order.dodavatel_zastoupeny && (\n                  <InfoRow>\n                    <InfoLabel>Zstupce firmy:</InfoLabel>\n                    <InfoValue style={{ fontWeight: 500 }}>\n                      {highlightSearchText(order.dodavatel_zastoupeny, globalFilter)}\n                    </InfoValue>\n                  </InfoRow>\n                )}\n\n                {/* Oddlovac linka ped kontaktn osobou */}\n                {(order.dodavatel_kontakt_jmeno || order.dodavatel_kontakt_email || order.dodavatel_kontakt_telefon) && (\n                  <div style={{\n                    margin: '0.75rem 0',\n                    borderTop: '1px solid #e5e7eb'\n                  }} />\n                )}\n\n                {order.dodavatel_kontakt_jmeno && (\n                  <InfoRow>\n                    <InfoLabel>Kontakt:</InfoLabel>\n                    <InfoValue style={{ fontWeight: 500 }}>\n                      {highlightSearchText(order.dodavatel_kontakt_jmeno, globalFilter)}\n                    </InfoValue>\n                  </InfoRow>\n                )}\n\n                {order.dodavatel_kontakt_email && (\n                  <InfoRow>\n                    <InfoLabel>E-mail:</InfoLabel>\n                    <InfoValue style={{ wordBreak: 'break-all' }}>\n                      {highlightSearchText(order.dodavatel_kontakt_email, globalFilter)}\n                    </InfoValue>\n                  </InfoRow>\n                )}\n\n                {order.dodavatel_kontakt_telefon && (\n                  <InfoRow>\n                    <InfoLabel>Telefon:</InfoLabel>\n                    <InfoValue>{highlightSearchText(order.dodavatel_kontakt_telefon, globalFilter)}</InfoValue>\n                  </InfoRow>\n                )}\n              </InfoCard>\n            </SupplierColumn>\n\n            {/*  */}\n            {/* PROSTEDN SLOUPEC: POLOKY + FAKTURY */}\n            {/*  */}\n            <MiddleColumn>\n              {/*  */}\n              {/* 6 POLOKY OBJEDNVKY - KOMPLETN S DPH */}\n              {/*  */}\n              <InfoCard $order={order} $showRowHighlighting={showRowHighlighting}>\n                <InfoCardTitle>\n                  <FontAwesomeIcon icon={faList} />\n                  Poloky objednvky ({order.polozky_count || polozky.length})\n                </InfoCardTitle>\n\n              {hasPolozky ? (\n\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '10px', marginTop: '8px' }}>\n                {polozky.slice(0, 10).map((polozka, index) => (\n                  <ListItemCard key={index}>\n                    <ListItemHeader>\n                      <ListItemTitle>\n                        {highlightSearchText(polozka.popis || polozka.nazev || `Poloka ${index + 1}`, globalFilter)}\n                        {polozka.id && (\n                          <sup style={{\n                            fontSize: '0.6em',\n                            color: '#94a3b8',\n                            fontWeight: 400,\n                            marginLeft: '4px'\n                          }}>\n                            #{polozka.id}\n                          </sup>\n                        )}\n                      </ListItemTitle>\n\n                      {/* Cena s DPH - hlavn hodnota */}\n                      {polozka.cena_s_dph && (\n                        <div style={{\n                          fontWeight: 700,\n                          fontSize: '1em',\n                          color: '#059669',\n                          whiteSpace: 'nowrap'\n                        }}>\n                          {parseFloat(polozka.cena_s_dph).toLocaleString('cs-CZ')}&nbsp;K\n                        </div>\n                      )}\n                    </ListItemHeader>\n\n                    {/* Tagy pod nzvem - sek, budova, mstnost, poznmka umstn */}\n                    {(polozka.mistnost_kod || polozka.budova_kod || polozka.usek_kod || polozka.poznamka_umisteni) && (\n                      <div style={{\n                        display: 'flex',\n                        flexWrap: 'wrap',\n                        gap: '6px',\n                        marginTop: '6px',\n                        marginBottom: '8px'\n                      }}>\n                        {polozka.usek_kod && (\n                          <span style={{\n                            display: 'inline-block',\n                            padding: '3px 8px',\n                            fontSize: '0.75em',\n                            fontWeight: 500,\n                            backgroundColor: '#f3e8ff',\n                            color: '#6b21a8',\n                            borderRadius: '4px',\n                            border: '1px solid #d8b4fe'\n                          }}>\n                            sek: {highlightSearchText(polozka.usek_kod, globalFilter)}\n                          </span>\n                        )}\n\n                        {polozka.budova_kod && (\n                          <span style={{\n                            display: 'inline-block',\n                            padding: '3px 8px',\n                            fontSize: '0.75em',\n                            fontWeight: 500,\n                            backgroundColor: '#dbeafe',\n                            color: '#1e40af',\n                            borderRadius: '4px',\n                            border: '1px solid #93c5fd'\n                          }}>\n                            Budova: {highlightSearchText(polozka.budova_kod, globalFilter)}\n                          </span>\n                        )}\n\n                        {polozka.mistnost_kod && (\n                          <span style={{\n                            display: 'inline-block',\n                            padding: '3px 8px',\n                            fontSize: '0.75em',\n                            fontWeight: 500,\n                            backgroundColor: '#dbeafe',\n                            color: '#1e40af',\n                            borderRadius: '4px',\n                            border: '1px solid #93c5fd'\n                          }}>\n                            Mstnost: {highlightSearchText(polozka.mistnost_kod, globalFilter)}\n                          </span>\n                        )}\n\n                        {polozka.poznamka_umisteni && (\n                          <span style={{\n                            display: 'inline-block',\n                            padding: '3px 8px',\n                            fontSize: '0.75em',\n                            fontStyle: 'italic',\n                            backgroundColor: '#fef3c7',\n                            color: '#92400e',\n                            borderRadius: '4px',\n                            border: '1px solid #fde68a'\n                          }}>\n                            {highlightSearchText(polozka.poznamka_umisteni, globalFilter)}\n                          </span>\n                        )}\n                      </div>\n                    )}\n\n                    <ListItemMeta>\n                      {/* Poet */}\n                      {polozka.pocet && (\n                        <ListItemMetaItem>\n                          <span style={{ fontWeight: 500 }}>Poet:</span>\n                          <span>{polozka.pocet} {polozka.jednotka || 'ks'}</span>\n                        </ListItemMetaItem>\n                      )}\n\n                      {/* Jednotkov cena bez DPH */}\n                      {polozka.jednotkova_cena_bez_dph && (\n                        <ListItemMetaItem>\n                          <span style={{ fontWeight: 500 }}>Jedn. bez DPH:</span>\n                          <span>{parseFloat(polozka.jednotkova_cena_bez_dph).toLocaleString('cs-CZ')}&nbsp;K</span>\n                        </ListItemMetaItem>\n                      )}\n\n                      {/* Jednotkov cena s DPH */}\n                      {polozka.jednotkova_cena_s_dph && (\n                        <ListItemMetaItem>\n                          <span style={{ fontWeight: 500 }}>Jedn. s DPH:</span>\n                          <span>{parseFloat(polozka.jednotkova_cena_s_dph).toLocaleString('cs-CZ')}&nbsp;K</span>\n                        </ListItemMetaItem>\n                      )}\n\n                      {/* Cena bez DPH celkem */}\n                      {polozka.cena_bez_dph && (\n                        <ListItemMetaItem>\n                          <span style={{ fontWeight: 500 }}>Bez DPH:</span>\n                          <span style={{ color: '#64748b' }}>\n                            {parseFloat(polozka.cena_bez_dph).toLocaleString('cs-CZ')}&nbsp;K\n                          </span>\n                        </ListItemMetaItem>\n                      )}\n\n                      {/* DPH procento */}\n                      {polozka.dph_procento && (\n                        <ListItemMetaItem>\n                          <span style={{ fontWeight: 500 }}>DPH:</span>\n                          <span>{polozka.dph_procento}%</span>\n                        </ListItemMetaItem>\n                      )}\n\n                      {/* DPH stka */}\n                      {polozka.dph_castka && (\n                        <ListItemMetaItem>\n                          <span style={{ fontWeight: 500 }}>DPH stka:</span>\n                          <span>\n                            {parseFloat(polozka.dph_castka).toLocaleString('cs-CZ')}&nbsp;K\n                          </span>\n                        </ListItemMetaItem>\n                      )}\n                    </ListItemMeta>\n                  </ListItemCard>\n                ))}\n\n                {polozky.length > 10 && (\n                  <div style={{\n                    fontSize: '0.85em',\n                    color: '#6b7280',\n                    fontStyle: 'italic',\n                    textAlign: 'center',\n                    padding: '8px'\n                  }}>\n                    ... a dalch {polozky.length - 10} poloek\n                  </div>\n                )}\n\n                {/* Spolen poznmka k polokm */}\n                {order.poznamka && (\n                  <div style={{\n                    marginTop: '12px',\n                    padding: '10px 12px',\n                    backgroundColor: '#fffbeb',\n                    border: '1px solid #fde68a',\n                    borderRadius: '6px',\n                    fontSize: '0.9em',\n                    color: '#92400e',\n                    fontStyle: 'italic'\n                  }}>\n                    <strong style={{ fontStyle: 'normal', fontWeight: 600 }}>Poznmka k polokm:</strong>\n                    <div style={{ marginTop: '4px' }}>\n                      {highlightSearchText(order.poznamka, globalFilter)}\n                    </div>\n                  </div>\n                )}\n              </div>\n              ) : (\n                <div style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  padding: '2rem',\n                  color: '#94a3b8',\n                  fontSize: '0.9em'\n                }}>\n                  <FontAwesomeIcon icon={faList} style={{ fontSize: '3em', marginBottom: '1rem', opacity: 0.3 }} />\n                  <div>dn poloky</div>\n                </div>\n              )}\n            </InfoCard>\n\n          {/*  */}\n          {/* 7 FAKTURY - KOMPLETN S DPH A PLOHAMI */}\n          {/*  */}\n          <InfoCard $order={order} $showRowHighlighting={showRowHighlighting}>\n            <InfoCardTitle>\n              <FontAwesomeIcon icon={faReceipt} />\n              Faktury ({order.faktury_count || faktury.length})\n            </InfoCardTitle>\n\n            {hasFaktury ? (\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '12px', marginTop: '8px' }}>\n                {faktury.map((faktura, index) => {\n                  return (\n                    <ListItemCard key={index}>\n                      {/* Nadpis: Faktura 1 - slo */}\n                      <div style={{\n                        fontSize: '1.1em',\n                        fontWeight: 700,\n                        color: '#059669',\n                        marginBottom: '8px'\n                      }}>\n                        Faktura {index + 1} - {highlightSearchText(faktura.fa_cislo_vema || faktura.cislo_faktury || `${index + 1}`, globalFilter)}\n                      </div>\n\n                      <ListItemHeader style={{ marginTop: '8px' }}>\n                        <ListItemTitle style={{ fontSize: '0.9em', color: '#64748b' }}>\n                          slo faktury: {highlightSearchText(faktura.fa_cislo_vema || faktura.cislo_faktury || `Faktura ${index + 1}`, globalFilter)}\n                        </ListItemTitle>\n\n                        {/* Stav faktury */}\n                        {faktura.stav && (\n                          <ListItemBadge\n                            $success={faktura.stav === 'ZAPLACENA'}\n                            $warning={faktura.stav === 'NEZAPLACENA'}\n                          >\n                            {faktura.stav === 'ZAPLACENA' && <FontAwesomeIcon icon={faCheckCircle} />}\n                            {faktura.stav === 'NEZAPLACENA' && <FontAwesomeIcon icon={faHourglassHalf} />}\n                            {faktura.stav}\n                          </ListItemBadge>\n                        )}\n                      </ListItemHeader>\n\n                      <ListItemMeta>\n                        {/* slo faktury VEMA */}\n                        {faktura.fa_cislo_vema && (\n                          <ListItemMetaItem>\n                            <span style={{ fontWeight: 500 }}>slo faktury: {highlightSearchText(faktura.fa_cislo_vema, globalFilter)}</span>\n                          </ListItemMetaItem>\n                        )}\n\n                        {/* Datum vystaven */}\n                        {(faktura.fa_datum_vystaveni || faktura.dt_vystaveni) && (\n                          <ListItemMetaItem>\n                            <span>Vystavena: {formatDateOnly(faktura.fa_datum_vystaveni || faktura.dt_vystaveni)}</span>\n                          </ListItemMetaItem>\n                        )}\n\n                        {/* Datum doruen */}\n                        {faktura.fa_datum_doruceni && (\n                          <ListItemMetaItem>\n                            <span>Doruena: {formatDateOnly(faktura.fa_datum_doruceni)}</span>\n                          </ListItemMetaItem>\n                        )}\n\n                        {/* Datum splatnosti */}\n                        {(faktura.fa_datum_splatnosti || faktura.dt_splatnosti) && (\n                          <ListItemMetaItem>\n                            <span>Splatnost: {formatDateOnly(faktura.fa_datum_splatnosti || faktura.dt_splatnosti)}</span>\n                          </ListItemMetaItem>\n                        )}\n\n                        {/* stka bez DPH */}\n                        {faktura.castka_bez_dph && parseFloat(faktura.castka_bez_dph) > 0 && (\n                          <ListItemMetaItem>\n                            <span style={{ fontWeight: 500 }}>Bez DPH:</span>\n                            <span style={{ color: '#64748b' }}>\n                              {parseFloat(faktura.castka_bez_dph).toLocaleString('cs-CZ')}&nbsp;K\n                            </span>\n                          </ListItemMetaItem>\n                        )}\n\n                        {/* DPH stka */}\n                        {faktura.dph_castka && parseFloat(faktura.dph_castka) > 0 && (\n                          <ListItemMetaItem>\n                            <span style={{ fontWeight: 500 }}>DPH:</span>\n                            <span style={{ color: '#f59e0b' }}>\n                              {parseFloat(faktura.dph_castka).toLocaleString('cs-CZ')}&nbsp;K\n                            </span>\n                          </ListItemMetaItem>\n                        )}\n\n                        {/* stka s DPH - HLAVN HODNOTA */}\n                        {faktura.castka_s_dph && parseFloat(faktura.castka_s_dph) > 0 && (\n                          <ListItemMetaItem>\n                            <span style={{ fontWeight: 700, color: '#059669', fontSize: '1.05em' }}>\n                              {parseFloat(faktura.castka_s_dph).toLocaleString('cs-CZ')}&nbsp;K\n                            </span>\n                          </ListItemMetaItem>\n                        )}\n                      </ListItemMeta>\n\n                      {/* Stediska faktury */}\n                      {faktura.fa_strediska_kod && Array.isArray(faktura.fa_strediska_kod) && faktura.fa_strediska_kod.length > 0 && (\n                        <div style={{\n                          marginTop: '6px',\n                          fontSize: '0.85em',\n                          color: '#475569',\n                          paddingTop: '6px',\n                          borderTop: '1px dashed #e2e8f0'\n                        }}>\n                          <span style={{ fontWeight: 500 }}>Stediska:</span> {highlightSearchText(\n                            faktura.fa_strediska_kod.map(kod => getStrediskoNazev(String(kod))).join(', '), \n                            globalFilter\n                          )}\n                        </div>\n                      )}\n\n                      {/* Poznmka k faktue */}\n                      {faktura.fa_poznamka && (\n                        <div style={{\n                          marginTop: '8px',\n                          padding: '8px 10px',\n                          backgroundColor: '#fef9e7',\n                          border: '1px solid #fde68a',\n                          borderRadius: '4px',\n                          fontSize: '0.85em',\n                          color: '#92400e',\n                          whiteSpace: 'pre-wrap',\n                          lineHeight: '1.4'\n                        }}>\n                          <div style={{ fontWeight: 600, marginBottom: '4px' }}>\n                            Poznmka:\n                          </div>\n                          {highlightSearchText(faktura.fa_poznamka, globalFilter)}\n                        </div>\n                      )}\n                    </ListItemCard>\n                  );\n                })}\n              </div>\n            ) : (\n              <div style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center',\n                padding: '2rem',\n                color: '#94a3b8',\n                fontSize: '0.9em'\n              }}>\n                <FontAwesomeIcon icon={faReceipt} style={{ fontSize: '3em', marginBottom: '1rem', opacity: 0.3 }} />\n                <div>dn faktury</div>\n              </div>\n            )}\n          </InfoCard>\n            </MiddleColumn>\n\n            {/*  */}\n            {/* PRAV SLOUPEC: PLOHY */}\n            {/*  */}\n            <AttachmentsColumn>\n          {/*  */}\n          {/* 8 VECHNY PLOHY - KATEGORIZOVAN */}\n          {/*  */}\n            <InfoCard $order={order} $showRowHighlighting={showRowHighlighting}>\n              <InfoCardTitle>\n                <FontAwesomeIcon icon={faPaperclip} />\n                Plohy ({\n                  (order.prilohy_count || prilohy.length) +\n                  (dodatecneDokumenty.length) +\n                  (faktury.reduce((sum, f) => sum + ((f.prilohy && f.prilohy.length) || 0), 0))\n                })\n              </InfoCardTitle>\n\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '16px', marginTop: '8px' }}>\n\n                {/*  PLOHY OBJEDNVKY */}\n                {hasPrilohy && (\n                  <div>\n                    <div style={{\n                      fontWeight: 600,\n                      fontSize: '0.95em',\n                      color: '#1e40af',\n                      marginBottom: '8px',\n                      paddingBottom: '4px',\n                      borderBottom: '2px solid #dbeafe'\n                    }}>\n                      Plohy objednvky ({order.prilohy_count || prilohy.length})\n                    </div>\n\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '6px' }}>\n                      {prilohy.slice(0, 10).map((priloha, index) => (\n                        <AttachmentItem key={index}>\n                          <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '2px' }}>\n                            <AttachmentName style={{ fontWeight: 500 }}>\n                              {highlightSearchText(priloha.nazev_souboru || priloha.nazev || `Ploha ${index + 1}`, globalFilter)}\n                            </AttachmentName>\n                            <div style={{ fontSize: '0.8em', color: '#94a3b8' }}>\n                              {priloha.dt_nahrano && formatDateOnly(priloha.dt_nahrano)}\n                              {priloha.popis && <>  {highlightSearchText(priloha.popis, globalFilter)}</>}\n                            </div>\n                          </div>\n                          {priloha.velikost && (\n                            <AttachmentSize>\n                              ({Math.round(priloha.velikost / 1024)} KB)\n                            </AttachmentSize>\n                          )}\n                          <FontAwesomeIcon\n                            icon={faDownload}\n                            style={{\n                              color: '#3b82f6',\n                              cursor: 'pointer',\n                              marginLeft: '8px'\n                            }}\n                            title=\"Sthnout plohu\"\n                            onClick={() => handleDownloadAttachment(priloha, order.id)}\n                          />\n                        </AttachmentItem>\n                      ))}\n\n                      {prilohy.length > 10 && (\n                        <div style={{\n                          fontSize: '0.85em',\n                          color: '#6b7280',\n                          fontStyle: 'italic',\n                          textAlign: 'center',\n                          padding: '8px'\n                        }}>\n                          ... a dalch {prilohy.length - 10} ploh\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                )}\n\n                {/*  DODATEN DOKUMENTY */}\n                {hasDodatecneDokumenty && (\n                  <div>\n                    <div style={{\n                      fontWeight: 600,\n                      fontSize: '0.95em',\n                      color: '#7c3aed',\n                      marginBottom: '8px',\n                      paddingBottom: '4px',\n                      borderBottom: '2px solid #ede9fe'\n                    }}>\n                      Dodaten dokumenty ({dodatecneDokumenty.length})\n                    </div>\n\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '6px' }}>\n                      {dodatecneDokumenty.map((dokument, index) => (\n                        <AttachmentItem key={index}>\n                          <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '2px' }}>\n                            <AttachmentName style={{ fontWeight: 500 }}>\n                              {highlightSearchText(dokument.nazev_souboru || dokument.nazev || `Dokument ${index + 1}`, globalFilter)}\n                            </AttachmentName>\n                            <div style={{ fontSize: '0.8em', color: '#94a3b8' }}>\n                              {dokument.dt_nahrano && formatDateOnly(dokument.dt_nahrano)}\n                              {dokument.popis && <>  {highlightSearchText(dokument.popis, globalFilter)}</>}\n                            </div>\n                          </div>\n                          {dokument.velikost && (\n                            <AttachmentSize>\n                              ({Math.round(dokument.velikost / 1024)} KB)\n                            </AttachmentSize>\n                          )}\n                          <FontAwesomeIcon\n                            icon={faDownload}\n                            style={{\n                              color: '#7c3aed',\n                              cursor: 'pointer',\n                              marginLeft: '8px'\n                            }}\n                            title=\"Sthnout dokument\"\n                            onClick={() => handleDownloadAttachment(dokument, order.id)}\n                          />\n                        </AttachmentItem>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/*  PLOHY FAKTUR */}\n                {hasFaktury && faktury.some(f => f.prilohy && f.prilohy.length > 0) && (\n                  <div>\n                    <div style={{\n                      fontWeight: 600,\n                      fontSize: '0.95em',\n                      color: '#059669',\n                      marginBottom: '8px',\n                      paddingBottom: '4px',\n                      borderBottom: '2px solid #d1fae5'\n                    }}>\n                      Plohy faktur ({faktury.reduce((sum, f) => sum + ((f.prilohy && f.prilohy.length) || 0), 0)})\n                    </div>\n\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '6px' }}>\n                      {faktury.map((faktura, fIndex) => {\n                        const fakturaPrilohy = faktura.prilohy || [];\n                        if (!fakturaPrilohy.length) return null;\n\n                        return fakturaPrilohy.map((priloha, pIndex) => {\n                          //  Pidej faktura_id do plohy pro sprvn download\n                          const prilohaWithFakturaId = { ...priloha, faktura_id: faktura.id };\n                          \n                          return (\n                            <AttachmentItem key={`${fIndex}-${pIndex}`}>\n                            <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '2px' }}>\n                              <AttachmentName style={{ fontWeight: 500 }}>\n                                {highlightSearchText(priloha.originalni_nazev_souboru || priloha.nazev_souboru || priloha.nazev || 'Dokument', globalFilter)}\n                                <span style={{ color: '#047857', fontWeight: 600, marginLeft: '6px' }}>\n                                  [{faktura.cislo_faktury || `Faktura ${fIndex + 1}`}]\n                                </span>\n                              </AttachmentName>\n                              {priloha.popis && (\n                                <div style={{ fontSize: '0.8em', color: '#94a3b8' }}>\n                                  {highlightSearchText(priloha.popis, globalFilter)}\n                                </div>\n                              )}\n                            </div>\n                            {priloha.velikost_souboru_b && (\n                              <AttachmentSize>\n                                ({Math.round(priloha.velikost_souboru_b / 1024)} KB)\n                              </AttachmentSize>\n                            )}\n                            <FontAwesomeIcon\n                              icon={faDownload}\n                              style={{\n                                color: '#059669',\n                                cursor: 'pointer',\n                                marginLeft: '8px'\n                              }}\n                              title=\"Sthnout plohu\"\n                              onClick={() => handleDownloadAttachment(prilohaWithFakturaId, order.id)}\n                            />\n                            </AttachmentItem>\n                          );\n                        });\n                      })}\n                    </div>\n                  </div>\n                )}\n\n                {/* Pokud nejsou dn plohy */}\n                {!hasPrilohy && !hasDodatecneDokumenty && !(hasFaktury && faktury.some(f => f.prilohy && f.prilohy.length > 0)) && (\n                  <div style={{\n                    padding: '2rem',\n                    textAlign: 'center',\n                    color: '#9ca3af',\n                    fontSize: '0.95em'\n                  }}>\n                    <FontAwesomeIcon icon={faPaperclip} style={{ fontSize: '2em', marginBottom: '0.5rem', opacity: 0.3 }} />\n                    <div>dn plohy</div>\n                  </div>\n                )}\n\n              </div>\n            </InfoCard>\n            </AttachmentsColumn>\n          </ThreeColumnLayout>\n\n          {/*  */}\n        </ExpandedGrid>\n      </ExpandedContent>\n    );\n  };\n\n  //  Zobraz splash screen bhem JAKHOKOLIV natn (inicializace i refresh)\n  if (loading || !initializationComplete) {\n    return (\n      <LoadingOverlay $visible={true}>\n        <LoadingSpinner $visible={true} />\n        <LoadingMessage $visible={true}>\n          {!initializationComplete ? 'Inicializace pehledu objednvek' : 'Natn dat z databze...'}\n        </LoadingMessage>\n        <LoadingSubtext $visible={true}>\n          {!initializationComplete && !initStepsCompleted.current.dataLoaded && 'Natn dat z databze...'}\n          {!initializationComplete && initStepsCompleted.current.dataLoaded && !initStepsCompleted.current.paginationRestored && 'Obnoven strnkovn...'}\n          {!initializationComplete && initStepsCompleted.current.paginationRestored && !initStepsCompleted.current.expandedRestored && 'Rozbalovn objednvek...'}\n          {!initializationComplete && initStepsCompleted.current.expandedRestored && !initStepsCompleted.current.scrollRestored && 'Obnoven pozice...'}\n          {initializationComplete && loading && 'Prosm ekejte...'}\n        </LoadingSubtext>\n      </LoadingOverlay>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container>\n        <div style={{ textAlign: 'center', padding: '3rem' }}>\n          <FontAwesomeIcon icon={faExclamationTriangle} size=\"2x\" style={{ color: '#dc2626' }} />\n          <div style={{ marginTop: '1rem', fontSize: '1.25rem', color: '#dc2626' }}>\n            Chyba pi natn\n          </div>\n          <div style={{ marginTop: '0.5rem', color: '#64748b' }}>{error}</div>\n          <div style={{ marginTop: '1rem', display: 'flex', gap: '1rem', justifyContent: 'center' }}>\n            <ActionButton\n              onClick={handleRefresh}\n              $primary\n            >\n              <FontAwesomeIcon icon={faSyncAlt} />\n              Zkusit znovu\n            </ActionButton>\n            <ActionButton\n              onClick={() => {}}\n            >\n              <FontAwesomeIcon icon={faBolt} />\n              Debug info\n            </ActionButton>\n          </div>\n        </div>\n      </Container>\n    );\n  }\n\n  // CustomSelect wrapper - pouv globln komponentu\n  const CustomSelectLocal = (props) => (\n    <CustomSelect\n      {...props}\n      selectStates={selectStates}\n      setSelectStates={setSelectStates}\n      searchStates={searchStates}\n      setSearchStates={setSearchStates}\n      touchedSelectFields={touchedSelectFields}\n      setTouchedSelectFields={setTouchedSelectFields}\n      hasTriedToSubmit={hasTriedToSubmit}\n      toggleSelect={toggleSelect}\n      filterOptions={filterOptions}\n      getOptionLabel={getOptionLabel}\n    />\n  );\n\n  return (\n    <>\n      {/* Loading overlay s blur efektem - MIMO Container pro sprvn zobrazen */}\n      <LoadingOverlay $visible={loading}>\n        <LoadingSpinner $visible={loading} />\n        <LoadingMessage $visible={loading}>\n          Natn dat z databze...\n        </LoadingMessage>\n        <LoadingSubtext $visible={loading}>\n          Prosm ekejte\n        </LoadingSubtext>\n      </LoadingOverlay>\n\n      <Container>\n      <PageContent $blurred={loading}>\n      \n      {/* Year Filter - prominent position above header */}\n      <YearFilterPanel>\n        <YearFilterLeft>\n          <YearFilterLabel>\n            <FontAwesomeIcon icon={faCalendarAlt} />\n            Rok:\n          </YearFilterLabel>\n          <YearDropdownContainer ref={yearSelectRef}>\n            <MonthDropdownButton onClick={toggleYearDropdown}>\n              <span>{selectedYear === 'all' ? 'Vechny roky' : selectedYear}</span>\n              <FontAwesomeIcon icon={isYearDropdownOpen ? faChevronUp : faChevronDown} />\n            </MonthDropdownButton>\n            {isYearDropdownOpen && (\n              <MonthDropdownMenu>\n                {getYearsList().map(year => (\n                  <MonthDropdownItem key={year} onClick={() => handleYearChange(year)}>\n                    {year === 'all' ? 'Vechny roky' : year}\n                  </MonthDropdownItem>\n                ))}\n              </MonthDropdownMenu>\n            )}\n          </YearDropdownContainer>\n\n          <MonthFilterLabel>\n            <FontAwesomeIcon icon={faCalendarAlt} />\n            Obdob:\n          </MonthFilterLabel>\n          <MonthDropdownContainer ref={monthSelectRef}>\n            <MonthDropdownButton onClick={toggleMonthDropdown}>\n              <span>{getMonthLabel(selectedMonth)}</span>\n              <FontAwesomeIcon icon={isMonthDropdownOpen ? faChevronUp : faChevronDown} />\n            </MonthDropdownButton>\n            {isMonthDropdownOpen && (\n              <MonthDropdownMenu>\n                <MonthDropdownItem onClick={() => handleMonthChange('all')}>\n                  Vechny msce\n                </MonthDropdownItem>\n                <MonthDropdownItem onClick={() => handleMonthChange('current-month')}>\n                  Aktuln msc\n                </MonthDropdownItem>\n                <MonthDropdownItem onClick={() => handleMonthChange('last-month')}>\n                  Posledn msc\n                </MonthDropdownItem>\n                <MonthDropdownItem onClick={() => handleMonthChange('last-quarter')}>\n                  Posledn kvartl\n                </MonthDropdownItem>\n                <MonthDropdownItem onClick={() => handleMonthChange('last-half')}>\n                  Posledn plrok\n                </MonthDropdownItem>\n                <MonthDropdownItem onClick={() => handleMonthChange('last-year')}>\n                  Posledn rok\n                </MonthDropdownItem>\n\n                {!showExpandedMonths ? (\n                  <>\n                    <MonthDropdownItem separator disabled>\n                      \n                    </MonthDropdownItem>\n                    <MonthDropdownItem action onClick={() => handleMonthChange('show-more')}>\n                       Zobrazit dal...\n                    </MonthDropdownItem>\n                  </>\n                ) : (\n                  <>\n                    <MonthDropdownItem separator disabled>\n                      \n                    </MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('1')}>Leden</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('2')}>nor</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('3')}>Bezen</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('4')}>Duben</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('5')}>Kvten</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('6')}>erven</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('7')}>ervenec</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('8')}>Srpen</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('9')}>Z</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('10')}>jen</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('11')}>Listopad</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('12')}>Prosinec</MonthDropdownItem>\n                    <MonthDropdownItem separator disabled>\n                      \n                    </MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('1-3')}>Q1 (Leden-Bezen)</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('4-6')}>Q2 (Duben-erven)</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('7-9')}>Q3 (ervenec-Z)</MonthDropdownItem>\n                    <MonthDropdownItem onClick={() => handleMonthChange('10-12')}>Q4 (jen-Prosinec)</MonthDropdownItem>\n                    <MonthDropdownItem separator disabled>\n                      \n                    </MonthDropdownItem>\n                    <MonthDropdownItem action onClick={() => handleMonthChange('show-less')}>\n                       Zobrazit mn\n                    </MonthDropdownItem>\n                  </>\n                )}\n              </MonthDropdownMenu>\n            )}\n          </MonthDropdownContainer>\n\n          {/* Checkbox pro zobrazen archivovanch objednvek */}\n          <div style={{\n            position: 'relative',\n            minWidth: '180px',\n            marginLeft: '1rem'\n          }}>\n            <MonthDropdownButton\n              as=\"label\"\n              htmlFor=\"showArchived\"\n              style={{\n                padding: '0.75rem 1rem',\n                cursor: 'pointer',\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                gap: '0.75rem'\n              }}\n            >\n              <input\n                type=\"checkbox\"\n                id=\"showArchived\"\n                checked={showArchived}\n                onChange={handleShowArchivedChange}\n                style={{\n                  width: '20px',\n                  height: '20px',\n                  cursor: 'pointer',\n                  accentColor: 'rgba(255, 255, 255, 0.9)',\n                  margin: 0,\n                  flexShrink: 0\n                }}\n              />\n              <span style={{\n                flex: 1,\n                fontWeight: 600,\n                fontSize: '1rem',\n                textAlign: 'center'\n              }}>\n                ARCHIV\n              </span>\n              <FontAwesomeIcon\n                icon={faArchive}\n                style={{\n                  fontSize: '1.1rem',\n                  flexShrink: 0\n                }}\n              />\n            </MonthDropdownButton>\n          </div>\n\n          {/* Tlatko Obnovit */}\n          <div style={{ display: 'flex', alignItems: 'center' }}>\n            <SmartTooltip text=\"Obnovit seznam objednvek (force reload z databze)\" icon=\"warning\" preferredPosition=\"bottom\">\n              <RefreshIconButton\n                onClick={handleRefresh}\n                isBackgroundActive={isBackgroundRefreshActive}\n              >\n                <FontAwesomeIcon icon={faSyncAlt} />\n              </RefreshIconButton>\n            </SmartTooltip>\n            {lastRefreshTime && (\n              <RefreshTimeLabel>\n                {lastRefreshTime.toLocaleTimeString('cs-CZ', {\n                  hour: '2-digit',\n                  minute: '2-digit',\n                  second: '2-digit'\n                })}\n              </RefreshTimeLabel>\n            )}\n          </div>\n        </YearFilterLeft>\n        <YearFilterTitle>\n          {lastLoadSource && (\n            <CacheStatusIconWrapper>\n              <CacheStatusIcon fromCache={lastLoadSource === 'memory' || lastLoadSource === 'cache'}>\n                <FontAwesomeIcon icon={lastLoadSource === 'memory' || lastLoadSource === 'cache' ? faBoltLightning : faDatabase} />\n              </CacheStatusIcon>\n              <div className=\"tooltip\" data-icon=\"none\">\n                {(lastLoadSource === 'memory' || lastLoadSource === 'cache')\n                  ? ' Nateno z cache (pamti) - rychl zobrazen bez dotazu na databzi'\n                  : ' Nateno z databze - aktuln data pmo ze serveru'\n                }\n                {lastLoadTime && (\n                  <div style={{ fontSize: '0.75rem', marginTop: '0.25rem', opacity: 0.8 }}>\n                     {new Date(lastLoadTime).toLocaleTimeString('cs-CZ')}\n                    {lastLoadDuration !== null && (\n                      <span style={{ marginLeft: '0.5rem' }}>\n                         {lastLoadDuration}ms\n                      </span>\n                    )}\n                  </div>\n                )}\n              </div>\n            </CacheStatusIconWrapper>\n          )}\n          <span>\n            Pehled objednvek\n            {apiMeta?.admin_analysis?.total_without_permission_filters && (\n              <sup style={{\n                fontSize: '0.5em',\n                marginLeft: '0.1rem',\n                opacity: 0.6,\n                fontWeight: 'normal'\n              }}>\n                {apiMeta.admin_analysis.total_without_permission_filters}\n              </sup>\n            )}\n          </span>\n          <FontAwesomeIcon icon={faFileInvoice} style={{ marginLeft: '0.5rem' }} />\n        </YearFilterTitle>\n      </YearFilterPanel>\n\n      {/* Page Header */}\n      <PageHeader>\n        <ActionBar>\n          <SmartTooltip text=\"Vytvoit novou objednvku\" icon=\"success\" preferredPosition=\"bottom\">\n            <ActionButton\n              onClick={handleCreateNewOrder}\n              style={{\n                background: '#166534',\n                color: 'white',\n                fontWeight: 600\n              }}\n            >\n              <FontAwesomeIcon icon={faPlus} />\n              Nov objednvka\n            </ActionButton>\n          </SmartTooltip>\n\n          {!showDashboard && (\n            <SmartTooltip text=\"Zobrazit pehledov dashboard s grafy\" icon=\"info\" preferredPosition=\"bottom\">\n              <ActionButton onClick={handleToggleDashboard}>\n                <FontAwesomeIcon icon={faDashboard} />\n                Dashboard\n              </ActionButton>\n            </SmartTooltip>\n          )}\n\n          {!showFiltersPanel && (\n            <SmartTooltip text=\"Zobrazit pokroil filtry\" icon=\"info\" preferredPosition=\"bottom\">\n              <ActionButton onClick={handleShowFilters}>\n                <FontAwesomeIcon icon={faFilter} />\n                Filtr\n              </ActionButton>\n            </SmartTooltip>\n          )}\n\n          <SmartTooltip text=\"Export aktulnho seznamu do CSV souboru\" icon=\"success\" preferredPosition=\"bottom\">\n            <ActionButton onClick={handleExport}>\n              <FontAwesomeIcon icon={faFileExport} />\n              Export\n            </ActionButton>\n          </SmartTooltip>\n\n        </ActionBar>\n      </PageHeader>\n\n      {/* Debug Panel */}\n      {showDebug && rawData && (\n        <DebugPanel>\n          <DebugHeader>\n            <DebugTitle>\n              <FontAwesomeIcon icon={faBolt} />\n               DEBUG - Surov data z databze\n            </DebugTitle>\n            <div style={{ display: 'flex', gap: '10px' }}>\n              <ActionButton\n                onClick={() => window.open('/test-notifications', '_blank')}\n                style={{ background: '#1e40af', borderColor: '#60a5fa' }}\n              >\n                <FontAwesomeIcon icon={faBell} />\n                Test Notifikac\n              </ActionButton>\n              <ActionButton\n                onClick={() => setShowModalStylesPanel(true)}\n                style={{ background: '#8b5cf6', borderColor: '#a78bfa' }}\n              >\n                <FontAwesomeIcon icon={faPalette} />\n                Nvrhy Styl Modl\n              </ActionButton>\n              <ActionButton onClick={handleToggleDebug}>\n                <FontAwesomeIcon icon={faTimes} />\n                Skrt debug\n              </ActionButton>\n            </div>\n          </DebugHeader>\n          <DebugContent>\n            <DebugSection>\n              <DebugLabel> Zkladn info:</DebugLabel>\n              <DebugValue>{`Nateno: ${rawData.timestamp}\nPoet zznam: ${rawData.ordersCount}\nDostupn pole: ${rawData.allFields.join(', ')}`}</DebugValue>\n            </DebugSection>\n\n            {rawData.firstOrder && (\n              <DebugSection>\n                <DebugLabel> Prvn zznam (struktura):</DebugLabel>\n                <DebugValue>{JSON.stringify(rawData.firstOrder, null, 2)}</DebugValue>\n              </DebugSection>\n            )}\n\n            <DebugSection>\n              <DebugLabel> Vechna data (JSON):</DebugLabel>\n              <DebugValue>{JSON.stringify(rawData.rawData, null, 2)}</DebugValue>\n            </DebugSection>\n          </DebugContent>\n        </DebugPanel>\n      )}\n\n      {/*  Order V2 API Test Panel */}\n      {showApiTestPanel && (\n        <DebugPanel>\n          <DebugHeader>\n            <DebugTitle>\n              <FontAwesomeIcon icon={faBolt} />\n               ORDER V2 API TEST PANEL\n            </DebugTitle>\n            <ActionButton onClick={() => setShowApiTestPanel(false)}>\n              <FontAwesomeIcon icon={faTimes} />\n              Zavt\n            </ActionButton>\n          </DebugHeader>\n          <DebugContent>\n            {!apiTestData ? (\n              <DebugSection>\n                <DebugLabel> ekm na data...</DebugLabel>\n                <DebugValue>Zm filtr (rok, msc, archiv checkbox) nebo klikni na Obnovit pro naten dat.</DebugValue>\n              </DebugSection>\n            ) : (\n              <>\n                {/* Filter State */}\n                <DebugSection>\n                  <DebugLabel> Stav filtr:</DebugLabel>\n                  <DebugValue>{JSON.stringify({\n                    showArchived: apiTestData.filterState?.showArchived,\n                    selectedYear: apiTestData.filterState?.selectedYear,\n                    selectedMonth: apiTestData.filterState?.selectedMonth,\n                    canViewAllOrders: apiTestData.filterState?.canViewAllOrders,\n                    currentUserId: apiTestData.filterState?.currentUserId\n                  }, null, 2)}</DebugValue>\n                </DebugSection>\n\n            {/* API Request */}\n            <DebugSection>\n              <DebugLabel> API Request (co se posl):</DebugLabel>\n              <DebugValue>{JSON.stringify({\n                endpoint: '/order-v2/list-enriched',\n                filters: apiTestData.requestFilters,\n                timestamp: apiTestData.requestTimestamp\n              }, null, 2)}</DebugValue>\n            </DebugSection>\n\n            {/* API Response Summary */}\n            <DebugSection>\n              <DebugLabel> API Response (co pilo z BE):</DebugLabel>\n              <DebugValue>{`Celkem objednvek: ${apiTestData.apiResponseCount || 0}\nArchivovan: ${apiTestData.archivedInResponse || 0}\nNearchivovan: ${(apiTestData.apiResponseCount || 0) - (apiTestData.archivedInResponse || 0)}\nTimestamp: ${apiTestData.responseTimestamp || 'N/A'}`}</DebugValue>\n            </DebugSection>\n\n            {/* Frontend Filter Result */}\n            <DebugSection>\n              <DebugLabel> Po frontend filtraci (co se zobrazuje):</DebugLabel>\n              <DebugValue>{`Zobrazeno objednvek: ${apiTestData.filteredCount || 0}\nArchivovan: ${apiTestData.archivedInFiltered || 0}\nNearchivovan: ${apiTestData.nonArchivedInFiltered || 0}`}</DebugValue>\n            </DebugSection>\n\n            {/* First 3 Orders Sample */}\n            {apiTestData.apiResponse && apiTestData.apiResponse.length > 0 && (\n              <DebugSection>\n                <DebugLabel> Ukzka prvnch 3 objednvek z API:</DebugLabel>\n                <DebugValue>{JSON.stringify(\n                  apiTestData.apiResponse.slice(0, 3).map(o => ({\n                    id: o.id,\n                    cislo_objednavky: o.cislo_objednavky,\n                    stav_objednavky: o.stav_objednavky,\n                    uzivatel_id: o.uzivatel_id,\n                    garant_uzivatel_id: o.garant_uzivatel_id,\n                    dt_objednavky: o.dt_objednavky,\n                    datum_obj_od: o.datum_obj_od,\n                    datum_obj_do: o.datum_obj_do\n                  })),\n                  null,\n                  2\n                )}</DebugValue>\n              </DebugSection>\n            )}\n\n            {/* Full API Response */}\n            <DebugSection>\n              <DebugLabel> Kompletn API Response (JSON):</DebugLabel>\n              <DebugValue style={{ maxHeight: '400px', overflow: 'auto' }}>\n                {JSON.stringify(apiTestData.apiResponse, null, 2)}\n              </DebugValue>\n            </DebugSection>\n              </>\n            )}\n          </DebugContent>\n        </DebugPanel>\n      )}\n\n      {/*  Modal Styles Design Panel - Nvrhy styl modlnch dialog */}\n      {showModalStylesPanel && createPortal(\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(0, 0, 0, 0.85)',\n          backdropFilter: 'blur(8px)',\n          zIndex: 10001,\n          overflow: 'auto',\n          padding: '2rem'\n        }}>\n          <div style={{\n            maxWidth: '1400px',\n            margin: '0 auto',\n            background: '#1e293b',\n            borderRadius: '16px',\n            padding: '2rem',\n            color: 'white'\n          }}>\n            {/* Header */}\n            <div style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              marginBottom: '2rem',\n              borderBottom: '2px solid #334155',\n              paddingBottom: '1rem'\n            }}>\n              <h2 style={{\n                margin: 0,\n                display: 'flex',\n                alignItems: 'center',\n                gap: '1rem',\n                fontSize: '1.75rem',\n                fontWeight: 800\n              }}>\n                <FontAwesomeIcon icon={faPalette} style={{ color: '#a78bfa' }} />\n                 Nvrhy Styl Modlnch Dialog\n              </h2>\n              <button\n                onClick={() => setShowModalStylesPanel(false)}\n                style={{\n                  padding: '0.75rem 1.5rem',\n                  background: '#ef4444',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '8px',\n                  fontWeight: 600,\n                  cursor: 'pointer',\n                  transition: 'all 0.2s'\n                }}\n              >\n                <FontAwesomeIcon icon={faTimes} /> Zavt\n              </button>\n            </div>\n\n            {/* Intro Text */}\n            <div style={{\n              background: '#334155',\n              padding: '1.5rem',\n              borderRadius: '12px',\n              marginBottom: '2rem',\n              border: '2px solid #475569'\n            }}>\n              <p style={{ margin: '0 0 0.75rem 0', fontSize: '1.1rem' }}>\n                <strong> Instrukce:</strong> Ne vidte rzn nvrhy styl pro modln confirming dialogy.\n              </p>\n              <p style={{ margin: 0, color: '#cbd5e1' }}>\n                Kad nvrh m <strong>jednoznan nzev</strong> - vyber si styl, kter se ti lb,\n                a ekni mi nzev. Pak jej pouijeme jako zklad pro jednotn modal systm v cel aplikaci.\n              </p>\n            </div>\n\n            {/* Grid s nvrhy */}\n            <div style={{\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(500px, 1fr))',\n              gap: '2rem'\n            }}>\n\n              {/* NVRH 1: CURRENT-STYLE - Souasn styl z aplikace */}\n              <div style={{\n                background: '#0f172a',\n                borderRadius: '12px',\n                padding: '1.5rem',\n                border: '2px solid #1e40af'\n              }}>\n                <h3 style={{\n                  margin: '0 0 1rem 0',\n                  color: '#60a5fa',\n                  fontSize: '1.25rem',\n                  fontWeight: 700,\n                  borderBottom: '2px solid #1e40af',\n                  paddingBottom: '0.5rem'\n                }}>\n                  CURRENT-STYLE (Souasn)\n                </h3>\n\n                {/* Preview modalu */}\n                <div style={{\n                  background: 'white',\n                  borderRadius: '12px',\n                  padding: '2rem',\n                  boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.3)',\n                  border: '1px solid #e5e7eb'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.75rem',\n                    marginBottom: '1.5rem'\n                  }}>\n                    <div style={{\n                      width: '48px',\n                      height: '48px',\n                      borderRadius: '50%',\n                      background: '#fecaca',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      color: '#dc2626',\n                      fontSize: '1.5rem'\n                    }}>\n                      <FontAwesomeIcon icon={faExclamationTriangle} />\n                    </div>\n                    <h3 style={{\n                      fontSize: '1.25rem',\n                      fontWeight: 700,\n                      color: '#1e293b',\n                      margin: 0\n                    }}>\n                      Potvrzen akce\n                    </h3>\n                  </div>\n\n                  <div style={{\n                    marginBottom: '2rem',\n                    lineHeight: '1.6',\n                    color: '#475569'\n                  }}>\n                    <p style={{ margin: 0 }}>\n                      Toto je ukzka souasnho stylu modlnho dialogu.\n                      Design pouv kulat ikonky, svtl pozad a jemn stny.\n                    </p>\n                  </div>\n\n                  <div style={{\n                    display: 'flex',\n                    gap: '0.75rem',\n                    justifyContent: 'flex-end'\n                  }}>\n                    <button style={{\n                      padding: '0.75rem 1.5rem',\n                      border: '2px solid #d1d5db',\n                      borderRadius: '8px',\n                      fontWeight: 600,\n                      background: 'white',\n                      color: '#6b7280',\n                      cursor: 'pointer'\n                    }}>\n                      Zruit\n                    </button>\n                    <button style={{\n                      padding: '0.75rem 1.5rem',\n                      border: '2px solid #dc2626',\n                      borderRadius: '8px',\n                      fontWeight: 600,\n                      background: '#dc2626',\n                      color: 'white',\n                      cursor: 'pointer'\n                    }}>\n                      Potvrdit\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              {/* NVRH 2: GRADIENT-MODERN */}\n              <div style={{\n                background: '#0f172a',\n                borderRadius: '12px',\n                padding: '1.5rem',\n                border: '2px solid #8b5cf6'\n              }}>\n                <h3 style={{\n                  margin: '0 0 1rem 0',\n                  color: '#a78bfa',\n                  fontSize: '1.25rem',\n                  fontWeight: 700,\n                  borderBottom: '2px solid #8b5cf6',\n                  paddingBottom: '0.5rem'\n                }}>\n                  GRADIENT-MODERN (Modern gradient)\n                </h3>\n\n                <div style={{\n                  background: 'white',\n                  borderRadius: '16px',\n                  overflow: 'hidden',\n                  boxShadow: '0 20px 60px rgba(0, 0, 0, 0.4)'\n                }}>\n                  <div style={{\n                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                    padding: '1.5rem',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '1rem',\n                    borderBottom: '3px solid #553c9a'\n                  }}>\n                    <div style={{\n                      fontSize: '2rem',\n                      color: 'white',\n                      filter: 'drop-shadow(0 2px 8px rgba(0,0,0,0.3))'\n                    }}>\n                      <FontAwesomeIcon icon={faExclamationTriangle} />\n                    </div>\n                    <h3 style={{\n                      margin: 0,\n                      color: 'white',\n                      fontSize: '1.25rem',\n                      fontWeight: 800,\n                      textShadow: '0 2px 4px rgba(0,0,0,0.2)'\n                    }}>\n                      Potvrzen akce\n                    </h3>\n                  </div>\n\n                  <div style={{ padding: '1.5rem' }}>\n                    <p style={{\n                      margin: '0 0 1.5rem 0',\n                      color: '#374151',\n                      lineHeight: '1.6'\n                    }}>\n                      Modern design s barevnm gradientovm headerem.\n                      ist, profesionln a vizuln zajmav.\n                    </p>\n\n                    <div style={{\n                      display: 'flex',\n                      gap: '0.75rem',\n                      justifyContent: 'flex-end',\n                      borderTop: '2px solid #f3f4f6',\n                      paddingTop: '1.5rem'\n                    }}>\n                      <button style={{\n                        padding: '0.75rem 1.5rem',\n                        border: '2px solid #d1d5db',\n                        borderRadius: '10px',\n                        fontWeight: 700,\n                        background: 'white',\n                        color: '#6b7280',\n                        cursor: 'pointer'\n                      }}>\n                        Zruit\n                      </button>\n                      <button style={{\n                        padding: '0.75rem 1.5rem',\n                        border: 'none',\n                        borderRadius: '10px',\n                        fontWeight: 700,\n                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                        color: 'white',\n                        cursor: 'pointer',\n                        boxShadow: '0 4px 12px rgba(102, 126, 234, 0.4)'\n                      }}>\n                        Potvrdit\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* NVRH 3: MINIMAL-CLEAN */}\n              <div style={{\n                background: '#0f172a',\n                borderRadius: '12px',\n                padding: '1.5rem',\n                border: '2px solid #10b981'\n              }}>\n                <h3 style={{\n                  margin: '0 0 1rem 0',\n                  color: '#34d399',\n                  fontSize: '1.25rem',\n                  fontWeight: 700,\n                  borderBottom: '2px solid #10b981',\n                  paddingBottom: '0.5rem'\n                }}>\n                  MINIMAL-CLEAN (Minimalistick ist)\n                </h3>\n\n                <div style={{\n                  background: 'white',\n                  borderRadius: '8px',\n                  padding: '2rem',\n                  boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1)',\n                  border: '1px solid #e5e7eb'\n                }}>\n                  <div style={{\n                    borderLeft: '4px solid #dc2626',\n                    paddingLeft: '1rem',\n                    marginBottom: '1.5rem'\n                  }}>\n                    <h3 style={{\n                      fontSize: '1.125rem',\n                      fontWeight: 600,\n                      color: '#111827',\n                      margin: 0\n                    }}>\n                      Potvrzen akce\n                    </h3>\n                  </div>\n\n                  <p style={{\n                    margin: '0 0 2rem 0',\n                    color: '#6b7280',\n                    lineHeight: '1.6',\n                    fontSize: '0.9375rem'\n                  }}>\n                    Jednoduch, minimalistick design bez zbytench dekorac.\n                    Soustedn na obsah a itelnost.\n                  </p>\n\n                  <div style={{\n                    display: 'flex',\n                    gap: '0.5rem',\n                    justifyContent: 'flex-end'\n                  }}>\n                    <button style={{\n                      padding: '0.5rem 1.25rem',\n                      border: 'none',\n                      borderRadius: '6px',\n                      fontWeight: 500,\n                      background: '#f3f4f6',\n                      color: '#374151',\n                      cursor: 'pointer',\n                      fontSize: '0.875rem'\n                    }}>\n                      Zruit\n                    </button>\n                    <button style={{\n                      padding: '0.5rem 1.25rem',\n                      border: 'none',\n                      borderRadius: '6px',\n                      fontWeight: 500,\n                      background: '#dc2626',\n                      color: 'white',\n                      cursor: 'pointer',\n                      fontSize: '0.875rem'\n                    }}>\n                      Potvrdit\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              {/* NVRH 4: CARD-ELEVATED */}\n              <div style={{\n                background: '#0f172a',\n                borderRadius: '12px',\n                padding: '1.5rem',\n                border: '2px solid #f59e0b'\n              }}>\n                <h3 style={{\n                  margin: '0 0 1rem 0',\n                  color: '#fbbf24',\n                  fontSize: '1.25rem',\n                  fontWeight: 700,\n                  borderBottom: '2px solid #f59e0b',\n                  paddingBottom: '0.5rem'\n                }}>\n                  CARD-ELEVATED (Kartov zven)\n                </h3>\n\n                <div style={{\n                  background: 'white',\n                  borderRadius: '20px',\n                  padding: '0',\n                  boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.25)',\n                  border: 'none',\n                  overflow: 'hidden'\n                }}>\n                  <div style={{\n                    background: '#f8fafc',\n                    padding: '1.5rem 2rem',\n                    borderBottom: '1px solid #e2e8f0'\n                  }}>\n                    <div style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '1rem'\n                    }}>\n                      <div style={{\n                        width: '56px',\n                        height: '56px',\n                        borderRadius: '16px',\n                        background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        color: '#d97706',\n                        fontSize: '1.75rem',\n                        boxShadow: '0 4px 6px -1px rgba(217, 119, 6, 0.1)'\n                      }}>\n                        <FontAwesomeIcon icon={faExclamationTriangle} />\n                      </div>\n                      <div>\n                        <h3 style={{\n                          fontSize: '1.375rem',\n                          fontWeight: 700,\n                          color: '#0f172a',\n                          margin: 0\n                        }}>\n                          Potvrzen akce\n                        </h3>\n                        <p style={{\n                          fontSize: '0.875rem',\n                          color: '#64748b',\n                          margin: '0.25rem 0 0 0'\n                        }}>\n                          Dleit rozhodnut\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div style={{ padding: '2rem' }}>\n                    <p style={{\n                      margin: '0 0 2rem 0',\n                      color: '#475569',\n                      lineHeight: '1.7',\n                      fontSize: '1rem'\n                    }}>\n                      Elegantn kartov design s vraznm stnem a detailnm headerem.\n                      Premium pocit a profesionln vzhled.\n                    </p>\n\n                    <div style={{\n                      display: 'flex',\n                      gap: '0.75rem',\n                      justifyContent: 'flex-end'\n                    }}>\n                      <button style={{\n                        padding: '0.875rem 1.75rem',\n                        border: '2px solid #e2e8f0',\n                        borderRadius: '12px',\n                        fontWeight: 600,\n                        background: 'white',\n                        color: '#475569',\n                        cursor: 'pointer',\n                        fontSize: '0.9375rem'\n                      }}>\n                        Zruit\n                      </button>\n                      <button style={{\n                        padding: '0.875rem 1.75rem',\n                        border: 'none',\n                        borderRadius: '12px',\n                        fontWeight: 600,\n                        background: '#dc2626',\n                        color: 'white',\n                        cursor: 'pointer',\n                        fontSize: '0.9375rem',\n                        boxShadow: '0 4px 6px -1px rgba(220, 38, 38, 0.25)'\n                      }}>\n                        Potvrdit\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* NVRH 5: DARK-CONTRAST */}\n              <div style={{\n                background: '#0f172a',\n                borderRadius: '12px',\n                padding: '1.5rem',\n                border: '2px solid #ec4899'\n              }}>\n                <h3 style={{\n                  margin: '0 0 1rem 0',\n                  color: '#f9a8d4',\n                  fontSize: '1.25rem',\n                  fontWeight: 700,\n                  borderBottom: '2px solid #ec4899',\n                  paddingBottom: '0.5rem'\n                }}>\n                  DARK-CONTRAST (Tmav kontrastn)\n                </h3>\n\n                <div style={{\n                  background: '#1e293b',\n                  borderRadius: '12px',\n                  padding: '2rem',\n                  boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.5)',\n                  border: '1px solid #334155'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '1rem',\n                    marginBottom: '1.5rem'\n                  }}>\n                    <div style={{\n                      width: '52px',\n                      height: '52px',\n                      borderRadius: '50%',\n                      background: 'rgba(239, 68, 68, 0.2)',\n                      border: '2px solid #ef4444',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      color: '#f87171',\n                      fontSize: '1.5rem'\n                    }}>\n                      <FontAwesomeIcon icon={faExclamationTriangle} />\n                    </div>\n                    <h3 style={{\n                      fontSize: '1.25rem',\n                      fontWeight: 700,\n                      color: '#f1f5f9',\n                      margin: 0\n                    }}>\n                      Potvrzen akce\n                    </h3>\n                  </div>\n\n                  <p style={{\n                    margin: '0 0 2rem 0',\n                    color: '#cbd5e1',\n                    lineHeight: '1.6'\n                  }}>\n                    Tmav reim s vysokm kontrastem. Ideln pro aplikace\n                    s dark mode nebo pro non pouit.\n                  </p>\n\n                  <div style={{\n                    display: 'flex',\n                    gap: '0.75rem',\n                    justifyContent: 'flex-end'\n                  }}>\n                    <button style={{\n                      padding: '0.75rem 1.5rem',\n                      border: '2px solid #475569',\n                      borderRadius: '8px',\n                      fontWeight: 600,\n                      background: '#0f172a',\n                      color: '#cbd5e1',\n                      cursor: 'pointer'\n                    }}>\n                      Zruit\n                    </button>\n                    <button style={{\n                      padding: '0.75rem 1.5rem',\n                      border: '2px solid #ef4444',\n                      borderRadius: '8px',\n                      fontWeight: 600,\n                      background: '#ef4444',\n                      color: 'white',\n                      cursor: 'pointer'\n                    }}>\n                      Potvrdit\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              {/* NVRH 6: GLASS-MORPHISM */}\n              <div style={{\n                background: '#0f172a',\n                borderRadius: '12px',\n                padding: '1.5rem',\n                border: '2px solid #06b6d4'\n              }}>\n                <h3 style={{\n                  margin: '0 0 1rem 0',\n                  color: '#22d3ee',\n                  fontSize: '1.25rem',\n                  fontWeight: 700,\n                  borderBottom: '2px solid #06b6d4',\n                  paddingBottom: '0.5rem'\n                }}>\n                  GLASS-MORPHISM (Sklenn morfismus)\n                </h3>\n\n                <div style={{\n                  background: 'rgba(255, 255, 255, 0.95)',\n                  backdropFilter: 'blur(20px)',\n                  WebkitBackdropFilter: 'blur(20px)',\n                  borderRadius: '16px',\n                  padding: '2rem',\n                  boxShadow: '0 8px 32px 0 rgba(31, 38, 135, 0.37)',\n                  border: '1px solid rgba(255, 255, 255, 0.18)'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.75rem',\n                    marginBottom: '1.5rem'\n                  }}>\n                    <div style={{\n                      width: '48px',\n                      height: '48px',\n                      borderRadius: '50%',\n                      background: 'rgba(220, 38, 38, 0.1)',\n                      backdropFilter: 'blur(10px)',\n                      border: '2px solid rgba(220, 38, 38, 0.3)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      color: '#dc2626',\n                      fontSize: '1.5rem'\n                    }}>\n                      <FontAwesomeIcon icon={faExclamationTriangle} />\n                    </div>\n                    <h3 style={{\n                      fontSize: '1.25rem',\n                      fontWeight: 700,\n                      color: '#1e293b',\n                      margin: 0\n                    }}>\n                      Potvrzen akce\n                    </h3>\n                  </div>\n\n                  <p style={{\n                    margin: '0 0 2rem 0',\n                    color: '#475569',\n                    lineHeight: '1.6'\n                  }}>\n                    Modern glassmorphism efekt s prhlednost a rozmaznm.\n                    Trendy design s hloubkou a vrstvenm.\n                  </p>\n\n                  <div style={{\n                    display: 'flex',\n                    gap: '0.75rem',\n                    justifyContent: 'flex-end'\n                  }}>\n                    <button style={{\n                      padding: '0.75rem 1.5rem',\n                      border: '2px solid rgba(209, 213, 219, 0.5)',\n                      borderRadius: '8px',\n                      fontWeight: 600,\n                      background: 'rgba(255, 255, 255, 0.8)',\n                      backdropFilter: 'blur(10px)',\n                      color: '#6b7280',\n                      cursor: 'pointer'\n                    }}>\n                      Zruit\n                    </button>\n                    <button style={{\n                      padding: '0.75rem 1.5rem',\n                      border: '2px solid rgba(220, 38, 38, 0.5)',\n                      borderRadius: '8px',\n                      fontWeight: 600,\n                      background: 'rgba(220, 38, 38, 0.9)',\n                      backdropFilter: 'blur(10px)',\n                      color: 'white',\n                      cursor: 'pointer'\n                    }}>\n                      Potvrdit\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n\n            {/* Footer */}\n            <div style={{\n              marginTop: '2rem',\n              padding: '1.5rem',\n              background: '#334155',\n              borderRadius: '12px',\n              border: '2px solid #475569'\n            }}>\n              <h4 style={{ margin: '0 0 1rem 0', color: '#f1f5f9' }}>\n                 Tip pro vbr:\n              </h4>\n              <ul style={{ margin: 0, paddingLeft: '1.5rem', color: '#cbd5e1', lineHeight: '1.8' }}>\n                <li><strong>CURRENT-STYLE:</strong> Zachovme souasn vzhled, jen jej zrefaktorujeme</li>\n                <li><strong>GRADIENT-MODERN:</strong> Barevn, iv, modern - hod se pro mlad publikum</li>\n                <li><strong>MINIMAL-CLEAN:</strong> Nejjednodu, bez dekorac - rychl natn, univerzln</li>\n                <li><strong>CARD-ELEVATED:</strong> Premium, elegantn - pro business aplikace</li>\n                <li><strong>DARK-CONTRAST:</strong> Pro dark mode nebo veern prci</li>\n                <li><strong>GLASS-MORPHISM:</strong> Trendy, modern - efektn ale me bt nronj na vkon</li>\n              </ul>\n            </div>\n          </div>\n        </div>,\n        document.body\n      )}\n\n      {/* Dashboard */}\n      {showDashboard && (\n        <DashboardPanel>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n            <h3 style={{ margin: 0, display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n              <FontAwesomeIcon icon={faDashboard} style={{ color: '#3b82f6' }} />\n              Dashboard objednvek {\n                dashboardMode === 'custom' ? '(vlastn rozloen)' : \n                (dashboardCompact ? '(kompaktn)' : '(pln)')\n              }\n            </h3>\n            <div style={{ display: 'flex', gap: '0.5rem' }}>\n              {/* VLASTN - viditeln pouze pokud m user nastaven */}\n              {hasCustomTileSettings && (\n                <SmartTooltip\n                  text=\"Zobrazit dladice podle nastaven v profilu\"\n                  icon=\"info\"\n                  preferredPosition=\"bottom\"\n                >\n                  <ActionButton \n                    onClick={handleToggleCustomDashboard}\n                    style={{\n                      background: dashboardMode === 'custom' ? '#3b82f6' : undefined,\n                      color: dashboardMode === 'custom' ? 'white' : undefined,\n                      fontWeight: dashboardMode === 'custom' ? '600' : undefined\n                    }}\n                  >\n                    <FontAwesomeIcon icon={faList} />\n                    Vlastn\n                  </ActionButton>\n                </SmartTooltip>\n              )}\n\n              {/* PLN/KOMPAKTN toggle */}\n              <SmartTooltip\n                text={dashboardCompact\n                  ? 'Zobrazit pln dashboard se vemi statistikami'\n                  : 'Zobrazit kompaktn dashboard (pouze celkov hodnota)'}\n                icon=\"info\"\n                preferredPosition=\"bottom\"\n              >\n                <ActionButton onClick={handleToggleDashboardView}>\n                  <FontAwesomeIcon icon={dashboardCompact ? faTableColumns : faFileInvoice} />\n                  {dashboardCompact ? 'Pln' : 'Kompaktn'}\n                </ActionButton>\n              </SmartTooltip>\n\n              <SmartTooltip text=\"Skrt dashboard a zobrazit pouze tabulku objednvek\" icon=\"info\" preferredPosition=\"bottom\">\n                <ActionButton onClick={handleToggleDashboard}>\n                  <FontAwesomeIcon icon={faTimes} />\n                  Skrt\n                </ActionButton>\n              </SmartTooltip>\n            </div>\n          </div>\n          <DashboardGrid>\n            {dashboardMode === 'custom' ? (\n              //  VLASTN REIM - zobrazit vechny zakrtnut dladice (ignorovat Pln/Kompaktn)\n              <>\n                {/* LargeStatCard celkem - vdy */}\n                <LargeStatCard $color={STATUS_COLORS.TOTAL.dark}>\n                  <div>\n                    <LargeStatValue>\n                      {Math.round(stats.totalAmount).toLocaleString('cs-CZ')}&nbsp;K\n                    </LargeStatValue>\n                    <LargeStatLabel>\n                      Celkov cena s DPH za obdob ({stats.total})\n                    </LargeStatLabel>\n                    {(() => {\n                      const hasActiveFilters =\n                        globalFilter ||\n                        (Array.isArray(statusFilter) && statusFilter.length > 0) ||\n                        userFilter ||\n                        dateFromFilter ||\n                        dateToFilter ||\n                        amountFromFilter ||\n                        amountToFilter ||\n                        Object.values(columnFilters).some(val => val);\n\n                      if (hasActiveFilters && filteredData.length < orders.length) {\n                        const filteredAmount = filteredData.reduce((sum, order) => {\n                          const amount = getOrderTotalPriceWithDPH(order);\n                          return sum + (isNaN(amount) ? 0 : amount);\n                        }, 0);\n\n                        return (\n                          <div style={{\n                            marginTop: '0.75rem',\n                            paddingTop: '0.75rem',\n                            borderTop: '1px solid rgba(100, 116, 139, 0.2)'\n                          }}>\n                            <div style={{\n                              fontSize: '1.25rem',\n                              fontWeight: '700',\n                              color: '#f59e0b',\n                              textAlign: 'center',\n                              marginBottom: '0.25rem'\n                            }}>\n                              {Math.round(filteredAmount).toLocaleString('cs-CZ')}&nbsp;K\n                            </div>\n                            <div style={{\n                              fontSize: '0.75rem',\n                              fontWeight: '600',\n                              color: '#f59e0b',\n                              textAlign: 'center',\n                              paddingBottom: '0.75rem',\n                              borderBottom: '1px solid rgba(100, 116, 139, 0.2)'\n                            }}>\n                              Celkov cena s DPH za vybran ({filteredData.length})\n                            </div>\n                          </div>\n                        );\n                      }\n                      return null;\n                    })()}\n                  </div>\n\n                  <SummaryRow>\n                    <SummaryItem\n                      $color=\"#d97706\"\n                      $bg=\"rgba(217, 119, 6, 0.08)\"\n                    >\n                      <SummaryLabel $color=\"#92400e\">Rozpracovan</SummaryLabel>\n                      <SummaryValue>\n                        {Math.round(filteredData.reduce((sum, order) => {\n                          const status = getOrderSystemStatus(order);\n                          const isCancelledOrRejected = ['STORNOVA', 'ZAMITNUTA', 'ZRUSENA', 'CANCELLED', 'SMAZANA'].includes(status);\n                          const isCompleted = ['DOKONCENA', 'VYRIZENA', 'COMPLETED'].includes(status);\n                          if (!isCancelledOrRejected && !isCompleted) {\n                            const amount = getOrderTotalPriceWithDPH(order);\n                            return sum + (isNaN(amount) ? 0 : amount);\n                          }\n                          return sum;\n                        }, 0)).toLocaleString('cs-CZ')}&nbsp;K\n                      </SummaryValue>\n                    </SummaryItem>\n\n                    <SummaryItem\n                      $color=\"#059669\"\n                      $bg=\"rgba(5, 150, 105, 0.08)\"\n                    >\n                      <SummaryLabel $color=\"#065f46\">Dokonen</SummaryLabel>\n                      <SummaryValue>\n                        {Math.round(filteredData.reduce((sum, order) => {\n                          const status = getOrderSystemStatus(order);\n                          const isCompleted = ['DOKONCENA', 'VYRIZENA', 'COMPLETED'].includes(status);\n                          if (isCompleted) {\n                            const amount = getOrderTotalPriceWithDPH(order);\n                            return sum + (isNaN(amount) ? 0 : amount);\n                          }\n                          return sum;\n                        }, 0)).toLocaleString('cs-CZ')}&nbsp;K\n                      </SummaryValue>\n                    </SummaryItem>\n                  </SummaryRow>\n                </LargeStatCard>\n\n                {/* Poet objednvek - vdy */}\n                <StatCard $color=\"#2196f3\">\n                  <StatHeader>\n                    <StatValue>{filteredData.filter(o => !o.isDraft && !o.isLocalConcept).length}</StatValue>\n                    <StatIcon $color=\"#2196f3\">\n                      <FontAwesomeIcon icon={faFileAlt} />\n                    </StatIcon>\n                  </StatHeader>\n                  <StatLabel>Poet objednvek</StatLabel>\n                </StatCard>\n\n                {/*  VECHNY STAVOV DLADICE - filtrovan podle viditelne_dlazdice */}\n                {isTileVisible('nova') && (\n                  <StatCard\n                    $color={STATUS_COLORS.NOVA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'nova'}\n                    onClick={() => handleStatusFilterClick('nova')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.nova}</StatValue>\n                      <StatIcon>{getStatusEmoji('nova')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Nov / Koncept</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('ke_schvaleni') && (\n                  <StatCard\n                    $color={STATUS_COLORS.KE_SCHVALENI.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'ke_schvaleni'}\n                    onClick={() => handleStatusFilterClick('ke_schvaleni')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.ke_schvaleni}</StatValue>\n                      <StatIcon>{getStatusEmoji('ke_schvaleni')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Ke schvlen</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('schvalena') && (\n                  <StatCard\n                    $color={STATUS_COLORS.SCHVALENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'schvalena'}\n                    onClick={() => handleStatusFilterClick('schvalena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.schvalena}</StatValue>\n                      <StatIcon>{getStatusEmoji('schvalena')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Schvlen</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('zamitnuta') && (\n                  <StatCard\n                    $color={STATUS_COLORS.ZAMITNUTA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'zamitnuta'}\n                    onClick={() => handleStatusFilterClick('zamitnuta')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.zamitnuta}</StatValue>\n                      <StatIcon>{getStatusEmoji('zamitnuta')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Zamtnut</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('rozpracovana') && (\n                  <StatCard\n                    $color={STATUS_COLORS.ROZPRACOVANA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'rozpracovana'}\n                    onClick={() => handleStatusFilterClick('rozpracovana')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.rozpracovana}</StatValue>\n                      <StatIcon>{getStatusEmoji('rozpracovana')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Rozpracovan</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('odeslana_dodavateli') && (\n                  <StatCard\n                    $color={STATUS_COLORS.ODESLANA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'odeslana'}\n                    onClick={() => handleStatusFilterClick('odeslana')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.odeslana}</StatValue>\n                      <StatIcon>{getStatusEmoji('odeslana')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Odeslan dodavateli</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('potvrzena_dodavatelem') && (\n                  <StatCard\n                    $color={STATUS_COLORS.POTVRZENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'potvrzena'}\n                    onClick={() => handleStatusFilterClick('potvrzena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.potvrzena}</StatValue>\n                      <StatIcon>{getStatusEmoji('potvrzena')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Potvrzen dodavatelem</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('k_uverejneni_do_registru') && (\n                  <StatCard\n                    $color={STATUS_COLORS.K_UVEREJNENI_DO_REGISTRU.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'k_uverejneni_do_registru'}\n                    onClick={() => handleStatusFilterClick('k_uverejneni_do_registru')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.k_uverejneni_do_registru}</StatValue>\n                      <StatIcon>{getStatusEmoji('k_uverejneni_do_registru')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>M bt zveejnna</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('uverejnena') && (\n                  <StatCard\n                    $color={STATUS_COLORS.UVEREJNENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'uverejnena'}\n                    onClick={() => handleStatusFilterClick('uverejnena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.uverejnena}</StatValue>\n                      <StatIcon>{getStatusEmoji('uverejnena')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Uveejnn</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('ceka_na_potvrzeni') && (\n                  <StatCard\n                    $color={STATUS_COLORS.CEKA_POTVRZENI.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'ceka_potvrzeni'}\n                    onClick={() => handleStatusFilterClick('ceka_potvrzeni')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.ceka_potvrzeni}</StatValue>\n                      <StatIcon>{getStatusEmoji('ceka_potvrzeni')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>ek na potvrzen</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('ceka_se') && (\n                  <StatCard\n                    $color={STATUS_COLORS.CEKA_SE.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'ceka_se'}\n                    onClick={() => handleStatusFilterClick('ceka_se')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.ceka_se}</StatValue>\n                      <StatIcon>{getStatusEmoji('ceka_se')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>ek se</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('vecna_spravnost') && (\n                  <StatCard\n                    $color={STATUS_COLORS.VECNA_SPRAVNOST.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'vecna_spravnost'}\n                    onClick={() => handleStatusFilterClick('vecna_spravnost')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.vecna_spravnost}</StatValue>\n                      <StatIcon>{getStatusEmoji('vecna_spravnost')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Vcn sprvnost</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('dokoncena') && (\n                  <StatCard\n                    $color={STATUS_COLORS.DOKONCENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'dokoncena'}\n                    onClick={() => handleStatusFilterClick('dokoncena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.dokoncena}</StatValue>\n                      <StatIcon>{getStatusEmoji('dokoncena')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Dokonen</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('zrusena') && (\n                  <StatCard\n                    $color={STATUS_COLORS.ZRUSENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'zrusena'}\n                    onClick={() => handleStatusFilterClick('zrusena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.zrusena}</StatValue>\n                      <StatIcon>{getStatusEmoji('zrusena')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Zruen</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('smazana') && (\n                  <StatCard\n                    $color={STATUS_COLORS.SMAZANA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'smazana'}\n                    onClick={() => handleStatusFilterClick('smazana')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.smazana}</StatValue>\n                      <StatIcon>{getStatusEmoji('smazana')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Smazan</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('archivovano') && (\n                  <StatCard\n                    $color={STATUS_COLORS.ARCHIVOVANO.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'archivovano'}\n                    onClick={() => handleStatusFilterClick('archivovano')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.archivovano}</StatValue>\n                      <StatIcon>{getStatusEmoji('archivovano')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Archivovno / Import</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('s_fakturou') && (\n                  <StatCard\n                    $color={STATUS_COLORS.WITH_INVOICES.dark}\n                    $clickable={true}\n                    $isActive={filterWithInvoices}\n                    onClick={handleToggleInvoicesFilter}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.withInvoices}</StatValue>\n                      <StatIcon></StatIcon>\n                    </StatHeader>\n                    <StatLabel>S fakturou</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('s_prilohami') && (\n                  <StatCard\n                    $color={STATUS_COLORS.WITH_ATTACHMENTS.dark}\n                    $clickable={true}\n                    $isActive={filterWithAttachments}\n                    onClick={handleToggleAttachmentsFilter}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.withAttachments}</StatValue>\n                      <StatIcon></StatIcon>\n                    </StatHeader>\n                    <StatLabel>S plohami</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('mimoradne_udalosti') && (\n                  <StatCard\n                    $color=\"#dc2626\"\n                    $clickable={true}\n                    $isActive={filterMimoradneObjednavky}\n                    onClick={handleToggleMimoradneFilter}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.mimoradneUdalosti}</StatValue>\n                      <StatIcon $color=\"#dc2626\">\n                        <FontAwesomeIcon icon={faBoltLightning} />\n                      </StatIcon>\n                    </StatHeader>\n                    <StatLabel>Mimodn udlosti</StatLabel>\n                  </StatCard>\n                )}\n\n                {/* Moje objednvky dladice - pouze pro SUPERADMIN a ADMINISTRATOR */}\n                {isTileVisible('moje_objednavky') && userDetail?.roles?.some(role => role.kod_role === 'SUPERADMIN' || role.kod_role === 'ADMINISTRATOR') && (() => {\n                  const currentUserIdNum = parseInt(user_id, 10);\n\n                  const myOrdersCount = filteredData.filter(order => {\n                    const isObjednatel = order.uzivatel_id === currentUserIdNum;\n                    const isGarant = order.garant_uzivatel_id === currentUserIdNum;\n                    const isSchvalovatel = order.schvalovatel_id === currentUserIdNum;\n                    const isPrikazce = order.prikazce_id === currentUserIdNum;\n\n                    return isObjednatel || isGarant || isSchvalovatel || isPrikazce;\n                  }).length;\n\n                  return (\n                    <StatCard\n                      $color=\"#7c3aed\"\n                      $clickable={true}\n                      $isActive={showOnlyMyOrders}\n                      onClick={handleToggleOnlyMyOrders}\n                    >\n                      <StatHeader>\n                        <StatValue>{myOrdersCount}</StatValue>\n                        <StatIcon $color=\"#7c3aed\">\n                          <FontAwesomeIcon icon={faUser} />\n                        </StatIcon>\n                      </StatHeader>\n                      <StatLabel>Moje objednvky</StatLabel>\n                    </StatCard>\n                  );\n                })()}\n\n                {/*  Dodaten dokumenty dladice */}\n                {isTileVisible('dodatecne_dokumenty') && (() => {\n                  let dokumentyCount = 0;\n\n                  filteredData.forEach(order => {\n                    if (order._enriched?.dodatecne_dokumenty && Array.isArray(order._enriched.dodatecne_dokumenty)) {\n                      dokumentyCount += order._enriched.dodatecne_dokumenty.length;\n                    }\n                    if (!order._enriched?.dodatecne_dokumenty && order._enriched?.dodatecne_dokumenty_count) {\n                      dokumentyCount += order._enriched.dodatecne_dokumenty_count;\n                    }\n                  });\n\n                  return dokumentyCount > 0 ? (\n                    <StatCard $color=\"#06b6d4\">\n                      <StatHeader>\n                        <StatValue>{dokumentyCount}</StatValue>\n                        <StatIcon $color=\"#06b6d4\">\n                          <FontAwesomeIcon icon={faFileAlt} />\n                        </StatIcon>\n                      </StatHeader>\n                      <StatLabel>Dodat. dokumenty</StatLabel>\n                    </StatCard>\n                  ) : null;\n                })()}\n\n                {/*  Vcn kontrola dladice */}\n                {isTileVisible('vecna_kontrola') && (() => {\n                  let vecnaKontrolaCount = 0;\n                  let vecnaKontrolaOk = 0;\n\n                  filteredData.forEach(order => {\n                    if (order._enriched?.vecna_kontrola) {\n                      vecnaKontrolaCount++;\n                      if (order._enriched.vecna_kontrola.stav === 'OK' ||\n                          order._enriched.vecna_kontrola.stav === 'SCHVALENO' ||\n                          order._enriched.vecna_kontrola.provedena === true) {\n                        vecnaKontrolaOk++;\n                      }\n                    }\n                    if (order.vecna_kontrola === true || order.vecna_spravnost === true) {\n                      vecnaKontrolaCount++;\n                      vecnaKontrolaOk++;\n                    }\n                  });\n\n                  return vecnaKontrolaCount > 0 ? (\n                    <StatCard $color=\"#10b981\" title={`Schvleno: ${vecnaKontrolaOk} z ${vecnaKontrolaCount}`}>\n                      <StatHeader>\n                        <StatValue>{vecnaKontrolaOk}/{vecnaKontrolaCount}</StatValue>\n                        <StatIcon $color=\"#10b981\">\n                          <FontAwesomeIcon icon={faCheckCircle} />\n                        </StatIcon>\n                      </StatHeader>\n                      <StatLabel>Vcn kontrola</StatLabel>\n                    </StatCard>\n                  ) : null;\n                })()}\n\n                {/*  Registr smluv dladice */}\n                {isTileVisible('registr_smluv') && (() => {\n                  let registrSmlouvCount = 0;\n                  let registrSmlouvAktivni = 0;\n\n                  filteredData.forEach(order => {\n                    if (order._enriched?.registr_smluv) {\n                      registrSmlouvCount++;\n                      if (order._enriched.registr_smluv.stav === 'AKTIVNI' ||\n                          order._enriched.registr_smluv.aktivni === true) {\n                        registrSmlouvAktivni++;\n                      }\n                    }\n                    if (order.cislo_smlouvy || order._enriched?.cislo_smlouvy) {\n                      registrSmlouvCount++;\n                      registrSmlouvAktivni++;\n                    }\n                  });\n\n                  return registrSmlouvCount > 0 ? (\n                    <StatCard $color=\"#0ea5e9\" title={`Aktivnch: ${registrSmlouvAktivni} z ${registrSmlouvCount}`}>\n                      <StatHeader>\n                        <StatValue>{registrSmlouvCount}</StatValue>\n                        <StatIcon $color=\"#0ea5e9\">\n                          <FontAwesomeIcon icon={faFileContract} />\n                        </StatIcon>\n                      </StatHeader>\n                      <StatLabel>Registr smluv</StatLabel>\n                    </StatCard>\n                  ) : null;\n                })()}\n\n                {/*  Fze dokonen dladice */}\n                {isTileVisible('faze_dokonceni') && (() => {\n                  let fazeDokonceniCount = 0;\n                  let fazeDokonceniHotovo = 0;\n\n                  filteredData.forEach(order => {\n                    if (order._enriched?.faze_dokonceni || order.dokonceno) {\n                      fazeDokonceniCount++;\n                      if (order.dokonceno === 1 || order._enriched?.faze_dokonceni?.stav === 'DOKONCENO') {\n                        fazeDokonceniHotovo++;\n                      }\n                    }\n                  });\n\n                  return fazeDokonceniCount > 0 ? (\n                    <StatCard $color=\"#ec4899\" title={`Dokoneno: ${fazeDokonceniHotovo} z ${fazeDokonceniCount}`}>\n                      <StatHeader>\n                        <StatValue>{fazeDokonceniHotovo}/{fazeDokonceniCount}</StatValue>\n                        <StatIcon $color=\"#ec4899\">\n                          <FontAwesomeIcon icon={faRocket} />\n                        </StatIcon>\n                      </StatHeader>\n                      <StatLabel>Fze dokonen</StatLabel>\n                    </StatCard>\n                  ) : null;\n                })()}\n              </>\n            ) : dashboardCompact ? (\n              // Kompaktn verze\n              <>\n                <StatCard $color={STATUS_COLORS.TOTAL.dark}>\n                  <div style={{ width: '100%' }}>\n                    <StatValue style={{ textAlign: 'left' }}>{Math.round(stats.totalAmount).toLocaleString('cs-CZ')}&nbsp;K</StatValue>\n                    <StatLabel style={{ textAlign: 'left' }}>Celkov cena s DPH za obdob ({stats.total})</StatLabel>\n                    {(() => {\n                      const hasActiveFilters =\n                        globalFilter ||\n                        (Array.isArray(statusFilter) && statusFilter.length > 0) ||\n                        userFilter ||\n                        dateFromFilter ||\n                        dateToFilter ||\n                        amountFromFilter ||\n                        amountToFilter ||\n                        Object.values(columnFilters).some(val => val);\n\n                      if (hasActiveFilters && filteredData.length < orders.length) {\n                        const filteredAmount = filteredData.reduce((sum, order) => {\n                          const amount = parseFloat(order.polozky_celkova_cena_s_dph || 0);\n                          return sum + (isNaN(amount) ? 0 : amount);\n                        }, 0);\n\n                        return (\n                          <div style={{\n                            marginTop: '0.5rem',\n                            paddingTop: '0.5rem',\n                            borderTop: '1px solid rgba(100, 116, 139, 0.2)'\n                          }}>\n                            <div style={{\n                              fontSize: '1rem',\n                              fontWeight: '700',\n                              color: '#f59e0b',\n                              textAlign: 'left',\n                              marginBottom: '0.125rem'\n                            }}>\n                              {Math.round(filteredAmount).toLocaleString('cs-CZ')}&nbsp;K\n                            </div>\n                            <div style={{\n                              fontSize: '0.65rem',\n                              fontWeight: '600',\n                              color: '#f59e0b',\n                              textAlign: 'left',\n                              paddingBottom: '0.5rem',\n                              borderBottom: '1px solid rgba(100, 116, 139, 0.2)'\n                            }}>\n                              Celkov cena s DPH za vybran ({filteredData.filter(o => !o.isDraft && !o.isLocalConcept).length})\n                            </div>\n                          </div>\n                        );\n                      }\n                      return null;\n                    })()}\n                  </div>\n                </StatCard>\n\n                <StatCard $color=\"#2196f3\">\n                  <StatHeader>\n                    <StatValue>{filteredData.filter(o => !o.isDraft && !o.isLocalConcept).length}</StatValue>\n                    <StatIcon $color=\"#2196f3\">\n                      <FontAwesomeIcon icon={faFileAlt} />\n                    </StatIcon>\n                  </StatHeader>\n                  <StatLabel>Poet objednvek</StatLabel>\n                </StatCard>\n\n                {stats.ke_schvaleni > 0 && (\n                  <StatCard\n                    $color={STATUS_COLORS.KE_SCHVALENI.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'ke_schvaleni'}\n                    onClick={() => handleStatusFilterClick('ke_schvaleni')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.ke_schvaleni}</StatValue>\n                      <StatIcon $color={STATUS_COLORS.KE_SCHVALENI.dark}>\n                        <FontAwesomeIcon icon={getStatusIcon('ke_schvaleni')} />\n                      </StatIcon>\n                    </StatHeader>\n                    <StatLabel>Ke schvlen</StatLabel>\n                  </StatCard>\n                )}\n                {stats.schvalena > 0 && (\n                  <StatCard\n                    $color={STATUS_COLORS.SCHVALENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'schvalena'}\n                    onClick={() => handleStatusFilterClick('schvalena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.schvalena}</StatValue>\n                      <StatIcon $color={STATUS_COLORS.SCHVALENA.dark}>\n                        <FontAwesomeIcon icon={getStatusIcon('schvalena')} />\n                      </StatIcon>\n                    </StatHeader>\n                    <StatLabel>Schvlen</StatLabel>\n                  </StatCard>\n                )}\n                {stats.rozpracovana > 0 && (\n                  <StatCard\n                    $color={STATUS_COLORS.ROZPRACOVANA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'rozpracovana'}\n                    onClick={() => handleStatusFilterClick('rozpracovana')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.rozpracovana}</StatValue>\n                      <StatIcon $color={STATUS_COLORS.ROZPRACOVANA.dark}>\n                        <FontAwesomeIcon icon={getStatusIcon('rozpracovana')} />\n                      </StatIcon>\n                    </StatHeader>\n                    <StatLabel>Rozpracovan</StatLabel>\n                  </StatCard>\n                )}\n                {stats.odeslana > 0 && (\n                  <StatCard\n                    $color={STATUS_COLORS.ODESLANA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'odeslana'}\n                    onClick={() => handleStatusFilterClick('odeslana')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.odeslana}</StatValue>\n                      <StatIcon $color={STATUS_COLORS.ODESLANA.dark}>\n                        <FontAwesomeIcon icon={getStatusIcon('odeslana')} />\n                      </StatIcon>\n                    </StatHeader>\n                    <StatLabel>Odeslan dodavateli</StatLabel>\n                  </StatCard>\n                )}\n                {stats.potvrzena > 0 && (\n                  <StatCard\n                    $color={STATUS_COLORS.POTVRZENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'potvrzena'}\n                    onClick={() => handleStatusFilterClick('potvrzena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.potvrzena}</StatValue>\n                      <StatIcon $color={STATUS_COLORS.POTVRZENA.dark}>\n                      <FontAwesomeIcon icon={getStatusIcon('potvrzena')} />\n                    </StatIcon>\n                  </StatHeader>\n                  <StatLabel>Potvrzen dodavatelem</StatLabel>\n                </StatCard>\n                )}\n                {stats.k_uverejneni_do_registru > 0 && (\n                  <StatCard\n                    $color={STATUS_COLORS.K_UVEREJNENI_DO_REGISTRU.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'k_uverejneni_do_registru'}\n                    onClick={() => handleStatusFilterClick('k_uverejneni_do_registru')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.k_uverejneni_do_registru}</StatValue>\n                      <StatIcon $color={STATUS_COLORS.K_UVEREJNENI_DO_REGISTRU.dark}>\n                        <FontAwesomeIcon icon={getStatusIcon('k_uverejneni_do_registru')} />\n                      </StatIcon>\n                    </StatHeader>\n                    <StatLabel>M bt zveejnna</StatLabel>\n                  </StatCard>\n                )}\n                {stats.uverejnena > 0 && (\n                  <StatCard\n                    $color={STATUS_COLORS.UVEREJNENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'uverejnena'}\n                    onClick={() => handleStatusFilterClick('uverejnena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.uverejnena}</StatValue>\n                      <StatIcon $color={STATUS_COLORS.UVEREJNENA.dark}>\n                        <FontAwesomeIcon icon={getStatusIcon('uverejnena')} />\n                      </StatIcon>\n                    </StatHeader>\n                    <StatLabel>Uveejnn</StatLabel>\n                  </StatCard>\n                )}\n                {stats.vecna_spravnost > 0 && (\n                  <StatCard\n                    $color={STATUS_COLORS.VECNA_SPRAVNOST.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'vecna_spravnost'}\n                    onClick={() => handleStatusFilterClick('vecna_spravnost')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.vecna_spravnost}</StatValue>\n                      <StatIcon $color={STATUS_COLORS.VECNA_SPRAVNOST.dark}>\n                        <FontAwesomeIcon icon={getStatusIcon('vecna_spravnost')} />\n                      </StatIcon>\n                    </StatHeader>\n                    <StatLabel>Vcn sprvnost</StatLabel>\n                  </StatCard>\n                )}\n                {stats.dokoncena > 0 && (\n                  <StatCard\n                    $color={STATUS_COLORS.DOKONCENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'dokoncena'}\n                    onClick={() => handleStatusFilterClick('dokoncena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.dokoncena}</StatValue>\n                      <StatIcon $color={STATUS_COLORS.DOKONCENA.dark}>\n                        \n                      </StatIcon>\n                    </StatHeader>\n                    <StatLabel>Dokonen</StatLabel>\n                  </StatCard>\n                )}\n                {stats.withInvoices > 0 && (\n                  <StatCard\n                    $color={STATUS_COLORS.WITH_INVOICES.dark}\n                    $clickable={true}\n                    $isActive={filterWithInvoices}\n                    onClick={handleToggleInvoicesFilter}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.withInvoices}</StatValue>\n                      <StatIcon $color={STATUS_COLORS.WITH_INVOICES.dark}>\n                        <FontAwesomeIcon icon={faFileInvoice} />\n                      </StatIcon>\n                    </StatHeader>\n                    <StatLabel>S fakturou</StatLabel>\n                  </StatCard>\n                )}\n                {stats.withAttachments > 0 && (\n                  <StatCard\n                    $color={STATUS_COLORS.WITH_ATTACHMENTS.dark}\n                    $clickable={true}\n                    $isActive={filterWithAttachments}\n                    onClick={handleToggleAttachmentsFilter}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.withAttachments}</StatValue>\n                      <StatIcon $color={STATUS_COLORS.WITH_ATTACHMENTS.dark}>\n                        <FontAwesomeIcon icon={faPaperclip} />\n                      </StatIcon>\n                    </StatHeader>\n                    <StatLabel>S plohami</StatLabel>\n                  </StatCard>\n                )}\n\n                {stats.mimoradneUdalosti > 0 && (\n                  <StatCard\n                    $color=\"#dc2626\"\n                    $clickable={true}\n                    $isActive={filterMimoradneObjednavky}\n                    onClick={handleToggleMimoradneFilter}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.mimoradneUdalosti}</StatValue>\n                      <StatIcon $color=\"#dc2626\">\n                        <FontAwesomeIcon icon={faBoltLightning} />\n                      </StatIcon>\n                    </StatHeader>\n                    <StatLabel>Mimodn udlosti</StatLabel>\n                  </StatCard>\n                )}\n\n                {/* Moje objednvky dladice - pouze pro SUPERADMIN a ADMINISTRATOR (kompaktn reim) */}\n                {userDetail?.roles?.some(role => role.kod_role === 'SUPERADMIN' || role.kod_role === 'ADMINISTRATOR') && (() => {\n                  // Spotej kolik objednvek pat danmu uivateli ZE FILTROVANCH DAT\n                  // Order V2 API enriched pouv tyto nzvy pol:\n                  // - uzivatel_id: ID objednatele (vytvoil objednvku)\n                  // - garant_uzivatel_id: ID garanta (NE garant_id!)\n                  // - prikazce_id: ID pkazce\n                  // - schvalovatel_id: ID schvalovatele\n\n                  //  CRITICAL FIX: Konverze user_id na number pro porovnn (API V2 vrac sla)\n                  const currentUserIdNum = parseInt(user_id, 10);\n\n                  const myOrdersCount = filteredData.filter(order => {\n                    const isObjednatel = order.uzivatel_id === currentUserIdNum;\n                    const isGarant = order.garant_uzivatel_id === currentUserIdNum;\n                    const isSchvalovatel = order.schvalovatel_id === currentUserIdNum;\n                    const isPrikazce = order.prikazce_id === currentUserIdNum;\n\n                    return isObjednatel || isGarant || isSchvalovatel || isPrikazce;\n                  }).length;\n\n                  return (\n                    <StatCard\n                      $color=\"#7c3aed\"\n                      $clickable={true}\n                      $isActive={showOnlyMyOrders}\n                      onClick={handleToggleOnlyMyOrders}\n                    >\n                      <StatHeader>\n                        <StatValue>{myOrdersCount}</StatValue>\n                        <StatIcon $color=\"#7c3aed\">\n                          <FontAwesomeIcon icon={faUser} />\n                        </StatIcon>\n                      </StatHeader>\n                      <StatLabel>Moje objednvky</StatLabel>\n                    </StatCard>\n                  );\n                })()}\n              </>\n            ) : (\n              // Pln verze s istm designem\n              <>\n                <LargeStatCard $color={STATUS_COLORS.TOTAL.dark}>\n                  <div>\n                    <LargeStatValue>\n                      {Math.round(stats.totalAmount).toLocaleString('cs-CZ')}&nbsp;K\n                    </LargeStatValue>\n                    <LargeStatLabel>\n                      Celkov cena s DPH za obdob ({stats.total})\n                    </LargeStatLabel>\n                    {(() => {\n                      const hasActiveFilters =\n                        globalFilter ||\n                        (Array.isArray(statusFilter) && statusFilter.length > 0) ||\n                        userFilter ||\n                        dateFromFilter ||\n                        dateToFilter ||\n                        amountFromFilter ||\n                        amountToFilter ||\n                        Object.values(columnFilters).some(val => val);\n\n                      if (hasActiveFilters && filteredData.length < orders.length) {\n                        const filteredAmount = filteredData.reduce((sum, order) => {\n                          const amount = getOrderTotalPriceWithDPH(order);\n                          return sum + (isNaN(amount) ? 0 : amount);\n                        }, 0);\n\n                        return (\n                          <div style={{\n                            marginTop: '0.75rem',\n                            paddingTop: '0.75rem',\n                            borderTop: '1px solid rgba(100, 116, 139, 0.2)'\n                          }}>\n                            <div style={{\n                              fontSize: '1.25rem',\n                              fontWeight: '700',\n                              color: '#f59e0b',\n                              textAlign: 'center',\n                              marginBottom: '0.25rem'\n                            }}>\n                              {Math.round(filteredAmount).toLocaleString('cs-CZ')}&nbsp;K\n                            </div>\n                            <div style={{\n                              fontSize: '0.75rem',\n                              fontWeight: '600',\n                              color: '#f59e0b',\n                              textAlign: 'center',\n                              paddingBottom: '0.75rem',\n                              borderBottom: '1px solid rgba(100, 116, 139, 0.2)'\n                            }}>\n                              Celkov cena s DPH za vybran ({filteredData.length})\n                            </div>\n                          </div>\n                        );\n                      }\n                      return null;\n                    })()}\n                  </div>\n\n                  <SummaryRow>\n                    <SummaryItem\n                      $color=\"#d97706\"\n                      $bg=\"rgba(217, 119, 6, 0.08)\"\n                    >\n                      <SummaryLabel $color=\"#92400e\">Rozpracovan</SummaryLabel>\n                      <SummaryValue>\n                        {Math.round(filteredData.reduce((sum, order) => {\n                          const status = getOrderSystemStatus(order);\n                          const isCancelledOrRejected = ['STORNOVA', 'ZAMITNUTA', 'ZRUSENA', 'CANCELLED', 'SMAZANA'].includes(status);\n                          const isCompleted = ['DOKONCENA', 'VYRIZENA', 'COMPLETED'].includes(status);\n                          if (!isCancelledOrRejected && !isCompleted) {\n                            const amount = getOrderTotalPriceWithDPH(order);\n                            return sum + (isNaN(amount) ? 0 : amount);\n                          }\n                          return sum;\n                        }, 0)).toLocaleString('cs-CZ')}&nbsp;K\n                      </SummaryValue>\n                    </SummaryItem>\n\n                    <SummaryItem\n                      $color=\"#059669\"\n                      $bg=\"rgba(5, 150, 105, 0.08)\"\n                    >\n                      <SummaryLabel $color=\"#065f46\">Dokonen</SummaryLabel>\n                      <SummaryValue>\n                        {Math.round(filteredData.reduce((sum, order) => {\n                          const status = getOrderSystemStatus(order);\n                          const isCompleted = ['DOKONCENA', 'VYRIZENA', 'COMPLETED'].includes(status);\n                          if (isCompleted) {\n                            const amount = getOrderTotalPriceWithDPH(order);\n                            return sum + (isNaN(amount) ? 0 : amount);\n                          }\n                          return sum;\n                        }, 0)).toLocaleString('cs-CZ')}&nbsp;K\n                      </SummaryValue>\n                    </SummaryItem>\n                  </SummaryRow>\n                </LargeStatCard>\n\n                <StatCard $color=\"#2196f3\">\n                  <StatHeader>\n                    <StatValue>{filteredData.filter(o => !o.isDraft && !o.isLocalConcept).length}</StatValue>\n                    <StatIcon $color=\"#2196f3\">\n                      <FontAwesomeIcon icon={faFileAlt} />\n                    </StatIcon>\n                  </StatHeader>\n                  <StatLabel>Poet objednvek</StatLabel>\n                </StatCard>\n\n                {isTileVisible('nova') && (\n                  <StatCard\n                    $color={STATUS_COLORS.NOVA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'nova'}\n                    onClick={() => handleStatusFilterClick('nova')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.nova}</StatValue>\n                      <StatIcon>{getStatusEmoji('nova')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Nov / Koncept</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('ke_schvaleni') && (\n                  <StatCard\n                    $color={STATUS_COLORS.KE_SCHVALENI.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'ke_schvaleni'}\n                    onClick={() => handleStatusFilterClick('ke_schvaleni')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.ke_schvaleni}</StatValue>\n                      <StatIcon>{getStatusEmoji('ke_schvaleni')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Ke schvlen</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('schvalena') && (\n                  <StatCard\n                    $color={STATUS_COLORS.SCHVALENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'schvalena'}\n                    onClick={() => handleStatusFilterClick('schvalena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.schvalena}</StatValue>\n                      <StatIcon>{getStatusEmoji('schvalena')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Schvlen</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('zamitnuta') && (\n                  <StatCard\n                    $color={STATUS_COLORS.ZAMITNUTA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'zamitnuta'}\n                    onClick={() => handleStatusFilterClick('zamitnuta')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.zamitnuta}</StatValue>\n                      <StatIcon>{getStatusEmoji('zamitnuta')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Zamtnut</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('rozpracovana') && (\n                  <StatCard\n                    $color={STATUS_COLORS.ROZPRACOVANA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'rozpracovana'}\n                    onClick={() => handleStatusFilterClick('rozpracovana')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.rozpracovana}</StatValue>\n                      <StatIcon>{getStatusEmoji('rozpracovana')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Rozpracovan</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('odeslana_dodavateli') && (\n                  <StatCard\n                    $color={STATUS_COLORS.ODESLANA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'odeslana'}\n                    onClick={() => handleStatusFilterClick('odeslana')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.odeslana}</StatValue>\n                      <StatIcon>{getStatusEmoji('odeslana')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Odeslan dodavateli</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('potvrzena_dodavatelem') && (\n                  <StatCard\n                    $color={STATUS_COLORS.POTVRZENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'potvrzena'}\n                    onClick={() => handleStatusFilterClick('potvrzena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.potvrzena}</StatValue>\n                      <StatIcon>{getStatusEmoji('potvrzena')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Potvrzen dodavatelem</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('k_uverejneni_do_registru') && (\n                  <StatCard\n                    $color={STATUS_COLORS.K_UVEREJNENI_DO_REGISTRU.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'k_uverejneni_do_registru'}\n                    onClick={() => handleStatusFilterClick('k_uverejneni_do_registru')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.k_uverejneni_do_registru}</StatValue>\n                      <StatIcon>{getStatusEmoji('k_uverejneni_do_registru')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>M bt zveejnna</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('uverejnena') && (\n                  <StatCard\n                    $color={STATUS_COLORS.UVEREJNENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'uverejnena'}\n                    onClick={() => handleStatusFilterClick('uverejnena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.uverejnena}</StatValue>\n                      <StatIcon>{getStatusEmoji('uverejnena')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Uveejnn</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('ceka_na_potvrzeni') && (\n                  <StatCard\n                    $color={STATUS_COLORS.CEKA_POTVRZENI.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'ceka_potvrzeni'}\n                    onClick={() => handleStatusFilterClick('ceka_potvrzeni')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.ceka_potvrzeni}</StatValue>\n                      <StatIcon>{getStatusEmoji('ceka_potvrzeni')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>ek na potvrzen</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('ceka_se') && (\n                  <StatCard\n                    $color={STATUS_COLORS.CEKA_SE.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'ceka_se'}\n                    onClick={() => handleStatusFilterClick('ceka_se')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.ceka_se}</StatValue>\n                      <StatIcon>{getStatusEmoji('ceka_se')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>ek se</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('vecna_spravnost') && (\n                  <StatCard\n                    $color={STATUS_COLORS.VECNA_SPRAVNOST.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'vecna_spravnost'}\n                    onClick={() => handleStatusFilterClick('vecna_spravnost')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.vecna_spravnost}</StatValue>\n                      <StatIcon>{getStatusEmoji('vecna_spravnost')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Vcn sprvnost</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('dokoncena') && (\n                  <StatCard\n                    $color={STATUS_COLORS.DOKONCENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'dokoncena'}\n                    onClick={() => handleStatusFilterClick('dokoncena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.dokoncena}</StatValue>\n                      <StatIcon>{getStatusEmoji('dokoncena')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Dokonen</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('zrusena') && (\n                  <StatCard\n                    $color={STATUS_COLORS.ZRUSENA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'zrusena'}\n                    onClick={() => handleStatusFilterClick('zrusena')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.zrusena}</StatValue>\n                      <StatIcon>{getStatusEmoji('zrusena')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Zruen</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('smazana') && (\n                  <StatCard\n                    $color={STATUS_COLORS.SMAZANA.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'smazana'}\n                    onClick={() => handleStatusFilterClick('smazana')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.smazana}</StatValue>\n                      <StatIcon>{getStatusEmoji('smazana')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Smazan</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('archivovano') && (\n                  <StatCard\n                    $color={STATUS_COLORS.ARCHIVOVANO.dark}\n                    $clickable={true}\n                    $isActive={activeStatusFilter === 'archivovano'}\n                    onClick={() => handleStatusFilterClick('archivovano')}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.archivovano}</StatValue>\n                      <StatIcon>{getStatusEmoji('archivovano')}</StatIcon>\n                    </StatHeader>\n                    <StatLabel>Archivovno / Import</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('s_fakturou') && (\n                  <StatCard\n                    $color={STATUS_COLORS.WITH_INVOICES.dark}\n                    $clickable={true}\n                    $isActive={filterWithInvoices}\n                    onClick={handleToggleInvoicesFilter}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.withInvoices}</StatValue>\n                      <StatIcon></StatIcon>\n                    </StatHeader>\n                    <StatLabel>S fakturou</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('s_prilohami') && (\n                  <StatCard\n                    $color={STATUS_COLORS.WITH_ATTACHMENTS.dark}\n                    $clickable={true}\n                    $isActive={filterWithAttachments}\n                    onClick={handleToggleAttachmentsFilter}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.withAttachments}</StatValue>\n                      <StatIcon></StatIcon>\n                    </StatHeader>\n                    <StatLabel>S plohami</StatLabel>\n                  </StatCard>\n                )}\n\n                {isTileVisible('mimoradne_udalosti') && (\n                  <StatCard\n                    $color=\"#dc2626\"\n                    $clickable={true}\n                    $isActive={filterMimoradneObjednavky}\n                    onClick={handleToggleMimoradneFilter}\n                  >\n                    <StatHeader>\n                      <StatValue>{stats.mimoradneUdalosti}</StatValue>\n                      <StatIcon $color=\"#dc2626\">\n                        <FontAwesomeIcon icon={faBoltLightning} />\n                      </StatIcon>\n                    </StatHeader>\n                    <StatLabel>Mimodn udlosti</StatLabel>\n                  </StatCard>\n                )}\n\n                {/* Moje objednvky dladice - pouze pro SUPERADMIN a ADMINISTRATOR */}\n                {isTileVisible('moje_objednavky') && userDetail?.roles?.some(role => role.kod_role === 'SUPERADMIN' || role.kod_role === 'ADMINISTRATOR') && (() => {\n                  // Spotej kolik objednvek pat danmu uivateli ZE FILTROVANCH DAT\n                  // Order V2 API enriched pouv tyto nzvy pol:\n                  // - uzivatel_id: ID objednatele (vytvoil objednvku)\n                  // - garant_uzivatel_id: ID garanta (NE garant_id!)\n                  // - prikazce_id: ID pkazce\n                  // - schvalovatel_id: ID schvalovatele\n\n                  //  CRITICAL FIX: Konverze user_id na number pro porovnn (API V2 vrac sla)\n                  const currentUserIdNum = parseInt(user_id, 10);\n\n                  const myOrdersCount = filteredData.filter(order => {\n                    const isObjednatel = order.uzivatel_id === currentUserIdNum;\n                    const isGarant = order.garant_uzivatel_id === currentUserIdNum;\n                    const isSchvalovatel = order.schvalovatel_id === currentUserIdNum;\n                    const isPrikazce = order.prikazce_id === currentUserIdNum;\n\n                    return isObjednatel || isGarant || isSchvalovatel || isPrikazce;\n                  }).length;\n\n                  return (\n                    <StatCard\n                      $color=\"#7c3aed\"\n                      $clickable={true}\n                      $isActive={showOnlyMyOrders}\n                      onClick={handleToggleOnlyMyOrders}\n                    >\n                      <StatHeader>\n                        <StatValue>{myOrdersCount}</StatValue>\n                        <StatIcon $color=\"#7c3aed\">\n                          <FontAwesomeIcon icon={faUser} />\n                        </StatIcon>\n                      </StatHeader>\n                      <StatLabel>Moje objednvky</StatLabel>\n                    </StatCard>\n                  );\n                })()}\n\n                {/*  Dodaten dokumenty dladice */}\n                {isTileVisible('dodatecne_dokumenty') && (() => {\n                  let dokumentyCount = 0;\n\n                  filteredData.forEach(order => {\n                    if (order._enriched?.dodatecne_dokumenty && Array.isArray(order._enriched.dodatecne_dokumenty)) {\n                      dokumentyCount += order._enriched.dodatecne_dokumenty.length;\n                    }\n                    // Fallback\n                    if (!order._enriched?.dodatecne_dokumenty && order._enriched?.dodatecne_dokumenty_count) {\n                      dokumentyCount += order._enriched.dodatecne_dokumenty_count;\n                    }\n                  });\n\n                  return dokumentyCount > 0 ? (\n                    <StatCard $color=\"#06b6d4\">\n                      <StatHeader>\n                        <StatValue>{dokumentyCount}</StatValue>\n                        <StatIcon $color=\"#06b6d4\">\n                          <FontAwesomeIcon icon={faFileAlt} />\n                        </StatIcon>\n                      </StatHeader>\n                      <StatLabel>Dodat. dokumenty</StatLabel>\n                    </StatCard>\n                  ) : null;\n                })()}\n\n                {/*  Vcn kontrola dladice */}\n                {isTileVisible('vecna_kontrola') && (() => {\n                  let vecnaKontrolaCount = 0;\n                  let vecnaKontrolaOk = 0;\n\n                  filteredData.forEach(order => {\n                    if (order._enriched?.vecna_kontrola) {\n                      vecnaKontrolaCount++;\n                      if (order._enriched.vecna_kontrola.stav === 'OK' ||\n                          order._enriched.vecna_kontrola.stav === 'SCHVALENO' ||\n                          order._enriched.vecna_kontrola.provedena === true) {\n                        vecnaKontrolaOk++;\n                      }\n                    }\n                    // Fallback na boolean pole\n                    if (order.vecna_kontrola === true || order.vecna_spravnost === true) {\n                      vecnaKontrolaCount++;\n                      vecnaKontrolaOk++;\n                    }\n                  });\n\n                  return vecnaKontrolaCount > 0 ? (\n                    <StatCard $color=\"#10b981\" title={`Schvleno: ${vecnaKontrolaOk} z ${vecnaKontrolaCount}`}>\n                      <StatHeader>\n                        <StatValue>{vecnaKontrolaOk}/{vecnaKontrolaCount}</StatValue>\n                        <StatIcon $color=\"#10b981\">\n                          <FontAwesomeIcon icon={faCheckCircle} />\n                        </StatIcon>\n                      </StatHeader>\n                      <StatLabel>Vcn kontrola</StatLabel>\n                    </StatCard>\n                  ) : null;\n                })()}\n\n                {/*  Registr smluv dladice */}\n                {isTileVisible('registr_smluv') && (() => {\n                  let registrSmlouvCount = 0;\n                  let registrSmlouvAktivni = 0;\n\n                  filteredData.forEach(order => {\n                    if (order._enriched?.registr_smluv) {\n                      registrSmlouvCount++;\n                      if (order._enriched.registr_smluv.stav === 'AKTIVNI' ||\n                          order._enriched.registr_smluv.aktivni === true) {\n                        registrSmlouvAktivni++;\n                      }\n                    }\n                    // Fallback na slo smlouvy\n                    if (order.cislo_smlouvy || order._enriched?.cislo_smlouvy) {\n                      registrSmlouvCount++;\n                      registrSmlouvAktivni++; // Pedpokldme aktivn pokud m slo\n                    }\n                  });\n\n                  return registrSmlouvCount > 0 ? (\n                    <StatCard $color=\"#0ea5e9\" title={`Aktivnch: ${registrSmlouvAktivni} z ${registrSmlouvCount}`}>\n                      <StatHeader>\n                        <StatValue>{registrSmlouvCount}</StatValue>\n                        <StatIcon $color=\"#0ea5e9\">\n                          <FontAwesomeIcon icon={faFileContract} />\n                        </StatIcon>\n                      </StatHeader>\n                      <StatLabel>Registr smluv</StatLabel>\n                    </StatCard>\n                  ) : null;\n                })()}\n\n                {/*  Fze dokonen dladice */}\n                {isTileVisible('faze_dokonceni') && (() => {\n                  let fazeDokonceniCount = 0;\n                  let fazeDokonceniHotovo = 0;\n\n                  filteredData.forEach(order => {\n                    if (order._enriched?.faze_dokonceni || order.dokonceno) {\n                      fazeDokonceniCount++;\n                      if (order.dokonceno === 1 || order._enriched?.faze_dokonceni?.stav === 'DOKONCENO') {\n                        fazeDokonceniHotovo++;\n                      }\n                    }\n                  });\n\n                  return fazeDokonceniCount > 0 ? (\n                    <StatCard $color=\"#ec4899\" title={`Dokoneno: ${fazeDokonceniHotovo} z ${fazeDokonceniCount}`}>\n                      <StatHeader>\n                        <StatValue>{fazeDokonceniHotovo}/{fazeDokonceniCount}</StatValue>\n                        <StatIcon $color=\"#ec4899\">\n                          <FontAwesomeIcon icon={faRocket} />\n                        </StatIcon>\n                      </StatHeader>\n                      <StatLabel>Fze dokonen</StatLabel>\n                    </StatCard>\n                  ) : null;\n                })()}\n              </>\n            )}\n          </DashboardGrid>\n        </DashboardPanel>\n      )}\n\n      {/* Filters */}\n      {showFiltersPanel && (\n      <FiltersPanel>\n        <FiltersHeader>\n          <h3 style={{ margin: 0, display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n            <FontAwesomeIcon icon={faFilter} style={{ color: '#3b82f6' }} />\n            Filtry a vyhledvn\n          </h3>\n          <div style={{ display: 'flex', gap: '0.5rem' }}>\n            <SmartTooltip text=\"Vymazat vechny filtry a zobrazit vechny objednvky\" icon=\"warning\" preferredPosition=\"bottom\">\n              <ActionButton onClick={clearFilters} style={{ backgroundColor: '#dc2626', borderColor: '#dc2626', color: 'white' }}>\n                <FontAwesomeIcon icon={faEraser} />\n                Vymazat filtry\n              </ActionButton>\n            </SmartTooltip>\n\n            <SmartTooltip text=\"Nast vlastn filtr stav z vaich nastaven (Profil  Nastaven  Vchoz filtry stav objednvek)\" icon=\"info\" preferredPosition=\"bottom\">\n              <ActionButton \n                onClick={loadCustomStatusFilter} \n                style={{\n                  backgroundColor: (() => {\n                    // Check if custom filter is active\n                    try {\n                      const userSettings = loadSettingsFromLocalStorage(parseInt(user_id, 10));\n                      const customFilter = userSettings?.vychozi_filtry_stavu_objednavek;\n                      if (customFilter && Array.isArray(customFilter) && customFilter.length > 0) {\n                        // Compare current statusFilter with custom filter\n                        if (statusFilter.length === customFilter.length && \n                            statusFilter.every(val => customFilter.includes(val))) {\n                          return '#3b82f6'; // Active - blue\n                        }\n                      }\n                    } catch (e) {}\n                    return 'transparent'; // Inactive - transparent\n                  })(),\n                  borderColor: '#3b82f6',\n                  color: (() => {\n                    try {\n                      const userSettings = loadSettingsFromLocalStorage(parseInt(user_id, 10));\n                      const customFilter = userSettings?.vychozi_filtry_stavu_objednavek;\n                      if (customFilter && Array.isArray(customFilter) && customFilter.length > 0) {\n                        if (statusFilter.length === customFilter.length && \n                            statusFilter.every(val => customFilter.includes(val))) {\n                          return 'white'; // Active - white text\n                        }\n                      }\n                    } catch (e) {}\n                    return '#3b82f6'; // Inactive - blue text\n                  })(),\n                }}\n              >\n                <FontAwesomeIcon icon={faFilter} />\n                Vlastn\n              </ActionButton>\n            </SmartTooltip>\n\n            <SmartTooltip\n              text={showFilters\n                ? 'Skrt rozen filtry (zobrazit pouze zkladn vyhledvn)'\n                : 'Zobrazit rozen filtry (stav, fakturace, uivatel, lokality...)'}\n              icon=\"info\"\n              preferredPosition=\"bottom\"\n            >\n              <ActionButton onClick={handleToggleFilters}>\n                <FontAwesomeIcon icon={showFilters ? faChevronUp : faChevronDown} />\n                {showFilters ? 'Skrt filtry' : 'Rozen filtr'}\n              </ActionButton>\n            </SmartTooltip>\n\n            <SmartTooltip text=\"Skrt cel panel filtr a vyhledvn\" icon=\"info\" preferredPosition=\"bottom\">\n              <ActionButton onClick={handleHideFilters}>\n                <FontAwesomeIcon icon={faTimes} />\n                Skrt\n              </ActionButton>\n            </SmartTooltip>\n          </div>\n        </FiltersHeader>\n\n        <FilterGroup>\n          <FilterLabel>\n            <FontAwesomeIcon icon={faSearch} />\n            Fulltext vyhledvn\n            <HintText title=\"Vyhledvn bez diakritiky a bez rozlien velikosti psmen.  Tip: SHIFT+Enter rozbal/zabal vechny dky se shodou vyhledvn\">\n               Bez diakritiky  <kbd>Shift</kbd> + <kbd>Enter</kbd> rozbal dky se shodou vyhledvn\n            </HintText>\n          </FilterLabel>\n          <FilterInputWithIcon>\n            <FontAwesomeIcon icon={faSearch} />\n            <FilterInput\n              type=\"text\"\n              placeholder=\"Hledat v evidennm sle, pedmtu, objednateli...\"\n              value={globalFilter}\n              onChange={(e) => setGlobalFilter(e.target.value)}\n              onKeyDown={(e) => {\n                //  SHIFT+Enter = Rozbal/Zabal vechny nalezen objednvky\n                if (e.key === 'Enter' && e.shiftKey) {\n                  e.preventDefault();\n\n                  if (filteredData && filteredData.length > 0) {\n                    // Zjisti zda jsou vechny rozbalen\n                    const allExpanded = filteredData.every((_, index) => expanded[index]);\n\n                    if (allExpanded) {\n                      // Zabal vechny\n                      setExpanded({});\n                      showToast?.(\n                        `Zabaleno ${filteredData.length} ${filteredData.length === 1 ? 'objednvka' : filteredData.length < 5 ? 'objednvky' : 'objednvek'}`,\n                        { type: 'info', duration: 2000 }\n                      );\n                    } else {\n                      // Rozbal vechny\n                      const newExpanded = {};\n                      filteredData.forEach((order, index) => {\n                        newExpanded[index] = true;\n                      });\n                      setExpanded(newExpanded);\n\n                      showToast?.(\n                        `Rozbaleno ${filteredData.length} ${filteredData.length === 1 ? 'objednvka' : filteredData.length < 5 ? 'objednvky' : 'objednvek'}`,\n                        { type: 'success', duration: 2000 }\n                      );\n                    }\n                  }\n                }\n              }}\n              hasIcon\n              title=\"Fulltextov vyhledvn bez diakritiky a bez rozlien velikosti psmen.&#10; Tip: SHIFT+Enter pro rozbalen/zabalen vech vsledk\"\n            />\n            {globalFilter && (\n              <ClearButton onClick={() => setGlobalFilter('')} title=\"Vymazat\">\n                <FontAwesomeIcon icon={faTimes} />\n              </ClearButton>\n            )}\n          </FilterInputWithIcon>\n        </FilterGroup>\n\n        {showFilters && (\n          <FiltersGrid>\n            {/* Prvn dek: Objednatel, Garant, Pkazce, Schvalovatel, Stav objednvky */}\n            <FilterGroup>\n              <FilterLabel>\n                <FilterLabelLeft>\n                  <FontAwesomeIcon icon={faUser} />\n                  Objednatel\n                </FilterLabelLeft>\n                <FilterClearButton\n                  type=\"button\"\n                  visible={selectedObjednatel.length > 0}\n                  onClick={clearObjednatelFilter}\n                  title=\"Vymazat filtr\"\n                >\n                  <FontAwesomeIcon icon={faTimes} />\n                </FilterClearButton>\n              </FilterLabel>\n              <SelectWithIcon>\n                <MultiSelectLocal\n                  field=\"selectedObjednatel\"\n                  value={selectedObjednatel}\n                  onChange={handleObjednatelChange}\n                  options={sortedActiveUsers}\n                  placeholder=\"Vyberte objednatele...\"\n                  icon={<FontAwesomeIcon icon={faUser} />}\n                />\n              </SelectWithIcon>\n            </FilterGroup>\n\n            <FilterGroup>\n              <FilterLabel>\n                <FilterLabelLeft>\n                  <FontAwesomeIcon icon={faUser} />\n                  Garant\n                </FilterLabelLeft>\n                <FilterClearButton\n                  type=\"button\"\n                  visible={selectedGarant.length > 0}\n                  onClick={clearGarantFilter}\n                  title=\"Vymazat filtr\"\n                >\n                  <FontAwesomeIcon icon={faTimes} />\n                </FilterClearButton>\n              </FilterLabel>\n              <SelectWithIcon>\n                <MultiSelectLocal\n                  field=\"selectedGarant\"\n                  value={selectedGarant}\n                  onChange={handleGarantChange}\n                  options={sortedActiveUsers}\n                  placeholder=\"Vyberte garanty...\"\n                  icon={<FontAwesomeIcon icon={faUser} />}\n                />\n              </SelectWithIcon>\n            </FilterGroup>\n\n            <FilterGroup>\n              <FilterLabel>\n                <FilterLabelLeft>\n                  <FontAwesomeIcon icon={faUser} />\n                  Pkazce\n                </FilterLabelLeft>\n                <FilterClearButton\n                  type=\"button\"\n                  visible={selectedPrikazce.length > 0}\n                  onClick={clearPrikazceFilter}\n                  title=\"Vymazat filtr\"\n                >\n                  <FontAwesomeIcon icon={faTimes} />\n                </FilterClearButton>\n              </FilterLabel>\n              <SelectWithIcon>\n                <MultiSelectLocal\n                  field=\"selectedPrikazce\"\n                  value={selectedPrikazce}\n                  onChange={handlePrikazceChange}\n                  options={sortedActiveApprovers}\n                  placeholder=\"Vyberte pkazce...\"\n                  icon={<FontAwesomeIcon icon={faUser} />}\n                />\n              </SelectWithIcon>\n            </FilterGroup>\n\n            <FilterGroup>\n              <FilterLabel>\n                <FilterLabelLeft>\n                  <FontAwesomeIcon icon={faShield} />\n                  Schvalovatel\n                </FilterLabelLeft>\n                <FilterClearButton\n                  type=\"button\"\n                  visible={selectedSchvalovatel.length > 0}\n                  onClick={clearSchvalovatelFilter}\n                  title=\"Vymazat filtr\"\n                >\n                  <FontAwesomeIcon icon={faTimes} />\n                </FilterClearButton>\n              </FilterLabel>\n              <SelectWithIcon>\n                <MultiSelectLocal\n                  field=\"selectedSchvalovatel\"\n                  value={selectedSchvalovatel}\n                  onChange={handleSchvalovatelChange}\n                  options={sortedActiveApprovers}\n                  placeholder=\"Vyberte schvalovatele...\"\n                  icon={<FontAwesomeIcon icon={faShield} />}\n                />\n              </SelectWithIcon>\n            </FilterGroup>\n\n            <FilterGroup>\n              <FilterLabel>\n                <FilterLabelLeft>\n                  <FontAwesomeIcon icon={faList} />\n                  Stav objednvky\n                </FilterLabelLeft>\n                <FilterClearButton\n                  type=\"button\"\n                  visible={statusFilter.length > 0}\n                  onClick={clearStatusFilter}\n                  title=\"Vymazat filtr\"\n                >\n                  <FontAwesomeIcon icon={faTimes} />\n                </FilterClearButton>\n              </FilterLabel>\n              <SelectWithIcon>\n                <MultiSelectLocal\n                  field=\"statusFilter\"\n                  value={statusFilter}\n                  onChange={handleStatusFilterChange}\n                  options={statusOptions}\n                  placeholder=\"Vyberte stavy...\"\n                  icon={<FontAwesomeIcon icon={faList} />}\n                />\n              </SelectWithIcon>\n            </FilterGroup>\n\n            {/* Druh dek: Datum od-do, Cena od-do */}\n            <DateRangeGroup>\n              <FilterLabel>\n                <FilterLabelLeft>\n                  <FontAwesomeIcon icon={faCalendarAlt} />\n                  Datum od - do\n                </FilterLabelLeft>\n                <FilterClearButton\n                  type=\"button\"\n                  visible={dateFromFilter || dateToFilter}\n                  onClick={clearDateFilter}\n                  title=\"Vymazat filtr\"\n                >\n                  <FontAwesomeIcon icon={faTimes} />\n                </FilterClearButton>\n              </FilterLabel>\n              <DateRangeInputs>\n                <DateInputWrapper>\n                  <DatePicker\n                    value={dateFromFilter || ''}\n                    onChange={(value) => setDateFromFilter(value || '')}\n                    placeholder=\"Datum od\"\n                  />\n                </DateInputWrapper>\n                <DateSeparator></DateSeparator>\n                <DateInputWrapper>\n                  <DatePicker\n                    value={dateToFilter || ''}\n                    onChange={(value) => setDateToFilter(value || '')}\n                    placeholder=\"Datum do\"\n                  />\n                </DateInputWrapper>\n              </DateRangeInputs>\n            </DateRangeGroup>\n\n            <PriceRangeGroup>\n              <FilterLabel>\n                <FilterLabelLeft>\n                  <FontAwesomeIcon icon={faMoneyBillWave} />\n                  Cena od - do (K)\n                </FilterLabelLeft>\n                <FilterClearButton\n                  type=\"button\"\n                  visible={amountFromFilter || amountToFilter}\n                  onClick={clearPriceFilter}\n                  title=\"Vymazat filtr\"\n                >\n                  <FontAwesomeIcon icon={faTimes} />\n                </FilterClearButton>\n              </FilterLabel>\n              <PriceRangeInputs>\n                <PriceInputWrapper>\n                  <FontAwesomeIcon icon={faMoneyBillWave} />\n                  <FilterInput\n                    type=\"text\"\n                    placeholder=\"0\"\n                    value={formatNumberWithSpaces(amountFromFilter)}\n                    onChange={handleAmountFromChange}\n                    hasIcon\n                    style={{ textAlign: 'right', paddingRight: '2.5rem' }}\n                  />\n                </PriceInputWrapper>\n                <PriceSeparator></PriceSeparator>\n                <PriceInputWrapper>\n                  <FontAwesomeIcon icon={faMoneyBillWave} />\n                  <FilterInput\n                    type=\"text\"\n                    placeholder=\"\"\n                    value={formatNumberWithSpaces(amountToFilter)}\n                    onChange={handleAmountToChange}\n                    hasIcon\n                    style={{ textAlign: 'right', paddingRight: '2.5rem' }}\n                  />\n                </PriceInputWrapper>\n              </PriceRangeInputs>\n            </PriceRangeGroup>\n\n            {/* Rychl filtry pro Stav registru + Mimodn udlosti */}\n            <FilterGroup>\n              <FilterLabel>\n                <FilterLabelLeft>\n                  <FontAwesomeIcon icon={faFileContract} />\n                  Stav registru\n                </FilterLabelLeft>\n              </FilterLabel>\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n                <label style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.5rem',\n                  cursor: 'pointer',\n                  fontSize: '0.875rem',\n                  fontWeight: filterMaBytZverejneno ? '600' : '400',\n                  color: filterMaBytZverejneno ? '#f59e0b' : '#4b5563'\n                }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={filterMaBytZverejneno}\n                    onChange={(e) => {\n                      setFilterMaBytZverejneno(e.target.checked);\n                      setUserStorage('orders25List_filterMaBytZverejneno', e.target.checked);\n                    }}\n                    style={{\n                      cursor: 'pointer',\n                      width: '16px',\n                      height: '16px',\n                      accentColor: '#f59e0b'\n                    }}\n                  />\n                  <span>M bt zveejnno</span>\n                </label>\n                <label style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.5rem',\n                  cursor: 'pointer',\n                  fontSize: '0.875rem',\n                  fontWeight: filterByloZverejneno ? '600' : '400',\n                  color: filterByloZverejneno ? '#10b981' : '#4b5563'\n                }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={filterByloZverejneno}\n                    onChange={(e) => {\n                      setFilterByloZverejneno(e.target.checked);\n                      setUserStorage('orders25List_filterByloZverejneno', e.target.checked);\n                    }}\n                    style={{\n                      cursor: 'pointer',\n                      width: '16px',\n                      height: '16px',\n                      accentColor: '#10b981'\n                    }}\n                  />\n                  <span>Bylo ji zveejnno</span>\n                </label>\n              </div>\n            </FilterGroup>\n\n            {/* Mimodn udlosti - vedle Stav registru */}\n            <FilterGroup>\n              <FilterLabel>\n                <FilterLabelLeft>\n                  <FontAwesomeIcon icon={faBoltLightning} />\n                  Mimodn udlosti\n                </FilterLabelLeft>\n              </FilterLabel>\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n                <label style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.5rem',\n                  cursor: 'pointer',\n                  fontSize: '0.875rem',\n                  fontWeight: filterMimoradneObjednavky ? '600' : '400',\n                  color: filterMimoradneObjednavky ? '#dc2626' : '#4b5563'\n                }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={filterMimoradneObjednavky}\n                    onChange={(e) => {\n                      setFilterMimoradneObjednavky(e.target.checked);\n                      setUserStorage('orders25List_filterMimoradneObjednavky', e.target.checked);\n                    }}\n                    style={{\n                      cursor: 'pointer',\n                      width: '16px',\n                      height: '16px',\n                      accentColor: '#dc2626'\n                    }}\n                  />\n                  <span style={{ display: 'flex', alignItems: 'center', gap: '0.35rem' }}>\n                    Krize / Havrie\n                  </span>\n                </label>\n              </div>\n            </FilterGroup>\n\n          </FiltersGrid>\n        )}\n      </FiltersPanel>\n      )}\n\n      {/* Table */}\n      <TableScrollWrapper\n        ref={setTableWrapperRef}\n        $showLeftShadow={showLeftShadow}\n        $showRightShadow={showRightShadow}\n      >\n        <TableContainer ref={setTableContainerRef}>\n          <Table>\n          <TableHead>\n            {/* Header row with column names */}\n            {table.getHeaderGroups().map(headerGroup => (\n              <tr key={headerGroup.id}>\n                {headerGroup.headers.map(header => (\n                  <TableHeader\n                    key={header.id}\n                    onClick={header.column.getCanSort() ? header.column.getToggleSortingHandler() : undefined}\n                    style={{\n                      cursor: header.column.getCanSort() ? 'pointer' : 'default',\n                      width: header.getSize()\n                    }}\n                  >\n                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem' }}>\n                      {flexRender(header.column.columnDef.header, header.getContext())}\n                      {header.column.getCanSort() && header.column.getIsSorted() && (\n                        <FontAwesomeIcon\n                          icon={\n                            header.column.getIsSorted() === 'asc' ? faChevronUp :\n                            faChevronDown\n                          }\n                        />\n                      )}\n                    </div>\n                  </TableHeader>\n                ))}\n              </tr>\n            ))}\n\n            {/* Filter row with search inputs */}\n            <tr>\n              {table.getHeaderGroups()[0]?.headers.map(header => (\n                <TableHeader key={`filter-${header.id}`} style={{\n                  padding: '0.5rem',\n                  backgroundColor: '#f8f9fa',\n                  borderTop: '1px solid #e5e7eb'\n                }}>\n                  {header.id === 'select' ? (\n                    <div style={{\n                      display: 'flex',\n                      justifyContent: 'center',\n                      alignItems: 'center',\n                      height: '32px'\n                    }}>\n                      <input\n                        type=\"checkbox\"\n                        checked={table.getIsAllRowsSelected()}\n                        ref={(el) => {\n                          if (el) el.indeterminate = table.getIsSomeRowsSelected() && !table.getIsAllRowsSelected();\n                        }}\n                        onChange={table.getToggleAllRowsSelectedHandler()}\n                        style={{ cursor: 'pointer', width: '18px', height: '18px' }}\n                        title={table.getIsAllRowsSelected() ? 'Zruit vbr vech' : 'Vybrat ve'}\n                      />\n                    </div>\n                  ) : header.id === 'expander' ? (\n                    <div style={{\n                      display: 'flex',\n                      justifyContent: 'center',\n                      alignItems: 'center',\n                      height: '32px'\n                    }}>\n                      <FilterActionButton\n                        onClick={toggleAllRows}\n                        title={table.getIsSomeRowsExpanded() ? \"Sbalit vechny dky\" : \"Rozbalit vechny dky\"}\n                      >\n                        <FontAwesomeIcon icon={table.getIsSomeRowsExpanded() ? faMinus : faPlus} />\n                      </FilterActionButton>\n                    </div>\n                  ) : header.id === 'actions' ? (\n                    <div style={{\n                      display: 'flex',\n                      justifyContent: 'center',\n                      alignItems: 'center',\n                      gap: '3px',\n                      height: '32px'\n                    }}>\n                      {/* Hromadn akce - zobraz se jen kdy jsou vybran objednvky */}\n                      {(() => {\n                        const selectedCount = table.getSelectedRowModel().rows.length;\n                        if (selectedCount > 0) {\n                          const selectedOrders = table.getSelectedRowModel().rows.map(row => row.original);\n\n                          // Kolik objednvek je \"Ke schvlen\"\n                          const approvalCount = selectedOrders.filter(o => o.stav_objednavky === 'Ke schvlen').length;\n\n                          // Kolik objednvek lze generovat DOCX (stejn detekce jako v kontextovm menu)\n                          const docxCount = selectedOrders.filter(o => canExportDocument(o)).length;\n\n                          return (\n                            <>\n                              {/* Schvalovn - jen pro admin + prvo APPROVE */}\n                              {approvalCount > 0 && (hasPermission('ADMIN') || hasPermission('ORDER_APPROVE')) && (\n                                <FilterActionButton\n                                  onClick={() => {\n                                    const eligibleOrders = selectedOrders.filter(o => o.stav_objednavky === 'Ke schvlen');\n                                    setBulkApprovalOrders(eligibleOrders);\n                                    setShowBulkApprovalDialog(true);\n                                  }}\n                                  title={`Schvlit ${approvalCount} vybranch objednvek (stav Ke schvlen)`}\n                                  style={{ color: '#059669' }}\n                                >\n                                  <FontAwesomeIcon icon={faCheckCircle} />\n                                  <ActionBadge>{approvalCount}</ActionBadge>\n                                </FilterActionButton>\n                              )}\n\n                              {docxCount > 0 && (\n                                <FilterActionButton\n                                  onClick={() => {\n                                    const eligibleOrders = selectedOrders.filter(o => canExportDocument(o));\n                                    setBulkDocxOrders(eligibleOrders);\n                                    // Inicializuj vbr podepisovatel - vchoz je schvalovatel\n                                    const initialSigners = {};\n                                    const initialTemplates = {};\n                                    eligibleOrders.forEach(order => {\n                                      initialSigners[order.id] = order.schvalovatel_id || order.schvalovatel || null;\n                                      // Vchoz ablona podle stavu a ceny\n                                      const templates = getTemplateOptions(order);\n                                      if (templates.length > 0) {\n                                        initialTemplates[order.id] = templates[0].value; // Prvn dostupn ablona\n                                      }\n                                    });\n                                    setBulkDocxSigners(initialSigners);\n                                    setBulkDocxTemplates(initialTemplates);\n                                    setShowBulkDocxDialog(true);\n                                  }}\n                                  title={`Generovat DOCX pro ${docxCount} vybranch objednvek (fze Rozpracovan+)`}\n                                  style={{ color: '#0891b2' }}\n                                >\n                                  <FontAwesomeIcon icon={faFileWord} />\n                                  <ActionBadge>{docxCount}</ActionBadge>\n                                </FilterActionButton>\n                              )}\n\n                              <FilterActionButton\n                                onClick={() => {\n                                  setBulkDeleteOrders(selectedOrders);\n                                  setShowBulkDeleteDialog(true);\n                                }}\n                                title={`Smazat ${selectedCount} vybranch objednvek`}\n                                style={{ color: '#dc2626' }}\n                              >\n                                <FontAwesomeIcon icon={faTrash} />\n                                <ActionBadge>{selectedCount}</ActionBadge>\n                              </FilterActionButton>\n                            </>\n                          );\n                        }\n                        return null;\n                      })()}\n\n                      {/* Defaultn akce - vdy zobrazen */}\n                      <FilterActionButton\n                        onClick={clearColumnFilters}\n                        title=\"Vymazat filtry sloupc\"\n                      >\n                        <FontAwesomeIcon icon={faEraser} />\n                      </FilterActionButton>\n                      <FilterActionButton\n                        onClick={toggleRowHighlighting}\n                        title={showRowHighlighting ?\n                          \"Vypnout zvrazovn dk podle stavu objednvky\\n(koncepty zstanou vdy zvraznn)\" :\n                          \"Zapnout zvrazovn dk podle stavu objednvky\\n(kad stav m svou barvu)\"}\n                        className={showRowHighlighting ? 'active' : ''}\n                      >\n                        <FontAwesomeIcon icon={faPalette} />\n                      </FilterActionButton>\n                    </div>\n                  ) : (\n                    <ColumnFilterWrapper>\n                      <FontAwesomeIcon icon={faSearch} />\n                      <ColumnFilterInput\n                        type=\"text\"\n                        placeholder={`Hledat ${header.column.columnDef.header}...`}\n                        value={columnFilters[header.column.columnDef.accessorKey] || ''}\n                        onChange={(e) => {\n                          const newFilters = { ...columnFilters };\n                          newFilters[header.column.columnDef.accessorKey] = e.target.value;\n                          setColumnFilters(newFilters);\n                        }}\n                      />\n                      {columnFilters[header.column.columnDef.accessorKey] && (\n                        <ColumnClearButton\n                          onClick={() => {\n                            const newFilters = { ...columnFilters };\n                            delete newFilters[header.column.columnDef.accessorKey];\n                            setColumnFilters(newFilters);\n                          }}\n                          title=\"Vymazat\"\n                        >\n                          <FontAwesomeIcon icon={faTimes} />\n                        </ColumnClearButton>\n                      )}\n                    </ColumnFilterWrapper>\n                  )}\n                </TableHeader>\n              ))}\n            </tr>\n          </TableHead>\n          <tbody>\n            {orders.length === 0 ? (\n              // Przdn stav - uivatel nem dn objednvky (ped filtrovnm)\n              <tr>\n                <td colSpan={columns.length} style={{ padding: 0 }}>\n                  <EmptyState>\n                    <EmptyStateIcon>\n                      <FontAwesomeIcon icon={faFaceFrown} />\n                    </EmptyStateIcon>\n                    <EmptyStateTitle>Zatm nemte dnou objednvku</EmptyStateTitle>\n                    <EmptyStateText>\n                      Vytvote svou prvn objednvku kliknutm na tlatko \"Nov objednvka\" ve.\n                    </EmptyStateText>\n                  </EmptyState>\n                </td>\n              </tr>\n            ) : table.getRowModel().rows.length === 0 ? (\n              // Filtrovno - dn vsledky\n              <tr>\n                <td colSpan={columns.length} style={{ padding: '2rem', textAlign: 'center', color: '#64748b' }}>\n                  <FontAwesomeIcon icon={faFilter} style={{ fontSize: '2rem', marginBottom: '1rem', opacity: 0.5 }} />\n                  <div>dn objednvky nevyhovuj nastavenm filtrm</div>\n                </td>\n              </tr>\n            ) : (\n              table.getRowModel().rows.map((row, index) => (\n              <React.Fragment key={row.id}>\n                <TableRow\n                  $order={row.original}\n                  $isDraft={row.original.isDraft || false}\n                  $hasLocalChanges={row.original.hasLocalDraftChanges || false}\n                  $showHighlighting={showRowHighlighting}\n                  $isHighlighted={highlightOrderId && (row.original.id === highlightOrderId || row.original.cislo_objednavky === highlightOrderId)}\n                  onContextMenu={handleTableContextMenu}\n                  onDoubleClick={() => handleEdit(row.original)}\n                  data-order-id={row.original.cislo_objednavky || row.original.id}\n                  data-order-index={index + (currentPageIndex * pageSize)}\n                >\n                  {row.getVisibleCells().map(cell => (\n                    <TableCell key={cell.id}>\n                      {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                    </TableCell>\n                  ))}\n                </TableRow>\n                {row.getIsExpanded() && (\n                  <TableRow\n                    $order={row.original}\n                    $showHighlighting={showRowHighlighting}\n                  >\n                    <TableCell colSpan={columns.length} style={{ padding: 0, borderBottom: '1px solid #000' }}>\n                      {renderExpandedContent(row.original)}\n                    </TableCell>\n                  </TableRow>\n                )}\n              </React.Fragment>\n            )))}\n          </tbody>\n        </Table>\n\n        {/* Pagination */}\n        <PaginationContainer>\n          <PaginationInfo>\n            Zobrazeno {table.getRowModel().rows.length} z {filteredData.length} objednvek\n            {filteredData.length !== orders.length && (\n              <span> (filtrovno z {orders.length})</span>\n            )}\n          </PaginationInfo>\n\n          <PaginationControls>\n            <span style={{ fontSize: '0.875rem', color: '#64748b', marginRight: '1rem' }}>\n              Zobrazit:\n            </span>\n            <PageSizeSelect\n              value={pageSize}\n              onChange={(e) => {\n                const newSize = parseInt(e.target.value);\n                setPageSize(newSize);\n                setUserStorage('orders25List_pageSize', newSize);\n                // Resetuj na prvn strnku pi zmn velikosti strnky\n                setCurrentPageIndex(0);\n                setUserStorage('orders25List_pageIndex', 0);\n                //  REMOVED: table.setPageSize/setPageIndex - React Table reaguje na state.pagination\n              }}\n            >\n              <option value={10}>10</option>\n              <option value={25}>25</option>\n              <option value={50}>50</option>\n              <option value={100}>100</option>\n              <option value={250}>250</option>\n            </PageSizeSelect>\n\n            <PageButton\n              onClick={goToFirstPage}\n              disabled={!table.getCanPreviousPage()}\n            >\n              \n            </PageButton>\n            <PageButton\n              onClick={goToPreviousPage}\n              disabled={!table.getCanPreviousPage()}\n            >\n              \n            </PageButton>\n\n            <span style={{ fontSize: '0.875rem', color: '#64748b', margin: '0 1rem' }}>\n              Strnka {table.getState().pagination.pageIndex + 1} z {table.getPageCount()}\n            </span>\n\n            <PageButton\n              onClick={goToNextPage}\n              disabled={!table.getCanNextPage()}\n            >\n              \n            </PageButton>\n            <PageButton\n              onClick={goToLastPage}\n              disabled={!table.getCanNextPage()}\n            >\n              \n            </PageButton>\n          </PaginationControls>\n        </PaginationContainer>\n      </TableContainer>\n    </TableScrollWrapper>\n\n    {/* Floating Scroll ipky - React Portal (FIXED position, mimo DOM tabulky) */}\n    {createPortal(\n      <>\n        <ScrollArrowLeft\n          $visible={showLeftArrow}\n          $tableHovered={isTableHovered}\n          $arrowHovered={isArrowHovered}\n          onClick={handleScrollLeft}\n          onMouseEnter={() => setIsArrowHovered(true)}\n          onMouseLeave={() => setIsArrowHovered(false)}\n          disabled={!showLeftArrow}\n          aria-label=\"Scrollovat doleva\"\n        >\n          <FontAwesomeIcon icon={faChevronLeft} />\n        </ScrollArrowLeft>\n\n        <ScrollArrowRight\n          $visible={showRightArrow}\n          $tableHovered={isTableHovered}\n          $arrowHovered={isArrowHovered}\n          onClick={handleScrollRight}\n          onMouseEnter={() => setIsArrowHovered(true)}\n          onMouseLeave={() => setIsArrowHovered(false)}\n          disabled={!showRightArrow}\n          aria-label=\"Scrollovat doprava\"\n        >\n          <FontAwesomeIcon icon={faChevronRight} />\n        </ScrollArrowRight>\n      </>,\n      document.body\n    )}\n\n    {/* Modln dialog pro potvrzen editace - GRADIENT-MODERN style */}\n    <ConfirmDialog\n      isOpen={showEditConfirmModal}\n      onClose={handleEditCancel}\n      onConfirm={() => {\n        if (orderToEdit) {\n          handleEditConfirm();\n        } else {\n          handleCreateNewOrderConfirm();\n        }\n      }}\n      title={orderToEdit ? 'Potvrzen editace objednvky' : 'Potvrzen vytvoen nov objednvky'}\n      icon={faExclamationTriangle}\n      variant=\"warning\"\n      confirmText=\"Ano, pokraovat\"\n      cancelText=\"Ne, zruit\"\n    >\n      {orderToEdit ? (\n        <p>\n          Chystte se editovat objednvku <strong>\"{orderToEdit?.cislo_objednavky || orderToEdit?.predmet || orderToEdit?.ev_cislo || (orderToEdit?.id ? `ID ${orderToEdit.id}` : 'neznm objednvka')}\"</strong>.\n        </p>\n      ) : (\n        <p>\n          Chystte se vytvoit <strong>novou objednvku</strong>.\n        </p>\n      )}\n\n      {/* DEBUG INFO - zobraz draft kter bude smazn */}\n      {process.env.NODE_ENV === 'development' && (() => {\n        if (!currentDraftData) return (\n          <details style={{ fontSize: '0.8em', color: '#666', margin: '0.5rem 0' }}>\n            <summary>Debug info - dn draft v state</summary>\n            <pre>currentDraftData: null{'\\n'}orderToEdit: {JSON.stringify(orderToEdit, null, 2)}</pre>\n          </details>\n        );\n\n        try {\n          const formData = currentDraftData.formData || currentDraftData;\n          const isNewConcept = isValidConcept(currentDraftData);\n          const hasDbChanges = hasDraftChanges(currentDraftData);\n\n          return (\n            <details style={{ fontSize: '0.8em', color: '#666', margin: '0.5rem 0' }}>\n              <summary>Debug info - draft kter bude smazn </summary>\n              <pre>\n{` Draft Title: ${formData.ev_cislo || formData.cislo_objednavky || formData.predmet || 'N/A'}\n Draft ID: ${formData.id || 'dn ID (nov koncept)'}\n Pedmt: ${formData.predmet || 'N/A'}\n Is New Concept: ${isNewConcept ? 'ANO - pln nov objednvka' : 'NE'}\n Has DB Changes: ${hasDbChanges ? 'ANO - editace existujc DB obj.' : 'NE'}\n Saved Order ID: ${currentDraftData.savedOrderId || 'dn'}\n\n Pepnme na:\n${orderToEdit ? `   Objednvku: ${orderToEdit.cislo_objednavky || orderToEdit.predmet || 'ID ' + orderToEdit.id}` : '   NOVOU objednvku (przdn formul)'}`}\n              </pre>\n            </details>\n          );\n        } catch (error) {\n          return (\n            <details style={{ fontSize: '0.8em', color: '#666', margin: '0.5rem 0' }}>\n              <summary>Debug info - chyba zpracovn draftu</summary>\n              <pre>Error: {error.message}{'\\n'}orderToEdit: {JSON.stringify(orderToEdit, null, 2)}</pre>\n            </details>\n          );\n        }\n      })()}\n\n      {/* Zobraz varovn o rozepracovan objednvce, pokud existuje - ORDER25 SERVICE */}\n      {(() => {\n        if (!currentDraftData) return null;\n\n        try {\n          const formData = currentDraftData.formData || currentDraftData;\n          const draftTitle = formData.ev_cislo || formData.cislo_objednavky || formData.predmet || ' KONCEPT ';\n          const isNewConcept = isValidConcept(currentDraftData);\n\n          return (\n            <p style={{ background: '#fef3c7', padding: '0.75rem', borderRadius: '6px', border: '1px solid #f59e0b', margin: '0.5rem 0' }}>\n              <strong>Pozor:</strong> Mte rozepracovanou {isNewConcept ? 'novou objednvku' : 'editaci objednvky'}{' '}\n              <strong>{draftTitle}</strong>\n              . {orderToEdit ? 'Pepnutm na jinou objednvku' : 'Vytvoenm nov objednvky'} pijdete o neuloen zmny!\n            </p>\n          );\n        } catch (error) {\n          // Chyba pi zpracovn draft pro confirm dialog\n          return null;\n        }\n      })()}\n\n      {orderToEdit ? (\n        <>\n          <p>\n            <strong>Varovn:</strong> Tmto budou zrueny vechny ppadn neuloen zmny v jinch objednvkch a me dojt ke ztrt dat.\n          </p>\n          <p>\n            Chcete pokraovat v editaci?\n          </p>\n        </>\n      ) : (\n        <>\n          <p>\n            <strong>Varovn:</strong> Tmto budou zrueny vechny neuloen zmny v souasn objednvce a me dojt ke ztrt dat.\n          </p>\n          <p>\n            Chcete vytvoit novou objednvku a zahodit neuloen zmny?\n          </p>\n        </>\n      )}\n    </ConfirmDialog>\n\n      {/* Modln dialog pro varovn o archivovan objednvce - GRADIENT-MODERN style */}\n      <ConfirmDialog\n        isOpen={showArchivedWarningModal}\n        onClose={() => { setShowArchivedWarningModal(false); setOrderToEdit(null); }}\n        onConfirm={handleArchivedWarningConfirm}\n        title=\"Varovn - Importovan objednvka\"\n        icon={faExclamationTriangle}\n        variant=\"warning\"\n        confirmText=\"Ano, rozumm rizikm a chci pokraovat\"\n        cancelText=\"Ne, zruit\"\n      >\n        <p>\n          Chystte se editovat archivovanou objednvku <strong>\"{orderToEdit?.cislo_objednavky || orderToEdit?.ev_cislo || 'neznm objednvka'}\"</strong>.\n        </p>\n\n        <p style={{ background: '#fef3c7', padding: '0.75rem', borderRadius: '6px', border: '1px solid #f59e0b', margin: '0.75rem 0' }}>\n          <strong> UPOZORNN:</strong> Tato objednvka byla importovna z pvodnho systmu EEO a m stav <strong>ARCHIVOVNO</strong>.\n        </p>\n\n        <p>\n          Editace tto objednvky me ovlivnit ppadn opakovan import dat, pokud bude provdna aktualizace objednvek ze starho systmu.\n        </p>\n\n        <p>\n          <strong>Dsledky editace:</strong>\n        </p>\n        <ul style={{ marginLeft: '1.5rem', marginTop: '0.5rem' }}>\n          <li>Zmny v objednvce mohou bt pepsny pi opakovanm importu</li>\n          <li>Data nemus odpovdat pvodnmu systmu EEO</li>\n          <li>Me dojt ke ztrt vaich prav</li>\n        </ul>\n\n        <p style={{ marginTop: '1rem' }}>\n          Opravdu chcete pokraovat v editaci?\n        </p>\n      </ConfirmDialog>\n\n      {/* KOMBINOVAN modal: Archivovan objednvka + existujc koncept - GRADIENT-MODERN style */}\n      <ConfirmDialog\n        isOpen={showArchivedWithDraftWarningModal}\n        onClose={() => { setShowArchivedWithDraftWarningModal(false); setOrderToEdit(null); }}\n        onConfirm={handleArchivedWithDraftConfirm}\n        title=\"Dleit varovn\"\n        icon={faExclamationTriangle}\n        variant=\"warning\"\n        confirmText=\"Ano, rozumm a chci pokraovat\"\n        cancelText=\"Ne, zruit\"\n      >\n        <p>\n          Chystte se editovat archivovanou objednvku <strong>\"{orderToEdit?.cislo_objednavky || orderToEdit?.ev_cislo || 'neznm objednvka'}\"</strong>.\n        </p>\n\n        {/* VAROVN 1: Archivovan objednvka */}\n        <div style={{ background: '#fef3c7', padding: '0.75rem', borderRadius: '6px', border: '1px solid #f59e0b', margin: '0.75rem 0' }}>\n          <strong> VAROVN - ARCHIVOVNO:</strong><br />\n          Tato objednvka byla importovna z pvodnho systmu EEO a m stav <strong>ARCHIVOVNO</strong>.\n          Editace me bt pepsna pi opakovanm importu dat.\n        </div>\n\n        {/* VAROVN 2: Ztrta rozpracovan objednvky */}\n        <div style={{ background: '#fee2e2', padding: '0.75rem', borderRadius: '6px', border: '1px solid #ef4444', margin: '0.75rem 0' }}>\n          <strong> ZTRTA KONCEPTU:</strong><br />\n          Mte rozpracovanou objednvku, kter bude pi pokraovn <strong>ZTRACENA</strong> a nelze ji obnovit!\n        </div>\n\n        <p style={{ marginTop: '1rem' }}>\n          <strong>Co se stane po pokraovn:</strong>\n        </p>\n        <ul style={{ marginLeft: '1.5rem', marginTop: '0.5rem' }}>\n          <li>V rozpracovan koncept bude <strong>trvale smazn</strong></li>\n          <li>Otevete archivovanou objednvku k editaci</li>\n          <li>Zmny mohou bt pepsny pi budoucm importu</li>\n        </ul>\n\n        <p style={{ marginTop: '1rem', fontWeight: 'bold', color: '#dc2626' }}>\n          Opravdu chcete pokraovat a ztratit rozpracovanou objednvku?\n        </p>\n      </ConfirmDialog>\n\n      {/* Modln dialog pro potvrzen smazn - GRADIENT-MODERN style */}\n      <ConfirmDialog\n        isOpen={showDeleteConfirmModal}\n        onClose={handleDeleteCancel}\n        onConfirm={() => {\n          if (hasPermission('ORDER_MANAGE') || hasPermission('ORDER_2025')) {\n            handleDeleteConfirm('hard'); // Administrtor - smazat pln\n          } else {\n            handleDeleteConfirm('soft'); // Bn uivatel - oznait neaktivn\n          }\n        }}\n        title=\"Smazn objednvky\"\n        icon={faTrash}\n        variant=\"danger\"\n        confirmText={(hasPermission('ORDER_MANAGE') || hasPermission('ORDER_2025')) ? 'Smazat pln' : 'Oznait neaktivn'}\n        cancelText=\"Zruit\"\n      >\n        <p>\n          Chystte se smazat objednvku <strong>\"{orderToDelete?.cislo_objednavky || orderToDelete?.predmet || `ID ${orderToDelete?.id}`}\"</strong>.\n        </p>\n\n        {(hasPermission('ORDER_MANAGE') || hasPermission('ORDER_2025')) ? (\n          <div>\n            <p><strong>Mte administrtorsk prva. Vyberte zpsob smazn:</strong></p>\n            <div style={{ background: '#f3f4f6', padding: '1rem', borderRadius: '6px', margin: '1rem 0' }}>\n              <p><strong>Oznait jako neaktivn:</strong> Objednvka zstane v databzi, ale nebude se zobrazovat v seznamech.</p>\n              <p><strong>Smazat pln:</strong> Objednvka bude natrvalo smazna vetn vech poloek a ploh. Tuto akci nelze vrtit zpt!</p>\n            </div>\n            <div style={{ display: 'flex', gap: '0.75rem', marginTop: '1rem' }}>\n              <button\n                onClick={() => handleDeleteConfirm('soft')}\n                style={{\n                  padding: '0.875rem 1.75rem',\n                  border: '2px solid #d1d5db',\n                  borderRadius: '10px',\n                  fontWeight: '700',\n                  background: 'white',\n                  color: '#6b7280',\n                  cursor: 'pointer',\n                  fontSize: '0.9375rem',\n                  transition: 'all 0.2s ease'\n                }}\n              >\n                Oznait neaktivn\n              </button>\n            </div>\n          </div>\n        ) : (\n          <p>Objednvka bude oznaena jako neaktivn. Zstane v databzi, ale nebude se zobrazovat v seznamech.</p>\n        )}\n      </ConfirmDialog>\n\n      {/*  Modal pro zamenou objednvku - GRADIENT-MODERN style (ZELEN inforamn) */}\n      {lockedOrderInfo && (\n        <ConfirmDialog\n          isOpen={showLockedOrderDialog}\n          onClose={handleLockedOrderCancel}\n          onConfirm={lockedOrderInfo.canForceUnlock ? handleLockedOrderForceUnlock : handleLockedOrderCancel}\n          title={lockedOrderInfo.canForceUnlock ? 'Objednvka je zamen' : 'Objednvka nen dostupn'}\n          icon={faLock}\n          variant=\"success\"\n          confirmText={lockedOrderInfo.canForceUnlock ? 'Odemknout a pevzt' : 'Zavt'}\n          cancelText=\"Zruit\"\n          showCancel={lockedOrderInfo.canForceUnlock}\n        >\n          {lockedOrderInfo.canForceUnlock ? (\n            <>\n              <WarningText>\n                 Objednvka je aktuln editovna uivatelem:\n              </WarningText>\n              <UserInfo>\n                <strong>{lockedOrderInfo.lockedByUserName}</strong>\n              </UserInfo>\n\n              {/* Kontaktn daje */}\n              {(lockedOrderInfo.lockedByUserEmail || lockedOrderInfo.lockedByUserTelefon) && (\n                <ContactInfo>\n                  {lockedOrderInfo.lockedByUserEmail && (\n                    <ContactItem>\n                      <FontAwesomeIcon icon={faEnvelope} />\n                      <ContactLabel>Email:</ContactLabel>\n                      <a href={`mailto:${lockedOrderInfo.lockedByUserEmail}`}>\n                        {lockedOrderInfo.lockedByUserEmail}\n                      </a>\n                    </ContactItem>\n                  )}\n                  {lockedOrderInfo.lockedByUserTelefon && (\n                    <ContactItem>\n                      <FontAwesomeIcon icon={faPhone} />\n                      <ContactLabel>Telefon:</ContactLabel>\n                      <a href={`tel:${lockedOrderInfo.lockedByUserTelefon}`}>\n                        {lockedOrderInfo.lockedByUserTelefon}\n                      </a>\n                    </ContactItem>\n                  )}\n                </ContactInfo>\n              )}\n\n              {/* as zamen */}\n              {lockedOrderInfo.lockAgeMinutes !== null && lockedOrderInfo.lockAgeMinutes !== undefined && (\n                <LockTimeInfo>\n                  <FontAwesomeIcon icon={faClock} />\n                  Zameno ped {lockedOrderInfo.lockAgeMinutes} {lockedOrderInfo.lockAgeMinutes === 1 ? 'minutou' : lockedOrderInfo.lockAgeMinutes < 5 ? 'minutami' : 'minutami'}\n                </LockTimeInfo>\n              )}\n\n              <InfoText>\n                Jako <strong>{lockedOrderInfo.userRoleName}</strong> mete objednvku nsiln odemknout a pevzt.\n              </InfoText>\n              <WarningText>\n                 Pvodn uivatel bude informovn o pevzet objednvky a ztrat neuloen zmny.\n              </WarningText>\n            </>\n          ) : (\n            <>\n              <InfoText>\n                Objednvka je aktuln editovna uivatelem:\n              </InfoText>\n              <UserInfo>\n                <strong>{lockedOrderInfo.lockedByUserName}</strong>\n              </UserInfo>\n\n              {/* Kontaktn daje */}\n              {(lockedOrderInfo.lockedByUserEmail || lockedOrderInfo.lockedByUserTelefon) && (\n                <ContactInfo>\n                  {lockedOrderInfo.lockedByUserEmail && (\n                    <ContactItem>\n                      <FontAwesomeIcon icon={faEnvelope} />\n                      <ContactLabel>Email:</ContactLabel>\n                      <a href={`mailto:${lockedOrderInfo.lockedByUserEmail}`}>\n                        {lockedOrderInfo.lockedByUserEmail}\n                      </a>\n                    </ContactItem>\n                  )}\n                  {lockedOrderInfo.lockedByUserTelefon && (\n                    <ContactItem>\n                      <FontAwesomeIcon icon={faPhone} />\n                      <ContactLabel>Telefon:</ContactLabel>\n                      <a href={`tel:${lockedOrderInfo.lockedByUserTelefon}`}>\n                        {lockedOrderInfo.lockedByUserTelefon}\n                      </a>\n                    </ContactItem>\n                  )}\n                </ContactInfo>\n              )}\n\n              {/* as zamen */}\n              {lockedOrderInfo.lockAgeMinutes !== null && lockedOrderInfo.lockAgeMinutes !== undefined && (\n                <LockTimeInfo>\n                  <FontAwesomeIcon icon={faClock} />\n                  Zameno ped {lockedOrderInfo.lockAgeMinutes} {lockedOrderInfo.lockAgeMinutes === 1 ? 'minutou' : lockedOrderInfo.lockAgeMinutes < 5 ? 'minutami' : 'minutami'}\n                </LockTimeInfo>\n              )}\n\n              <InfoText>\n                Nelze ji nast pro editaci. Pokejte, a bude uivatel s editac hotov, nebo ho kontaktujte.\n              </InfoText>\n            </>\n          )}\n        </ConfirmDialog>\n      )}\n\n      {/*  FORCE UNLOCK WARNING DIALOG */}\n      {showForceUnlockWarning && forceUnlockWarningData && createPortal(\n        <ForceUnlockWarningOverlay onClick={(e) => e.target === e.currentTarget && handleForceUnlockWarningClose()}>\n          <ForceUnlockWarningDialog onClick={(e) => e.stopPropagation()}>\n            <ForceUnlockWarningHeader>\n              <ForceUnlockWarningIcon></ForceUnlockWarningIcon>\n              <ForceUnlockWarningTitle>NSILN PEVZET OBJEDNVKY</ForceUnlockWarningTitle>\n            </ForceUnlockWarningHeader>\n\n            <ForceUnlockWarningContent>\n              <ForceUnlockWarningMessage>\n                <p>\n                  <strong>Vae objednvka byla nsiln pevzata jinm uivatelem!</strong>\n                </p>\n                <p>\n                  Objednvka <strong>{forceUnlockWarningData.orderNumber}</strong> byla nsiln odemena\n                  a pevzata. Vae neuloen zmny mohly bt ztraceny.\n                </p>\n              </ForceUnlockWarningMessage>\n\n              <ForceUnlockWarningDetails>\n                <ForceUnlockWarningDetailRow>\n                  <FontAwesomeIcon icon={faFileAlt} />\n                  <ForceUnlockWarningDetailLabel>Objednvka:</ForceUnlockWarningDetailLabel>\n                  <ForceUnlockWarningDetailValue>{forceUnlockWarningData.orderNumber}</ForceUnlockWarningDetailValue>\n                </ForceUnlockWarningDetailRow>\n\n                <ForceUnlockWarningDetailRow>\n                  <FontAwesomeIcon icon={faUser} />\n                  <ForceUnlockWarningDetailLabel>Pevzal:</ForceUnlockWarningDetailLabel>\n                  <ForceUnlockWarningDetailValue>{forceUnlockWarningData.lockedBy}</ForceUnlockWarningDetailValue>\n                </ForceUnlockWarningDetailRow>\n\n                {forceUnlockWarningData.lockedByEmail && (\n                  <ForceUnlockWarningDetailRow>\n                    <FontAwesomeIcon icon={faEnvelope} />\n                    <ForceUnlockWarningDetailLabel>Email:</ForceUnlockWarningDetailLabel>\n                    <ForceUnlockWarningDetailValue>\n                      <a\n                        href={`mailto:${forceUnlockWarningData.lockedByEmail}`}\n                        style={{ color: '#991b1b', textDecoration: 'underline' }}\n                      >\n                        {forceUnlockWarningData.lockedByEmail}\n                      </a>\n                    </ForceUnlockWarningDetailValue>\n                  </ForceUnlockWarningDetailRow>\n                )}\n\n                {forceUnlockWarningData.lockedByPhone && (\n                  <ForceUnlockWarningDetailRow>\n                    <FontAwesomeIcon icon={faPhone} />\n                    <ForceUnlockWarningDetailLabel>Telefon:</ForceUnlockWarningDetailLabel>\n                    <ForceUnlockWarningDetailValue>\n                      <a\n                        href={`tel:${forceUnlockWarningData.lockedByPhone}`}\n                        style={{ color: '#991b1b', textDecoration: 'underline' }}\n                      >\n                        {forceUnlockWarningData.lockedByPhone}\n                      </a>\n                    </ForceUnlockWarningDetailValue>\n                  </ForceUnlockWarningDetailRow>\n                )}\n\n                <ForceUnlockWarningDetailRow>\n                  <FontAwesomeIcon icon={faClock} />\n                  <ForceUnlockWarningDetailLabel>as:</ForceUnlockWarningDetailLabel>\n                  <ForceUnlockWarningDetailValue>\n                    {new Date(forceUnlockWarningData.lockedAt).toLocaleString('cs-CZ')}\n                  </ForceUnlockWarningDetailValue>\n                </ForceUnlockWarningDetailRow>\n              </ForceUnlockWarningDetails>\n\n              <ForceUnlockWarningActions>\n                <ForceUnlockWarningButton onClick={handleForceUnlockWarningClose}>\n                  Zavt\n                </ForceUnlockWarningButton>\n                <ForceUnlockWarningButton $primary onClick={handleForceUnlockWarningAcknowledge}>\n                  <FontAwesomeIcon icon={faCheckCircle} style={{ marginRight: '0.5rem' }} />\n                  Rozumm, aktualizovat seznam\n                </ForceUnlockWarningButton>\n              </ForceUnlockWarningActions>\n            </ForceUnlockWarningContent>\n          </ForceUnlockWarningDialog>\n        </ForceUnlockWarningOverlay>,\n        document.body\n      )}\n\n      {/* Kontextov menu */}\n      {contextMenu && (\n        <OrderContextMenu\n          x={contextMenu.x}\n          y={contextMenu.y}\n          order={contextMenu.order}\n          selectedData={contextMenu.selectedData}\n          onClose={handleCloseContextMenu}\n          onAddToTodo={handleAddToTodo}\n          onAddAlarm={handleAddAlarm}\n          onEdit={handleContextMenuEdit}\n          onDelete={handleContextMenuDelete}\n          onGenerateDocx={handleGenerateDocx}\n          onGenerateFinancialControl={handleGenerateFinancialControl}\n          canDelete={\n            hasPermission('ORDER_MANAGE') ||\n            hasPermission('ORDER_DELETE_ALL') ||\n            hasPermission('ORDER_2025') ||\n            (hasPermission('ORDER_DELETE_OWN') && contextMenu.order.uzivatel_id === currentUserId)\n          }\n        />\n      )}\n\n      {/* DOCX Generator Modal - Lazy loaded for better performance */}\n      {docxModalOpen && (\n        <Suspense fallback={<div>Natn...</div>}>\n          <DocxGeneratorModal\n            order={docxModalOrder}\n            isOpen={docxModalOpen}\n            onClose={handleDocxModalClose}\n          />\n        </Suspense>\n      )}\n\n      {/* Financial Control Modal - Lazy loaded for better performance */}\n      {financialControlModalOpen && (\n        <Suspense fallback={<div>Natn finann kontroly...</div>}>\n          <FinancialControlModal\n            order={financialControlOrder}\n            onClose={() => {\n              setFinancialControlModalOpen(false);\n              setFinancialControlOrder(null);\n            }}\n            generatedBy={{\n              fullName: `${userDetail?.titul_pred || ''} ${userDetail?.jmeno || ''} ${userDetail?.prijmeni || ''} ${userDetail?.titul_za || ''}`.trim(),\n              position: userDetail?.pozice || 'Pracovnk'\n            }}\n          />\n        </Suspense>\n      )}\n\n      {/* Hromadn generovn DOCX - Dialog */}\n      {showBulkDocxDialog && createPortal(\n        <BulkDocxOverlay>\n          <BulkDocxDialog onClick={(e) => e.stopPropagation()}>\n            <BulkDocxHeader>\n              <BulkDocxTitle>\n                <FontAwesomeIcon icon={faFileWord} />\n                Hromadn generovn DOCX\n              </BulkDocxTitle>\n              <button\n                onClick={() => setShowBulkDocxDialog(false)}\n                style={{\n                  background: 'transparent',\n                  border: 'none',\n                  color: 'white',\n                  fontSize: '1.5rem',\n                  cursor: 'pointer',\n                  padding: '0.25rem',\n                  display: 'flex',\n                  alignItems: 'center'\n                }}\n              >\n                <FontAwesomeIcon icon={faTimes} />\n              </button>\n            </BulkDocxHeader>\n\n            <BulkDocxBody>\n              {bulkDocxOrders.map((order, index) => (\n                <BulkDocxOrderItem key={order.id || index}>\n                  <BulkDocxOrderHeader>\n                    <BulkDocxOrderNumber>\n                      <FontAwesomeIcon icon={faFileInvoice} style={{ color: '#0891b2' }} />\n                      Objednvka #{order.cislo_objednavky || order.id}\n                    </BulkDocxOrderNumber>\n                    <span style={{\n                      fontSize: '0.875rem',\n                      color: '#64748b',\n                      background: '#f1f5f9',\n                      padding: '0.25rem 0.75rem',\n                      borderRadius: '6px',\n                      fontWeight: '600'\n                    }}>\n                      {order.stav_objednavky || 'N/A'}\n                    </span>\n                  </BulkDocxOrderHeader>\n\n                  <BulkDocxOrderInfo>\n                    <strong>Pedmt objednvky:</strong> {order.predmet || 'Bez pedmtu'}\n                  </BulkDocxOrderInfo>\n\n                  <BulkDocxOrderInfo>\n                    <strong>Max. cena s DPH:</strong> {order.max_cena_s_dph ? `${parseFloat(order.max_cena_s_dph).toLocaleString('cs-CZ')} K` : 'Neuvedeno'}\n                  </BulkDocxOrderInfo>\n\n                  <BulkDocxOrderInfo>\n                    <strong>Dodavatel:</strong> {order.dodavatel_nazev || 'N/A'}\n                  </BulkDocxOrderInfo>\n\n                  <BulkDocxSignerSelect>\n                    <BulkDocxSignerLabel>\n                      ablona:\n                    </BulkDocxSignerLabel>\n                    <select\n                      value={bulkDocxTemplates[order.id] || ''}\n                      onChange={(e) => {\n                        const newTemplates = {\n                          ...bulkDocxTemplates,\n                          [order.id]: e.target.value\n                        };\n                        setBulkDocxTemplates(newTemplates);\n                        setUserStorage('bulkDocxTemplates', newTemplates);\n                      }}\n                      style={{\n                        flex: 1,\n                        padding: '0.75rem',\n                        border: '2px solid #e2e8f0',\n                        borderRadius: '8px',\n                        fontSize: '0.875rem',\n                        cursor: 'pointer',\n                        fontWeight: bulkDocxTemplates[order.id] ? '600' : '400',\n                        color: bulkDocxTemplates[order.id] ? '#1f2937' : '#9ca3af',\n                        background: 'white',\n                        transition: 'all 0.2s ease'\n                      }}\n                    >\n                      <option value=\"\">-- Vyberte ablonu --</option>\n                      {getTemplateOptions(order).map(template => (\n                        <option key={template.value} value={template.value}>\n                          {template.label}\n                        </option>\n                      ))}\n                    </select>\n                  </BulkDocxSignerSelect>\n\n                  <BulkDocxSignerSelect>\n                    <BulkDocxSignerLabel>\n                      Podepisovatel:\n                    </BulkDocxSignerLabel>\n                    <select\n                      value={bulkDocxSigners[order.id] || ''}\n                      onChange={(e) => {\n                        const newSigners = {\n                          ...bulkDocxSigners,\n                          [order.id]: e.target.value\n                        };\n                        setBulkDocxSigners(newSigners);\n                        setUserStorage('bulkDocxSigners', newSigners);\n                      }}\n                      style={{\n                        flex: 1,\n                        padding: '0.75rem',\n                        border: '2px solid #e2e8f0',\n                        borderRadius: '8px',\n                        fontSize: '0.875rem',\n                        cursor: 'pointer',\n                        fontWeight: bulkDocxSigners[order.id] ? '600' : '400',\n                        color: bulkDocxSigners[order.id] ? '#1f2937' : '#9ca3af',\n                        background: 'white',\n                        transition: 'all 0.2s ease'\n                      }}\n                    >\n                      <option value=\"\">Vyberte podepisovatele...</option>\n                      {(() => {\n                        const availableUsers = [];\n\n                        // Garant\n                        if (order.garant_uzivatel_id && order.garant_uzivatel?.cele_jmeno &&\n                            order.garant_uzivatel.cele_jmeno !== 'Nezadno' && order.garant_uzivatel.cele_jmeno !== 'Nezadano') {\n                          availableUsers.push({\n                            id: order.garant_uzivatel_id,\n                            name: order.garant_uzivatel.cele_jmeno,\n                            role: 'Garant'\n                          });\n                        }\n\n                        // Pkazce\n                        if (order.prikazce_id && order.prikazce?.cele_jmeno &&\n                            order.prikazce.cele_jmeno !== 'Nezadno' && order.prikazce.cele_jmeno !== 'Nezadano') {\n                          availableUsers.push({\n                            id: order.prikazce_id,\n                            name: order.prikazce.cele_jmeno,\n                            role: 'Pkazce'\n                          });\n                        }\n\n                        // Schvalovatel\n                        if (order.schvalovatel_id && order.schvalovatel?.cele_jmeno &&\n                            order.schvalovatel.cele_jmeno !== 'Nezadno' && order.schvalovatel.cele_jmeno !== 'Nezadano') {\n                          availableUsers.push({\n                            id: order.schvalovatel_id,\n                            name: order.schvalovatel.cele_jmeno,\n                            role: 'Schvalovatel'\n                          });\n                        }\n\n                        // Objednatel\n                        if (order.objednatel_id && order.objednatel?.cele_jmeno &&\n                            order.objednatel.cele_jmeno !== 'Nezadno' && order.objednatel.cele_jmeno !== 'Nezadano') {\n                          availableUsers.push({\n                            id: order.objednatel_id,\n                            name: order.objednatel.cele_jmeno,\n                            role: 'Objednatel'\n                          });\n                        }\n\n                        return availableUsers.map((user, index) => (\n                          <option key={`${order.id}-${user.id}-${user.role}-${index}`} value={user.id}>\n                            {user.name} ({user.role})\n                          </option>\n                        ));\n                      })()}\n                    </select>\n                  </BulkDocxSignerSelect>\n                </BulkDocxOrderItem>\n              ))}\n            </BulkDocxBody>\n\n            <BulkDocxFooter>\n              <BulkDocxSummary>\n                Celkem: {bulkDocxOrders.length} objednvek\n              </BulkDocxSummary>\n              <BulkDocxActions>\n                <BulkDocxButton\n                  className=\"secondary\"\n                  onClick={() => setShowBulkDocxDialog(false)}\n                >\n                  Zruit\n                </BulkDocxButton>\n                <BulkDocxButton\n                  className=\"primary\"\n                  onClick={() => {\n                    // Validace: zkontroluj, e vechny objednvky maj vybranou ablonu\n                    const missingTemplates = bulkDocxOrders.filter(order => !bulkDocxTemplates[order.id]);\n                    if (missingTemplates.length > 0) {\n                      const orderNumbers = missingTemplates.map(o => `#${o.cislo_objednavky || o.id}`).join(', ');\n                      showToast && showToast(\n                        `Vyberte ablonu pro vechny objednvky. Chyb u: ${orderNumbers}`,\n                        { type: 'error' }\n                      );\n                      return;\n                    }\n\n                    // Validace: zkontroluj, e vechny objednvky maj vybranho podepisovatele\n                    const missingSigners = bulkDocxOrders.filter(order => !bulkDocxSigners[order.id]);\n                    if (missingSigners.length > 0) {\n                      const orderNumbers = missingSigners.map(o => `#${o.cislo_objednavky || o.id}`).join(', ');\n                      showToast && showToast(\n                        `Vyberte podepisovatele pro vechny objednvky. Chyb u: ${orderNumbers}`,\n                        { type: 'error' }\n                      );\n                      return;\n                    }\n\n                    // TODO: Implementovat hromadn generovn\n                    console.log('Generuji DOCX pro objednvky:', bulkDocxOrders);\n                    console.log('S podepisovateli:', bulkDocxSigners);\n                    console.log('S ablonami:', bulkDocxTemplates);\n                    alert('TODO: Implementovat hromadn generovn DOCX');\n                    setShowBulkDocxDialog(false);\n                  }}\n                >\n                  <FontAwesomeIcon icon={faFileWord} style={{ marginRight: '0.5rem' }} />\n                  Generovat DOCX\n                </BulkDocxButton>\n              </BulkDocxActions>\n            </BulkDocxFooter>\n          </BulkDocxDialog>\n        </BulkDocxOverlay>,\n        document.body\n      )}\n\n      {/* Hromadn schvalovn - ConfirmDialog */}\n      {showBulkApprovalDialog && (\n        <ConfirmDialog\n          isOpen={showBulkApprovalDialog}\n          onClose={() => setShowBulkApprovalDialog(false)}\n          onConfirm={async () => {\n            try {\n              setLoading(true);\n\n              // Hromadn schvlen - update stavu na SCHVALENA\n              const results = await Promise.allSettled(\n                bulkApprovalOrders.map(async (order) => {\n                  // Nati aktuln workflow stavy\n                  let currentWorkflow = [];\n                  try {\n                    if (Array.isArray(order.stav_workflow_kod)) {\n                      currentWorkflow = order.stav_workflow_kod;\n                    } else if (typeof order.stav_workflow_kod === 'string') {\n                      currentWorkflow = JSON.parse(order.stav_workflow_kod);\n                    }\n                  } catch (e) {\n                    currentWorkflow = [];\n                  }\n\n                  // Pidej nov stav SCHVALENA\n                  const newWorkflow = [\n                    ...currentWorkflow,\n                    {\n                      kod_stavu: 'SCHVALENA',\n                      nazev_stavu: 'Schvlen',\n                      timestamp: new Date().toISOString(),\n                      uzivatel_id: currentUserId\n                    }\n                  ];\n\n                  // Update objednvky\n                  const updateData = {\n                    stav_objednavky: 'Schvlen',\n                    stav_workflow_kod: JSON.stringify(newWorkflow),\n                    datum_schvaleni: new Date().toISOString()\n                  };\n\n                  const response = await fetch(`${process.env.REACT_APP_API_BASE_URL}/api.eeo/orders-v2.php`, {\n                    method: 'POST',\n                    headers: {\n                      'Content-Type': 'application/json',\n                      'Authorization': `Bearer ${token}`\n                    },\n                    body: JSON.stringify({\n                      action: 'update',\n                      id: order.id,\n                      data: updateData,\n                      username: username\n                    })\n                  });\n\n                  if (!response.ok) {\n                    throw new Error(`Chyba pi schvalovn objednvky #${order.cislo_objednavky}`);\n                  }\n\n                  return { success: true, orderId: order.id };\n                })\n              );\n\n              const successful = results.filter(r => r.status === 'fulfilled').length;\n              const failed = results.filter(r => r.status === 'rejected').length;\n\n              if (successful > 0) {\n                showToast(` Schvleno: ${successful} objednvek`, 'success');\n                // Refresh dat\n                await loadData();\n                // Zru vbr\n                table.toggleAllRowsSelected(false);\n              }\n\n              if (failed > 0) {\n                showToast(` Selhalo: ${failed} objednvek`, 'error');\n              }\n\n              setShowBulkApprovalDialog(false);\n            } catch (error) {\n              console.error('Chyba pi hromadnm schvalovn:', error);\n              showToast('Chyba pi hromadnm schvalovn', 'error');\n            } finally {\n              setLoading(false);\n            }\n          }}\n          title=\"Hromadn schvlen objednvek\"\n          icon={faCheckCircle}\n          variant=\"success\"\n          confirmText=\"Schvlit ve\"\n          cancelText=\"Zruit\"\n        >\n          <div style={{ padding: '1rem 0' }}>\n            <p style={{ marginBottom: '1rem', fontSize: '1.05rem' }}>\n              Opravdu chcete schvlit <strong>{bulkApprovalOrders.length}</strong> vybranch objednvek?\n            </p>\n            <div style={{\n              background: '#f0fdf4',\n              border: '2px solid #86efac',\n              borderRadius: '8px',\n              padding: '1rem',\n              marginBottom: '1rem'\n            }}>\n              <h4 style={{ margin: '0 0 0.75rem 0', color: '#166534' }}>\n                 Seznam objednvek ke schvlen:\n              </h4>\n              <ul style={{ margin: 0, paddingLeft: '1.5rem', color: '#166534' }}>\n                {bulkApprovalOrders.map(order => (\n                  <li key={order.id} style={{ marginBottom: '0.5rem' }}>\n                    <strong>#{order.cislo_objednavky}</strong> - {order.nazev || 'Bez nzvu'}\n                  </li>\n                ))}\n              </ul>\n            </div>\n            <p style={{ color: '#64748b', fontSize: '0.95rem', lineHeight: '1.6' }}>\n              Po schvlen budou objednvky pesunuty do stavu <strong>\"Schvlen\"</strong> a bude\n              zaznamenno datum schvlen.\n            </p>\n          </div>\n        </ConfirmDialog>\n      )}\n\n      {/* Hromadn mazn - ConfirmDialog */}\n      {showBulkDeleteDialog && (\n        <ConfirmDialog\n          isOpen={showBulkDeleteDialog}\n          onClose={() => setShowBulkDeleteDialog(false)}\n          onConfirm={async () => {\n            try {\n              setLoading(true);\n\n              // Pouij vybran typ mazn (pro adminy)\n              const canHardDelete = hasPermission('ADMIN') || hasPermission('ORDER_DELETE_ALL');\n              const useHardDelete = canHardDelete && bulkDeleteType === 'hard';\n\n              const results = await Promise.allSettled(\n                bulkDeleteOrders.map(async (order) => {\n                  // Smazn objednvky s parametrem hard delete\n                  const response = await deleteOrderV2(order.id, token, username, useHardDelete);\n\n                  return { success: true, orderId: order.id };\n                })\n              );\n\n              const successful = results.filter(r => r.status === 'fulfilled').length;\n              const failed = results.filter(r => r.status === 'rejected').length;\n\n              if (successful > 0) {\n                // Odeber smazan objednvky ze seznamu\n                setOrders(prevOrders =>\n                  prevOrders.filter(o => !bulkDeleteOrders.find(del => del.id === o.id))\n                );\n                showToast(` Smazno: ${successful} objednvek`, 'success');\n                // Zru vbr\n                table.toggleAllRowsSelected(false);\n              }\n\n              if (failed > 0) {\n                showToast(` Selhalo: ${failed} objednvek`, 'error');\n              }\n\n              setShowBulkDeleteDialog(false);\n            } catch (error) {\n              console.error('Chyba pi hromadnm mazn:', error);\n              showToast('Chyba pi hromadnm mazn', 'error');\n            } finally {\n              setLoading(false);\n            }\n          }}\n          title=\"Hromadn mazn objednvek\"\n          icon={faTrash}\n          variant=\"danger\"\n          confirmText={\n            (hasPermission('ADMIN') || hasPermission('ORDER_DELETE_ALL'))\n              ? (bulkDeleteType === 'hard' ? \" Smazat pln\" : \"Smazat (soft)\")\n              : \"Smazat (soft)\"\n          }\n          cancelText=\"Zruit\"\n        >\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: '1.5rem',\n            padding: '1rem 0'\n          }}>\n            {/* LEV SLOUPEC - Volba typu smazn */}\n            <div>\n              <p style={{ marginBottom: '1rem', fontSize: '1.05rem' }}>\n                Opravdu chcete smazat <strong>{bulkDeleteOrders.length}</strong> vybranch objednvek?\n              </p>\n\n              {(hasPermission('ADMIN') || hasPermission('ORDER_DELETE_ALL')) ? (\n                <>\n                  {/* Vbr typu mazn pro adminy */}\n                  <div style={{\n                    background: '#f8fafc',\n                    border: '2px solid #cbd5e1',\n                    borderRadius: '8px',\n                    padding: '1rem'\n                  }}>\n                    <h4 style={{ margin: '0 0 0.75rem 0', color: '#475569', fontSize: '1rem' }}>\n                       Vyberte typ smazn:\n                    </h4>\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\n                      <label style={{\n                        display: 'flex',\n                        alignItems: 'flex-start',\n                        gap: '0.75rem',\n                        cursor: 'pointer',\n                        padding: '0.75rem',\n                        border: `2px solid ${bulkDeleteType === 'soft' ? '#3b82f6' : '#e2e8f0'}`,\n                        borderRadius: '6px',\n                        background: bulkDeleteType === 'soft' ? '#eff6ff' : 'white',\n                        transition: 'all 0.2s'\n                      }}>\n                        <input\n                          type=\"radio\"\n                          name=\"deleteType\"\n                          value=\"soft\"\n                          checked={bulkDeleteType === 'soft'}\n                          onChange={(e) => setBulkDeleteType(e.target.value)}\n                          style={{ marginTop: '0.25rem', accentColor: '#3b82f6', cursor: 'pointer' }}\n                        />\n                        <div>\n                          <div style={{ fontWeight: '600', color: '#1f2937', marginBottom: '0.25rem' }}>\n                            Mkk smazn (SOFT DELETE)\n                          </div>\n                          <div style={{ fontSize: '0.875rem', color: '#64748b' }}>\n                            Objednvky budou oznaeny jako neaktivn. Lze pozdji obnovit.\n                          </div>\n                        </div>\n                      </label>\n\n                      <label style={{\n                        display: 'flex',\n                        alignItems: 'flex-start',\n                        gap: '0.75rem',\n                        cursor: 'pointer',\n                        padding: '0.75rem',\n                        border: `2px solid ${bulkDeleteType === 'hard' ? '#dc2626' : '#e2e8f0'}`,\n                        borderRadius: '6px',\n                        background: bulkDeleteType === 'hard' ? '#fef2f2' : 'white',\n                        transition: 'all 0.2s'\n                      }}>\n                        <input\n                          type=\"radio\"\n                          name=\"deleteType\"\n                          value=\"hard\"\n                          checked={bulkDeleteType === 'hard'}\n                          onChange={(e) => setBulkDeleteType(e.target.value)}\n                          style={{ marginTop: '0.25rem', accentColor: '#dc2626', cursor: 'pointer' }}\n                        />\n                        <div>\n                          <div style={{ fontWeight: '600', color: '#991b1b', marginBottom: '0.25rem' }}>\n                             pln smazn (HARD DELETE)\n                          </div>\n                          <div style={{ fontSize: '0.875rem', color: '#991b1b' }}>\n                            <strong>NEVRATN!</strong> Smae ve vetn poloek, ploh a historie.\n                          </div>\n                        </div>\n                      </label>\n                    </div>\n                  </div>\n                </>\n              ) : (\n                <div style={{\n                  background: '#fef3c7',\n                  border: '2px solid #fcd34d',\n                  borderRadius: '8px',\n                  padding: '1rem'\n                }}>\n                  <h4 style={{ margin: '0 0 0.75rem 0', color: '#92400e' }}>\n                     Mkk smazn (SOFT DELETE)\n                  </h4>\n                  <p style={{ margin: 0, color: '#92400e', fontSize: '0.95rem' }}>\n                    Objednvky budou pouze <strong>oznaeny jako neaktivn</strong>.\n                    Administrtor je me pozdji obnovit.\n                  </p>\n                </div>\n              )}\n            </div>\n\n            {/* PRAV SLOUPEC - Seznam objednvek */}\n            <div style={{\n              background: '#f8fafc',\n              border: '2px solid #cbd5e1',\n              borderRadius: '8px',\n              padding: '1rem'\n            }}>\n              <h4 style={{ margin: '0 0 0.75rem 0', color: '#475569' }}>\n                 Seznam objednvek ke smazn:\n              </h4>\n              <div style={{ margin: 0, color: '#475569', maxHeight: '300px', overflowY: 'auto' }}>\n                {bulkDeleteOrders.map(order => (\n                  <div key={order.id} style={{\n                    marginBottom: '0.75rem',\n                    padding: '0.5rem',\n                    background: 'white',\n                    borderRadius: '6px',\n                    border: '1px solid #e2e8f0'\n                  }}>\n                    <div style={{ fontSize: '1rem', fontWeight: '700', color: '#1f2937', marginBottom: '0.25rem' }}>\n                      #{order.cislo_objednavky}\n                    </div>\n                    <div style={{ fontSize: '0.8rem', color: '#64748b' }}>\n                      {order.predmet || order.nazev || 'Bez nzvu'}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </ConfirmDialog>\n      )}\n      </PageContent>\n      </Container>\n\n      {/*  Export Preview Modal */}\n      {showExportPreview && exportPreviewData && (\n        <ExportPreviewOverlay>\n          <ExportPreviewDialog>\n            <ExportPreviewHeader>\n              <ExportPreviewTitle>\n                <FontAwesomeIcon icon={faFileExport} />\n                Nhled exportu CSV\n              </ExportPreviewTitle>\n              <ExportPreviewCloseButton onClick={() => setShowExportPreview(false)}>\n                <FontAwesomeIcon icon={faTimes} />\n              </ExportPreviewCloseButton>\n            </ExportPreviewHeader>\n\n            <ExportPreviewContent>\n              {/* Informan karty */}\n              <ExportInfoGrid>\n                <ExportInfoCard>\n                  <ExportInfoLabel>Poet zznam</ExportInfoLabel>\n                  <ExportInfoValue>\n                    <FontAwesomeIcon icon={faDatabase} />\n                    {exportPreviewData.rowCount}\n                  </ExportInfoValue>\n                </ExportInfoCard>\n                <ExportInfoCard>\n                  <ExportInfoLabel>Poet sloupc</ExportInfoLabel>\n                  <ExportInfoValue>\n                    <FontAwesomeIcon icon={faTableColumns} />\n                    {exportPreviewData.columnCount}\n                  </ExportInfoValue>\n                </ExportInfoCard>\n                <ExportInfoCard>\n                  <ExportInfoLabel>Oddlova sloupc</ExportInfoLabel>\n                  <ExportInfoValue>\n                    <FontAwesomeIcon icon={faListCheck} />\n                    {exportPreviewData.separatorName}\n                  </ExportInfoValue>\n                </ExportInfoCard>\n                <ExportInfoCard>\n                  <ExportInfoLabel>Oddlova multiline</ExportInfoLabel>\n                  <ExportInfoValue>\n                    <FontAwesomeIcon icon={faListCheck} />\n                    {exportPreviewData.multilineSeparatorName}\n                  </ExportInfoValue>\n                </ExportInfoCard>\n                <ExportInfoCard>\n                  <ExportInfoLabel>Aktivn filtry</ExportInfoLabel>\n                  <ExportInfoValue>\n                    <FontAwesomeIcon icon={faFilter} />\n                    {(() => {\n                      let filterCount = 0;\n                      if (globalFilter) filterCount++;\n                      if (selectedYear !== new Date().getFullYear()) filterCount++;\n                      if (selectedMonth !== 'all') filterCount++;\n                      if (statusFilter && statusFilter.length > 0) filterCount++;\n                      if (selectedObjednatel && selectedObjednatel.length > 0) filterCount++;\n                      if (selectedGarant && selectedGarant.length > 0) filterCount++;\n                      if (selectedSchvalovatel && selectedSchvalovatel.length > 0) filterCount++;\n                      if (selectedPrikazce && selectedPrikazce.length > 0) filterCount++;\n                      if (dateFromFilter || dateToFilter) filterCount++;\n                      if (amountFromFilter || amountToFilter) filterCount++;\n                      return filterCount || 'dn';\n                    })()}\n                  </ExportInfoValue>\n                </ExportInfoCard>\n              </ExportInfoGrid>\n\n              {/* Nhled prvnch 5 dk */}\n              <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#1f2937', marginBottom: '1rem' }}>\n                Nhled prvnch 5 dk\n              </h3>\n              <div style={{ overflowX: 'auto', maxWidth: '100%' }}>\n              <ExportPreviewTable>\n                <ExportPreviewTableHeader>\n                  {Object.keys(exportPreviewData.data[0] || {}).map((column, idx) => {\n                    // Vypotej maximln ku sloupce (hlavika + vechny hodnoty)\n                    const headerLength = column.length;\n                    const maxValueLength = Math.max(\n                      ...exportPreviewData.data.slice(0, 5).map(row => \n                        String(row[column] || '').length\n                      )\n                    );\n                    const maxLength = Math.max(headerLength, maxValueLength);\n                    // Min 100px, max 400px, 8px na znak (prmrn ka)\n                    const width = Math.min(Math.max(maxLength * 8 + 32, 100), 400);\n                    \n                    return (\n                      <ExportPreviewTableHeaderCell key={idx} style={{ width: `${width}px`, minWidth: `${width}px` }}>\n                        {column}\n                      </ExportPreviewTableHeaderCell>\n                    );\n                  })}\n                </ExportPreviewTableHeader>\n                {exportPreviewData.data.slice(0, 5).map((row, rowIdx) => (\n                  <ExportPreviewTableRow key={rowIdx}>\n                    {Object.entries(row).map(([column, value], cellIdx) => {\n                      // Stejn vpoet ky jako u hlaviky\n                      const headerLength = column.length;\n                      const maxValueLength = Math.max(\n                        ...exportPreviewData.data.slice(0, 5).map(r => \n                          String(r[column] || '').length\n                        )\n                      );\n                      const maxLength = Math.max(headerLength, maxValueLength);\n                      const width = Math.min(Math.max(maxLength * 8 + 32, 100), 400);\n                      \n                      return (\n                        <ExportPreviewTableCell key={cellIdx} style={{ width: `${width}px`, minWidth: `${width}px` }} title={value}>\n                          {value}\n                        </ExportPreviewTableCell>\n                      );\n                    })}\n                  </ExportPreviewTableRow>\n                ))}\n              </ExportPreviewTable>\n              </div>\n            </ExportPreviewContent>\n\n            <ExportPreviewFooter>\n              <ExportPreviewNote>\n                <FontAwesomeIcon icon={faInfoCircle} />\n                Export bude obsahovat pouze {exportPreviewData.rowCount} vyfiltrovanch objednvek\n              </ExportPreviewNote>\n              <ExportPreviewActions>\n                <ExportPreviewButton \n                  $variant=\"cancel\" \n                  onClick={() => setShowExportPreview(false)}\n                >\n                  <FontAwesomeIcon icon={faTimes} />\n                  Zruit\n                </ExportPreviewButton>\n                <ExportPreviewButton \n                  $variant=\"confirm\" \n                  onClick={handleConfirmExport}\n                >\n                  <FontAwesomeIcon icon={faDownload} />\n                  Sthnout CSV\n                </ExportPreviewButton>\n              </ExportPreviewActions>\n            </ExportPreviewFooter>\n          </ExportPreviewDialog>\n        </ExportPreviewOverlay>\n      )}\n\n      {/* Modern Sponka helper - kontextov npovda pro seznam objednvek */}\n      {hasPermission('HELPER_VIEW') && <ModernHelper pageContext=\"orders\" />}\n    </>\n  );\n};\n\nexport default Orders25List;","/**\n * Pekld anglick error messages do etiny\n * @param {string} errorMessage - Pvodn error message\n * @returns {string} - Peloen error message\n */\nexport function translateErrorMessage(errorMessage) {\n  if (!errorMessage || typeof errorMessage !== 'string') {\n    return errorMessage || 'Neznm chyba';\n  }\n\n  // Pekldme timeout chyby\n  if (errorMessage.includes('timeout') && errorMessage.includes('exceeded')) {\n    const match = errorMessage.match(/timeout of (\\d+)ms exceeded/);\n    if (match) {\n      const timeoutMs = match[1];\n      const timeoutSec = Math.round(timeoutMs / 1000);\n      return `Pekroen asov limit ${timeoutSec}s - server neodpovdl vas`;\n    } else {\n      return 'Pekroen asov limit - server neodpovdl vas';\n    }\n  }\n\n  // Pekldme dal bn axios/network chyby\n  if (errorMessage.includes('Network Error')) {\n    return 'Chyba st - zkontrolujte internetov pipojen';\n  }\n\n  if (errorMessage.includes('Request failed with status code 500')) {\n    return 'Chyba serveru (kd 500) - zkuste to znovu pozdji';\n  }\n\n  if (errorMessage.includes('Request failed with status code 404')) {\n    return 'Poadovan zdroj nebyl nalezen (kd 404)';\n  }\n\n  if (errorMessage.includes('Request failed with status code 403')) {\n    return 'Nemte oprvnn k tto operaci (kd 403)';\n  }\n\n  if (errorMessage.includes('Request failed with status code 401')) {\n    return 'Neautorizovan pstup - zkuste se znovu pihlsit (kd 401)';\n  }\n\n  if (errorMessage.includes('ECONNREFUSED') || errorMessage.includes('connection refused')) {\n    return 'Nelze se pipojit k serveru - server je pravdpodobn nedostupn';\n  }\n\n  if (errorMessage.includes('ENOTFOUND') || errorMessage.includes('getaddrinfo ENOTFOUND')) {\n    return 'Server nenalezen - zkontrolujte adresu serveru';\n  }\n\n  // Pokud nen rozpoznan chyba, vra pvodn message\n  return errorMessage;\n}\n\n/**\n * Zkrcen verze pro timeout chyby bez dodatenho textu\n * @param {string} errorMessage - Pvodn error message\n * @returns {string} - Peloen error message (krat verze)\n */\nexport function translateErrorMessageShort(errorMessage) {\n  if (!errorMessage || typeof errorMessage !== 'string') {\n    return errorMessage || 'Neznm chyba';\n  }\n\n  // Pekldme timeout chyby\n  if (errorMessage.includes('timeout') && errorMessage.includes('exceeded')) {\n    const match = errorMessage.match(/timeout of (\\d+)ms exceeded/);\n    if (match) {\n      const timeoutMs = match[1];\n      const timeoutSec = Math.round(timeoutMs / 1000);\n      return `Pekroen asov limit ${timeoutSec}s`;\n    } else {\n      return 'Pekroen asov limit';\n    }\n  }\n\n  // Pro ostatn chyby pouij plnou funkci\n  return translateErrorMessage(errorMessage);\n}","/**\n * Utility funkce pro prci s textem\n */\n\n/**\n * Odstran diakritiku z textu (esk hky a rky)\n * Uiten pro vyhledvn bez ohledu na diakritiku\n *\n * @param {string} text - Text k normalizaci\n * @returns {string} Text bez diakritiky v lowercase\n *\n * @example\n * removeDiacritics('Pli luouk k')\n * // returns 'prilis zlutoucky kun'\n */\nexport const removeDiacritics = (text) => {\n  if (!text) return '';\n  return text\n    .toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, ''); // Odstran diakritick znaky\n};\n\n/**\n * Formtuje jmno uivatele vetn titul\n *\n * @param {object} user - Objekt uivatele s fields: titul_pred, jmeno, prijmeni, titul_za\n * @returns {string} Formtovan cel jmno s tituly\n *\n * @example\n * formatUserDisplayName({ titul_pred: 'Ing.', jmeno: 'Jan', prijmeni: 'Novk', titul_za: 'Ph.D.' })\n * // returns 'Ing. Jan Novk, Ph.D.'\n */\nexport const formatUserDisplayName = (user) => {\n  if (!user) return '';\n\n  const { titul_pred, jmeno, prijmeni, titul_za } = user;\n\n  // Sprvn poad: Titul ped + Jmno + Pjmen + Titul za\n  const titul_pred_str = titul_pred ? titul_pred + ' ' : '';\n  const jmeno_str = jmeno || '';\n  const prijmeni_str = prijmeni || '';\n  const titul_za_str = titul_za ? ', ' + titul_za : '';\n\n  return `${titul_pred_str}${jmeno_str} ${prijmeni_str}${titul_za_str}`\n    .replace(/\\s+/g, ' ')\n    .trim();\n};\n\n/**\n * Zsk zobraziteln jmno uivatele z ID nebo enriched objektu\n *\n * @param {number|string} userId - ID uivatele\n * @param {object} enrichedUser - Enriched objekt uivatele (s tituly)\n * @param {object} usersMap - Mapa uivatel (userId -> user data)\n * @returns {string} Zobraziteln jmno nebo 'Neznm'\n */\nexport const getUserDisplayName = (userId, enrichedUser = null, usersMap = {}) => {\n  if (enrichedUser) {\n    return formatUserDisplayName(enrichedUser);\n  }\n\n  if (userId && usersMap[userId]) {\n    // Pokud mme objekt s displayName, pouij ho\n    if (typeof usersMap[userId] === 'object' && usersMap[userId].displayName) {\n      return usersMap[userId].displayName;\n    }\n    // Pokud je to star formt (pouze string), pouij ho\n    if (typeof usersMap[userId] === 'string') {\n      return usersMap[userId];\n    }\n  }\n\n  return 'Neznm';\n};\n","/**\n *  CENTRALIZED ICON MAPPING\n *\n * Tento modul poskytuje jednotnou logiku pro mapovn stav objednvek,\n * notifikac a dalch entit na FontAwesome ikony.\n *\n * Vechny komponenty by mly pouvat tyto funkce msto vlastnch implementac,\n * aby byla zachovna konzistence nap celou aplikac.\n */\n\nimport {\n  faPlay, faHourglassHalf, faCheckCircle, faBan, faClock,\n  faTruck, faShield, faFileContract, faStop, faPause,\n  faTimesCircle, faArchive, faInfoCircle, faExclamationCircle,\n  faBell, faExclamationTriangle, faBolt, faBullseye\n} from '@fortawesome/free-solid-svg-icons';\n\n/**\n * Mapovn stav objednvek na FontAwesome ikony\n *\n * @param {string} status - Stav objednvky (nap. 'nova', 'schvalena', 'odeslana')\n * @returns {object} FontAwesome ikona\n */\nexport const getStatusIcon = (status) => {\n  // Normalizace: odstrann diakritiky a pevod na lowercase\n  const normalizedStatus = status?.toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, ''); // Odstrann diakritiky\n\n  switch (normalizedStatus) {\n    // Zkladn stavy\n    case 'nova':\n      return faPlay;\n    case 'ke_schvaleni':\n    case 'keSchvaleni':\n      return faHourglassHalf;\n    case 'schvalena':\n      return faCheckCircle;\n    case 'zamitnuta':\n      return faTimesCircle;\n    case 'rozpracovana':\n      return faClock;\n\n    // Pracovn stavy\n    case 'odeslana':\n      return faTruck;\n    case 'potvrzena':\n      return faShield;\n    case 'uverejnena':\n    case 'registr_zverejnena':\n    case 'registrzverejnena':\n      return faFileContract;\n    case 'dokoncena':\n      return faBullseye; // Pouv se v tabulce, kompaktn reim m pmo emoji\n    case 'ceka_potvrzeni':\n    case 'cekaPotvrzeni':\n    case 'ceka_se':\n    case 'cekaSe':\n      return faPause;\n    case 'zrusena':\n      return faTimesCircle;\n    case 'archivovano':\n    case 'archivovana':\n      return faArchive;\n\n    // Kontroln stavy\n    case 'kontrola_ceka':\n    case 'cekaKontrola':\n      return faClock;\n    case 'kontrola_potvrzena':\n    case 'vecnaSpravnost':\n    case 'vecna_spravnost':\n      return faCheckCircle;\n\n    // Vchoz ikona pro neznm stavy\n    default:\n      return faInfoCircle;\n  }\n};\n\n/**\n * Mapovn typ notifikac na FontAwesome ikony\n *\n * Pro notifikace souvisejc s objednvkami se pouije ikona podle stavu.\n * Pro ostatn notifikace jsou definovny specifick ikony.\n *\n * @param {string} notificationType - Typ notifikace (nap. 'order_status_nova', 'todo_alarm')\n * @param {string} priority - Priorita notifikace ('low', 'normal', 'high', 'urgent')\n * @returns {object} FontAwesome ikona\n */\nexport const getNotificationIcon = (notificationType, priority = 'normal') => {\n  // Pokud je to notifikace o zmn stavu objednvky, pouij ikonu podle stavu\n  if (notificationType?.startsWith('order_status_')) {\n    const status = notificationType.replace('order_status_', '');\n    return getStatusIcon(status);\n  }\n\n  // Specifick typy notifikac\n  switch (notificationType) {\n    // TODO alarmy\n    case 'todo_alarm':\n      return faBell;\n    case 'todo_alarm_high':\n      return faExclamationTriangle;\n    case 'todo_alarm_expired':\n      return faExclamationCircle;\n\n    // Force unlock\n    case 'order_unlock_forced':\n      return faBolt;\n\n    // Obecn notifikace (deprecated, ale ponechno pro zptnou kompatibilitu)\n    case 'order_approved':\n      return faCheckCircle;\n    case 'order_rejected':\n      return faBan;\n    case 'order_created':\n      return faPlay;\n\n    // Vchoz podle priority\n    default:\n      return getPriorityIcon(priority);\n  }\n};\n\n/**\n * Zskn ikony podle priority notifikace\n *\n * @param {string} priority - Priorita ('low', 'normal', 'high', 'urgent')\n * @returns {object} FontAwesome ikona\n */\nexport const getPriorityIcon = (priority) => {\n  switch (priority) {\n    case 'urgent':\n    case 'high':\n      return faExclamationCircle;\n    case 'normal':\n      return faBell;\n    case 'low':\n    default:\n      return faInfoCircle;\n  }\n};\n\n/**\n * Helper funkce: Extrahuje stav objednvky z typu notifikace\n *\n * @param {string} notificationType - Typ notifikace (nap. 'order_status_schvalena')\n * @returns {string|null} Stav objednvky nebo null\n */\nexport const extractOrderStatusFromNotificationType = (notificationType) => {\n  if (!notificationType?.startsWith('order_status_')) {\n    return null;\n  }\n  return notificationType.replace('order_status_', '');\n};\n\n/**\n *  Mapovn typ notifikac na EMOJI ikony\n *\n * Pro notifikace souvisejc s objednvkami se pouije emoji podle stavu.\n * Pro ostatn notifikace jsou definovny specifick emoji.\n *\n * @param {string} notificationType - Typ notifikace (nap. 'order_status_nova', 'todo_alarm')\n * @param {string} priority - Priorita notifikace ('low', 'normal', 'high', 'urgent')\n * @returns {string} Emoji ikona\n */\nexport const getNotificationEmoji = (notificationType, priority = 'normal') => {\n  // Pokud je to notifikace o zmn stavu objednvky, pouij emoji podle stavu\n  if (notificationType?.startsWith('order_status_')) {\n    const status = notificationType.replace('order_status_', '');\n    return getStatusEmoji(status);\n  }\n\n  // Specifick typy notifikac\n  switch (notificationType) {\n    // TODO alarmy\n    case 'todo_alarm':\n      return '';\n    case 'todo_alarm_high':\n      return '';\n    case 'todo_alarm_expired':\n      return '';\n\n    // Force unlock\n    case 'order_unlock_forced':\n      return '';\n\n    // Obecn notifikace (deprecated, ale ponechno pro zptnou kompatibilitu)\n    case 'order_approved':\n      return '';\n    case 'order_rejected':\n      return '';\n    case 'order_created':\n      return '';\n\n    // Vchoz podle priority\n    default:\n      return getPriorityEmoji(priority);\n  }\n};\n\n/**\n *  Zskn emoji podle priority notifikace\n *\n * @param {string} priority - Priorita ('low', 'normal', 'high', 'urgent')\n * @returns {string} Emoji ikona\n */\nexport const getPriorityEmoji = (priority) => {\n  switch (priority) {\n    case 'urgent':\n      return '';\n    case 'high':\n      return '';\n    case 'normal':\n      return '';\n    case 'low':\n    default:\n      return '';\n  }\n};\n\n/**\n *  Helper funkce pro emoji ikony stav (pro pouit v notifikacch)\n *\n * @param {string} status - Stav objednvky\n * @returns {string} Emoji ikona\n */\nexport const getStatusEmoji = (status) => {\n  const normalizedStatus = status?.toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, ''); // Odstrann diakritiky\n\n  switch (normalizedStatus) {\n    case 'nova':\n    case 'koncept':\n      return '';\n    case 'ke_schvaleni':\n    case 'keschvaleni':\n      return '';\n    case 'schvalena':\n      return '';\n    case 'zamitnuta':\n      return '';\n    case 'rozpracovana':\n      return '';\n    case 'odeslana':\n      return '';\n    case 'potvrzena':\n      return '';\n    case 'uverejnena':\n    case 'registr_zverejnena':\n    case 'registrzverejnena':\n      return '';\n    case 'dokoncena':\n      return '';\n    case 'ceka_potvrzeni':\n    case 'cekapotvrzeni':\n      return '';\n    case 'ceka_se':\n    case 'cekase':\n      return '';\n    case 'zrusena':\n      return '';\n    case 'smazana':\n      return '';\n    case 'archivovano':\n    case 'archivovana':\n      return '';\n    case 'ceka_kontrola':\n    case 'cekakontrola':\n      return '';\n    case 'vecna_spravnost':\n    case 'vecnaspravnost':\n      return '';\n    default:\n      return '';\n  }\n};\n\n"],"names":["TooltipWrapper","styled","div","_templateObject","_taggedTemplateLiteral","Tooltip","_templateObject2","props","$visible","$position","$multiline","_templateObject3","X","createLucideIcon","d","key","STATUS_COLORS","NOVA","dark","light","KE_SCHVALENI","SCHVALENA","ZAMITNUTA","ROZPRACOVANA","ODESLANA","POTVRZENA","K_UVEREJNENI_DO_REGISTRU","UVEREJNENA","CEKA_POTVRZENI","CEKA_SE","VECNA_SPRAVNOST","DOKONCENA","ZRUSENA","SMAZANA","ARCHIVOVANO","TOTAL","COUNT","WITH_INVOICES","WITH_ATTACHMENTS","getStatusColor","stav","statusCode","kod","status_kod","filterByMaxPrice","order","filterValue","compareNumericValue","value","operatorMatch","trim","match","operator","numStr","replace","filterNum","parseFloat","isNaN","Math","abs","toLocaleString","includes","max_cena_s_dph","filterByUserRole","role","getUserDisplayName","trimmedValue","test","userId","getUserId","_enriched$garant_uziv","_order$garant","_enriched$prikazce_uz","_order$prikazce","_enriched$schvalovate","_order$schvalovatel","enriched","_enriched","garant_uzivatel","id","String","garant","garant_uzivatel_id","prikazce_uzivatel","prikazce","prikazce_id","schvalovatel_uzivatel","schvalovatel","schvalovatel_id","split","map","userName","getUserName","_order$garant2","_order$garant3","_order$prikazce2","_order$prikazce3","_order$schvalovatel2","_order$schvalovatel3","jmeno","prijmeni","gar","titul_pred_str","titul_pred","titul_za_str","titul_za","concat","pri","sch","removeDiacritics","toLowerCase","applyColumnFilters","columnFilters","getOrderDate","getOrderDisplayStatus","filterByOrderDate","orderDateValue","formatDateOnly","Date","dt_objednavky","filterByOrderNumber","cislo_objednavky","filterBySubject","predmet","filterByObjednatel","_enriched$uzivatel","_order$objednatel_uzi","_order$objednatel","objednatelId","uzivatel","objednatel_uzivatel","objednatel","uzivatel_id","objednatel_id","name","cele_jmeno","obj","username","normalizedText","normalizedFilter","filterByStatus","stav_objednavky","filterByDodavatel","searchableText","dodavatel_nazev","dodavatel_ico","dodavatel_ulice","dodavatel_mesto","dodavatel_psc","dodavatel_kontakt_email","dodavatel_kontakt_telefon","dodavatel_kontakt_jmeno","join","getGarantNameForSearch","getSchvalovatelNameForSearch","MenuContainer","MenuItem","button","danger","success","MenuDivider","MenuLabel","span","_templateObject4","OrderContextMenu","_ref","x","y","onClose","onAddToTodo","onAddAlarm","onEdit","onDelete","onGenerateDocx","onGenerateFinancialControl","canDelete","selectedData","menuRef","useRef","hasClipboardData","setHasClipboardData","useState","clipboardData","setClipboardData","menuPosition","setMenuPosition","left","top","isPositioned","setIsPositioned","canGenerateDocx","allowedStates","workflowStates","aktualniStav","nazevStavu","stav_workflow_kod","Array","isArray","JSON","parse","length","lastState","kod_stavu","nazev_stavu","stav_id_num","stav_id","status_name","error","some","state","stavCode","toUpperCase","canGenerateFinancialControl","normalizedStav","console","useEffect","current","menuRect","getBoundingClientRect","viewportWidth","window","innerWidth","viewportHeight","innerHeight","width","height","async","navigator","clipboard","readText","text","data","_unused","localData","localStorage","getItem","_unused2","checkClipboard","handleCopy","dataToCopy","description","substring","stringify","textToCopy","writeText","textArea","document","createElement","body","appendChild","select","execCommand","removeChild","clipboardInfo","type","timestamp","now","setItem","handleCut","cutData","action","orderId","handlePaste","_unused3","alert","handleClickOutside","e","contains","target","handleKeyDown","ctrlKey","metaKey","preventDefault","setTimeout","addEventListener","removeEventListener","ReactDOM","_jsxs","ref","style","opacity","pointerEvents","children","onClick","title","_jsx","FontAwesomeIcon","icon","faCut","faCopy","disabled","faPaste","faClipboardList","faBell","faEdit","faTrash","faFileWord","faFileInvoice","faTimes","DocxGeneratorModal","lazy","then","m","default","FinancialControlModal","Container","PageHeader","ActionBar","h1","ActionButton","_templateObject5","$primary","mapUserStatusToSystemCode","userStatus","getStatusEmoji","status","normalize","DashboardPanel","_templateObject6","DashboardGrid","_templateObject7","LargeStatCard","_templateObject8","$color","StatCard","_templateObject9","$isActive","$clickable","StatValue","_templateObject0","StatLabel","_templateObject1","StatHeader","_templateObject10","StatIcon","_templateObject11","LargeStatValue","_templateObject12","LargeStatLabel","_templateObject13","SummaryRow","_templateObject14","SummaryItem","_templateObject15","$bg","SummaryLabel","_templateObject16","SummaryValue","_templateObject17","YearFilterPanel","_templateObject18","YearFilterLeft","_templateObject19","YearFilterTitle","h2","_templateObject20","CacheStatusIconWrapper","_templateObject21","HintText","_templateObject22","CacheStatusIcon","_templateObject23","fromCache","YearFilterLabel","label","_templateObject24","RefreshIconButton","_templateObject25","isBackgroundActive","RefreshTimeLabel","_templateObject26","MonthFilterLabel","_templateObject27","MonthDropdownContainer","_templateObject28","_templateObject29","_templateObject30","YearDropdownContainer","_templateObject31","MonthDropdownButton","_templateObject32","MonthDropdownMenu","_templateObject33","MonthDropdownItem","_templateObject34","separator","FiltersPanel","_templateObject35","FiltersHeader","_templateObject36","FiltersGrid","_templateObject37","FilterGroup","_templateObject38","_templateObject39","FilterLabel","_templateObject40","FilterLabelLeft","_templateObject41","FilterClearButton","_templateObject42","visible","FilterInputWithIcon","_templateObject43","ClearButton","_templateObject44","FilterInput","input","_templateObject45","hasIcon","PriceRangeGroup","_templateObject46","_templateObject47","_templateObject48","PriceRangeInputs","_templateObject49","PriceInputWrapper","_templateObject50","PriceSeparator","_templateObject51","DateRangeGroup","_templateObject52","DateRangeInputs","_templateObject53","DateInputWrapper","_templateObject54","DateSeparator","_templateObject55","ColumnFilterWrapper","_templateObject56","ColumnClearButton","_templateObject57","ColumnFilterInput","_templateObject58","ActionBadge","_templateObject59","FilterActionButton","_templateObject60","EmptyState","_templateObject61","EmptyStateIcon","_templateObject62","EmptyStateTitle","h3","_templateObject63","EmptyStateText","p","_templateObject64","TableScrollWrapper","_templateObject65","$showLeftShadow","$showRightShadow","TableContainer","_templateObject66","ScrollArrowLeft","_templateObject67","$arrowHovered","$tableHovered","ScrollArrowRight","_templateObject68","Table","table","_templateObject69","TableHead","thead","_templateObject70","TableRow","tr","_templateObject71","$isDraft","$hasLocalChanges","$showHighlighting","$order","bgColor","isDraft","je_koncept","systemStatus","_ref2","_ref3","_order$stav_id_num","status_id","statusColors","toString","endsWith","getRowBackgroundColor","_props$$order","_props$$order2","_ref4","_ref5","_ref6","_props$$order$stav_id","_props$$order3","_props$$order4","_props$$order5","_props$$order6","$isHighlighted","highlightPulse","TableHeader","th","_templateObject72","TableCell","td","_templateObject73","ExpandButton","_templateObject74","ExpandedContent","_templateObject75","$showRowHighlighting","_props$$order7","_props$$order8","_unused4","_ref7","_ref8","_ref9","_props$$order$stav_id2","_props$$order9","_props$$order0","_props$$order1","_props$$order10","color","arguments","undefined","startsWith","r","parseInt","slice","g","b","getLighterColor","_props$$order11","_props$$order12","_unused5","_ref0","_ref1","_ref10","_props$$order$stav_id3","_props$$order13","_props$$order14","_props$$order15","_props$$order16","ExpandedGrid","_templateObject76","ThreeColumnLayout","_templateObject77","SupplierColumn","_templateObject78","MiddleColumn","_templateObject79","AttachmentsColumn","_templateObject80","InfoCard","_templateObject81","_templateObject82","_templateObject83","_templateObject84","_props$$order17","_props$$order18","_unused6","_ref11","_ref12","_ref13","_props$$order$stav_id4","_props$$order19","_props$$order20","_props$$order21","_props$$order22","InfoCardTitle","h4","_templateObject85","ListItemCard","_templateObject86","ListItemHeader","_templateObject87","ListItemTitle","_templateObject88","ListItemBadge","_templateObject89","$success","$warning","ListItemMeta","_templateObject90","ListItemMetaItem","_templateObject91","AttachmentItem","_templateObject92","_templateObject93","AttachmentName","_templateObject94","AttachmentSize","_templateObject95","InfoRow","_templateObject96","_templateObject97","$progress","_templateObject98","_templateObject99","InfoLabel","_templateObject100","InfoValue","_templateObject101","PaginationContainer","_templateObject102","PaginationInfo","_templateObject103","PaginationControls","_templateObject104","PageButton","_templateObject105","PageSizeSelect","_templateObject106","StatusBadge","_templateObject107","$isInEditRow","$status","ActionMenu","_templateObject108","ActionMenuButton","_templateObject109","DebugPanel","_templateObject110","DebugHeader","_templateObject111","DebugTitle","_templateObject112","DebugContent","_templateObject113","DebugSection","_templateObject114","DebugLabel","_templateObject115","DebugValue","pre","_templateObject116","LoadingOverlay","_templateObject117","LoadingSpinner","_templateObject118","LoadingMessage","_templateObject119","LoadingSubtext","_templateObject120","PageContent","_templateObject121","$blurred","UserInfo","_templateObject122","InfoText","_templateObject123","WarningText","_templateObject124","ContactInfo","_templateObject125","ContactItem","_templateObject126","ContactLabel","_templateObject127","ExportPreviewOverlay","_templateObject128","ExportPreviewDialog","_templateObject129","ExportPreviewHeader","_templateObject130","ExportPreviewTitle","_templateObject131","ExportPreviewCloseButton","_templateObject132","ExportPreviewContent","_templateObject133","ExportInfoGrid","_templateObject134","ExportInfoCard","_templateObject135","ExportInfoLabel","_templateObject136","ExportInfoValue","_templateObject137","ExportPreviewTable","_templateObject138","ExportPreviewTableHeader","_templateObject139","ExportPreviewTableHeaderCell","_templateObject140","ExportPreviewTableRow","_templateObject141","ExportPreviewTableCell","_templateObject142","ExportPreviewFooter","_templateObject143","ExportPreviewNote","_templateObject144","ExportPreviewActions","_templateObject145","ExportPreviewButton","_templateObject146","$variant","BulkDocxOverlay","_templateObject147","BulkDocxDialog","_templateObject148","BulkDocxHeader","_templateObject149","BulkDocxTitle","_templateObject150","BulkDocxBody","_templateObject151","BulkDocxOrderItem","_templateObject152","BulkDocxOrderHeader","_templateObject153","BulkDocxOrderNumber","_templateObject154","BulkDocxOrderInfo","_templateObject155","BulkDocxSignerSelect","_templateObject156","BulkDocxSignerLabel","_templateObject157","BulkDocxFooter","_templateObject158","BulkDocxSummary","_templateObject159","BulkDocxActions","_templateObject160","BulkDocxButton","_templateObject161","LockTimeInfo","_templateObject162","ForceUnlockWarningOverlay","_templateObject163","ForceUnlockWarningDialog","_templateObject164","ForceUnlockWarningHeader","_templateObject165","ForceUnlockWarningIcon","_templateObject166","ForceUnlockWarningTitle","_templateObject167","ForceUnlockWarningContent","_templateObject168","ForceUnlockWarningMessage","_templateObject169","ForceUnlockWarningDetails","_templateObject170","ForceUnlockWarningDetailRow","_templateObject171","ForceUnlockWarningDetailLabel","_templateObject172","ForceUnlockWarningDetailValue","_templateObject173","ForceUnlockWarningActions","_templateObject174","ForceUnlockWarningButton","_templateObject175","MultiSelectLocal","_ref14","field","onChange","options","placeholder","isOpen","setIsOpen","React","searchTerm","setSearchTerm","dropdownRef","searchInputRef","event","requestAnimationFrame","_searchInputRef$curre","focus","valueSet","arr","Set","v","filteredOptions","search","filter","opt","displayName","nazev","getDisplayValue","find","o","handleToggle","optValue","currentValue","fakeEvent","selected","handleMainClick","stopPropagation","prev","handleItemClick","position","padding","border","borderRadius","fontSize","background","cursor","display","alignItems","justifyContent","fontWeight","right","transform","transition","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","marginTop","zIndex","boxShadow","flexDirection","maxHeight","borderBottom","faSearch","outline","onFocus","borderColor","onBlur","overflowY","textAlign","idx","optLabel","isSelected","has","gap","onMouseEnter","currentTarget","onMouseLeave","checked","readOnly","accentColor","bottom","DatePicker","_ref15","currentMonth","setCurrentMonth","openUpwards","setOpenUpwards","wrapperRef","selectedDate","date","getTime","checkPosition","buttonRect","spaceBelow","spaceAbove","handleDateSelect","year","getFullYear","month","getMonth","padStart","day","getDate","formatInputDate","handleToday","handleClear","today","calendarDays","getCalendarDays","firstDay","lastDay","days","i","getDay","push","isOtherMonth","remainingDays","displayText","toLocaleDateString","_unused7","formatDisplayDate","DatePickerWrapper","InputWithIcon","Calendar","size","DateInputButton","hasValue","DateClearButton","DateTodayButton","DateCalendarPopup","CalendarHeader","CalendarNav","CalendarTitle","CalendarGrid","CalendarDay","index","isToday","toDateString","CalendarDate","CalendarFooter","CalendarButton","className","_templateObject176","_templateObject177","_templateObject178","_templateObject179","_templateObject180","_templateObject181","_templateObject182","_templateObject183","_templateObject184","_templateObject185","_templateObject186","_templateObject187","_templateObject188","_templateObject189","Orders25List","_location$state2","_apiMeta$admin_analys","_apiTestData$filterSt","_apiTestData$filterSt2","_apiTestData$filterSt3","_apiTestData$filterSt4","_apiTestData$filterSt5","_userDetail$roles3","_userDetail$roles4","_userDetail$roles5","_table$getHeaderGroup","navigate","useNavigate","location","useLocation","user","token","hasPermission","hasAdminRole","user_id","userDetail","userPermissions","expandedPermissions","useContext","AuthContext","setProgress","ProgressContext","setDebugInfo","DebugContext","showToast","ToastContext","hierarchyConfig","setHierarchyConfig","currentUserId","useMemo","getUserKey","baseKey","getUserStorage","defaultValue","saved","_unused8","setUserStorage","bgTasksContext","useBackgroundTasks","permissions","canViewAll","hasOnlyOwn","permissionsRef","getHierarchyConfig","config","log","enabled","profileId","profileName","message","loadHierarchy","orders","setOrders","loading","setLoading","setError","users","setUsers","usersRef","apiMeta","setApiMeta","showLeftArrow","setShowLeftArrow","showRightArrow","setShowRightArrow","showLeftShadow","setShowLeftShadow","showRightShadow","setShowRightShadow","isTableHovered","setIsTableHovered","isArrowHovered","setIsArrowHovered","tableContainerRef","tableWrapperRef","setTableWrapperRef","useCallback","node","handleMouseEnter","handleMouseLeave","setTableContainerRef","updateScrollIndicators","scrollLeft","maxScroll","scrollWidth","clientWidth","rightVisible","rafId","handleScroll","passive","cancelAnimationFrame","initializationComplete","setInitializationComplete","splashVisible","setSplashVisible","lastLoadSource","setLastLoadSource","lastLoadTime","setLastLoadTime","lastLoadDuration","setLastLoadDuration","isBackgroundRefreshActive","setIsBackgroundRefreshActive","lastRefreshTime","setLastRefreshTime","objednatelList","setObjednatelList","garantList","setGarantList","schvalovatelList","setSchvalovatelList","allUsers","setAllUsers","approversList","setApproversList","orderStatesList","setOrderStatesList","lpKodyList","setLpKodyList","druhyObjednavkyList","setDruhyObjednavkyList","strediskaList","setStrediskaList","showEditConfirmModal","setShowEditConfirmModal","orderToEdit","setOrderToEdit","currentDraftData","setCurrentDraftData","showDeleteConfirmModal","setShowDeleteConfirmModal","orderToDelete","setOrderToDelete","showArchivedWarningModal","setShowArchivedWarningModal","showArchivedWithDraftWarningModal","setShowArchivedWithDraftWarningModal","showLockedOrderDialog","setShowLockedOrderDialog","lockedOrderInfo","setLockedOrderInfo","showForceUnlockWarning","setShowForceUnlockWarning","forceUnlockWarningData","setForceUnlockWarningData","showBulkDocxDialog","setShowBulkDocxDialog","bulkDocxOrders","setBulkDocxOrders","bulkDocxSigners","setBulkDocxSigners","bulkDocxTemplates","setBulkDocxTemplates","showBulkApprovalDialog","setShowBulkApprovalDialog","bulkApprovalOrders","setBulkApprovalOrders","showBulkDeleteDialog","setShowBulkDeleteDialog","bulkDeleteOrders","setBulkDeleteOrders","bulkDeleteType","setBulkDeleteType","docxTemplates","setDocxTemplates","showDashboard","setShowDashboard","showApiTestPanel","setShowApiTestPanel","apiTestData","setApiTestData","showModalStylesPanel","setShowModalStylesPanel","showFiltersPanel","setShowFiltersPanel","showFilters","setShowFilters","showDebug","setShowDebug","userSettings","loadSettingsFromLocalStorage","hasCustomTileSettings","viditelne_dlazdice","Object","keys","dashboardCompact","setDashboardCompact","dashboardMode","setDashboardMode","activeStatusFilter","setActiveStatusFilter","rawData","setRawData","initializing","setInitializing","globalFilter","setGlobalFilter","statusFilter","setStatusFilter","vychozi_filtry_stavu_objednavek","warn","userFilter","setUserFilter","selectedObjednatel","setSelectedObjednatel","selectedGarant","setSelectedGarant","selectedSchvalovatel","setSelectedSchvalovatel","selectedPrikazce","setSelectedPrikazce","dateFromFilter","setDateFromFilter","dateToFilter","setDateToFilter","amountFromFilter","setAmountFromFilter","amountToFilter","setAmountToFilter","filterMaBytZverejneno","setFilterMaBytZverejneno","filterByloZverejneno","setFilterByloZverejneno","filterMimoradneObjednavky","setFilterMimoradneObjednavky","filterWithInvoices","setFilterWithInvoices","filterWithAttachments","setFilterWithAttachments","rowSelection","setRowSelection","highlightOrderId","setHighlightOrderId","setColumnFilters","multiselectFilters","setMultiselectFilters","showRowHighlighting","setShowRowHighlighting","selectedYear","setSelectedYear","vychozi_rok","selectedMonth","setSelectedMonth","vychozi_obdobi","showExpandedMonths","setShowExpandedMonths","showArchived","setShowArchived","showOnlyMyOrders","setShowOnlyMyOrders","showExportPreview","setShowExportPreview","exportPreviewData","setExportPreviewData","monthSelectRef","yearSelectRef","isMonthDropdownOpen","setIsMonthDropdownOpen","isYearDropdownOpen","setIsYearDropdownOpen","selectStates","setSelectStates","searchStates","setSearchStates","touchedSelectFields","setTouchedSelectFields","hasTriedToSubmit","setHasTriedToSubmit","contextMenu","setContextMenu","docxModalOpen","setDocxModalOpen","docxModalOrder","setDocxModalOrder","financialControlModalOpen","setFinancialControlModalOpen","financialControlOrder","setFinancialControlOrder","sortedAllUsers","processed","_objectSpread","sort","a","nameA","nameB","localeCompare","sortedApprovers","approver","approverId","jmeno_prijmeni","sortedActiveApprovers","aktivni","deaktivovan","sortedActiveUsers","statusOptions","statusName","handleDateFilterChange","dateFrom","dateTo","detail","sid","dateFromKey","dateToKey","savedFrom","savedTo","_","pageSize","setPageSize","currentPageIndex","setCurrentPageIndex","sorting","setSorting","expanded","setExpanded","columnFiltersTimeoutRef","saveColumnFiltersDebounced","filters","clearTimeout","simpleFilters","entries","forEach","_ref16","removeItem","scrollStateRestored","isFirstRender","prevFiltersRef","pendingExpandedOrderIds","filteredDataRef","currentPageIndexRef","pageSizeRef","expandedRef","initStepsCompleted","dataLoaded","paginationRestored","expandedRestored","scrollRestored","savedState","ordersCacheService","getScrollState","rok","mesic","page","rowsPerPage","targetPage","maxPage","ceil","expandedOrderIds","saveCurrentScrollState","currentPage","currentPageSize","currentExpanded","Boolean","saveScrollState","scrollY","totalRows","global","amountFrom","amountTo","activeStatus","currentFilters","clearScrollState","scrollTo","behavior","handleOrderStatusChanged","orderNumber","notificationType","response","getOrderV2","updatedOrder","prevOrders","newState","reduce","acc","lowerSearchTerm","option","getOptionLabel","popis","closest","prepareDropdownLists","ordersData","uniqueObjednatele","uniqueGaranti","uniqueSchvalovatel","add","sortByName","objednatelArray","from","garantArray","schvalovatelArray","loadData","forceRefresh","loadStartTime","performance","dateRange","calculateDateRange","currentPermissions","canViewAllOrders","fetchFunction","archivovano","requestFilters","requestTimestamp","toISOString","apiResult","listOrdersV2","meta","_apiResult$data","_apiResult$data2","apiResponse","apiResponseCount","archivedInResponse","responseTimestamp","cacheResult","viewAll","getOrders","loadEndTime","loadDuration","round","source","usersData","fetchAllUsers","usersMap","u","jmeno_str","prijmeni_str","uzivatelske_jmeno","localDrafts","draftManager","setCurrentUser","draftData","loadDraft","isConceptValid","isValidConcept","hasDbChanges","hasDraftChanges","formData","draftKey","getDraftKey","garantUserId","conceptOrder","ev_cislo","popis_pozadavku","poznamky","strediska_kod","dt_vytvoreni","temp_datum_objednavky","firstAutoSaveDate","vytvoril_uzivatel","_originalKey","_originalData","_formData","err","allUsersForFilters","email","unshift","approversWithDisplayName","fetchApprovers","sortedStates","fetchCiselniky","typ","getDocxSablonyList","sortedTemplates","lpData","fetchLimitovanePrisliby","druhyData","getDruhyObjednavky25","strediskaData","getStrediska25","finalOrders","hasDraft","_draftData$formData","orderIdToMark","savedOrderId","foundAndMarked","hasLocalDraftChanges","normalized","ordersCount","allFields","firstOrder","counts","isLocalConcept","dateStr","datum_objednavky","created_at","isoMatch","czMatch","total","pending","_unused9","dispatchEvent","CustomEvent","errorMessage","translateErrorMessage","_location$state","shouldForceReload","forceReload","debounceTimer","lastMessageTimestamp","cleanup","onTabSyncMessage","BROADCAST_TYPES","ORDER_SAVED","DRAFT_DELETED","registerGetCurrentFiltersCallback","getFiltersCallback","getDateRange","datum_od","datum_do","monthMatch","startMonth","endMonth","_bgTasksContext$regis","call","_bgTasksContext$regis2","registerOrdersRefreshCallback","_ordersData$","filteredOrders","duration","_bgTasksContext$regis3","registerNewNotificationsCallback","handleNewNotifications","notifications","unreadCount","forceUnlockNotifications","n","is_read","notification","notifData","lockedBy","forced_by_name","forced_by_username","lockedByEmail","forced_by_email","lockedByPhone","forced_by_telefon","lockedAt","forced_at","notificationId","_bgTasksContext$regis4","uiState","getUIState","highlightId","saveUIState","scrollToHighlightedRow","highlightedRow","querySelector","rect","isNearTop","offsetTop","blockPosition","scrollIntoView","block","inline","_unused0","getOrderSystemStatus","_unused1","registr_smluv","ma_byt_zverejnena","registr_iddt","getOrderWorkflowStatus","stav_workflow","getOrderTotalPriceWithDPH","polozky_celkova_cena_s_dph","polozky","sum","item","cena","cena_s_dph","stats","dataToCount","byStatus","_debug","totalAmount","amount","completedAmount","incompleteAmount","isCancelledOrRejected","isCompleted","withInvoices","count","faktury","faktury_count","withAttachments","prilohy","prilohy_count","mimoradneUdalosti","mimoradna_udalost","nova","ke_schvaleni","schvalena","zamitnuta","ceka_se","rozpracovana","odeslana","potvrzena","uverejnena","vecna_spravnost","dokoncena","vyrizena","VYRIZENA","zrusena","stornova","STORNOVA","smazana","k_uverejneni_do_registru","ceka_potvrzeni","draft","DRAFT","approved","APPROVED","completed","COMPLETED","cancelled","CANCELLED","getOrderDateTime","_order$_originalData","dateTime","highlightText","normalizedSearch","indexOf","beforeMatch","afterMatch","_Fragment","backgroundColor","handlersRef","handleActionClick","_handlers$handleEdit","_handlers$handleView","_handlers$handleExpor","_handlers$handleFinan","_handlers$handleCreat","_handlers$handleDelet","dataset","orderIndex","handlers","handleEdit","handleView","handleExportDocument","handleFinancialControl","handleCreateInvoice","handleDelete","enrichedUser","currentUsers","getDruhObjednavkyNazev","druh","getStrediskoNazev","_stredisko$raw","_stredisko$raw2","kodStr","stredisko","s","_s$raw","_s$raw2","raw","columns","header","cell","_ref17","row","getIsSelected","getToggleSelectedHandler","align","_ref18","getToggleExpandedHandler","getIsExpanded","_order$prikazce_uziva","_order$uzivatel","_order$garant_uzivate","original","loadPersonDetail","faMinus","faPlus","accessorKey","sortingFn","rowA","rowB","dateA","dateB","filterFn","columnId","orderDateTime","timeStr","toLocaleTimeString","hour","minute","fullText","_ref19","lineHeight","numA","numB","numeric","sensitivity","cislo","_ref20","fontFamily","whiteSpace","overflow","SmartTooltip","content","marginRight","faBoltLightning","marginLeft","predmetA","predmetB","_ref21","maxWidth","textOverflow","getObjednatelName","objednatelName","garantName","normalizedObjednatel","normalizedGarant","_ref22","getPrikazceName","prikazceName","schvalovatelName","normalizedPrikazce","normalizedSchvalovatel","_ref23","_ref24","kontakty","kontaktText","adresaText","dodavatel_adresa","getStatusText","displayStatus","_order$stav_workflow","_order$stav_workflow2","statusA","statusB","statusText","_order$stav_workflow3","_order$stav_workflow4","_ref25","_order$stav_workflow5","_order$stav_workflow6","faFilePen","faClock","faShield","faCheckCircle","faFileContract","faTruck","faXmark","faCircleNotch","alignSelf","getRegistrStav","registr","workflowStatus","dt_zverejneni","zverejnit","stavA","stavB","stavText","_ref26","stavIcon","priceA","priceB","Infinity","price","filterTrimmed","valueStr","compareValue","_ref27","_ref28","faBolt","_ref29","canEdit","canCreateInvoice","canExportDocument","faListCheck","minSize","maxSize","highlightSearchText","textLower","parts","lastIndex","filteredData","filtered","filterMyOrders","roles","kod_role","isObjednatel","isGarant","isSchvalovatel","isPrikazce","filterByGlobalSearch","searchText","_enriched$stav_workfl","_enriched$stav_workfl2","_order$financovani","_order$financovani2","_order$financovani3","_order$financovani4","_order$financovani5","_order$financovani6","_order$financovani7","poznamka","_enriched$druh_objedn","_enriched$druh_objedn2","druh_objednavky","parsed","druh_objednavky_kod","strediska","financovani","typ_nazev","lp_kody","lp_nazvy","lp","cislo_lp","cislo_smlouvy","poznamka_smlouvy","flatMap","nazev_polozky","poznamka_umisteni","katalog_cislo","dodavatel_kod","usek_kod","budova_kod","mistnost_kod","podradky","sub","faktura","fa_cislo_vema","cislo_faktury","fa_poznamka","fa_strediska_kod","fItem","priloha","nazev_souboru","dodatecne_dokumenty","dokument","filterByStatusArray","orderStatus","normalizeStatus","normalizedOrderStatus","filterByArchived","filterByUser","matchesCreator","matchesOrderer","filterByDateRange","dtObjednavky","datumObjDo","datum_obj_do","passesFilter","orderDate","fromDate","toDate","setHours","objDoDate","filterByAmountRange","filterByRegistrStatus","maZverejnit","jeZverejneno","aIsDraft","bIsDraft","_permissionsRef$curre","filteredCount","archivedInFiltered","nonArchivedInFiltered","filterState","newExpanded","findIndex","steps","checkInterval","setInterval","clearInterval","values","val","toggleAllRows","anyExpanded","getIsSomeRowsExpanded","toggleAllRowsExpanded","useReactTable","getCoreRowModel","getExpandedRowModel","getSortedRowModel","getFilteredRowModel","getPaginationRowModel","enableExpanding","getRowCanExpand","enableRowSelection","manualPagination","pagination","pageIndex","onSortingChange","onExpandedChange","onRowSelectionChange","pageCount","max","maxPageIndex","invalidStates","getTemplateOptions","template","objednavka_id","url","reason","editOrderId","orderIdToCheck","_dbOrder$lock_info","dbOrder","lock_info","locked","_userDetail$roles","_userDetail$roles2","_userDetail$roles2$fi","lockInfo","lockedByUserName","locked_by_user_fullname","locked_by_user_id","canForceUnlock","lockedByUserEmail","locked_by_user_email","lockedByUserTelefon","locked_by_user_telefon","locked_at","lockAgeMinutes","lock_age_minutes","userRoleName","nazev_role","_dbOrder$lock_info2","_dbOrder$lock_info3","_dbOrder$lock_info4","is_owned_by_me","lock_status","shouldShowConfirmDialog","draftDataToStore","isDraftForThisOrder","_draftData$formData2","draftOrderId","currentOrderId","hasNewConcept","handleEditConfirm","orderParam","orderToUse","orderIdToLoad","lockOrder25","lockError","objednatelDetails","getUserDetailApi2","cleanedKeys","objednatelData","telefon","hasWorkflowState","workflowCode","states","_unused10","isSchvalena","isOdeslana","isZrusena","isZamitnuta","isCekaSe","stavSchvaleni","stav_schvaleni","finalEvCislo","freshDraft","stav_odeslano","stav_stornovano","version","isConceptSaved","isChanged","isOrderSavedToDB","attachments","broadcastDraftUpdated","isEditMode","isLoading","handleLockedOrderCancel","handleForceUnlockWarningClose","handleContextMenu","cellData","_cellElement$textCont","cellElement","textContent","element","clientX","clientY","handleTableContextMenu","handleCloseContextMenu","handleAddToTodo","handleAddAlarm","handleContextMenuEdit","handleContextMenuDelete","handleGenerateDocx","handleGenerateFinancialControl","handleDocxModalClose","handleDeleteConfirm","deleteType","deleteOrderV2","catch","errorMsg","translateErrorMessageShort","broadcastDraftDeleted","handleRefresh","invalidate","triggerNotificationsRefresh","handleMonthChange","newMonth","currentYear","currentDay","prevMonth","prevMonthNum","startMonthNum","formatNumberWithSpaces","numericValue","parseFormattedNumber","clearColumnFilters","toggleRowHighlighting","newHighlighting","handleStatusFilterClick","statusToCzechName","czechName","handleToggleInvoicesFilter","handleToggleAttachmentsFilter","handleToggleMimoradneFilter","newFilterMimoradne","handleToggleDashboard","newShowDashboard","isTileVisible","tileKey","handleToggleOnlyMyOrders","newShowOnlyMyOrders","handleDownloadAttachment","attachment","fileName","originalni_nazev_souboru","typ_prilohy","oldUrl","process","link","href","download","click","blob","fakturaId","faktura_id","invoice_id","downloadInvoiceAttachment","downloadOrderAttachment","createDownloadLink25","personDetailsCache","setPersonDetailsCache","personKey","personId","cacheKey","details","renderExpandedContent","_order$objednatel2","_order$uzivatel2","_order$objednatel3","_order$uzivatel3","_order$objednatel4","_order$uzivatel4","hasPolozky","hasFaktury","hasPrilohy","dodatecneDokumenty","hasDodatecneDokumenty","hasStrediska","faInfoCircle","marginBottom","textTransform","letterSpacing","margin","prettyDate","dt_schvaleni","dt_predpokladany_termin_dodani","dt_potvrzeni_vecne_spravnosti","dt_dokonceni","dt_aktualizace","borderTop","_order$registr_smluv","_order$registr_smluv2","_order$registr_smluv3","_order$registr_smluv4","faHourglassHalf","faTimesCircle","faMoneyBillWave","strediskoText","paddingLeft","borderLeft","fin","skipKeys","displayValue","c","_order$druh_objednavk","druh_objednavky_nazev","polozky_count","faktury_celkova_castka_s_dph","faUsers","paddingRight","wordBreak","odesilatel","dodavatel_potvrdil","zverejnil","fakturant","potvrdil_vecnou_spravnost","dokoncil","paddingBottom","datum","fakturaSejtimem","f","uzivatel_akt","paddingTop","flex","faBuilding","dodavatel_zastoupeny","faList","polozka","flexWrap","fontStyle","pocet","jednotka","jednotkova_cena_bez_dph","jednotkova_cena_s_dph","cena_bez_dph","dph_procento","dph_castka","faReceipt","fa_datum_vystaveni","dt_vystaveni","fa_datum_doruceni","fa_datum_splatnosti","dt_splatnosti","castka_bez_dph","castka_s_dph","faPaperclip","dt_nahrano","velikost","faDownload","fIndex","fakturaPrilohy","pIndex","prilohaWithFakturaId","velikost_souboru_b","faExclamationTriangle","faSyncAlt","faCalendarAlt","toggleYearDropdown","faChevronUp","faChevronDown","getYearsList","years","handleYearChange","newYear","toggleMonthDropdown","minWidth","as","htmlFor","_e$target","newValue","flexShrink","faArchive","preferredPosition","second","faDatabase","admin_analysis","total_without_permission_filters","faDashboard","handleShowFilters","faFilter","handleExport","csvColumns","export_csv_sloupce","listSeparator","exportCsvListCustomDelimiter","exportCsvListDelimiter","safeGet","formatUserName","exportData","_finData","_enriched$uzivatel2","_enriched$garant_uziv2","financovaniKodyMap","zpusobFinancovani","finData","financovani_parsed","_unused11","zpusob_financovani","_unused12","_finData2","_finData3","_finData4","stav_komentar","dt_odeslani","dt_akceptace","predpokladany_termin_dodani","celkova_cena_bez_dph","celkova_cena_s_dph","financovani_typ","financovani_typ_nazev","financovani_lp_kody","financovani_lp_nazvy","financovani_lp_cisla","objednatel_email","objednatel_telefon","garant_email","garant_telefon","prikazce_po","dodavatel_dic","strediska_nazvy","pocet_polozek","polozky_popis","polozky_cena_bez_dph","polozky_sazba_dph","sazba_dph","polozky_cena_s_dph","prilohy_nazvy","originalni_nazev","totalInvoices","fa_castka","faktury_cisla_vema","potvrzeno_dodavatelem","zpusob_potvrzeni","zpusob_platby","zverejnit_registr_smluv","zaruka","misto_dodani","exportCsvCustomDelimiter","exportCsvDelimiter","columnCount","separatorName","multilineSeparator","multilineSeparatorName","rowCount","faFileExport","open","faPalette","handleToggleDebug","newShowDebug","endpoint","datum_obj_od","createPortal","backdropFilter","gridTemplateColumns","textShadow","WebkitBackdropFilter","handleToggleCustomDashboard","newMode","handleToggleDashboardView","newDashboardCompact","faTableColumns","filteredAmount","faFileAlt","currentUserIdNum","myOrdersCount","faUser","dokumentyCount","_order$_enriched","_order$_enriched2","_order$_enriched3","dodatecne_dokumenty_count","vecnaKontrolaCount","vecnaKontrolaOk","_order$_enriched4","vecna_kontrola","provedena","registrSmlouvCount","registrSmlouvAktivni","_order$_enriched5","_order$_enriched6","fazeDokonceniCount","fazeDokonceniHotovo","_order$_enriched7","_order$_enriched8","_order$_enriched8$faz","faze_dokonceni","dokonceno","faRocket","getStatusIcon","_order$_enriched9","_order$_enriched0","_order$_enriched1","_order$_enriched10","_order$_enriched11","_order$_enriched12","_order$_enriched13","_order$_enriched14","_order$_enriched14$fa","clearFilters","faEraser","loadCustomStatusFilter","customFilter","every","handleToggleFilters","newShowFilters","handleHideFilters","onKeyDown","shiftKey","clearObjednatelFilter","SelectWithIcon","clearGarantFilter","clearPrikazceFilter","clearSchvalovatelFilter","clearStatusFilter","clearDateFilter","clearPriceFilter","rawValue","getHeaderGroups","headerGroup","headers","column","getCanSort","getToggleSortingHandler","getSize","flexRender","columnDef","getContext","getIsSorted","getIsAllRowsSelected","el","indeterminate","getIsSomeRowsSelected","getToggleAllRowsSelectedHandler","selectedCount","getSelectedRowModel","rows","selectedOrders","approvalCount","docxCount","eligibleOrders","initialSigners","initialTemplates","templates","newFilters","colSpan","faFaceFrown","getRowModel","onContextMenu","onDoubleClick","getVisibleCells","newSize","goToFirstPage","getCanPreviousPage","goToPreviousPage","newIndex","getState","getPageCount","goToNextPage","min","getCanNextPage","goToLastPage","handleScrollLeft","tableContainer","scrollAmount","scrollBy","faChevronLeft","handleScrollRight","faChevronRight","ConfirmDialog","handleEditCancel","onConfirm","deleteDraft","pathname","method","variant","confirmText","cancelText","draftTitle","isNewConcept","_draftData$formData3","isArchived","handleArchivedWithDraftConfirm","handleDeleteCancel","unlockResult","unlockOrder25","force","unlock_type","forceError","faLock","showCancel","faEnvelope","faPhone","textDecoration","Suspense","fallback","generatedBy","fullName","pozice","newTemplates","newSigners","_order$garant_uzivate2","_order$objednatel5","availableUsers","missingTemplates","orderNumbers","missingSigners","results","Promise","allSettled","currentWorkflow","newWorkflow","updateData","datum_schvaleni","fetch","ok","Error","successful","failed","toggleAllRowsSelected","useHardDelete","del","filterCount","overflowX","headerLength","maxValueLength","maxLength","rowIdx","_ref30","cellIdx","handleConfirmExport","exportCsv","includeBOM","ModernHelper","pageContext","timeoutMs","timeoutSec","faPlay","faBullseye","faPause","getNotificationEmoji","priority","getPriorityEmoji"],"sourceRoot":""}