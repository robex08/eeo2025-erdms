{"version":3,"file":"static/js/8319.d750a83b.chunk.js","mappings":"4MAKA,MAAMA,EAAgBC,sCAAmDC,QAAQ,MAAO,IAQ3EC,EAAoBC,MAAOC,EAAOC,KAC7C,IACE,MAAMC,QAAiBC,MAAM,GAADC,OAAIT,EAAY,oBAAoB,CAC9DU,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBT,QACAC,WACAS,UAAW,UAIf,IAAKR,EAASS,GACZ,MAAM,IAAIC,MAAM,QAADR,OAASF,EAASW,OAAM,MAAAT,OAAKF,EAASY,aAGvD,MAAMC,QAAeb,EAASc,OAG9B,OAFaD,EAAOE,MAAQF,CAI9B,CAAE,MAAOG,GAEP,MADAC,QAAQD,MAAM,uEAA4CA,GACpDA,CACR,GAUWE,EAAqBrB,MAAOsB,EAAUrB,EAAOC,KACxD,IACE,MAAMqB,EAAU,CACdtB,QACAC,WACAS,UAAW,OACXW,YAGFF,QAAQI,MAAM,qCACdJ,QAAQK,IAAI,oBAAqBH,GACjCF,QAAQK,IAAI,gBAAiBF,GAC7BH,QAAQM,WAER,MAAMvB,QAAiBC,MAAM,GAADC,OAAIT,EAAY,oBAAoB,CAC9DU,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUa,KAGvB,IAAKpB,EAASS,GACZ,MAAM,IAAIC,MAAM,QAADR,OAASF,EAASW,OAAM,MAAAT,OAAKF,EAASY,aAIvD,aADqBZ,EAASc,MAGhC,CAAE,MAAOE,GAEP,MADAC,QAAQD,MAAM,kEAA4CA,GACpDA,CACR,GASWQ,EAAwB3B,MAAOC,EAAOC,KACjD,IACE,MAAMC,QAAiBC,MAAM,GAADC,OAAIT,EAAY,wBAAwB,CAClEU,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBT,QACAC,eAIJ,IAAKC,EAASS,GACZ,MAAM,IAAIC,MAAM,QAADR,OAASF,EAASW,OAAM,MAAAT,OAAKF,EAASY,aAIvD,aADqBZ,EAASc,QAChBW,SAAW,uFAE3B,CAAE,MAAOT,GAEP,MADAC,QAAQD,MAAM,uEAAuCA,GAC/CA,CACR,GAqCWU,EAAuB7B,UAClC,IACE,MAAMG,QAAiBC,MAAM,GAADC,OAAIT,EAAY,uBAAuB,CACjEU,OAAQ,MACRC,QAAS,CACP,eAAgB,sBAIpB,IAAKJ,EAASS,GACZ,OAAO,EAGT,MAAMM,QAAaf,EAASc,OAC5B,OAAiC,IAA1BC,EAAKY,kBAAuD,IAA1BZ,EAAKY,gBAEhD,CAAE,MAAOX,GAEP,OADAC,QAAQD,MAAM,4CAAwCA,IAC/C,CACT,E","sources":["services/globalSettingsApi.js"],"sourcesContent":["/**\n * API slu≈æba pro glob√°ln√≠ nastaven√≠ syst√©mu\n * Pattern: POST s token a username v body (jako OrderV2)\n */\n\nconst API_BASE_URL = (process.env.REACT_APP_API2_BASE_URL || '/api.eeo').replace(/\\/$/, '');\n\n/**\n * Naƒçte v≈°echna glob√°ln√≠ nastaven√≠\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<Object>} Objekt s nastaven√≠mi\n */\nexport const getGlobalSettings = async (token, username) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/global-settings`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token,\n        username,\n        operation: 'get'\n      })\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    const data = result.data || result;\n    \n    return data;\n    \n  } catch (error) {\n    console.error('Chyba p≈ôi naƒç√≠t√°n√≠ glob√°ln√≠ho nastaven√≠:', error);\n    throw error;\n  }\n};\n\n/**\n * Ulo≈æ√≠ glob√°ln√≠ nastaven√≠\n * @param {Object} settings - Objekt s nastaven√≠mi k ulo≈æen√≠\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<Object>} Response z API\n */\nexport const saveGlobalSettings = async (settings, token, username) => {\n  try {\n    const payload = {\n      token,\n      username,\n      operation: 'save',\n      settings\n    };\n    \n    console.group('üíæ SAVE GLOBAL SETTINGS');\n    console.log('Settings to save:', settings);\n    console.log('Full payload:', payload);\n    console.groupEnd();\n    \n    const response = await fetch(`${API_BASE_URL}/global-settings`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    return result;\n    \n  } catch (error) {\n    console.error('Chyba p≈ôi ukl√°d√°n√≠ glob√°ln√≠ho nastaven√≠:', error);\n    throw error;\n  }\n};\n\n/**\n * Naƒçte √∫dr≈æbovou zpr√°vu (dostupn√© pro v≈°echny p≈ôihl√°≈°en√© u≈æivatele)\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<string>} √ödr≈æbov√° zpr√°va\n */\nexport const getMaintenanceMessage = async (token, username) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/maintenance-message`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token,\n        username\n      })\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    return result.message || 'Syst√©m je moment√°lnƒõ v √∫dr≈æbƒõ. Omlouv√°me se za komplikace.';\n    \n  } catch (error) {\n    console.error('Chyba p≈ôi naƒç√≠t√°n√≠ √∫dr≈æbov√© zpr√°vy:', error);\n    throw error;\n  }\n};\n\n/**\n * Naƒçte jedno konkr√©tn√≠ nastaven√≠ podle kl√≠ƒçe\n * @param {string} key - Kl√≠ƒç nastaven√≠\n * @returns {Promise<any>} Hodnota nastaven√≠\n */\nexport const getSingleSetting = async (key) => {\n  try {\n    const token = localStorage.getItem('token');\n    \n    const response = await fetch(`${API_BASE_URL}/global-settings/${key}`, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const data = await response.json();\n    return data.value;\n    \n  } catch (error) {\n    console.error(`Chyba p≈ôi naƒç√≠t√°n√≠ nastaven√≠ ${key}:`, error);\n    throw error;\n  }\n};\n\n/**\n * Zkontroluje, zda je aktivn√≠ maintenance mode\n * @returns {Promise<boolean>} True pokud je √∫dr≈æba aktivn√≠\n */\nexport const checkMaintenanceMode = async () => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/maintenance-status`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    \n    if (!response.ok) {\n      return false;\n    }\n    \n    const data = await response.json();\n    return data.maintenance_mode === true || data.maintenance_mode === 1;\n    \n  } catch (error) {\n    console.error('Chyba p≈ôi kontrole maintenance mode:', error);\n    return false;\n  }\n};\n"],"names":["API_BASE_URL","process","replace","getGlobalSettings","async","token","username","response","fetch","concat","method","headers","body","JSON","stringify","operation","ok","Error","status","statusText","result","json","data","error","console","saveGlobalSettings","settings","payload","group","log","groupEnd","getMaintenanceMessage","message","checkMaintenanceMode","maintenance_mode"],"sourceRoot":""}