"use strict";(self.webpackChunkr_app_zzs_eeo=self.webpackChunkr_app_zzs_eeo||[]).push([[6985],{86985:(e,n,a)=>{a.r(n),a.d(n,{default:()=>B});var s,t,d,i,r,o,l,c,h,p,m,x,u,j,v,g=a(89379),b=a(57528),f=a(65043),y=a(45903),A=a(27837),_=a(44649),T=a(70579);const k=y.A.div(s||(s=(0,b.A)(["\n  max-width: 1170px;\n  margin: 0 auto;\n  padding: 39px 26px;\n  font-size: 130%;\n"]))),O=y.A.div(t||(t=(0,b.A)(["\n  background: white;\n  padding: 39px;\n  border-radius: 13px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\n"]))),E=y.A.div(d||(d=(0,b.A)(["\n  background: linear-gradient(135deg, #f0f9ff, #e0f2fe);\n  border: 2px solid #3b82f6;\n  border-radius: 13px;\n  padding: 26px;\n  margin-bottom: 39px;\n\n  h3 {\n    color: #1e40af;\n    margin-bottom: 13px;\n    font-size: 23.4px;\n  }\n\n  .info-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: 13px;\n  }\n\n  .info-item {\n    display: flex;\n    gap: 10px;\n\n    strong {\n      color: #1e3a8a;\n      min-width: 100px;\n    }\n\n    code {\n      background: white;\n      padding: 2px 8px;\n      border-radius: 4px;\n      font-size: 16px;\n      color: #dc2626;\n      font-family: 'Courier New', monospace;\n    }\n  }\n"]))),S=y.A.div(i||(i=(0,b.A)(["\n  margin-bottom: 39px;\n\n  h2 {\n    color: #202d65;\n    margin-bottom: 19.5px;\n    font-size: 26px;\n    border-bottom: 2.6px solid #304e85;\n    padding-bottom: 10.4px;\n  }\n"]))),N=y.A.div(r||(r=(0,b.A)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(325px, 1fr));\n  gap: 19.5px;\n  margin-top: 19.5px;\n"]))),D=y.A.button(o||(o=(0,b.A)(["\n  padding: 19.5px 26px;\n  border: none;\n  border-radius: 13px;\n  font-size: 18.2px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 13px;\n  box-shadow: 0 2.6px 10.4px rgba(0, 0, 0, 0.1);\n\n  &:hover:not(:disabled) {\n    transform: translateY(-2.6px);\n    box-shadow: 0 5.2px 15.6px rgba(0, 0, 0, 0.2);\n  }\n\n  &:active:not(:disabled) {\n    transform: translateY(0);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n\n  .icon {\n    font-size: 26px;\n  }\n"]))),I=(0,y.A)(D)(l||(l=(0,b.A)(["\n  background: linear-gradient(135deg, #16a34a, #15803d);\n  color: white;\n"]))),w=(0,y.A)(D)(c||(c=(0,b.A)(["\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  color: white;\n"]))),z=(0,y.A)(D)(h||(h=(0,b.A)(["\n  background: linear-gradient(135deg, #f59e0b, #d97706);\n  color: white;\n"]))),P=(0,y.A)(D)(p||(p=(0,b.A)(["\n  background: linear-gradient(135deg, #dc2626, #b91c1c);\n  color: white;\n"]))),C=(0,y.A)(D)(m||(m=(0,b.A)(["\n  background: linear-gradient(135deg, #8b5cf6, #7c3aed);\n  color: white;\n"]))),L=y.A.div(x||(x=(0,b.A)(["\n  padding: 19.5px 26px;\n  border-radius: 13px;\n  margin-bottom: 26px;\n  font-size: 18.2px;\n  line-height: 1.6;\n\n  &.success {\n    background: #d1fae5;\n    border-left: 4px solid #16a34a;\n    color: #065f46;\n  }\n\n  &.error {\n    background: #fee2e2;\n    border-left: 4px solid #dc2626;\n    color: #7f1d1d;\n  }\n\n  &.info {\n    background: #dbeafe;\n    border-left: 4px solid #3b82f6;\n    color: #1e3a8a;\n  }\n"]))),U=y.A.pre(u||(u=(0,b.A)(["\n  background: #1e293b;\n  color: #e2e8f0;\n  padding: 26px;\n  border-radius: 13px;\n  overflow-x: auto;\n  font-size: 16px;\n  line-height: 1.6;\n  margin-top: 19.5px;\n  max-height: 500px;\n  overflow-y: auto;\n\n  .success {\n    color: #4ade80;\n  }\n\n  .error {\n    color: #f87171;\n  }\n\n  .key {\n    color: #7dd3fc;\n  }\n\n  .string {\n    color: #fbbf24;\n  }\n\n  .number {\n    color: #a78bfa;\n  }\n"]))),F=y.A.input(j||(j=(0,b.A)(["\n  padding: 13px;\n  border: 2px solid #e5e7eb;\n  border-radius: 10px;\n  font-size: 18.2px;\n  width: 100%;\n  margin-bottom: 19.5px;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n  }\n"]))),Y=y.A.label(v||(v=(0,b.A)(["\n  display: block;\n  margin-bottom: 8px;\n  color: #1f2937;\n  font-weight: 600;\n  font-size: 18.2px;\n"]))),B=()=>{const{user:e,token:n,username:a,user_id:s,userDetail:t,fullName:d}=(0,f.useContext)(A.Ay),[i,r]=(0,f.useState)(null),[o,l]=(0,f.useState)(null),[c,h]=(0,f.useState)(!1),[p,m]=(0,f.useState)("11248"),[x,u]=(0,f.useState)(""),[j,v]=(0,f.useState)("1"),[b,y]=(0,f.useState)(""),[D,B]=(0,f.useState)(null),[G,V]=(0,f.useState)({uzivatel_id:"",datum_od:"",datum_do:"",archivovano:"",frontend_order_id:""});return(0,T.jsx)(k,{children:(0,T.jsxs)(O,{children:[(0,T.jsxs)(E,{children:[(0,T.jsx)("h3",{children:"\ud83d\udc64 Aktu\xe1ln\u011b p\u0159ihl\xe1\u0161en\xfd u\u017eivatel"}),(0,T.jsxs)("div",{className:"info-grid",children:[(0,T.jsxs)("div",{className:"info-item",children:[(0,T.jsx)("strong",{children:"Username:"}),(0,T.jsx)("code",{children:a||"N/A"})]}),(0,T.jsxs)("div",{className:"info-item",children:[(0,T.jsx)("strong",{children:"User ID:"}),(0,T.jsx)("code",{children:s||(null===e||void 0===e?void 0:e.user_id)||(null===e||void 0===e?void 0:e.id)||"N/A"})]}),(0,T.jsxs)("div",{className:"info-item",children:[(0,T.jsx)("strong",{children:"Jm\xe9no:"}),(0,T.jsx)("code",{children:d||(null!==t&&void 0!==t&&t.jmeno?"".concat(t.jmeno," ").concat(t.prijmeni||""):null!==e&&void 0!==e&&e.jmeno?"".concat(e.jmeno," ").concat(e.prijmeni||""):"N/A")})]}),(0,T.jsxs)("div",{className:"info-item",children:[(0,T.jsx)("strong",{children:"Token:"}),(0,T.jsx)("code",{children:n?"".concat(n.slice(0,10),"..."):"N/A"})]})]})]}),(0,T.jsxs)(S,{children:[(0,T.jsx)("h2",{children:"\u2699\ufe0f Parametry test\u016f"}),(0,T.jsx)(Y,{htmlFor:"orderId",children:"Order ID (pro GET/UPDATE/DELETE/TIMESTAMP):"}),(0,T.jsx)(F,{id:"orderId",type:"text",value:p,onChange:e=>m(e.target.value),placeholder:"nap\u0159. 11248"}),(0,T.jsx)(Y,{htmlFor:"orderNumber",children:"Order Number (pro CHECK):"}),(0,T.jsx)(F,{id:"orderNumber",type:"text",value:x,onChange:e=>u(e.target.value),placeholder:"nap\u0159. O-0001/00000000/2025/IT"}),(0,T.jsx)(Y,{htmlFor:"invoiceId",children:"Invoice ID (pro Invoice Attachments):"}),(0,T.jsx)(F,{id:"invoiceId",type:"text",value:j,onChange:e=>v(e.target.value),placeholder:"nap\u0159. 1"}),(0,T.jsx)(Y,{htmlFor:"attachmentId",children:"Attachment ID (pro Download/Delete/Update):"}),(0,T.jsx)(F,{id:"attachmentId",type:"text",value:b,onChange:e=>y(e.target.value),placeholder:"nap\u0159. 123"}),(0,T.jsx)(Y,{htmlFor:"fileUpload",children:"Soubor pro upload (Attachments):"}),(0,T.jsx)(F,{id:"fileUpload",type:"file",onChange:e=>{e.target.files&&e.target.files[0]&&B(e.target.files[0])}}),D&&(0,T.jsxs)(L,{className:"info",style:{marginTop:"10px",padding:"10px 15px"},children:["\ud83d\udcce Vybran\xfd soubor: ",(0,T.jsx)("strong",{children:D.name})," (",(D.size/1024).toFixed(2)," KB)"]})]}),(0,T.jsxs)(S,{children:[(0,T.jsx)("h2",{children:"\ud83d\udcdd CRUD Operace"}),(0,T.jsxs)(N,{children:[(0,T.jsxs)(I,{onClick:async()=>{h(!0),l(null),r(null);try{const t=s||(null===e||void 0===e?void 0:e.user_id)||(null===e||void 0===e?void 0:e.id)||1,d={uzivatel_id:t,objednatel_id:t,predmet:"TEST Order - ".concat((new Date).toLocaleString("cs-CZ")),garant_uzivatel_id:"100",prikazce_id:"1",strediska_kod:["KLADNO","VOTICE"],max_cena_s_dph:"5000",stav_workflow_kod:'["ODESLANA_KE_SCHVALENI"]',stav_objednavky:"Ke schv\xe1len\xed",dt_objednavky:(new Date).toISOString().slice(0,19).replace("T"," ")},i=await(0,_.VR)(d,n,a);r({success:!0,endpoint:"POST /order-v2/create",data:i})}catch(t){l({endpoint:"POST /order-v2/create",message:t.message})}finally{h(!1)}},disabled:c||!n,children:[(0,T.jsx)("span",{className:"icon",children:"\u2795"}),(0,T.jsx)("span",{children:"CREATE Order"})]}),(0,T.jsxs)(w,{onClick:async()=>{h(!0),l(null),r(null);try{const e=await(0,_.Hj)(p,n,a,!0);r({success:!0,endpoint:"GET /order-v2/{id}/enriched",data:e})}catch(e){l({endpoint:"GET /order-v2/{id}/enriched",message:e.message})}finally{h(!1)}},disabled:c||!n||!p,children:[(0,T.jsx)("span",{className:"icon",children:"\ud83d\udcd6"}),(0,T.jsx)("span",{children:"GET Order (Enriched)"})]}),(0,T.jsxs)(z,{onClick:async()=>{h(!0),l(null),r(null);try{const e={predmet:"UPDATED TEST - ".concat((new Date).toLocaleString("cs-CZ")),max_cena_s_dph:"7500"},s=await(0,_.qA)(p,e,n,a);r({success:!0,endpoint:"POST /order-v2/{id}/update",data:s})}catch(e){l({endpoint:"POST /order-v2/{id}/update",message:e.message})}finally{h(!1)}},disabled:c||!n||!p,children:[(0,T.jsx)("span",{className:"icon",children:"\u270f\ufe0f"}),(0,T.jsx)("span",{children:"UPDATE Order"})]}),(0,T.jsxs)(P,{onClick:async()=>{if(window.confirm("Opravdu chcete smazat objedn\xe1vku #".concat(p,"?"))){h(!0),l(null),r(null);try{const e=await(0,_.kg)(p,n,a);r({success:!0,endpoint:"POST /order-v2/{id}/delete",data:e})}catch(e){l({endpoint:"POST /order-v2/{id}/delete",message:e.message})}finally{h(!1)}}},disabled:c||!n||!p,children:[(0,T.jsx)("span",{className:"icon",children:"\ud83d\uddd1\ufe0f"}),(0,T.jsx)("span",{children:"DELETE Order"})]})]})]}),(0,T.jsxs)(S,{style:{background:"linear-gradient(135deg, #fef3c7, #fef08a)",border:"2px solid #eab308"},children:[(0,T.jsx)("h2",{children:"\ud83e\uddea TEST Filtr\u016f pro List Enriched"}),(0,T.jsxs)(L,{className:"info",style:{marginBottom:"20px"},children:["\u2139\ufe0f ",(0,T.jsx)("strong",{children:"Test filtrace Order V2 API:"}),(0,T.jsx)("br",{}),"Testuj r\u016fzn\xe9 kombinace filtr\u016f a uvid\xed\u0161 co BE vr\xe1t\xed vs. co by m\u011bl frontend zobrazit.",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),(0,T.jsx)("strong",{children:"Dostupn\xe9 filtry:"}),(0,T.jsx)("br",{}),"\u2022 ",(0,T.jsx)("code",{children:"uzivatel_id"})," - ID u\u017eivatele (\u010d\xedslo, nap\u0159. 1)",(0,T.jsx)("br",{}),"\u2022 ",(0,T.jsx)("code",{children:"datum_od"})," - Od data (YYYY-MM-DD)",(0,T.jsx)("br",{}),"\u2022 ",(0,T.jsx)("code",{children:"datum_do"})," - Do data (YYYY-MM-DD)",(0,T.jsx)("br",{}),"\u2022 ",(0,T.jsx)("code",{children:"archivovano"})," - 1 = v\u010detn\u011b archivovan\xfdch, 0 nebo pr\xe1zdn\xe9 = BEZ archivovan\xfdch"]}),(0,T.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[(0,T.jsxs)("div",{children:[(0,T.jsx)(Y,{children:"User ID (\u010d\xedslo):"}),(0,T.jsx)(F,{type:"number",value:G.uzivatel_id,onChange:e=>V((0,g.A)((0,g.A)({},G),{},{uzivatel_id:e.target.value})),placeholder:"nap\u0159. 1"})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)(Y,{children:"Archivovano (0/1):"}),(0,T.jsx)(F,{type:"number",min:"0",max:"1",value:G.archivovano,onChange:e=>V((0,g.A)((0,g.A)({},G),{},{archivovano:e.target.value})),placeholder:"0 = bez archiv, 1 = s archivem"})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)(Y,{children:"Datum od:"}),(0,T.jsx)(F,{type:"date",value:G.datum_od,onChange:e=>V((0,g.A)((0,g.A)({},G),{},{datum_od:e.target.value}))})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)(Y,{children:"Datum do:"}),(0,T.jsx)(F,{type:"date",value:G.datum_do,onChange:e=>V((0,g.A)((0,g.A)({},G),{},{datum_do:e.target.value}))})]}),(0,T.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,T.jsx)(Y,{children:"\ud83d\udd0d Order ID (frontend filtr - NEPO\u0160LE SE do BE):"}),(0,T.jsx)(F,{type:"number",value:G.frontend_order_id,onChange:e=>V((0,g.A)((0,g.A)({},G),{},{frontend_order_id:e.target.value})),placeholder:"nap\u0159. 11248 - na\u010dte v\u0161echny z BE a pak vyfiltruje podle ID",style:{background:"#fef3c7",borderColor:"#f59e0b"}}),(0,T.jsx)("div",{style:{fontSize:"12px",color:"#92400e",marginTop:"5px"},children:"\u26a0\ufe0f Tento filtr se aplikuje A\u017d PO na\u010dten\xed dat z BE (frontend filtr)"})]})]}),(0,T.jsxs)(z,{onClick:async()=>{h(!0),l(null),r(null);try{const e={};G.uzivatel_id&&(e.uzivatel_id=parseInt(G.uzivatel_id)),G.datum_od&&(e.datum_od=G.datum_od),G.datum_do&&(e.datum_do=G.datum_do),""!==G.archivovano&&(e.archivovano=parseInt(G.archivovano));const s=await(0,_.cn)(e,n,a,!1,!0);let t=s;if(G.frontend_order_id){const e=parseInt(G.frontend_order_id);t=s.filter(n=>n.id===e)}const d={total:t.length,archived:t.filter(e=>"ARCHIVOVANO"===e.stav_objednavky).length,nonArchived:t.filter(e=>"ARCHIVOVANO"!==e.stav_objednavky).length,byYear:{},byUser:{},frontendFiltered:!!G.frontend_order_id,totalFromBE:s.length};t.forEach(e=>{const n=e.dt_objednavky?new Date(e.dt_objednavky).getFullYear():"N/A";d.byYear[n]=(d.byYear[n]||0)+1,d.byUser[e.uzivatel_id]=(d.byUser[e.uzivatel_id]||0)+1}),r({success:!0,endpoint:"POST /order-v2/list-enriched",data:t,stats:d,filtersSent:e,frontendFilterApplied:G.frontend_order_id?"Order ID = ".concat(G.frontend_order_id):null})}catch(e){l({endpoint:"POST /order-v2/list-enriched",message:e.message})}finally{h(!1)}},disabled:c||!n,style:{width:"100%",fontSize:"16px",padding:"15px"},children:[(0,T.jsx)("span",{className:"icon",children:"\ud83d\udd0d"}),(0,T.jsx)("span",{children:"\ud83e\uddea TEST LIST ENRICHED s filtry"})]})]}),(0,T.jsxs)(S,{children:[(0,T.jsx)("h2",{children:"\ud83d\udd27 Pomocn\xe9 funkce"}),(0,T.jsxs)(N,{children:[(0,T.jsxs)(C,{onClick:async()=>{h(!0),l(null),r(null);try{const t={uzivatel_id:s||(null===e||void 0===e?void 0:e.user_id)||(null===e||void 0===e?void 0:e.id)||1,limit:10,offset:0},d=await(0,_.cn)(t,n,a,!0);r({success:!0,endpoint:"POST /order-v2/list",data:d})}catch(t){l({endpoint:"POST /order-v2/list",message:t.message})}finally{h(!1)}},disabled:c||!n,children:[(0,T.jsx)("span",{className:"icon",children:"\ud83d\udccb"}),(0,T.jsx)("span",{children:"LIST Orders"})]}),(0,T.jsxs)(w,{onClick:async()=>{h(!0),l(null),r(null);try{const e=await(0,_.XY)(n,a);r({success:!0,endpoint:"POST /order-v2/next-number",data:e}),u(e.next_order_string||e.order_number_string||"")}catch(e){l({endpoint:"POST /order-v2/next-number",message:e.message})}finally{h(!1)}},disabled:c||!n,children:[(0,T.jsx)("span",{className:"icon",children:"\ud83d\udd22"}),(0,T.jsx)("span",{children:"GET Next Number"})]}),(0,T.jsxs)(z,{onClick:async()=>{h(!0),l(null),r(null);try{const e=x||"O-0001/00000000/2025/IT",s=await(0,_.Uj)(e,n,a,!0);r({success:!0,endpoint:"POST /order-v2/check-number",data:s})}catch(e){l({endpoint:"POST /order-v2/check-number",message:e.message})}finally{h(!1)}},disabled:c||!n||!x,children:[(0,T.jsx)("span",{className:"icon",children:"\u2705"}),(0,T.jsx)("span",{children:"CHECK Number"})]}),(0,T.jsxs)(w,{onClick:async()=>{h(!0),l(null),r(null);try{const e=await(0,_.jq)(p,n,a);r({success:!0,endpoint:"POST /order-v2/{id}/dt-aktualizace",data:e})}catch(e){l({endpoint:"POST /order-v2/{id}/dt-aktualizace",message:e.message})}finally{h(!1)}},disabled:c||!n||!p,children:[(0,T.jsx)("span",{className:"icon",children:"\u23f0"}),(0,T.jsx)("span",{children:"GET Timestamp"})]})]})]}),(0,T.jsxs)(S,{children:[(0,T.jsx)("h2",{children:"\ud83d\udcce Order Attachments API"}),(0,T.jsxs)(N,{children:[(0,T.jsxs)(I,{onClick:async()=>{if(D){h(!0),l(null),r(null);try{var e,s;const t=await(0,_.Fg)(p,D,a,n,"obj");r({success:!0,endpoint:"POST /order-v2/{id}/attachments/upload",data:t}),y((null===(e=t.data)||void 0===e?void 0:e.attachment_id)||(null===(s=t.data)||void 0===s?void 0:s.id)||"")}catch(t){l({endpoint:"POST /order-v2/{id}/attachments/upload",message:t.message})}finally{h(!1)}}else l({endpoint:"POST /order-v2/{id}/attachments/upload",message:"Nejprve vyberte soubor!"})},disabled:c||!n||!p||!D,children:[(0,T.jsx)("span",{className:"icon",children:"\u2b06\ufe0f"}),(0,T.jsx)("span",{children:"UPLOAD Order Attachment"})]}),(0,T.jsxs)(w,{onClick:async()=>{h(!0),l(null),r(null);try{const e=await(0,_.ne)(p,a,n);r({success:!0,endpoint:"GET /order-v2/{id}/attachments",data:e})}catch(e){l({endpoint:"GET /order-v2/{id}/attachments",message:e.message})}finally{h(!1)}},disabled:c||!n||!p,children:[(0,T.jsx)("span",{className:"icon",children:"\ud83d\udccb"}),(0,T.jsx)("span",{children:"LIST Order Attachments"})]}),(0,T.jsxs)(C,{onClick:async()=>{if(b){h(!0),l(null),r(null);try{await(0,_.downloadOrderAttachment)(p,b,a,n),r({success:!0,endpoint:"GET /order-v2/{id}/attachments/{att_id}",data:{message:"Soubor byl sta\u017een"}})}catch(e){l({endpoint:"GET /order-v2/{id}/attachments/{att_id}",message:e.message})}finally{h(!1)}}else l({endpoint:"GET /order-v2/{id}/attachments/{att_id}",message:"Nejprve zadejte Attachment ID!"})},disabled:c||!n||!p||!b,children:[(0,T.jsx)("span",{className:"icon",children:"\ud83d\udce5"}),(0,T.jsx)("span",{children:"DOWNLOAD Order Attachment"})]}),(0,T.jsxs)(z,{onClick:async()=>{if(b){h(!0),l(null),r(null);try{const e={original_name:"updated_file_".concat(Date.now(),".pdf"),type:"SMLOUVA"},s=await(0,_.bx)(p,b,a,n,e);r({success:!0,endpoint:"PUT /order-v2/{id}/attachments/{att_id}",data:s})}catch(e){l({endpoint:"PUT /order-v2/{id}/attachments/{att_id}",message:e.message})}finally{h(!1)}}else l({endpoint:"PUT /order-v2/{id}/attachments/{att_id}",message:"Nejprve zadejte Attachment ID!"})},disabled:c||!n||!p||!b,children:[(0,T.jsx)("span",{className:"icon",children:"\u270f\ufe0f"}),(0,T.jsx)("span",{children:"UPDATE Attachment Metadata"})]}),(0,T.jsxs)(P,{onClick:async()=>{if(b){if(window.confirm("Opravdu chcete smazat p\u0159\xedlohu #".concat(b,"?"))){h(!0),l(null),r(null);try{const e=await(0,_.Lu)(p,b,a,n);r({success:!0,endpoint:"DELETE /order-v2/{id}/attachments/{att_id}",data:e})}catch(e){l({endpoint:"DELETE /order-v2/{id}/attachments/{att_id}",message:e.message})}finally{h(!1)}}}else l({endpoint:"DELETE /order-v2/{id}/attachments/{att_id}",message:"Nejprve zadejte Attachment ID!"})},disabled:c||!n||!p||!b,children:[(0,T.jsx)("span",{className:"icon",children:"\ud83d\uddd1\ufe0f"}),(0,T.jsx)("span",{children:"DELETE Order Attachment"})]}),(0,T.jsxs)(w,{onClick:async()=>{h(!0),l(null),r(null);try{const e=await(0,_.sK)(p,a,n);r({success:!0,endpoint:"POST /order-v2/{id}/attachments/verify",data:e})}catch(e){l({endpoint:"POST /order-v2/{id}/attachments/verify",message:e.message})}finally{h(!1)}},disabled:c||!n||!p,children:[(0,T.jsx)("span",{className:"icon",children:"\ud83d\udd0d"}),(0,T.jsx)("span",{children:"VERIFY Order Attachments"})]}),(0,T.jsxs)(C,{onClick:async()=>{h(!0),l(null),r(null);try{const e=await(0,_.gK)(a,n,50,0);r({success:!0,endpoint:"POST /order-v2/attachments/list",data:e})}catch(e){l({endpoint:"POST /order-v2/attachments/list",message:e.message})}finally{h(!1)}},disabled:c||!n,children:[(0,T.jsx)("span",{className:"icon",children:"\ud83c\udf10"}),(0,T.jsx)("span",{children:"LIST ALL Order Attachments"})]})]})]}),(0,T.jsxs)(S,{children:[(0,T.jsx)("h2",{children:"\ud83d\udcb0 Invoice Attachments API"}),(0,T.jsxs)(N,{children:[(0,T.jsxs)(I,{onClick:async()=>{if(D){h(!0),l(null),r(null);try{var e,s;const t=await(0,_.Eu)(j,p,D,a,n);r({success:!0,endpoint:"POST /order-v2/invoices/{id}/attachments/upload",data:t}),y((null===(e=t.data)||void 0===e?void 0:e.attachment_id)||(null===(s=t.data)||void 0===s?void 0:s.id)||"")}catch(t){l({endpoint:"POST /order-v2/invoices/{id}/attachments/upload",message:t.message})}finally{h(!1)}}else l({endpoint:"POST /order-v2/invoices/{id}/attachments/upload",message:"Nejprve vyberte soubor!"})},disabled:c||!n||!j||!D,children:[(0,T.jsx)("span",{className:"icon",children:"\u2b06\ufe0f"}),(0,T.jsx)("span",{children:"UPLOAD Invoice Attachment"})]}),(0,T.jsxs)(w,{onClick:async()=>{h(!0),l(null),r(null);try{const e=await(0,_.CX)(j,a,n);r({success:!0,endpoint:"GET /order-v2/invoices/{id}/attachments",data:e})}catch(e){l({endpoint:"GET /order-v2/invoices/{id}/attachments",message:e.message})}finally{h(!1)}},disabled:c||!n||!j,children:[(0,T.jsx)("span",{className:"icon",children:"\ud83d\udccb"}),(0,T.jsx)("span",{children:"LIST Invoice Attachments"})]}),(0,T.jsxs)(C,{onClick:async()=>{if(b){h(!0),l(null),r(null);try{await(0,_.TD)(j,b,a,n),r({success:!0,endpoint:"POST /order-v2/invoices/{id}/attachments/{att_id}/download",data:{message:"Soubor byl sta\u017een"}})}catch(e){l({endpoint:"POST /order-v2/invoices/{id}/attachments/{att_id}/download",message:e.message})}finally{h(!1)}}else l({endpoint:"POST /order-v2/invoices/{id}/attachments/{att_id}/download",message:"Nejprve zadejte Attachment ID!"})},disabled:c||!n||!j||!b,children:[(0,T.jsx)("span",{className:"icon",children:"\ud83d\udce5"}),(0,T.jsx)("span",{children:"DOWNLOAD Invoice Attachment"})]}),(0,T.jsxs)(z,{onClick:async()=>{if(b){h(!0),l(null),r(null);try{const e={original_name:"updated_invoice_".concat(Date.now(),".pdf"),type:"FAKTURA_VYUCTOVANI"},s=await(0,_.Kx)(j,b,a,n,e);r({success:!0,endpoint:"PUT /order-v2/invoices/{id}/attachments/{att_id}/update",data:s})}catch(e){l({endpoint:"PUT /order-v2/invoices/{id}/attachments/{att_id}/update",message:e.message})}finally{h(!1)}}else l({endpoint:"PUT /order-v2/invoices/{id}/attachments/{att_id}/update",message:"Nejprve zadejte Attachment ID!"})},disabled:c||!n||!j||!b,children:[(0,T.jsx)("span",{className:"icon",children:"\u270f\ufe0f"}),(0,T.jsx)("span",{children:"UPDATE Invoice Attachment"})]}),(0,T.jsxs)(P,{onClick:async()=>{if(b){if(window.confirm("Opravdu chcete smazat p\u0159\xedlohu faktury #".concat(b,"?"))){h(!0),l(null),r(null);try{const e=await(0,_.ao)(j,b,a,n);r({success:!0,endpoint:"DELETE /order-v2/invoices/{id}/attachments/{att_id}",data:e})}catch(e){l({endpoint:"DELETE /order-v2/invoices/{id}/attachments/{att_id}",message:e.message})}finally{h(!1)}}}else l({endpoint:"DELETE /order-v2/invoices/{id}/attachments/{att_id}",message:"Nejprve zadejte Attachment ID!"})},disabled:c||!n||!j||!b,children:[(0,T.jsx)("span",{className:"icon",children:"\ud83d\uddd1\ufe0f"}),(0,T.jsx)("span",{children:"DELETE Invoice Attachment"})]}),(0,T.jsxs)(C,{onClick:async()=>{h(!0),l(null),r(null);try{const e=await(0,_.dp)(a,n,50,0);r({success:!0,endpoint:"POST /order-v2/invoices/attachments/list",data:e})}catch(e){l({endpoint:"POST /order-v2/invoices/attachments/list",message:e.message})}finally{h(!1)}},disabled:c||!n,children:[(0,T.jsx)("span",{className:"icon",children:"\ud83c\udf10"}),(0,T.jsx)("span",{children:"LIST ALL Invoice Attachments"})]})]})]}),c&&(0,T.jsx)(L,{className:"info",children:"\u23f3 Odes\xedl\xe1m po\u017eadavek na backend..."}),i&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(L,{className:"success",children:["\u2705 ",(0,T.jsx)("strong",{children:"\xdasp\u011bch!"})," Endpoint: ",(0,T.jsx)("code",{children:i.endpoint})]}),i.stats&&(0,T.jsxs)(S,{style:{background:"linear-gradient(135deg, #dcfce7, #bbf7d0)",border:"2px solid #22c55e",marginTop:"20px"},children:[(0,T.jsx)("h2",{children:"\ud83d\udcca Statistiky z BE Response"}),(0,T.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[(0,T.jsxs)(L,{className:"info",style:{margin:0},children:[(0,T.jsx)("strong",{children:"Celkem objedn\xe1vek:"}),(0,T.jsx)("br",{}),(0,T.jsx)("span",{style:{fontSize:"24px",color:"#3b82f6"},children:i.stats.total})]}),(0,T.jsxs)(L,{className:"success",style:{margin:0},children:[(0,T.jsx)("strong",{children:"Nearchivovan\xe9:"}),(0,T.jsx)("br",{}),(0,T.jsx)("span",{style:{fontSize:"24px",color:"#22c55e"},children:i.stats.nonArchived})]}),(0,T.jsxs)(L,{className:"warning",style:{margin:0},children:[(0,T.jsx)("strong",{children:"Archivovan\xe9:"}),(0,T.jsx)("br",{}),(0,T.jsx)("span",{style:{fontSize:"24px",color:"#f59e0b"},children:i.stats.archived})]})]}),(0,T.jsxs)(L,{className:"info",children:[(0,T.jsx)("strong",{children:"\ud83d\udce1 Filtry poslan\xe9 do API:"}),(0,T.jsx)(U,{style:{marginTop:"10px"},children:JSON.stringify(i.filtersSent,null,2)})]}),i.frontendFilterApplied&&(0,T.jsxs)(L,{className:"warning",style:{background:"linear-gradient(135deg, #fef3c7, #fef08a)"},children:[(0,T.jsx)("strong",{children:"\ud83d\udd0d Frontend filtr aplikov\xe1n:"})," ",i.frontendFilterApplied,(0,T.jsx)("br",{}),(0,T.jsxs)("small",{children:["Z BE p\u0159i\u0161lo ",(0,T.jsx)("strong",{children:i.stats.totalFromBE})," objedn\xe1vek, po frontend filtraci z\u016fstalo ",(0,T.jsx)("strong",{children:i.stats.total})]})]}),Object.keys(i.stats.byYear).length>0&&(0,T.jsxs)(L,{className:"info",children:[(0,T.jsx)("strong",{children:"\ud83d\udcc5 Rozlo\u017een\xed podle roku:"}),(0,T.jsx)(U,{style:{marginTop:"10px"},children:JSON.stringify(i.stats.byYear,null,2)})]}),Object.keys(i.stats.byUser).length>0&&(0,T.jsxs)(L,{className:"info",children:[(0,T.jsx)("strong",{children:"\ud83d\udc64 Rozlo\u017een\xed podle u\u017eivatele:"}),(0,T.jsx)(U,{style:{marginTop:"10px"},children:JSON.stringify(i.stats.byUser,null,2)})]})]}),(0,T.jsx)(U,{children:((e,n,a,s)=>{if(null!==(e=i.data)&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.attachments&&Array.isArray(i.data.data.attachments)){const e=i.data.data.attachments,n=e.slice(-10);return JSON.stringify((0,g.A)((0,g.A)({},i.data),{},{data:(0,g.A)((0,g.A)({},i.data.data),{},{attachments:n,_note:"Zobrazeno posledn\xedch ".concat(n.length," z ").concat(e.length," p\u0159\xedloh")})}),null,2)}if(null!==(a=i.data)&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.orders&&Array.isArray(i.data.data.orders)){const e=i.data.data.orders,n=e.slice(-10);return JSON.stringify((0,g.A)((0,g.A)({},i.data),{},{data:(0,g.A)((0,g.A)({},i.data.data),{},{orders:n,_note:"Zobrazeno posledn\xedch ".concat(n.length," z ").concat(e.length," objedn\xe1vek")})}),null,2)}return JSON.stringify(i.data,null,2)})()})]}),o&&(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(L,{className:"error",children:["\u274c ",(0,T.jsx)("strong",{children:"Chyba!"})," Endpoint: ",(0,T.jsx)("code",{children:o.endpoint}),(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),o.message]})}),!i&&!o&&!c&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(L,{className:"info",children:["\u2139\ufe0f ",(0,T.jsx)("strong",{children:"N\xe1vod k pou\u017eit\xed:"}),(0,T.jsx)("br",{}),"1. Zkontrolujte, \u017ee jste p\u0159ihl\xe1\u0161eni (vid\xedte username a token naho\u0159e)",(0,T.jsx)("br",{}),"2. Zadejte Order ID pro testy GET/UPDATE/DELETE/TIMESTAMP",(0,T.jsx)("br",{}),"3. Pro Attachments: Vyberte soubor a zadejte Order ID / Invoice ID",(0,T.jsx)("br",{}),"4. Klikn\u011bte na tla\u010d\xedtko pro test konkr\xe9tn\xedho API endpointu",(0,T.jsx)("br",{}),"5. V\xfdsledek se zobraz\xed n\xed\u017ee",(0,T.jsx)("br",{}),(0,T.jsx)("br",{}),"\u26a0\ufe0f ",(0,T.jsx)("strong",{children:"Zn\xe1m\xe9 probl\xe9my (backend):"}),(0,T.jsx)("br",{}),"\u2022 ",(0,T.jsx)("code",{children:"LIST ALL Order Attachments"})," - Backend m\xe1 chybu v SQL (chyb\xed sloupec velikost_souboru)",(0,T.jsx)("br",{}),"\u2022 ",(0,T.jsx)("code",{children:"LIST ALL Invoice Attachments"})," - M\u016f\u017ee m\xedt stejn\xfd probl\xe9m",(0,T.jsx)("br",{}),"\u2192 Testujte nejprve jednotliv\xe9 operace (UPLOAD, LIST pro konkr\xe9tn\xed Order/Invoice)"]}),(0,T.jsxs)(S,{children:[(0,T.jsx)("h2",{children:"\ud83d\udce1 O\u010dek\xe1van\xe1 Response od BE (LIST Orders)"}),(0,T.jsx)(U,{children:'{\n  "status": "ok",\n  "debug": "Jsi tu - username: admin",\n  "message": "DEBUG: handle_order_v2_list reached successfully",\n  "input_received": {\n    "has_token": true,\n    "has_username": true,\n    "token_length": 24\n  }\n}'})]})]})]})})}}}]);
//# sourceMappingURL=6985.c7ecc595.chunk.js.map