{"version":3,"file":"static/js/2255.6584f169.chunk.js","mappings":"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","sources":["pages/MaintenancePage.js","services/globalSettingsApi.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport styled from '@emotion/styled';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTools, faSignOutAlt, faExclamationTriangle, faInfoCircle } from '@fortawesome/free-solid-svg-icons';\nimport { AuthContext } from '../context/AuthContext';\nimport { getMaintenanceMessage } from '../services/globalSettingsApi';\n\nconst PageContainer = styled.div`\n  min-height: 100vh;\n  background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  position: relative;\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: -50%;\n    left: -50%;\n    width: 200%;\n    height: 200%;\n    background: repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 40px,\n      rgba(255, 193, 7, 0.1) 40px,\n      rgba(255, 193, 7, 0.1) 80px\n    );\n    animation: slide 30s linear infinite;\n  }\n  \n  @keyframes slide {\n    0% { transform: translate(0, 0); }\n    100% { transform: translate(80px, 80px); }\n  }\n`;\n\nconst ContentBox = styled.div`\n  background: white;\n  border-radius: 1.5rem;\n  padding: 3rem 2.5rem;\n  max-width: 600px;\n  width: 100%;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  text-align: center;\n  position: relative;\n  z-index: 1;\n  \n  @media (max-width: 768px) {\n    padding: 2rem 1.5rem;\n  }\n`;\n\nconst LogoWrapper = styled.div`\n  margin-bottom: 2rem;\n  display: flex;\n  justify-content: center;\n  \n  img {\n    width: 200px;\n    height: auto;\n    filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.2));\n  }\n`;\n\nconst TitleWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  margin-bottom: 1rem;\n`;\n\nconst IconWrapper = styled.div`\n  font-size: 2.5rem;\n  color: #ffc107;\n  animation: pulse 2s ease-in-out infinite;\n  \n  @keyframes pulse {\n    0%, 100% { transform: scale(1); opacity: 1; }\n    50% { transform: scale(1.1); opacity: 0.8; }\n  }\n`;\n\nconst Title = styled.h1`\n  font-size: 1.75rem;\n  color: #1a1a1a;\n  margin: 0;\n  font-weight: 700;\n  white-space: nowrap;\n  \n  @media (max-width: 768px) {\n    font-size: 1.5rem;\n  }\n`;\n\nconst Subtitle = styled.p`\n  font-size: 1rem;\n  color: #64748b;\n  margin-bottom: 2rem;\n  line-height: 1.4;\n`;\n\nconst WarningBox = styled.div`\n  background: #fff8e1;\n  border-left: 4px solid #ffc107;\n  padding: 1rem 1.25rem;\n  border-radius: 0.5rem;\n  margin: 2rem 0;\n  text-align: left;\n  display: flex;\n  align-items: flex-start;\n  gap: 1rem;\n`;\n\nconst WarningIcon = styled.div`\n  color: #ffc107;\n  font-size: 1.5rem;\n  flex-shrink: 0;\n  margin-top: 0.125rem;\n`;\n\nconst WarningText = styled.div`\n  color: #78350f;\n  font-size: 0.875rem;\n  line-height: 1.5;\n\n  strong {\n    display: inline;\n    font-weight: 600;\n    margin-right: 0.5rem;\n  }\n`;const LogoutButton = styled.button`\n  background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);\n  color: white;\n  border: none;\n  padding: 1rem 2rem;\n  border-radius: 0.75rem;\n  font-weight: 600;\n  font-size: 1.125rem;\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  gap: 0.75rem;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 20px rgba(220, 38, 38, 0.4);\n  }\n  \n  &:active {\n    transform: translateY(0);\n  }\n`;\n\nconst InfoBox = styled.div`\n  background: #e0f2fe;\n  border-left: 4px solid #0284c7;\n  padding: 1rem 1.25rem;\n  border-radius: 0.5rem;\n  margin: 1.5rem 0;\n  text-align: left;\n  display: flex;\n  align-items: flex-start;\n  gap: 1rem;\n`;\n\nconst InfoIcon = styled.div`\n  color: #0284c7;\n  font-size: 1.5rem;\n  flex-shrink: 0;\n  margin-top: 0.125rem;\n`;\n\nconst InfoContent = styled.div`\n  color: #075985;\n  font-size: 0.9375rem;\n  line-height: 1.6;\n  white-space: pre-line;\n`;\n\nconst InfoText = styled.p`\n  font-size: 0.875rem;\n  color: #94a3b8;\n  margin-top: 1.5rem;\n  font-style: italic;\n`;\n\nconst MaintenancePage = () => {\n  const { logout, token, username } = useContext(AuthContext);\n  const [maintenanceMessage, setMaintenanceMessage] = useState('Syst√©m je moment√°lnƒõ v √∫dr≈æbƒõ. Omlouv√°me se za komplikace.');\n  const [loading, setLoading] = useState(true);\n  \n  useEffect(() => {\n    const loadMessage = async () => {\n      try {\n        if (token && username) {\n          const message = await getMaintenanceMessage(token, username);\n          if (message) {\n            setMaintenanceMessage(message);\n          }\n        }\n      } catch (error) {\n        console.error('Chyba p≈ôi naƒç√≠t√°n√≠ √∫dr≈æbov√© zpr√°vy:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadMessage();\n  }, [token, username]);\n  \n  return (\n    <PageContainer>\n      <ContentBox>\n        <LogoWrapper>\n          <img src={`${process.env.PUBLIC_URL}/logo_zzs_main.png`} alt=\"ZZS Logo\" />\n        </LogoWrapper>\n        \n        <TitleWrapper>\n          <IconWrapper>\n            <FontAwesomeIcon icon={faTools} />\n          </IconWrapper>\n          <Title>Syst√©m je v √∫dr≈æbƒõ</Title>\n        </TitleWrapper>\n        \n        {!loading && maintenanceMessage && (\n          <InfoBox>\n            <InfoIcon>\n              <FontAwesomeIcon icon={faInfoCircle} />\n            </InfoIcon>\n            <InfoContent>{maintenanceMessage}</InfoContent>\n          </InfoBox>\n        )}\n        \n        {loading && <Subtitle>Naƒç√≠t√°n√≠...</Subtitle>}\n        \n        <WarningBox>\n          <WarningIcon>\n            <FontAwesomeIcon icon={faExclamationTriangle} />\n          </WarningIcon>\n          <WarningText>\n            <strong>Omlouv√°me se za zp≈Øsoben√© komplikace.</strong> Pracujeme na vylep≈°en√≠ syst√©mu a brzy budeme zpƒõt v provozu. Dƒõkujeme za trpƒõlivost a pochopen√≠.\n          </WarningText>\n        </WarningBox>\n        \n        <LogoutButton onClick={() => logout()}>\n          <FontAwesomeIcon icon={faSignOutAlt} />\n          Odhl√°sit se\n        </LogoutButton>\n        \n        <InfoText>\n          Syst√©m je moment√°lnƒõ v re≈æimu √∫dr≈æby a nen√≠ dostupn√Ω pro bƒõ≈æn√© u≈æivatele.\n        </InfoText>\n      </ContentBox>\n    </PageContainer>\n  );\n};\n\nexport default MaintenancePage;\n","/**\n * API slu≈æba pro glob√°ln√≠ nastaven√≠ syst√©mu\n * Pattern: POST s token a username v body (jako OrderV2)\n */\n\nconst API_BASE_URL = (process.env.REACT_APP_API2_BASE_URL || '/api.eeo').replace(/\\/$/, '');\n\n/**\n * Naƒçte v≈°echna glob√°ln√≠ nastaven√≠\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<Object>} Objekt s nastaven√≠mi\n */\nexport const getGlobalSettings = async (token, username) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/global-settings`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token,\n        username,\n        operation: 'get'\n      })\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    const data = result.data || result;\n    \n    return data;\n    \n  } catch (error) {\n    console.error('Chyba p≈ôi naƒç√≠t√°n√≠ glob√°ln√≠ho nastaven√≠:', error);\n    throw error;\n  }\n};\n\n/**\n * Ulo≈æ√≠ glob√°ln√≠ nastaven√≠\n * @param {Object} settings - Objekt s nastaven√≠mi k ulo≈æen√≠\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<Object>} Response z API\n */\nexport const saveGlobalSettings = async (settings, token, username) => {\n  try {\n    const payload = {\n      token,\n      username,\n      operation: 'save',\n      settings\n    };\n    \n    console.group('üíæ SAVE GLOBAL SETTINGS');\n    console.log('Settings to save:', settings);\n    console.log('Full payload:', payload);\n    console.groupEnd();\n    \n    const response = await fetch(`${API_BASE_URL}/global-settings`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    return result;\n    \n  } catch (error) {\n    console.error('Chyba p≈ôi ukl√°d√°n√≠ glob√°ln√≠ho nastaven√≠:', error);\n    throw error;\n  }\n};\n\n/**\n * Naƒçte √∫dr≈æbovou zpr√°vu (dostupn√© pro v≈°echny p≈ôihl√°≈°en√© u≈æivatele)\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<string>} √ödr≈æbov√° zpr√°va\n */\nexport const getMaintenanceMessage = async (token, username) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/maintenance-message`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token,\n        username\n      })\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    return result.message || 'Syst√©m je moment√°lnƒõ v √∫dr≈æbƒõ. Omlouv√°me se za komplikace.';\n    \n  } catch (error) {\n    console.error('Chyba p≈ôi naƒç√≠t√°n√≠ √∫dr≈æbov√© zpr√°vy:', error);\n    throw error;\n  }\n};\n\n/**\n * Naƒçte jedno konkr√©tn√≠ nastaven√≠ podle kl√≠ƒçe\n * @param {string} key - Kl√≠ƒç nastaven√≠\n * @returns {Promise<any>} Hodnota nastaven√≠\n */\nexport const getSingleSetting = async (key) => {\n  try {\n    const token = localStorage.getItem('token');\n    \n    const response = await fetch(`${API_BASE_URL}/global-settings/${key}`, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const data = await response.json();\n    return data.value;\n    \n  } catch (error) {\n    console.error(`Chyba p≈ôi naƒç√≠t√°n√≠ nastaven√≠ ${key}:`, error);\n    throw error;\n  }\n};\n\n/**\n * Zkontroluje, zda je aktivn√≠ maintenance mode\n * @returns {Promise<boolean>} True pokud je √∫dr≈æba aktivn√≠\n */\nexport const checkMaintenanceMode = async () => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/maintenance-status`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    \n    if (!response.ok) {\n      return false;\n    }\n    \n    const data = await response.json();\n    return data.maintenance_mode === true || data.maintenance_mode === 1;\n    \n  } catch (error) {\n    console.error('Chyba p≈ôi kontrole maintenance mode:', error);\n    return false;\n  }\n};\n"],"names":["PageContainer","styled","div","_templateObject","_taggedTemplateLiteral","ContentBox","_templateObject2","LogoWrapper","_templateObject3","TitleWrapper","_templateObject4","IconWrapper","_templateObject5","Title","h1","_templateObject6","Subtitle","p","_templateObject7","WarningBox","_templateObject8","WarningIcon","_templateObject9","WarningText","_templateObject0","LogoutButton","button","_templateObject1","InfoBox","_templateObject10","InfoIcon","_templateObject11","InfoContent","_templateObject12","InfoText","_templateObject13","MaintenancePage","logout","token","username","useContext","AuthContext","maintenanceMessage","setMaintenanceMessage","useState","loading","setLoading","useEffect","async","message","getMaintenanceMessage","error","console","loadMessage","_jsx","children","_jsxs","src","concat","process","alt","FontAwesomeIcon","icon","faTools","faInfoCircle","faExclamationTriangle","onClick","faSignOutAlt","API_BASE_URL","replace","getGlobalSettings","response","fetch","method","headers","body","JSON","stringify","operation","ok","Error","status","statusText","result","json","data","saveGlobalSettings","settings","payload","group","log","groupEnd","checkMaintenanceMode","maintenance_mode"],"sourceRoot":""}