{"version":3,"file":"static/js/961.eaf320fe.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/briefcase.ts","../node_modules/lucide-react/src/icons/user.ts","../node_modules/lucide-react/src/icons/map-pin.ts","../node_modules/lucide-react/src/icons/mail.ts","../node_modules/lucide-react/src/icons/check.ts","../node_modules/lucide-react/src/icons/search.ts","../node_modules/lucide-react/src/icons/x.ts","../node_modules/lucide-react/src/icons/shield.ts","../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js","components/ResetPasswordModal.js","../node_modules/lucide-react/src/icons/award.ts","components/PasswordStrengthValidator.js","components/userManagement/UserManagementModal.js","components/UserContextMenu.js","pages/Users.js","../node_modules/lucide-react/src/icons/circle-x.ts","../node_modules/lucide-react/src/icons/key.ts","../node_modules/lucide-react/src/icons/circle-alert.ts","../node_modules/lucide-react/src/icons/circle-check-big.ts","../node_modules/lucide-react/src/icons/save.ts","../node_modules/lucide-react/src/icons/phone.ts","../node_modules/lucide-react/src/icons/building.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16', key: 'jecpp' }],\n  ['rect', { width: '20', height: '14', x: '2', y: '6', rx: '2', key: 'i6l2r4' }],\n];\n\n/**\n * @component @name Briefcase\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjBWNGEyIDIgMCAwIDAtMi0yaC00YTIgMiAwIDAgMC0yIDJ2MTYiIC8+CiAgPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjE0IiB4PSIyIiB5PSI2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/briefcase\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Briefcase = createLucideIcon('briefcase', __iconNode);\n\nexport default Briefcase;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('user', __iconNode);\n\nexport default User;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0',\n      key: '1r0f0z',\n    },\n  ],\n  ['circle', { cx: '12', cy: '10', r: '3', key: 'ilqhr7' }],\n];\n\n/**\n * @component @name MapPin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTBjMCA0Ljk5My01LjUzOSAxMC4xOTMtNy4zOTkgMTEuNzk5YTEgMSAwIDAgMS0xLjIwMiAwQzkuNTM5IDIwLjE5MyA0IDE0Ljk5MyA0IDEwYTggOCAwIDAgMSAxNiAwIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/map-pin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MapPin = createLucideIcon('map-pin', __iconNode);\n\nexport default MapPin;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7', key: '132q7q' }],\n  ['rect', { x: '2', y: '4', width: '20', height: '16', rx: '2', key: 'izxlao' }],\n];\n\n/**\n * @component @name Mail\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgNy04Ljk5MSA1LjcyN2EyIDIgMCAwIDEtMi4wMDkgMEwyIDciIC8+CiAgPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjE2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/mail\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Mail = createLucideIcon('mail', __iconNode);\n\nexport default Mail;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]];\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('check', __iconNode);\n\nexport default Check;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm21 21-4.34-4.34', key: '14j7rj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n];\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEgMjEtNC4zNC00LjM0IiAvPgogIDxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('search', __iconNode);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n];\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('x', __iconNode);\n\nexport default X;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n];\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('shield', __iconNode);\n\nexport default Shield;\n","import * as ReactJSXRuntime from 'react/jsx-runtime';\nimport { h as hasOwn, E as Emotion, c as createEmotionProps } from '../../dist/emotion-element-f0de968e.browser.esm.js';\nimport 'react';\nimport '@emotion/cache';\nimport '@babel/runtime/helpers/extends';\nimport '@emotion/weak-memoize';\nimport '../../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport 'hoist-non-react-statics';\nimport '@emotion/utils';\nimport '@emotion/serialize';\nimport '@emotion/use-insertion-effect-with-fallbacks';\n\nvar Fragment = ReactJSXRuntime.Fragment;\nvar jsx = function jsx(type, props, key) {\n  if (!hasOwn.call(props, 'css')) {\n    return ReactJSXRuntime.jsx(type, props, key);\n  }\n\n  return ReactJSXRuntime.jsx(Emotion, createEmotionProps(type, props), key);\n};\nvar jsxs = function jsxs(type, props, key) {\n  if (!hasOwn.call(props, 'css')) {\n    return ReactJSXRuntime.jsxs(type, props, key);\n  }\n\n  return ReactJSXRuntime.jsxs(Emotion, createEmotionProps(type, props), key);\n};\n\nexport { Fragment, jsx, jsxs };\n","/** @jsxImportSource @emotion/react */\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { css } from '@emotion/react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEye, faEyeSlash, faCheckCircle, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\n\nconst overlayStyle = css`\n  position: fixed;\n  inset: 0;\n  background-color: rgba(0, 0, 0, 0.4);\n  backdrop-filter: blur(12px);\n  -webkit-backdrop-filter: blur(12px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 999999;\n  animation: fadeIn 0.2s ease-out;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n\nconst dialogStyle = css`\n  background: #fff;\n  padding: 20px;\n  border-radius: 12px;\n  box-shadow: 0 10px 30px rgba(2, 6, 23, 0.25);\n  max-width: 92%;\n  width: 500px;\n  box-sizing: border-box;\n  font-family: var(--app-font-family, Roboto, -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, 'Inter', 'Helvetica Neue', Arial, sans-serif);\n`;\n\nconst headerStyle = css`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 12px;\n  border-bottom: 2px solid #eef2f7;\n  margin-bottom: 16px;\n`;\n\nconst titleStyle = css`\n  font-size: 18px;\n  font-weight: 700;\n  color: #111827;\n`;\n\nconst closeBtnStyle = css`\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  color: #6b7280;\n  padding: 6px;\n  border-radius: 6px;\n  &:hover {\n    background: #f3f4f6;\n    color: #374151;\n  }\n`;\n\nconst formGroupStyle = css`\n  margin-bottom: 20px;\n`;\n\nconst labelStyle = css`\n  display: block;\n  font-weight: 600;\n  color: #374151;\n  margin-bottom: 8px;\n  font-size: 14px;\n`;\n\nconst inputWrapperStyle = css`\n  position: relative;\n  display: flex;\n  align-items: center;\n`;\n\nconst inputStyle = css`\n  width: 100%;\n  padding: 10px 40px 10px 12px;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 14px;\n  transition: all 0.2s;\n  box-sizing: border-box;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &.error {\n    border-color: #dc2626;\n  }\n\n  &.success {\n    border-color: #16a34a;\n  }\n`;\n\nconst toggleButtonStyle = css`\n  position: absolute;\n  right: 10px;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  color: #6b7280;\n  padding: 6px;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    color: #374151;\n  }\n`;\n\nconst requirementsStyle = css`\n  margin-top: 12px;\n  padding: 12px;\n  background: #f9fafb;\n  border-radius: 8px;\n  border: 1px solid #e5e7eb;\n`;\n\nconst requirementsTitleStyle = css`\n  font-size: 13px;\n  font-weight: 600;\n  color: #374151;\n  margin-bottom: 8px;\n`;\n\nconst requirementItemStyle = css`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 13px;\n  color: #6b7280;\n  margin-bottom: 4px;\n\n  &.valid {\n    color: #16a34a;\n  }\n\n  &.invalid {\n    color: #dc2626;\n  }\n`;\n\nconst errorMessageStyle = css`\n  color: #dc2626;\n  font-size: 13px;\n  margin-top: 8px;\n  padding: 8px 12px;\n  background: #fef2f2;\n  border-radius: 6px;\n  border: 1px solid #fecaca;\n`;\n\nconst userInfoStyle = css`\n  background: #eff6ff;\n  padding: 12px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  border: 1px solid #bfdbfe;\n`;\n\nconst userInfoLabelStyle = css`\n  font-size: 12px;\n  font-weight: 600;\n  color: #1e40af;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  margin-bottom: 4px;\n`;\n\nconst userInfoValueStyle = css`\n  font-size: 14px;\n  color: #1e293b;\n  font-weight: 500;\n`;\n\nconst buttonsStyle = css`\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 24px;\n`;\n\nconst cancelButtonStyle = css`\n  background: white;\n  color: #374151;\n  border: 2px solid #d1d5db;\n  padding: 10px 18px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  transition: all 0.2s;\n\n  &:hover {\n    background: #f8fafc;\n    border-color: #9ca3af;\n  }\n`;\n\nconst confirmButtonStyle = css`\n  background: #3b82f6;\n  color: white;\n  border: 2px solid #3b82f6;\n  padding: 10px 18px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  transition: all 0.2s;\n\n  &:hover:not(:disabled) {\n    background: #2563eb;\n    border-color: #2563eb;\n  }\n\n  &:disabled {\n    background: #9ca3af;\n    border-color: #9ca3af;\n    cursor: not-allowed;\n    opacity: 0.6;\n  }\n`;\n\nconst validatePassword = (password) => {\n  return {\n    minLength: password.length >= 8,\n    hasUpperCase: /[A-Z]/.test(password),\n    hasLowerCase: /[a-z]/.test(password),\n    hasNumber: /[0-9]/.test(password),\n    hasSpecialChar: /[!@#$%^&*(),.?\":{}|<>]/.test(password)\n  };\n};\n\nconst ResetPasswordModal = ({ isOpen, onClose, onConfirm, userData }) => {\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [error, setError] = useState('');\n  const [touched, setTouched] = useState({ password: false, confirm: false });\n\n  useEffect(() => {\n    if (!isOpen) {\n      // Reset pi zaven\n      setPassword('');\n      setConfirmPassword('');\n      setShowPassword(false);\n      setShowConfirmPassword(false);\n      setError('');\n      setTouched({ password: false, confirm: false });\n    }\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  const validation = validatePassword(password);\n  const isPasswordValid = Object.values(validation).every(v => v);\n  const doPasswordsMatch = password === confirmPassword;\n  const isFormValid = isPasswordValid && doPasswordsMatch && password.length > 0;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!isFormValid) {\n      setError('Prosm opravte chyby ve formuli');\n      return;\n    }\n\n    onConfirm(password);\n  };\n\n  const handlePasswordBlur = () => {\n    setTouched(prev => ({ ...prev, password: true }));\n  };\n\n  const handleConfirmBlur = () => {\n    setTouched(prev => ({ ...prev, confirm: true }));\n  };\n\n  const getInputClassName = (field) => {\n    if (!touched[field]) return '';\n\n    if (field === 'password') {\n      return isPasswordValid ? 'success' : 'error';\n    }\n\n    if (field === 'confirm') {\n      return doPasswordsMatch && confirmPassword.length > 0 ? 'success' : 'error';\n    }\n\n    return '';\n  };\n\n  return ReactDOM.createPortal(\n    <div css={overlayStyle} role=\"dialog\" aria-modal=\"true\">\n      <div css={dialogStyle}>\n        <div css={headerStyle}>\n          <div css={titleStyle}>Reset hesla</div>\n          <button aria-label=\"Zavt\" css={closeBtnStyle} onClick={onClose}>\n            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n              <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n            </svg>\n          </button>\n        </div>\n\n        {userData && (\n          <div css={userInfoStyle}>\n            <div css={userInfoLabelStyle}>Uivatel:</div>\n            <div css={userInfoValueStyle} style={{ fontSize: '16px', fontWeight: 700 }}>\n              {userData.fullName || `${userData.surname || ''} ${userData.name || ''}`.trim() || userData.username}\n              {userData.username && (\n                <span style={{ fontWeight: 500, color: '#64748b', marginLeft: '8px' }}>\n                  ({userData.username})\n                </span>\n              )}\n            </div>\n            {userData.email && userData.email !== 'N/A' && (\n              <div css={userInfoValueStyle} style={{ fontSize: '13px', color: '#64748b', marginTop: '4px', fontWeight: 400 }}>\n                {userData.email}\n              </div>\n            )}\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit}>\n          <div css={formGroupStyle}>\n            <label css={labelStyle}>Nov heslo *</label>\n            <div css={inputWrapperStyle}>\n              <input\n                css={inputStyle}\n                type={showPassword ? 'text' : 'password'}\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                onBlur={handlePasswordBlur}\n                placeholder=\"Zadejte nov heslo\"\n                className={getInputClassName('password')}\n                autoComplete=\"new-password\"\n              />\n              <button\n                type=\"button\"\n                css={toggleButtonStyle}\n                onClick={() => setShowPassword(!showPassword)}\n                aria-label={showPassword ? 'Skrt heslo' : 'Zobrazit heslo'}\n              >\n                <FontAwesomeIcon icon={showPassword ? faEyeSlash : faEye} />\n              </button>\n            </div>\n\n            <div css={requirementsStyle}>\n              <div css={requirementsTitleStyle}>Poadavky na heslo:</div>\n              <div css={requirementItemStyle} className={validation.minLength ? 'valid' : 'invalid'}>\n                <FontAwesomeIcon icon={validation.minLength ? faCheckCircle : faTimesCircle} />\n                Minimln 8 znak\n              </div>\n              <div css={requirementItemStyle} className={validation.hasUpperCase ? 'valid' : 'invalid'}>\n                <FontAwesomeIcon icon={validation.hasUpperCase ? faCheckCircle : faTimesCircle} />\n                Alespo jedno velk psmeno (A-Z)\n              </div>\n              <div css={requirementItemStyle} className={validation.hasLowerCase ? 'valid' : 'invalid'}>\n                <FontAwesomeIcon icon={validation.hasLowerCase ? faCheckCircle : faTimesCircle} />\n                Alespo jedno mal psmeno (a-z)\n              </div>\n              <div css={requirementItemStyle} className={validation.hasNumber ? 'valid' : 'invalid'}>\n                <FontAwesomeIcon icon={validation.hasNumber ? faCheckCircle : faTimesCircle} />\n                Alespo jedna slice (0-9)\n              </div>\n              <div css={requirementItemStyle} className={validation.hasSpecialChar ? 'valid' : 'invalid'}>\n                <FontAwesomeIcon icon={validation.hasSpecialChar ? faCheckCircle : faTimesCircle} />\n                Alespo jeden speciln znak (!@#$%^&*...)\n              </div>\n            </div>\n          </div>\n\n          <div css={formGroupStyle}>\n            <label css={labelStyle}>Potvrdit heslo *</label>\n            <div css={inputWrapperStyle}>\n              <input\n                css={inputStyle}\n                type={showConfirmPassword ? 'text' : 'password'}\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                onBlur={handleConfirmBlur}\n                placeholder=\"Zadejte heslo znovu\"\n                className={getInputClassName('confirm')}\n                autoComplete=\"new-password\"\n              />\n              <button\n                type=\"button\"\n                css={toggleButtonStyle}\n                onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                aria-label={showConfirmPassword ? 'Skrt heslo' : 'Zobrazit heslo'}\n              >\n                <FontAwesomeIcon icon={showConfirmPassword ? faEyeSlash : faEye} />\n              </button>\n            </div>\n            {touched.confirm && !doPasswordsMatch && confirmPassword.length > 0 && (\n              <div css={errorMessageStyle}>\n                Hesla se neshoduj\n              </div>\n            )}\n          </div>\n\n          {error && (\n            <div css={errorMessageStyle}>\n              {error}\n            </div>\n          )}\n\n          <div css={buttonsStyle}>\n            <button type=\"button\" css={cancelButtonStyle} onClick={onClose}>\n              Zruit\n            </button>\n            <button type=\"submit\" css={confirmButtonStyle} disabled={!isFormValid}>\n              Resetovat heslo\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>,\n    document.body\n  );\n};\n\nexport default ResetPasswordModal;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526',\n      key: '1yiouv',\n    },\n  ],\n  ['circle', { cx: '12', cy: '8', r: '6', key: '1vp47v' }],\n];\n\n/**\n * @component @name Award\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUuNDc3IDEyLjg5IDEuNTE1IDguNTI2YS41LjUgMCAwIDEtLjgxLjQ3bC0zLjU4LTIuNjg3YTEgMSAwIDAgMC0xLjE5NyAwbC0zLjU4NiAyLjY4NmEuNS41IDAgMCAxLS44MS0uNDY5bDEuNTE0LTguNTI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iOCIgcj0iNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/award\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Award = createLucideIcon('award', __iconNode);\n\nexport default Award;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport { CheckCircle, XCircle } from 'lucide-react';\n\nconst ValidatorContainer = styled.div`\n  margin-top: 0.75rem;\n`;\n\nconst StrengthBar = styled.div`\n  width: 100%;\n  height: 6px;\n  background: #e5e7eb;\n  border-radius: 3px;\n  overflow: hidden;\n  margin-bottom: 0.5rem;\n`;\n\nconst StrengthFill = styled.div`\n  height: 100%;\n  background: ${props => {\n    switch (props.strength) {\n      case 'weak': return '#ef4444';\n      case 'medium': return '#f59e0b';\n      case 'strong': return '#10b981';\n      default: return '#e5e7eb';\n    }\n  }};\n  width: ${props => {\n    switch (props.strength) {\n      case 'weak': return '33%';\n      case 'medium': return '66%';\n      case 'strong': return '100%';\n      default: return '0%';\n    }\n  }};\n  transition: all 0.3s ease;\n`;\n\nconst StrengthText = styled.div`\n  font-size: 0.75rem;\n  color: ${props => {\n    switch (props.strength) {\n      case 'weak': return '#ef4444';\n      case 'medium': return '#f59e0b';\n      case 'strong': return '#10b981';\n      default: return '#6b7280';\n    }\n  }};\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n`;\n\nconst RequirementsList = styled.ul`\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n`;\n\nconst Requirement = styled.li`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.8125rem;\n  color: ${props => props.met ? '#10b981' : '#6b7280'};\n  transition: color 0.2s ease;\n`;\n\n/**\n * Vpoet sly hesla\n * @param {string} password - Heslo k validaci\n * @returns {string|null} - 'weak', 'medium', 'strong' nebo null\n */\nexport const getPasswordStrength = (password) => {\n  if (!password) return null;\n\n  let score = 0;\n\n  // Dlka\n  if (password.length >= 8) score++;\n  if (password.length >= 12) score++;\n\n  // Typy znak\n  if (/[a-z]/.test(password)) score++;\n  if (/[A-Z]/.test(password)) score++;\n  if (/[0-9]/.test(password)) score++;\n  if (/[^A-Za-z0-9]/.test(password)) score++;\n\n  if (score <= 2) return 'weak';\n  if (score <= 4) return 'medium';\n  return 'strong';\n};\n\n/**\n * Zskn poadavk na heslo a jejich splnn\n * @param {string} password - Heslo k validaci\n * @returns {Array} - Pole poadavk s informac o splnn\n */\nexport const getPasswordRequirements = (password) => {\n  return [\n    { text: 'Alespo 8 znak', met: password.length >= 8 },\n    { text: 'Obsahuje mal psmeno', met: /[a-z]/.test(password) },\n    { text: 'Obsahuje velk psmeno', met: /[A-Z]/.test(password) },\n    { text: 'Obsahuje slo', met: /[0-9]/.test(password) },\n    { text: 'Obsahuje speciln znak', met: /[^A-Za-z0-9]/.test(password) }\n  ];\n};\n\n/**\n * Validace hesla - vrac true pokud je heslo dostaten siln\n * @param {string} password - Heslo k validaci\n * @returns {boolean} - True pokud heslo spluje minimln poadavky\n */\nexport const validatePasswordStrength = (password) => {\n  if (!password || password.length < 8) return false;\n\n  const requirements = getPasswordRequirements(password);\n  // Heslo mus splovat alespo prvn poadavek (8 znak) a alespo 3 dal\n  const metCount = requirements.filter(r => r.met).length;\n  return metCount >= 4; // 8 znak + 3 z dalch poadavk\n};\n\n/**\n * Komponenta pro zobrazen sly hesla a poadavk\n */\nconst PasswordStrengthValidator = ({ password, showRequirements = true }) => {\n  if (!password) return null;\n\n  const strength = getPasswordStrength(password);\n  const requirements = getPasswordRequirements(password);\n  const isValid = validatePasswordStrength(password);\n\n  const strengthLabels = {\n    weak: 'Sla hesla: Slab',\n    medium: 'Sla hesla: Stedn',\n    strong: 'Sla hesla: Siln'\n  };\n\n  return (\n    <ValidatorContainer>\n      <StrengthBar>\n        <StrengthFill strength={strength} />\n      </StrengthBar>\n\n      <StrengthText strength={strength}>\n        {strengthLabels[strength]}\n      </StrengthText>\n\n      {/* Zobrazit poadavky pouze pokud heslo nen validn */}\n      {showRequirements && !isValid && (\n        <RequirementsList>\n          {requirements.map((req, index) => (\n            <Requirement key={index} met={req.met}>\n              {req.met ? (\n                <CheckCircle size={14} />\n              ) : (\n                <XCircle size={14} />\n              )}\n              {req.text}\n            </Requirement>\n          ))}\n        </RequirementsList>\n      )}\n    </ValidatorContainer>\n  );\n};\n\nexport default PasswordStrengthValidator;\n","import React, { useState, useEffect, useContext, useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from '@emotion/styled';\nimport { keyframes } from '@emotion/react';\nimport { AuthContext } from '../../context/AuthContext';\nimport { useActivity } from '../../context/ActivityContext';\nimport {\n  createUser,\n  updateUser,\n  fetchUserDetail,\n  fetchLokality,\n  fetchPozice,\n  fetchOrganizace,\n  fetchRole,\n  fetchRoleDetail,\n  fetchPrava,\n  fetchUseky\n} from '../../services/api2auth';\nimport { User, Shield, Building, X, Save, AlertCircle, Check, Mail, Phone, Key, MapPin, Briefcase, Award, Search } from 'lucide-react';\nimport { CustomSelect } from '../CustomSelect';\nimport PasswordStrengthValidator, { validatePasswordStrength } from '../PasswordStrengthValidator';\n\n// ============================================================================\n// ANIMACE\n// ============================================================================\n\nconst slideInUp = keyframes`\n  0% {\n    opacity: 0;\n    transform: translateY(20px) scale(0.95);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n`;\n\n// ============================================================================\n// STYLED COMPONENTS - PODLE ContactEditDialog.js\n// ============================================================================\n\nconst ModalOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.4);\n  backdrop-filter: blur(12px);\n  -webkit-backdrop-filter: blur(12px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  padding: 1rem;\n  animation: fadeIn 0.2s ease-out;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n\nconst ModalContainer = styled.div`\n  background: white;\n  border-radius: 16px;\n  width: 100%;\n  max-width: 900px;\n  max-height: 92vh;\n  overflow: hidden;\n  box-shadow:\n    0 25px 50px -12px rgba(0, 0, 0, 0.25),\n    0 0 0 1px rgba(255, 255, 255, 0.2);\n  animation: ${slideInUp} 0.4s cubic-bezier(0.16, 1, 0.3, 1);\n`;\n\nconst ModalHeader = styled.div`\n  padding: 1.25rem 1.5rem 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #1f2a57 0%, #2563eb 70%, #1d4ed8 100%);\n  color: white;\n  position: relative;\n  overflow: hidden;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: url('data:image/svg+xml,<svg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><g fill=\"%23ffffff\" fill-opacity=\"0.05\"><circle cx=\"30\" cy=\"30\" r=\"1\"/></g></svg>');\n    pointer-events: none;\n  }\n`;\n\nconst ModalHeaderContent = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  position: relative;\n  z-index: 1;\n`;\n\nconst HeaderLeft = styled.div`\n  flex: 1;\n`;\n\nconst ModalTitle = styled.h2`\n  margin: 0;\n  color: white;\n  font-size: 1.25rem;\n  font-weight: 700;\n  line-height: 1.2;\n`;\n\nconst ModalSubtitle = styled.p`\n  margin: 0.375rem 0 0 0;\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 0.8125rem;\n  font-weight: 400;\n`;\n\nconst CloseButton = styled.button`\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  color: white;\n  cursor: pointer;\n  padding: 0.625rem;\n  border-radius: 10px;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n    transform: scale(1.05);\n  }\n`;\n\nconst TabsContainer = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  padding: 1rem 1.5rem 0;\n  background: white;\n  border-bottom: 2px solid #e2e8f0;\n`;\n\nconst Tab = styled.button`\n  padding: 0.625rem 1.25rem;\n  border: none;\n  background: ${props => props.$active ? 'linear-gradient(135deg, #3b82f6, #1d4ed8)' : 'transparent'};\n  color: ${props => props.$active ? 'white' : '#64748b'};\n  font-weight: ${props => props.$active ? '600' : '500'};\n  font-size: 0.8125rem;\n  cursor: pointer;\n  border-radius: 10px 10px 0 0;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  position: relative;\n\n  &:hover {\n    background: ${props => props.$active ? 'linear-gradient(135deg, #3b82f6, #1d4ed8)' : '#f1f5f9'};\n    color: ${props => props.$active ? 'white' : '#3b82f6'};\n  }\n\n  ${props => props.$active && `\n    &::after {\n      content: '';\n      position: absolute;\n      bottom: -2px;\n      left: 0;\n      right: 0;\n      height: 2px;\n      background: linear-gradient(90deg, #3b82f6, #1d4ed8);\n    }\n  `}\n`;\n\nconst ModalBody = styled.div`\n  max-height: calc(92vh - 220px);\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: #f8fafc;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: #cbd5e1;\n    border-radius: 4px;\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background: #94a3b8;\n  }\n`;\n\nconst FormSection = styled.div`\n  padding: 1.25rem 1.5rem;\n  background: white;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid #f1f5f9;\n  }\n`;\n\nconst FormGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem 1.25rem; /* row-gap column-gap */\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst FormGrid3Col = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1rem 1.25rem; /* row-gap column-gap */\n\n  @media (max-width: 1024px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst FormGrid4Col = styled.div`\n  display: grid;\n  grid-template-columns: 0.7fr 1.5fr 1.5fr 0.8fr; /* Titul ped (u) | Pjmen | Jmno | Titul za (u) */\n  gap: 1rem 1.25rem; /* row-gap column-gap */\n\n  @media (max-width: 1024px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  grid-column: ${props => props.$fullWidth ? 'span 2' : 'span 1'};\n\n  @media (max-width: 768px) {\n    grid-column: span 1;\n  }\n`;\n\nconst Label = styled.label`\n  font-weight: 600;\n  font-size: 0.8125rem;\n  color: #374151;\n  margin-bottom: 0.375rem;\n  display: block;\n\n  &::after {\n    content: ${props => props.required ? '\" *\"' : '\"\"'};\n    color: #dc2626;\n    margin-left: 2px;\n  }\n`;\n\nconst Required = styled.span`\n  color: #dc2626;\n`;\n\n// Wrapper pro input s ikonou\nconst InputWithIcon = styled.div`\n  position: relative;\n  width: 100%;\n\n  > svg {\n    position: absolute;\n    left: 0.625rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 15px !important;\n    height: 15px !important;\n  }\n`;\n\nconst Input = styled.input`\n  width: 100%;\n  box-sizing: border-box;\n  padding: ${props => props.hasIcon ? '0.625rem 0.625rem 0.625rem 2.25rem' : '0.625rem'};\n  border: 2px solid ${props => props.hasError ? '#dc2626' : '#e5e7eb'};\n  border-radius: 8px;\n  font-size: 0.8125rem;\n  transition: all 0.2s ease;\n  background: ${props => props.hasError ? '#fef2f2' : '#ffffff'};\n\n  /* Zvraznn vyplnn hodnoty vs. placeholder - sladno s CustomSelect */\n  color: ${props => props.value && props.value !== '' ? '#1f2937' : '#6b7280'};\n  font-weight: ${props => {\n    if (props.disabled) return '400';\n    return props.value && props.value !== '' ? '600' : '400';\n  }};\n\n  &:focus {\n    outline: none;\n    border-color: ${props => props.hasError ? '#dc2626' : '#3b82f6'};\n    box-shadow: 0 0 0 3px ${props => props.hasError ? 'rgba(220, 38, 38, 0.1)' : 'rgba(59, 130, 246, 0.1)'};\n  }\n\n  &:focus + svg {\n    color: ${props => props.hasError ? '#dc2626' : '#3b82f6'};\n  }\n\n  &:disabled {\n    background: #f9fafb;\n    color: #6b7280;\n    cursor: not-allowed;\n  }\n\n  /* Sjednocen placeholder barvy se selecty */\n  &::placeholder {\n    color: #9ca3af;\n    opacity: 1;\n    font-weight: 400;\n  }\n`;\n\nconst SearchInputWrapper = styled.div`\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n\n  input {\n    padding-left: 2.25rem;\n    padding-right: ${props => props.hasValue ? '2.25rem' : '0.625rem'};\n  }\n\n  .search-icon {\n    position: absolute;\n    left: 0.625rem;\n    color: #9ca3af;\n    pointer-events: none;\n  }\n\n  .clear-icon {\n    position: absolute;\n    right: 0.625rem;\n    color: #9ca3af;\n    cursor: pointer;\n    transition: color 0.2s;\n\n    &:hover {\n      color: #dc2626;\n    }\n  }\n`;\n\nconst ErrorText = styled.span`\n  font-size: 0.75rem;\n  color: #dc2626;\n  margin-top: 0.25rem;\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n`;\n\nconst SectionHeader = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.625rem;\n  margin-bottom: 1rem;\n  padding-bottom: 0.625rem;\n  border-bottom: 1px solid #e5e7eb;\n`;\n\nconst SectionIcon = styled.div`\n  width: 1.75rem;\n  height: 1.75rem;\n  border-radius: 8px;\n  background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.8125rem;\n`;\n\nconst SectionTitle = styled.h3`\n  margin: 1.5rem 0 0.875rem 0;\n  padding-bottom: 0.5rem;\n  color: #64748b;\n  font-size: 0.8125rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  border-bottom: 1px solid #e5e7eb;\n\n  &:first-child {\n    margin-top: 0;\n  }\n`;\n\nconst CheckboxGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));\n  gap: 0.625rem;\n  max-height: 350px;\n  overflow-y: auto;\n  padding: 0.875rem;\n  background: #f9fafb;\n  border-radius: 8px;\n  border: 2px solid #e5e7eb;\n`;\n\n// Toggle Switch pro Aktivn checkbox\nconst ToggleSwitch = styled.label`\n  position: relative;\n  display: inline-block;\n  width: 56px;\n  height: 28px;\n  cursor: pointer;\n  flex-shrink: 0;\n\n  input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n\n  span {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #cbd5e1;\n    border-radius: 28px;\n    transition: all 0.3s ease;\n\n    &::before {\n      content: '';\n      position: absolute;\n      height: 20px;\n      width: 20px;\n      left: 4px;\n      bottom: 4px;\n      background-color: white;\n      border-radius: 50%;\n      transition: all 0.3s ease;\n    }\n  }\n\n  input:checked + span {\n    background-color: #3b82f6;\n  }\n\n  input:checked + span::before {\n    transform: translateX(28px);\n  }\n\n  input:focus + span {\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n`;\n\nconst ToggleContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n`;\n\nconst ToggleLabel = styled.div`\n  font-size: 0.8125rem;\n  color: ${props => props.$active ? '#16a34a' : '#64748b'};\n  font-weight: ${props => props.$active ? '600' : '400'};\n  transition: all 0.3s ease;\n`;\n\nconst CheckboxLabel = styled.label`\n  display: flex;\n  align-items: flex-start;\n  gap: 0.625rem;\n  padding: 0.625rem;\n  background: white;\n  border-radius: 8px;\n  border: 2px solid ${props => props.$checked ? '#3b82f6' : '#e5e7eb'};\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    border-color: #3b82f6;\n    background: #f0f9ff;\n  }\n`;\n\nconst Checkbox = styled.input`\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n  margin-top: 2px;\n  accent-color: #3b82f6;\n`;\n\nconst CheckboxContent = styled.div`\n  flex: 1;\n`;\n\nconst CheckboxTitle = styled.div`\n  font-weight: 600;\n  color: #1e293b;\n  font-size: 0.8125rem;\n  margin-bottom: 0.25rem;\n`;\n\nconst CheckboxDescription = styled.div`\n  font-size: 0.75rem;\n  color: #64748b;\n  line-height: 1.4;\n`;\n\nconst ModalFooter = styled.div`\n  padding: 1.25rem 1.5rem;\n  background: #f8fafc;\n  border-top: 1px solid #e2e8f0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst FooterLeft = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.8125rem;\n  color: #64748b;\n`;\n\nconst FooterRight = styled.div`\n  display: flex;\n  gap: 0.875rem;\n`;\n\nconst Button = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.625rem 1.25rem;\n  border-radius: 10px;\n  font-weight: 600;\n  font-size: 0.8125rem;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\n  &.cancel {\n    background: white;\n    color: #64748b;\n    border: 2px solid #e2e8f0;\n\n    &:hover {\n      background: #f8fafc;\n      border-color: #cbd5e1;\n    }\n  }\n\n  &.primary {\n    background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n    color: white;\n    border: 2px solid transparent;\n\n    &:hover:not(:disabled) {\n      transform: translateY(-2px);\n      box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);\n    }\n\n    &:disabled {\n      background: #e2e8f0;\n      color: #64748b;\n      cursor: not-allowed;\n      transform: none;\n      box-shadow: none;\n    }\n  }\n\n  /*  Success stav po spnm uloen */\n  &.success {\n    background: linear-gradient(135deg, #10b981, #059669) !important;\n    color: white;\n    border: 2px solid transparent;\n    animation: successPulse 0.5s ease-out;\n\n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 10px 20px rgba(16, 185, 129, 0.4);\n    }\n  }\n\n  @keyframes successPulse {\n    0% {\n      transform: scale(1);\n    }\n    50% {\n      transform: scale(1.05);\n    }\n    100% {\n      transform: scale(1);\n    }\n  }\n`;\n\nconst LoadingSpinner = styled.div`\n  width: 18px;\n  height: 18px;\n  border: 3px solid rgba(255, 255, 255, 0.3);\n  border-top-color: white;\n  border-radius: 50%;\n  animation: spin 0.8s linear infinite;\n\n  @keyframes spin {\n    to { transform: rotate(360deg); }\n  }\n`;\n\nconst SuccessMessage = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.625rem;\n  padding: 0.875rem;\n  background: #dcfce7;\n  border: 2px solid #86efac;\n  border-radius: 8px;\n  color: #166534;\n  font-weight: 500;\n  font-size: 0.8125rem;\n  margin-bottom: 0.875rem;\n`;\n\nconst ErrorMessage = styled.div`\n  display: flex;\n  align-items: flex-start;\n  gap: 0.625rem;\n  padding: 0.875rem;\n  background: #fee2e2;\n  border: 2px solid #fca5a5;\n  border-radius: 8px;\n  color: #991b1b;\n  font-weight: 500;\n  margin-bottom: 0.875rem;\n  white-space: pre-wrap;\n  word-break: break-word;\n  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n  font-size: 0.75rem;\n  max-height: 350px;\n  overflow-y: auto;\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 2rem 1rem;\n  color: #9ca3af;\n  font-size: 0.8125rem;\n`;\n\nconst FilterCheckboxLabel = styled.label`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n  color: #4b5563;\n  cursor: pointer;\n  user-select: none;\n  white-space: nowrap;\n  padding: 0.5rem 0.75rem;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n  background: ${props => props.$checked ? '#eff6ff' : 'white'};\n  border: 1px solid ${props => props.$checked ? '#3b82f6' : '#e5e7eb'};\n\n  &:hover {\n    background: ${props => props.$checked ? '#dbeafe' : '#f9fafb'};\n    border-color: ${props => props.$checked ? '#2563eb' : '#d1d5db'};\n  }\n\n  input[type=\"checkbox\"] {\n    cursor: pointer;\n    width: 16px;\n    height: 16px;\n    accent-color: #3b82f6;\n  }\n\n  span {\n    font-weight: ${props => props.$checked ? '600' : '500'};\n    color: ${props => props.$checked ? '#1e40af' : '#4b5563'};\n  }\n`;\n\n// ============================================================================\n// MAIN COMPONENT\n// ============================================================================\n\nconst UserManagementModal = ({\n  isOpen,\n  onClose,\n  mode, // 'create' | 'edit'\n  userData = null,\n  onSuccess,\n  addToast\n}) => {\n  const { token, user, userDetail } = useContext(AuthContext);\n  const { triggerActivity } = useActivity();\n  const [activeTab, setActiveTab] = useState('detail');\n  const [loading, setLoading] = useState(false);\n  const [isSaved, setIsSaved] = useState(false); //  Nov state pro success efekt\n  const [isClosing, setIsClosing] = useState(false); //  Flag pro prevenci duplicitnho zavrn\n  const [loadingData, setLoadingData] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [successMessage, setSuccessMessage] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  //  Kontrola oprvnn: Pouze SUPERADMIN a ADMINISTRATOR mohou mnit username\n  const canEditUsername = useMemo(() => {\n    if (!userDetail || !userDetail.roles) return false;\n    return userDetail.roles.some(role =>\n      role.kod_role === 'SUPERADMIN' || role.kod_role === 'ADMINISTRATOR'\n    );\n  }, [userDetail]);\n\n  // CustomSelect states\n  const [selectStates, setSelectStates] = useState({});\n  const [searchStates, setSearchStates] = useState({});\n  const [touchedSelectFields, setTouchedSelectFields] = useState(new Set());\n\n  // Helper: Vytvoen hierarchick struktury lokalit (okres -> stanovit)\n  const createHierarchicalLokality = (lokalityData) => {\n    if (!Array.isArray(lokalityData) || lokalityData.length === 0) return [];\n\n    const hierarchical = [];\n\n    // Rozdlen na okresy (typ === 'editelstv' nebo parent_id === null) a stanovit\n    const okresy = lokalityData.filter(l =>\n      l.typ === 'editelstv' ||\n      !l.parent_id ||\n      l.parent_id === null ||\n      l.parent_id === ''\n    );\n\n    const stanoviste = lokalityData.filter(l =>\n      l.typ !== 'editelstv' &&\n      l.parent_id &&\n      l.parent_id !== null &&\n      l.parent_id !== ''\n    );\n\n    // azen okres podle nzvu\n    okresy.sort((a, b) => (a.nazev || '').localeCompare(b.nazev || '', 'cs'));\n\n    // Pro kad okres pidme jej a jeho stanovit\n    okresy.forEach(okres => {\n      // Pidat okres jako parent\n      hierarchical.push({\n        ...okres,\n        level: 0,\n        isParent: true,\n        displayLabel: okres.nazev // Bez odsazen\n      });\n\n      // Najt stanovit tohoto okresu\n      const children = stanoviste.filter(s => String(s.parent_id) === String(okres.id));\n\n      // azen stanovi podle nzvu\n      children.sort((a, b) => (a.nazev || '').localeCompare(b.nazev || '', 'cs'));\n\n      // Pidat stanovit s odsazenm - CSS e odsazen pomoc level prop\n      children.forEach(child => {\n        hierarchical.push({\n          ...child,\n          level: 1,\n          isParent: false,\n          parentId: okres.id,\n          displayLabel: child.nazev // BEZ odsazen - CSS to udl\n        });\n      });\n    });\n\n    // Pidat osiel stanovit (pokud njak zbudou)\n    const processedIds = new Set(hierarchical.map(h => h.id));\n    const orphans = lokalityData.filter(l => !processedIds.has(l.id));\n\n    if (orphans.length > 0) {\n      // console.warn(' Osiel lokality:', orphans);\n      orphans.forEach(orphan => {\n        hierarchical.push({\n          ...orphan,\n          level: 1,\n          isParent: false,\n          isOrphan: true,\n          displayLabel: ` ${orphan.nazev}`\n        });\n      });\n    }\n\n    return hierarchical;\n  };\n\n  // Form data\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    jmeno: '',\n    prijmeni: '',\n    titul_pred: '',\n    titul_za: '',\n    email: '',\n    telefon: '',\n    usek_id: null,\n    lokalita_id: null,\n    pozice_id: null,\n    organizace_id: null,\n    aktivni: 1,\n    roles: [],\n    direct_rights: []\n  });\n\n  // selnky\n  const [lokality, setLokality] = useState([]);\n  const [pozice, setPozice] = useState([]);\n  const [organizace, setOrganizace] = useState([]);\n  const [role, setRole] = useState([]);\n  const [prava, setPrava] = useState([]);\n  const [useky, setUseky] = useState([]);\n\n  // Filtry pro role a prva\n  const [roleFilter, setRoleFilter] = useState('');\n  const [pravaFilter, setPravaFilter] = useState('');\n  const [showOnlyUnassigned, setShowOnlyUnassigned] = useState(false); //  Checkbox pro zobrazen jen nepiazench prv\n\n  // Prva naten z rol (pro zobrazen jako disabled/readonly)\n  const [rightsFromRoles, setRightsFromRoles] = useState(new Set());\n\n  // Filtrovan role podle vyhledvacho filtru\n  const filteredRoles = useMemo(() => {\n    if (!roleFilter.trim()) return role;\n    const search = roleFilter.toLowerCase();\n    return role.filter(r =>\n      (r.nazev_role || r.nazev || '').toLowerCase().includes(search) ||\n      (r.popis || '').toLowerCase().includes(search)\n    );\n  }, [role, roleFilter]);\n\n  // Filtrovan prva podle vyhledvacho filtru a checkboxu \"Zobrazit jen nepiazen\"\n  const filteredPrava = useMemo(() => {\n    let filtered = prava;\n\n    //  Filtr: Zobrazit jen nepiazen prva = ta, kter NEJSOU checked (zakrtnut)\n    // Nepiazen = prva, kter uivatel NEM (nejsou ani z role, ani pmo piazen)\n    if (showOnlyUnassigned) {\n      filtered = filtered.filter(p => {\n        const pravoId = Number(p.id); //  Konverze na NUMBER\n        const isFromRole = rightsFromRoles.has(pravoId);\n        const isDirectlySelected = formData.direct_rights.includes(pravoId);\n        const isChecked = isFromRole || isDirectlySelected;\n        // Zobrazit pouze NEZAKRTNUT prva (uivatel je NEM)\n        return !isChecked;\n      });\n    }\n\n    //  Filtr podle vyhledvacho pole (aplikuje se A po filtru nepiazench)\n    if (pravaFilter.trim()) {\n      const search = pravaFilter.toLowerCase();\n      filtered = filtered.filter(p =>\n        (p.popis || '').toLowerCase().includes(search) ||\n        (p.kod_prava || '').toLowerCase().includes(search)\n      );\n    }\n\n    return filtered;\n  }, [prava, pravaFilter, showOnlyUnassigned, rightsFromRoles, formData.direct_rights]);\n\n  // Load selnky\n  useEffect(() => {\n    if (isOpen && token && user?.username) {\n      loadReferenceData();\n      // Reset success stavu pi oteven dialogu\n      setIsSaved(false);\n      setIsClosing(false); //  Reset closing flag\n    }\n  }, [isOpen, token, user]);\n\n  // Pre-fill data v edit mode - ROVNOU bez ekn na selnky!\n  useEffect(() => {\n    // Pi edit mode rovnou inicializuj formData z userData (CustomSelect si najde hodnoty sm)\n    if (isOpen && mode === 'edit' && userData) {\n      // Debug pouze pokud jsou problmy\n      // console.log(' UserManagementModal - userData:', userData);\n\n      // EXTRAHUJ ID z rznch formt dat - CustomSelect potebuje NUMBER pro strict comparison!\n      const extractedIds = {\n        // sek - me bt usek_id pmo nebo vnoen objekt usek.id\n        usek_id: userData.usek_id || userData.usek?.id || null,\n\n        // Lokalita - me bt lokalita_id pmo, vnoen objekt lokalita.id, nebo najdeme podle nzvu\n        lokalita_id: userData.lokalita_id ||\n          userData.lokalita?.id ||\n          (userData.lokalita_nazev ?\n            lokality.find(l => l.nazev === userData.lokalita_nazev)?.id\n            : null) || null,\n\n        // Pozice - me bt pozice_id pmo, vnoen objekt pozice.id, nebo najdeme podle nzvu\n        pozice_id: userData.pozice_id ||\n          userData.pozice?.id ||\n          (userData.nazev_pozice ?\n            pozice.find(p => p.nazev_pozice === userData.nazev_pozice)?.id\n            : null) || null,\n\n        // Organizace - me bt organizace_id pmo nebo vnoen objekt organizace.id\n        organizace_id: userData.organizace_id ||\n          userData.organizace?.id ||\n          null\n      };\n\n      // Zpracuj role - najdi ID podle nazev_role v natench rolch\n      let rolesIds = [];\n      if (Array.isArray(userData.roles)) {\n        rolesIds = userData.roles.map(r => {\n          let id = null;\n          if (typeof r === 'object' && r !== null) {\n            // Pokud m ID, pouij ho\n            if (r.id || r.role_id) {\n              id = r.id || r.role_id;\n            }\n            // Jinak najdi v selnku podle nazev_role nebo kod_role\n            else if (r.nazev_role || r.kod_role) {\n              const foundRole = role.find(roleItem => \n                roleItem.nazev_role === r.nazev_role || roleItem.kod_role === r.kod_role\n              );\n              id = foundRole?.id;\n            }\n          } else {\n            // Pokud je slo/string, pouij pmo\n            id = r;\n          }\n          //  KONVERZE NA NUMBER pro strict comparison v checkbox\n          return id != null ? Number(id) : null;\n        }).filter(x => x != null);\n      }\n      console.log(' UserManagementModal - Role IDs po mapovn:', rolesIds);\n      console.log(' UserManagementModal - userData.roles:', userData.roles);\n\n      // Zpracuj prva - najdi ID podle kod_prava v natench prvech\n      let rightsIds = [];\n      if (Array.isArray(userData.direct_rights)) {\n        rightsIds = userData.direct_rights.map(p => {\n          let id = null;\n          if (typeof p === 'object' && p !== null) {\n            // Pokud m ID, pouij ho\n            if (p.id || p.pravo_id) {\n              id = p.id || p.pravo_id;\n            }\n            // Jinak najdi v selnku podle kod_prava\n            else if (p.kod_prava) {\n              const foundRight = prava.find(pravaItem => pravaItem.kod_prava === p.kod_prava);\n              id = foundRight?.id;\n            }\n          } else {\n            // Pokud je slo/string, pouij pmo\n            id = p;\n          }\n          //  KONVERZE NA NUMBER pro strict comparison v checkbox\n          return id != null ? Number(id) : null;\n        }).filter(x => x != null);\n      }\n      console.log(' UserManagementModal - Rights IDs po mapovn:', rightsIds);\n      console.log(' UserManagementModal - userData.direct_rights:', userData.direct_rights);\n\n      const newFormData = {\n        username: userData.username || '',\n        password: '',\n        jmeno: userData.jmeno || userData.name || '',\n        prijmeni: userData.prijmeni || userData.surname || '',\n        titul_pred: userData.titul_pred || '',\n        titul_za: userData.titul_za || '',\n        email: userData.email || '',\n        telefon: userData.telefon || '',\n        usek_id: extractedIds.usek_id,\n        lokalita_id: extractedIds.lokalita_id,\n        pozice_id: extractedIds.pozice_id,\n        organizace_id: extractedIds.organizace_id,\n        aktivni: userData.aktivni === 'Ano' || userData.aktivni === 1 || userData.aktivni === '1' ? 1 : 0,\n        roles: rolesIds,\n        direct_rights: rightsIds\n      };\n\n      console.log(' UserManagementModal - Nastavuji formData:', newFormData);\n      console.log(' UserManagementModal - formData.roles:', newFormData.roles, 'typy:', newFormData.roles.map(id => typeof id));\n      setFormData(newFormData);\n      setErrors({});\n      setSuccessMessage('');\n      setErrorMessage('');\n    } else if (isOpen && mode === 'create') {\n      setFormData({\n        username: '',\n        password: '',\n        jmeno: '',\n        prijmeni: '',\n        titul_pred: '',\n        titul_za: '',\n        email: '',\n        telefon: '',\n        usek_id: null,\n        lokalita_id: null,\n        pozice_id: null,\n        organizace_id: null,\n        aktivni: 1,\n        roles: [],\n        direct_rights: []\n      });\n      setErrors({});\n      setSuccessMessage('');\n      setErrorMessage('');\n    }\n  }, [isOpen, mode, userData]);\n\n  const loadReferenceData = async () => {\n    setLoadingData(true);\n    try {\n      const [\n        lokalityData,\n        poziceData,\n        organizaceData,\n        roleData,\n        pravaData,\n        usekyData\n      ] = await Promise.all([\n        fetchLokality({ token, username: user.username }),\n        fetchPozice({ token, username: user.username }),\n        fetchOrganizace({ token, username: user.username }),\n        fetchRole({ token, username: user.username }),\n        fetchPrava({ token, username: user.username }),\n        fetchUseky({ token, username: user.username })\n      ]);\n\n      // console.log(' Naten selnky:', {\n      //   lokality: lokalityData?.length,\n      //   pozice: poziceData?.length,\n      //   organizace: organizaceData?.length,\n      //   useky: usekyData?.length,\n      //   role: roleData?.length,\n      //   prava: pravaData?.length\n      // });\n\n      // DEBUG: Zjistit jestli role obsahuj prva\n      // if (roleData && roleData.length > 0) {\n      //   console.log(' Prvn role (kontrola struktury):', roleData[0]);\n      //   console.log(' M role prva?', roleData[0]?.rights ? 'ANO' : 'NE');\n      // }\n\n      // Vytvoen hierarchick struktury lokalit (okres -> stanovit)\n      const hierarchicalLokality = createHierarchicalLokality(lokalityData || []);\n\n      // Seazen rol abecedn podle nzvu\n      const sortedRole = (roleData || []).sort((a, b) => {\n        const nameA = (a.nazev_role || a.nazev || '').toLowerCase();\n        const nameB = (b.nazev_role || b.nazev || '').toLowerCase();\n        return nameA.localeCompare(nameB, 'cs');\n      });\n\n      // Seazen prv abecedn podle kdu\n      const sortedPrava = (pravaData || []).sort((a, b) => {\n        const codeA = (a.kod_prava || a.nazev || '').toLowerCase();\n        const codeB = (b.kod_prava || b.nazev || '').toLowerCase();\n        return codeA.localeCompare(codeB, 'cs');\n      });\n\n      setLokality(hierarchicalLokality);\n      setPozice(poziceData || []);\n      setOrganizace(organizaceData || []);\n      setRole(sortedRole);\n      setPrava(sortedPrava);\n      setUseky(usekyData || []);\n    } catch (error) {\n      // console.error('Chyba pi natn selnk:', error);\n      setErrorMessage('Chyba pi natn dat. Zkuste to prosm znovu.');\n    } finally {\n      setLoadingData(false);\n    }\n  };\n\n  // CustomSelect helper funkce\n  const toggleSelect = (field) => {\n    setSelectStates(prev => ({ ...prev, [field]: !prev[field] }));\n    if (!selectStates[field]) {\n      setSearchStates(prev => ({ ...prev, [field]: '' }));\n    }\n  };\n\n  const filterOptions = (options, searchTerm, field) => {\n    if (!searchTerm) return options;\n    const term = searchTerm.toLowerCase();\n\n    return options.filter(opt => {\n      if (field === 'usek_id') {\n        return (opt.usek_nazev?.toLowerCase().includes(term) ||\n                opt.usek_zkr?.toLowerCase().includes(term));\n      }\n      if (field === 'lokalita_id') {\n        return opt.nazev?.toLowerCase().includes(term);\n      }\n      if (field === 'pozice_id') {\n        return opt.nazev_pozice?.toLowerCase().includes(term);\n      }\n      if (field === 'organizace_id') {\n        return opt.nazev?.toLowerCase().includes(term);\n      }\n      return true;\n    });\n  };\n\n  const getOptionLabel = (option, field) => {\n    if (!option) return '';\n    if (field === 'usek_id') return `${option.usek_nazev} (${option.usek_zkr})`;\n    if (field === 'lokalita_id') {\n      // Hierarchick zobrazen - pesn jako OrderForm25\n      return option.displayLabel || option.nazev;\n    }\n    if (field === 'pozice_id') return option.nazev_pozice;\n    if (field === 'organizace_id') return option.nazev;\n    return '';\n  };\n\n  const handleChange = (field, value) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: null }));\n    }\n  };\n\n  // Funkce pro naten prv ze vech vybranch rol\n  const loadRightsFromRoles = async (roleIds) => {\n    if (!roleIds || roleIds.length === 0) {\n      // console.log(' dn role k naten');\n      setRightsFromRoles(new Set());\n      return;\n    }\n\n    // console.log(' Zanm natat prva pro role:', roleIds);\n\n    try {\n      const allRights = new Set();\n\n      // Nast detail kad role\n      for (const roleId of roleIds) {\n        // console.log(` Natm detail role ID: ${roleId}`);\n        const roleDetail = await fetchRoleDetail({\n          token,\n          username: user.username,\n          roleId: roleId\n        });\n\n        if (roleDetail && roleDetail.prava && Array.isArray(roleDetail.prava)) {\n          // console.log(`   Role ${roleId} m ${roleDetail.prava.length} prv:`, roleDetail.prava.map(p => p.kod_prava));\n          roleDetail.prava.forEach(p => {\n            if (p.id) {\n              allRights.add(Number(p.id)); //  Konverze na NUMBER\n            }\n          });\n        } else {\n          // console.log(`   Role ${roleId} nem prva nebo patn struktura`);\n        }\n      }\n\n      // console.log(` Nateno celkem ${allRights.size} uniktnch prv z ${roleIds.length} rol`);\n      setRightsFromRoles(allRights);\n    } catch (error) {\n      setRightsFromRoles(new Set());\n    }\n  };\n\n  // Pi zmn rol penast jejich prva\n  useEffect(() => {\n    if (isOpen && formData.roles && formData.roles.length > 0 && token && user?.username) {\n      // console.log(' Natm prva pro role:', formData.roles);\n      loadRightsFromRoles(formData.roles);\n    } else if (isOpen) {\n      // console.log(' dn role, vynulovn prv');\n      setRightsFromRoles(new Set());\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData.roles, isOpen, token, user?.username]);\n\n  // Pi zaven dialogu vyistit prva z rol\n  useEffect(() => {\n    if (!isOpen) {\n      setRightsFromRoles(new Set());\n    }\n  }, [isOpen]);\n\n  const handleCheckboxChange = (field, id) => {\n    // Standardn toggle pro vechna pole\n    setFormData(prev => {\n      const current = prev[field] || [];\n      const isChecked = current.includes(id);\n\n      return {\n        ...prev,\n        [field]: isChecked\n          ? current.filter(x => x !== id)\n          : [...current, id]\n      };\n    });\n  };\n\n  const validate = () => {\n    const newErrors = {};\n\n    if (!formData.username || formData.username.length < 3) {\n      newErrors.username = 'Username mus mt alespo 3 znaky';\n    }\n\n    if (formData.username && !/^[a-zA-Z0-9._-]+$/.test(formData.username)) {\n      newErrors.username = 'Username me obsahovat pouze psmena, slice, teky, pomlky a podtrtka';\n    }\n\n    // Validace hesla pro CREATE reim\n    if (mode === 'create') {\n      if (!formData.password) {\n        newErrors.password = 'Heslo je povinn';\n      } else if (formData.password.length < 8) {\n        newErrors.password = 'Heslo mus mt alespo 8 znak';\n      } else if (!validatePasswordStrength(formData.password)) {\n        newErrors.password = 'Heslo mus obsahovat alespo 8 znak, mal a velk psmeno, slo a speciln znak';\n      }\n    }\n\n    // Validace hesla pro EDIT reim (pouze pokud je zadno)\n    if (mode === 'edit' && formData.password) {\n      if (formData.password.length < 8) {\n        newErrors.password = 'Heslo mus mt alespo 8 znak';\n      } else if (!validatePasswordStrength(formData.password)) {\n        newErrors.password = 'Heslo mus obsahovat alespo 8 znak, mal a velk psmeno, slo a speciln znak';\n      }\n    }\n\n    if (!formData.jmeno || !formData.jmeno.trim()) {\n      newErrors.jmeno = 'Jmno je povinn';\n    }\n\n    if (!formData.prijmeni || !formData.prijmeni.trim()) {\n      newErrors.prijmeni = 'Pjmen je povinn';\n    }\n\n    if (!formData.email || !formData.email.trim()) {\n      newErrors.email = 'Email je povinn';\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      newErrors.email = 'Neplatn formt emailu';\n    }\n\n    if (!formData.telefon || !formData.telefon.trim()) {\n      newErrors.telefon = 'Telefon je povinn';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  //  Prevence Enter key submit - zabrn nechtnmu submitovn formule\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n    }\n  };\n\n  const handleSubmit = async () => {\n    //  Prevence duplicitnho submitu\n    if (loading || isClosing) {\n      return;\n    }\n\n    // Resetovat zprvy\n    setSuccessMessage('');\n    setErrorMessage('');\n\n    // Validace\n    if (!validate()) {\n      setErrorMessage('Opravte prosm chyby ve formuli');\n      setActiveTab('detail');\n      return;\n    }\n\n    // Nastavit loading stav - tlatko zobraz \"Ukldm...\"\n    setLoading(true);\n\n    try {\n      // Pipravit payload - data upravovanho/vytvenho uivatele\n      const userData_payload = {\n        jmeno: formData.jmeno,\n        prijmeni: formData.prijmeni,\n        titul_pred: formData.titul_pred?.trim() || '',  // Przdn string zstane przdn string\n        titul_za: formData.titul_za?.trim() || '',      // Przdn string zstane przdn string\n        email: formData.email || null,\n        telefon: formData.telefon || null,\n        usek_id: formData.usek_id || null,\n        lokalita_id: formData.lokalita_id || null,\n        pozice_id: formData.pozice_id || null,\n        organizace_id: formData.organizace_id || null,\n        aktivni: formData.aktivni,\n        roles: formData.roles,\n        direct_rights: formData.direct_rights\n      };\n\n      let result;\n\n      if (mode === 'create') {\n        // Pro CREATE: username je pmo v payloadu (nov uivatel)\n        const createPayload = {\n          token,\n          username: user.username, // Requestor (kdo vytv)\n          new_username: formData.username, // Nov username vytvenho uivatele\n          password: formData.password,\n          ...userData_payload\n        };\n\n        result = await createUser(createPayload);\n        const newUserName = `${formData.prijmeni || ''} ${formData.jmeno || ''}`.trim() || formData.username;\n        setSuccessMessage(`Uivatel ${newUserName} byl spn vytvoen`);\n        if (addToast) addToast(` Nov uivatel ${newUserName} (${formData.username}) byl spn vytvoen a uloen do databze`, { type: 'success' });\n      } else {\n        // Pro UPDATE: username je requestor, new_username je upravovan\n        const updatePayload = {\n          id: parseInt(userData.id), // ID upravovanho uivatele (MUS bt number!)\n          token,\n          username: user.username, // Requestor (kdo provd pravu)\n          ...userData_payload,\n          password: formData.password || null // Heslo pouze pokud se mn\n        };\n\n        //  Pidat new_username POUZE pokud:\n        // 1. Se username zmnil (formData.username !== userData.username)\n        // 2. A uivatel m oprvnn (canEditUsername)\n        const originalUsername = userData.username;\n        const hasUsernameChanged = formData.username !== originalUsername;\n\n        if (hasUsernameChanged && canEditUsername) {\n          updatePayload.new_username = formData.username;\n        } else if (hasUsernameChanged && !canEditUsername) {\n          // Varovn: username se zmnil, ale uivatel nem oprvnn\n          if (addToast) addToast('Nemte oprvnn ke zmn username', { type: 'warning' });\n          // Neposlat new_username, pout pvodn\n        }\n\n        result = await updateUser(updatePayload);\n        const updatedUserName = `${formData.prijmeni || ''} ${formData.jmeno || ''}`.trim() || formData.username;\n\n        // Zpracovn response - pokud backend vrtil informaci o zmn username\n        let successMsg = `Uivatel ${updatedUserName} byl spn aktualizovn`;\n        if (result.data?.username_changed && result.data?.old_username && result.data?.new_username) {\n          successMsg += ` (username zmnn: ${result.data.old_username}  ${result.data.new_username})`;\n        }\n\n        setSuccessMessage(successMsg);\n        if (addToast) {\n          if (result.data?.username_changed) {\n            addToast(` ${successMsg}`, { type: 'success' });\n          } else {\n            addToast(` Zmny uivatele ${updatedUserName} (${formData.username}) byly spn uloeny do databze`, { type: 'success' });\n          }\n        }\n      }\n\n      // Trigger activity update after successful save\n      triggerActivity();\n\n      //  SPCH - Nastavit success stav na tlatku\n      setIsSaved(true);\n\n      //  Nastavit flag zavrn - zabrn duplicitnmu close\n      if (isClosing) {\n        return;\n      }\n      setIsClosing(true);\n\n      //  DLEIT: onSuccess se vol A PO zaven dialogu\n      // Jinak parent spust refresh bhem zavrn  dialog blikne\n      const successData = result.data; // Uchovat data\n\n      //  Rychl animace - uivatel vid zelenou success animaci na tlatku\n      // Pokat 1.5 sekundy pro zobrazen success animace, pak zavt\n      setTimeout(() => {\n        onClose();\n\n        //  Okamit po zaven spustit reload dat na pozad v parentu\n        // Callback onSuccess - a AFTER close, aby se zabrnilo re-renderu bhem zavrn\n        if (onSuccess) {\n          // setTimeout zajist, e se zavol a po plnm zaven\n          setTimeout(() => {\n            onSuccess(successData);\n          }, 100); // Krtk pauza pro jistotu, e modal je unmounted\n        }\n      }, 1500); //  1.5 sekundy - rychl success animace, pak okamit reload na pozad\n\n    } catch (error) {\n      //  CHYBA - Dialog NEZAVRAT, zobrazit chybu\n\n      // Sestavit detailn chybovou zprvu\n      let errorDetails = error.message || 'Chyba pi ukldn uivatele';\n\n      // Pidat raw response pokud existuje\n      if (error.response) {\n        errorDetails += `\\n\\n Backend Response:\\n${JSON.stringify(error.response, null, 2)}`;\n      } else if (error.data) {\n        errorDetails += `\\n\\n Error Data:\\n${JSON.stringify(error.data, null, 2)}`;\n      }\n\n      // Pidat status code\n      if (error.status) {\n        errorDetails += `\\n\\n HTTP Status: ${error.status}`;\n      }\n\n      setErrorMessage(errorDetails);\n      if (addToast) addToast(` ${error.message || 'Chyba pi ukldn uivatele do databze'}`, { type: 'error' });\n\n      // Dialog ZSTV OTEVEN - uivatel me opravit chyby\n\n    } finally {\n      // Vypnout loading stav (tlatko zpt na \"Uloit zmny\")\n      // ALE POUZE pokud se dialog NEzavr (pi chyb)\n      if (!isClosing) {\n        setLoading(false);\n      }\n    }\n  };\n\n  //  KRITICK: Dialog zstv viditeln i kdy isClosing=true!\n  // Zabrn pouze OPTOVNMU oteven po zaven\n  // Uivatel MUS vidt success animaci po dobu 2 sekund\n  if (!isOpen) return null;\n\n  return ReactDOM.createPortal(\n    <ModalOverlay>\n      <ModalContainer\n        onClick={(e) => e.stopPropagation()}\n        onKeyDown={handleKeyDown}\n      >\n        <ModalHeader>\n          <ModalHeaderContent>\n            <HeaderLeft>\n              <ModalTitle>\n                {mode === 'create' ? 'Pidat novho uivatele' : 'Upravit uivatele'}\n              </ModalTitle>\n              <ModalSubtitle>\n                {mode === 'create'\n                  ? 'Vyplte zkladn daje uivatele'\n                  : `Aktualizujte informace o uivateli ${[userData?.titul_pred, userData?.jmeno, userData?.prijmeni, userData?.titul_za].filter(Boolean).join(' ')}`\n                }\n              </ModalSubtitle>\n            </HeaderLeft>\n            <CloseButton onClick={onClose} disabled={loading}>\n              <X size={20} />\n            </CloseButton>\n          </ModalHeaderContent>\n        </ModalHeader>\n\n        <TabsContainer>\n          <Tab $active={activeTab === 'detail'} onClick={() => setActiveTab('detail')}>\n            <User size={16} />\n            Detail uivatele\n          </Tab>\n          <Tab $active={activeTab === 'roles'} onClick={() => setActiveTab('roles')}>\n            <Shield size={16} />\n            Role ({formData.roles.length})\n          </Tab>\n          <Tab $active={activeTab === 'rights'} onClick={() => setActiveTab('rights')}>\n            <Shield size={16} />\n            Pm prva ({formData.direct_rights.length}/{rightsFromRoles.size})\n          </Tab>\n          <Tab $active={activeTab === 'organization'} onClick={() => setActiveTab('organization')}>\n            <Building size={16} />\n            Organizace\n          </Tab>\n        </TabsContainer>\n\n        <ModalBody>\n          {successMessage && (\n            <SuccessMessage>\n              <Check size={20} />\n              {successMessage}\n            </SuccessMessage>\n          )}\n\n          {errorMessage && (\n            <ErrorMessage>\n              <div style={{ flexShrink: 0 }}>\n                <AlertCircle size={20} />\n              </div>\n              <div style={{ flex: 1 }}>{errorMessage}</div>\n            </ErrorMessage>\n          )}\n\n          {loadingData ? (\n            <EmptyState>\n              <LoadingSpinner />\n              <div style={{ marginTop: '1rem' }}>Natn dat...</div>\n            </EmptyState>\n          ) : (\n            <>\n              {/* TAB: Detail uivatele */}\n              {activeTab === 'detail' && (\n                <FormSection>\n                  <SectionTitle>Pihlaovac daje</SectionTitle>\n                  <FormGrid3Col>\n                    <FormGroup>\n                      <Label required>\n                        Username\n                        {mode === 'edit' && !canEditUsername && (\n                          <span style={{ fontSize: '0.7rem', color: '#9ca3af', fontWeight: 400 }}>\n                            {' '}(zmna pouze pro SUPERADMIN/ADMINISTRATOR)\n                          </span>\n                        )}\n                      </Label>\n                      <InputWithIcon>\n                        <User size={16} />\n                        <Input\n                          hasIcon\n                          value={formData.username}\n                          onChange={(e) => handleChange('username', e.target.value)}\n                          disabled={mode === 'edit' && !canEditUsername}\n                          placeholder=\"novak.jan\"\n                          hasError={!!errors.username}\n                        />\n                      </InputWithIcon>\n                      {errors.username && <ErrorText><AlertCircle size={12} />{errors.username}</ErrorText>}\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label required={mode === 'create'}>\n                        Heslo\n                        {mode === 'edit' && <span style={{ fontSize: '0.75rem', color: '#9ca3af', fontWeight: 400 }}> (ponechat przdn)</span>}\n                      </Label>\n                      <InputWithIcon>\n                        <Key size={16} />\n                        <Input\n                          hasIcon\n                          type=\"password\"\n                          value={formData.password}\n                          onChange={(e) => handleChange('password', e.target.value)}\n                          placeholder={mode === 'edit' ? 'Nov heslo (voliteln)' : 'Heslo'}\n                          autoComplete=\"new-password\"\n                          hasError={!!errors.password}\n                        />\n                      </InputWithIcon>\n                      {errors.password && <ErrorText><AlertCircle size={12} />{errors.password}</ErrorText>}\n                      {formData.password && (\n                        <PasswordStrengthValidator\n                          password={formData.password}\n                          showRequirements={true}\n                        />\n                      )}\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label>Aktivn</Label>\n                      <ToggleContainer>\n                        <ToggleSwitch>\n                          <input\n                            type=\"checkbox\"\n                            checked={formData.aktivni === 1}\n                            onChange={(e) => handleChange('aktivni', e.target.checked ? 1 : 0)}\n                          />\n                          <span></span>\n                        </ToggleSwitch>\n                        <ToggleLabel $active={formData.aktivni === 1}>\n                          {formData.aktivni === 1 ? 'Aktivn' : 'Neaktivn'}\n                        </ToggleLabel>\n                      </ToggleContainer>\n                    </FormGroup>\n                  </FormGrid3Col>\n\n                  <SectionTitle>Osobn daje</SectionTitle>\n                  <FormGrid4Col>\n                    <FormGroup>\n                      <Label>Titul ped</Label>\n                      <InputWithIcon>\n                        <Award size={16} />\n                        <Input\n                          hasIcon\n                          value={formData.titul_pred}\n                          onChange={(e) => handleChange('titul_pred', e.target.value)}\n                          placeholder=\"Ing.\"\n                        />\n                      </InputWithIcon>\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label required>Pjmen</Label>\n                      <InputWithIcon>\n                        <User size={16} />\n                        <Input\n                          hasIcon\n                          value={formData.prijmeni}\n                          onChange={(e) => handleChange('prijmeni', e.target.value)}\n                          placeholder=\"Novk\"\n                          hasError={!!errors.prijmeni}\n                        />\n                      </InputWithIcon>\n                      {errors.prijmeni && <ErrorText><AlertCircle size={12} />{errors.prijmeni}</ErrorText>}\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label required>Jmno</Label>\n                      <InputWithIcon>\n                        <User size={16} />\n                        <Input\n                          hasIcon\n                          value={formData.jmeno}\n                          onChange={(e) => handleChange('jmeno', e.target.value)}\n                          placeholder=\"Jan\"\n                          hasError={!!errors.jmeno}\n                        />\n                      </InputWithIcon>\n                      {errors.jmeno && <ErrorText><AlertCircle size={12} />{errors.jmeno}</ErrorText>}\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label>Titul za</Label>\n                      <InputWithIcon>\n                        <Award size={16} />\n                        <Input\n                          hasIcon\n                          value={formData.titul_za}\n                          onChange={(e) => handleChange('titul_za', e.target.value)}\n                          placeholder=\"Ph.D.\"\n                        />\n                      </InputWithIcon>\n                    </FormGroup>\n                  </FormGrid4Col>\n\n                  <FormGrid style={{ marginTop: '1rem' }}>\n                    <FormGroup>\n                      <Label required>Email</Label>\n                      <InputWithIcon>\n                        <Mail size={16} />\n                        <Input\n                          hasIcon\n                          type=\"email\"\n                          value={formData.email}\n                          onChange={(e) => handleChange('email', e.target.value)}\n                          placeholder=\"jan.novak@example.com\"\n                          hasError={!!errors.email}\n                        />\n                      </InputWithIcon>\n                      {errors.email && <ErrorText><AlertCircle size={12} />{errors.email}</ErrorText>}\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label required>Telefon</Label>\n                      <InputWithIcon>\n                        <Phone size={16} />\n                        <Input\n                          hasIcon\n                          value={formData.telefon}\n                          onChange={(e) => handleChange('telefon', e.target.value)}\n                          placeholder=\"+420 123 456 789\"\n                          hasError={!!errors.telefon}\n                        />\n                      </InputWithIcon>\n                      {errors.telefon && <ErrorText><AlertCircle size={12} />{errors.telefon}</ErrorText>}\n                    </FormGroup>\n                  </FormGrid>\n                </FormSection>\n              )}\n\n              {/* TAB: Role */}\n              {activeTab === 'roles' && (\n                <FormSection>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n                    <SectionTitle style={{ marginBottom: 0 }}>\n                      Piazen role\n                      <span style={{ fontSize: '0.875rem', fontWeight: 400, color: '#9ca3af', marginLeft: '0.5rem' }}>\n                        ({formData.roles.length} vybrno{filteredRoles.length !== role.length ? `, zobrazeno ${filteredRoles.length}` : ''})\n                      </span>\n                    </SectionTitle>\n                    <SearchInputWrapper hasValue={!!roleFilter}>\n                      <Search size={16} className=\"search-icon\" />\n                      <Input\n                        type=\"text\"\n                        placeholder=\"Vyhledat roli...\"\n                        value={roleFilter}\n                        onChange={(e) => setRoleFilter(e.target.value)}\n                        style={{ width: '290px' }}\n                      />\n                      {roleFilter && (\n                        <X\n                          size={16}\n                          className=\"clear-icon\"\n                          onClick={() => setRoleFilter('')}\n                        />\n                      )}\n                    </SearchInputWrapper>\n                  </div>\n                  {role.length === 0 ? (\n                    <EmptyState>dn role k dispozici</EmptyState>\n                  ) : filteredRoles.length === 0 ? (\n                    <EmptyState>dn role nenalezeny</EmptyState>\n                  ) : (\n                    <CheckboxGrid>\n                      {filteredRoles.map(r => {\n                        const roleId = Number(r.id); //  Konverze na NUMBER\n                        const isChecked = formData.roles.includes(roleId);\n                        return (\n                        <CheckboxLabel\n                          key={r.id}\n                          $checked={isChecked}\n                        >\n                          <Checkbox\n                            type=\"checkbox\"\n                            checked={isChecked}\n                            onChange={() => handleCheckboxChange('roles', roleId)}\n                          />\n                          <CheckboxContent>\n                            <CheckboxTitle>{r.nazev_role || r.nazev}</CheckboxTitle>\n                            {r.popis && <CheckboxDescription>{r.popis}</CheckboxDescription>}\n                          </CheckboxContent>\n                        </CheckboxLabel>\n                        );\n                      })}\n                    </CheckboxGrid>\n                  )}\n                </FormSection>\n              )}\n\n              {/* TAB: Pm prva */}\n              {activeTab === 'rights' && (\n                <FormSection>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n                    <SectionTitle style={{ marginBottom: 0 }}>\n                      Pm prva uivatele\n                      <span style={{ fontSize: '0.875rem', fontWeight: 400, color: '#9ca3af', marginLeft: '0.5rem' }}>\n                        ({formData.direct_rights.length}/{rightsFromRoles.size}/{filteredPrava.length})\n                      </span>\n                    </SectionTitle>\n                    <div style={{ display: 'flex', gap: '0.75rem', alignItems: 'center' }}>\n                      {/* Checkbox pro filtr nepiazench prv */}\n                      <FilterCheckboxLabel\n                        $checked={showOnlyUnassigned}\n                        title=\"Zobrazit pouze prva, kter uivatel NEM (nejsou zakrtnut)\"\n                      >\n                        <input\n                          type=\"checkbox\"\n                          checked={showOnlyUnassigned}\n                          onChange={(e) => setShowOnlyUnassigned(e.target.checked)}\n                        />\n                        <span>Jen nepiazen</span>\n                      </FilterCheckboxLabel>\n\n                      {/* Vyhledvac pole */}\n                      <SearchInputWrapper hasValue={!!pravaFilter}>\n                        <Search size={16} className=\"search-icon\" />\n                        <Input\n                          type=\"text\"\n                          placeholder=\"Vyhledat prvo...\"\n                          value={pravaFilter}\n                          onChange={(e) => setPravaFilter(e.target.value)}\n                          style={{ width: '290px' }}\n                        />\n                        {pravaFilter && (\n                          <X\n                            size={16}\n                            className=\"clear-icon\"\n                            onClick={() => setPravaFilter('')}\n                          />\n                        )}\n                      </SearchInputWrapper>\n                    </div>\n                  </div>\n                  {prava.length === 0 ? (\n                    <EmptyState>dn prva k dispozici</EmptyState>\n                  ) : filteredPrava.length === 0 ? (\n                    <EmptyState>dn prva nenalezena</EmptyState>\n                  ) : (\n                    <CheckboxGrid>\n                      {filteredPrava.map(p => {\n                        const pravoId = Number(p.id); //  Konverze na NUMBER\n                        const isFromRole = rightsFromRoles.has(pravoId);\n                        const isDirectlySelected = formData.direct_rights.includes(pravoId);\n                        const isChecked = isFromRole || isDirectlySelected;\n\n                        return (\n                          <CheckboxLabel\n                            key={p.id}\n                            $checked={isChecked}\n                            style={{\n                              opacity: isFromRole && !isDirectlySelected ? 0.7 : 1,\n                              background: isFromRole && !isDirectlySelected ? '#f0f9ff' : undefined\n                            }}\n                          >\n                            <Checkbox\n                              type=\"checkbox\"\n                              checked={isChecked}\n                              disabled={isFromRole && !isDirectlySelected}\n                              onChange={() => handleCheckboxChange('direct_rights', pravoId)}\n                              style={{ cursor: isFromRole && !isDirectlySelected ? 'not-allowed' : 'pointer' }}\n                            />\n                            <CheckboxContent>\n                              <CheckboxTitle style={{ fontFamily: 'monospace' }}>\n                                {p.kod_prava || p.nazev}\n                                {isFromRole && !isDirectlySelected && (\n                                  <span style={{\n                                    marginLeft: '0.5rem',\n                                    fontSize: '0.75rem',\n                                    color: '#0284c7',\n                                    fontWeight: 600\n                                  }}>\n                                    (z role)\n                                  </span>\n                                )}\n                              </CheckboxTitle>\n                              {p.popis && <CheckboxDescription>{p.popis}</CheckboxDescription>}\n                            </CheckboxContent>\n                          </CheckboxLabel>\n                        );\n                      })}\n                    </CheckboxGrid>\n                  )}\n                </FormSection>\n              )}\n\n              {/* TAB: Organizace */}\n              {activeTab === 'organization' && (\n                <FormSection>\n                  <SectionTitle>Organizan zaazen</SectionTitle>\n                  <FormGrid>\n                    <FormGroup>\n                      <Label>sek</Label>\n                      <CustomSelect\n                        icon={<Building size={16} />}\n                        value={formData.usek_id || ''}\n                        onChange={(e) => handleChange('usek_id', e.target.value || '')}\n                        options={useky}\n                        placeholder=\"-- Vyberte sek --\"\n                        field=\"usek_id\"\n                        selectStates={selectStates}\n                        setSelectStates={setSelectStates}\n                        searchStates={searchStates}\n                        setSearchStates={setSearchStates}\n                        touchedSelectFields={touchedSelectFields}\n                        setTouchedSelectFields={setTouchedSelectFields}\n                        toggleSelect={toggleSelect}\n                        filterOptions={filterOptions}\n                        getOptionLabel={getOptionLabel}\n                      />\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label>Lokalita</Label>\n                      <CustomSelect\n                        icon={<MapPin size={16} />}\n                        value={formData.lokalita_id || ''}\n                        onChange={(e) => handleChange('lokalita_id', e.target.value || '')}\n                        options={lokality}\n                        placeholder=\"-- Vyberte lokalitu --\"\n                        field=\"lokalita_id\"\n                        selectStates={selectStates}\n                        setSelectStates={setSelectStates}\n                        searchStates={searchStates}\n                        setSearchStates={setSearchStates}\n                        touchedSelectFields={touchedSelectFields}\n                        setTouchedSelectFields={setTouchedSelectFields}\n                        toggleSelect={toggleSelect}\n                        filterOptions={filterOptions}\n                        getOptionLabel={getOptionLabel}\n                      />\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label>Pozice</Label>\n                      <CustomSelect\n                        icon={<Briefcase size={16} />}\n                        value={formData.pozice_id || ''}\n                        onChange={(e) => handleChange('pozice_id', e.target.value || '')}\n                        options={pozice}\n                        placeholder=\"-- Vyberte pozici --\"\n                        field=\"pozice_id\"\n                        selectStates={selectStates}\n                        setSelectStates={setSelectStates}\n                        searchStates={searchStates}\n                        setSearchStates={setSearchStates}\n                        touchedSelectFields={touchedSelectFields}\n                        setTouchedSelectFields={setTouchedSelectFields}\n                        toggleSelect={toggleSelect}\n                        filterOptions={filterOptions}\n                        getOptionLabel={getOptionLabel}\n                      />\n                    </FormGroup>\n\n                    <FormGroup style={{ gridColumn: '1 / -1' }}>\n                      <Label>Organizace</Label>\n                      <CustomSelect\n                        icon={<Building size={16} />}\n                        value={formData.organizace_id || ''}\n                        onChange={(e) => handleChange('organizace_id', e.target.value || '')}\n                        options={organizace}\n                        placeholder=\"-- Vyberte organizaci --\"\n                        field=\"organizace_id\"\n                        selectStates={selectStates}\n                        setSelectStates={setSelectStates}\n                        searchStates={searchStates}\n                        setSearchStates={setSearchStates}\n                        touchedSelectFields={touchedSelectFields}\n                        setTouchedSelectFields={setTouchedSelectFields}\n                        toggleSelect={toggleSelect}\n                        filterOptions={filterOptions}\n                        getOptionLabel={getOptionLabel}\n                      />\n                    </FormGroup>\n                  </FormGrid>\n                </FormSection>\n              )}\n            </>\n          )}\n        </ModalBody>\n\n        <ModalFooter>\n          <FooterLeft>\n            {/* Placeholder pro levou stranu footer */}\n          </FooterLeft>\n          <FooterRight>\n            <Button\n              type=\"button\"\n              className=\"cancel\"\n              onClick={onClose}\n              disabled={loading}\n            >\n              <X size={16} />\n              Zruit\n            </Button>\n            <Button\n              type=\"button\"\n              className={isSaved ? 'success' : 'primary'}\n              onClick={handleSubmit}\n              disabled={loading || loadingData || isSaved}\n            >\n              {loading ? (\n                <>\n                  <LoadingSpinner />\n                  Ukldm...\n                </>\n              ) : isSaved ? (\n                <>\n                  <Check size={16} />\n                  Uloeno\n                </>\n              ) : (\n                <>\n                  <Save size={16} />\n                  {mode === 'create' ? 'Vytvoit uivatele' : 'Uloit zmny'}\n                </>\n              )}\n            </Button>\n          </FooterRight>\n        </ModalFooter>\n      </ModalContainer>\n    </ModalOverlay>,\n    document.body\n  );\n};\n\nexport default UserManagementModal;\n","import React, { useEffect, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from '@emotion/styled';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faEdit,\n  faTrash,\n  faUserCheck,\n  faUserSlash,\n  faUserMinus,\n  faBan,\n  faCut,\n  faCopy,\n  faPaste,\n  faTimes\n} from '@fortawesome/free-solid-svg-icons';\n\nconst MenuContainer = styled.div`\n  position: fixed;\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15), 0 4px 12px rgba(0, 0, 0, 0.1);\n  padding: 0.5rem 0;\n  min-width: 220px;\n  z-index: 999999;\n  font-size: 0.875rem;\n  animation: fadeIn 0.15s ease-out;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n      transform: scale(0.95) translateY(-8px);\n    }\n    to {\n      opacity: 1;\n      transform: scale(1) translateY(0);\n    }\n  }\n`;\n\nconst MenuItem = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  width: 100%;\n  padding: 0.65rem 1rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  font-size: 0.875rem;\n  color: ${props => props.danger ? '#dc2626' : props.success ? '#16a34a' : '#0f172a'};\n  transition: all 0.15s;\n  text-align: left;\n\n  &:hover {\n    background: ${props => props.danger ? '#fee2e2' : props.success ? '#dcfce7' : '#f1f5f9'};\n    color: ${props => props.danger ? '#991b1b' : props.success ? '#15803d' : '#0369a1'};\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    color: #94a3b8;\n\n    &:hover {\n      background: transparent;\n      color: #94a3b8;\n    }\n  }\n\n  svg {\n    width: 16px;\n    height: 16px;\n    color: ${props => props.danger ? '#dc2626' : props.success ? '#16a34a' : '#64748b'};\n  }\n\n  &:hover svg {\n    color: ${props => props.danger ? '#991b1b' : props.success ? '#15803d' : '#0369a1'};\n  }\n\n  &:disabled svg {\n    color: #94a3b8;\n  }\n`;\n\nconst MenuDivider = styled.div`\n  height: 1px;\n  background: #e2e8f0;\n  margin: 0.5rem 0;\n`;\n\nconst MenuLabel = styled.span`\n  flex: 1;\n  font-weight: 500;\n`;\n\n/**\n * Kontextov menu pro dky tabulky uivatel\n * @param {Object} props\n * @param {number} props.x - X pozice menu\n * @param {number} props.y - Y pozice menu\n * @param {Object} props.user - Vybran uivatel\n * @param {Function} props.onClose - Callback pro zaven menu\n * @param {Function} props.onEdit - Editovat uivatele\n * @param {Function} props.onDelete - Smazat uivatele\n * @param {Function} props.onToggleActive - Povolit/Zakzat uivatele\n * @param {boolean} props.canEdit - M uivatel prvo editovat?\n * @param {boolean} props.canDelete - M uivatel prvo smazat?\n * @param {Object} props.selectedData - Vybran data (buka nebo dek)\n */\nexport const UserContextMenu = ({\n  x,\n  y,\n  user,\n  onClose,\n  onEdit,\n  onDelete,\n  onToggleActive,\n  canEdit = true,\n  canDelete = false,\n  selectedData = null\n}) => {\n  const menuRef = useRef(null);\n  const [hasClipboardData, setHasClipboardData] = useState(false);\n  const [clipboardData, setClipboardData] = useState(null);\n\n  // Kontrola obsahu schrnky pi oteven menu\n  useEffect(() => {\n    const checkClipboard = async () => {\n      try {\n        if (navigator.clipboard && navigator.clipboard.readText) {\n          const text = await navigator.clipboard.readText();\n          setHasClipboardData(text && text.trim().length > 0);\n\n          try {\n            const data = JSON.parse(text);\n            if (data && typeof data === 'object') {\n              setClipboardData(data);\n            }\n          } catch {\n            setClipboardData(text);\n          }\n        }\n      } catch (error) {\n        const localData = localStorage.getItem('clipboard_data');\n        setHasClipboardData(!!localData);\n        if (localData) {\n          try {\n            setClipboardData(JSON.parse(localData));\n          } catch {\n            setClipboardData(localData);\n          }\n        }\n      }\n    };\n\n    checkClipboard();\n  }, []);\n\n  // Funkce pro koprovn do schrnky\n  const handleCopy = async () => {\n    let dataToCopy;\n    let description = '';\n\n    if (selectedData && selectedData.value) {\n      dataToCopy = selectedData.value;\n      description = `buka: \"${dataToCopy.substring(0, 50)}${dataToCopy.length > 50 ? '...' : ''}\"`;\n    } else {\n      dataToCopy = JSON.stringify(user, null, 2);\n      description = `uivatel ${user.username || user.id}`;\n    }\n\n    try {\n      const textToCopy = typeof dataToCopy === 'string' ? dataToCopy : JSON.stringify(dataToCopy);\n\n      if (navigator.clipboard && navigator.clipboard.writeText) {\n        await navigator.clipboard.writeText(textToCopy);\n      } else {\n        const textArea = document.createElement('textarea');\n        textArea.value = textToCopy;\n        document.body.appendChild(textArea);\n        textArea.select();\n        document.execCommand('copy');\n        document.body.removeChild(textArea);\n      }\n\n      const clipboardInfo = {\n        data: dataToCopy,\n        description: description,\n        type: selectedData ? 'cell' : 'row',\n        timestamp: Date.now()\n      };\n      localStorage.setItem('clipboard_data', JSON.stringify(clipboardInfo));\n      setHasClipboardData(true);\n      setClipboardData(dataToCopy);\n\n\n    } catch (error) {\n    }\n  };\n\n  // Funkce pro vysthnut\n  const handleCut = async () => {\n    await handleCopy();\n    const cutData = {\n      action: 'cut',\n      data: selectedData || user,\n      type: selectedData ? 'cell' : 'row',\n      userId: user.id || user.username,\n      timestamp: Date.now()\n    };\n\n    localStorage.setItem('clipboard_action', JSON.stringify(cutData));\n  };\n\n  // Funkce pro vloen ze schrnky\n  const handlePaste = async () => {\n    try {\n      let clipboardInfo = null;\n\n      // Zkus nast ze schrnky\n      try {\n        if (navigator.clipboard && navigator.clipboard.readText) {\n          const text = await navigator.clipboard.readText();\n          if (text) {\n            clipboardInfo = { data: text, type: 'external' };\n          }\n        }\n      } catch (error) {\n      }\n\n      // Pokud jsme nenaetli ze schrnky, zkus localStorage\n      if (!clipboardInfo) {\n        const localData = localStorage.getItem('clipboard_data');\n        if (localData) {\n          try {\n            clipboardInfo = JSON.parse(localData);\n          } catch {\n            clipboardInfo = { data: localData, type: 'text' };\n          }\n        }\n      }\n\n      if (clipboardInfo && clipboardInfo.data) {\n\n        alert(`Vloeno: ${clipboardInfo.description || 'data ze schrnky'}`);\n      }\n    } catch (error) {\n    }\n  };\n\n  // Detekce stavu uivatele (aktivn/neaktivn)\n  // Kontrolujeme rzn varianty pole: active (boolean z Users.js), is_active, aktivni\n  const isActive =\n    user?.active === true ||\n    user?.active === 1 ||\n    user?.is_active === 1 ||\n    user?.is_active === true ||\n    user?.aktivni === 1 ||\n    user?.aktivni === true;\n\n  // Zavt menu pi kliku mimo nj\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        onClose();\n      }\n    };\n\n    const handleKeyDown = (e) => {\n      if (e.key === 'Escape') {\n        onClose();\n      } else if (e.ctrlKey || e.metaKey) {\n        switch (e.key) {\n          case 'c':\n          case 'C':\n            e.preventDefault();\n            handleCopy();\n            onClose();\n            break;\n          case 'x':\n          case 'X':\n            e.preventDefault();\n            handleCut();\n            onClose();\n            break;\n          case 'v':\n          case 'V':\n            if (hasClipboardData) {\n              e.preventDefault();\n              handlePaste();\n              onClose();\n            }\n            break;\n        }\n      }\n    };\n\n    // Mal zpodn, aby se menu nestihlo zavt hned po oteven\n    setTimeout(() => {\n      document.addEventListener('mousedown', handleClickOutside);\n      document.addEventListener('keydown', handleKeyDown);\n    }, 50);\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  // Zajisti, aby se menu zobrazilo v rmci viewportu\n  const adjustedPosition = () => {\n    if (!menuRef.current) return { left: x, top: y };\n\n    const menuRect = menuRef.current.getBoundingClientRect();\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n\n    let left = x;\n    let top = y;\n\n    // Kontrola, zda menu pesahuje prav okraj\n    if (x + menuRect.width > viewportWidth) {\n      left = viewportWidth - menuRect.width - 10;\n    }\n\n    // Kontrola, zda menu pesahuje spodn okraj\n    if (y + menuRect.height > viewportHeight) {\n      top = viewportHeight - menuRect.height - 10;\n    }\n\n    return { left, top };\n  };\n\n  const position = adjustedPosition();\n\n  return ReactDOM.createPortal(\n    <MenuContainer\n      ref={menuRef}\n      style={{\n        left: `${position.left}px`,\n        top: `${position.top}px`\n      }}\n    >\n      <MenuItem\n        onClick={() => { handleCut(); onClose(); }}\n        title={`Vystrihnout ${selectedData ? 'obsah buky' : 'cel dek'} (Ctrl+X)`}\n      >\n        <FontAwesomeIcon icon={faCut} />\n        <MenuLabel>Vystrihnout</MenuLabel>\n      </MenuItem>\n\n      <MenuItem\n        onClick={() => { handleCopy(); onClose(); }}\n        title={`Koprovat ${selectedData ? 'obsah buky' : 'cel dek'} (Ctrl+C)`}\n      >\n        <FontAwesomeIcon icon={faCopy} />\n        <MenuLabel>Koprovat</MenuLabel>\n      </MenuItem>\n\n      <MenuItem\n        disabled={!hasClipboardData}\n        onClick={() => { if (hasClipboardData) { handlePaste(); onClose(); } }}\n        title={\n          !hasClipboardData\n            ? 'Schrnka je przdn'\n            : `Vloit ze schrnky${clipboardData ? ` (${typeof clipboardData === 'string' ? clipboardData.substring(0, 30) + '...' : 'strukturovan data'})` : ''}`\n        }\n      >\n        <FontAwesomeIcon icon={faPaste} />\n        <MenuLabel>Vloit</MenuLabel>\n      </MenuItem>\n\n      <MenuDivider />\n\n      <MenuItem\n        disabled={!canEdit}\n        onClick={() => { if (canEdit) { onEdit(user); onClose(); } }}\n        title={!canEdit ? 'Nemte oprvnn k editaci tohoto uivatele' : 'Editovat uivatele'}\n      >\n        <FontAwesomeIcon icon={faEdit} />\n        <MenuLabel>Editovat uivatele</MenuLabel>\n      </MenuItem>\n\n      <MenuDivider />\n\n      <MenuItem\n        success={!isActive}\n        danger={isActive}\n        onClick={() => { onToggleActive(user, isActive); onClose(); }}\n        title={isActive ? 'Zakzat uivatele' : 'Povolit uivatele'}\n      >\n        <FontAwesomeIcon icon={isActive ? faUserSlash : faUserCheck} />\n        <MenuLabel>{isActive ? 'Zakzat uivatele' : 'Povolit uivatele'}</MenuLabel>\n      </MenuItem>\n\n      <MenuDivider />\n\n      <MenuItem\n        danger\n        onClick={() => { onDelete(user); onClose(); }}\n        title={\n          !canDelete\n            ? 'Nemte oprvnn ke smazn - uivatel bude pouze deaktivovn'\n            : 'Trvale smazat uivatele z databze'\n        }\n      >\n        <FontAwesomeIcon icon={canDelete ? faTrash : faUserMinus} />\n        <MenuLabel>{canDelete ? 'Smazat uivatele' : 'Deaktivovat uivatele'}</MenuLabel>\n      </MenuItem>\n\n      <MenuDivider />\n\n      <MenuItem onClick={() => onClose()}>\n        <FontAwesomeIcon icon={faTimes} />\n        <MenuLabel>Storno</MenuLabel>\n      </MenuItem>\n    </MenuContainer>,\n    document.body\n  );\n};\n\nexport default UserContextMenu;\n","import React, { useEffect, useState, useMemo, useContext, useCallback, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { ProgressContext } from '../context/ProgressContext';\nimport { ToastContext } from '../context/ToastContext';\nimport { fetchAllUsers, fetchUserDetail, getErrorCodeCZ, fetchActiveUsers, partialUpdateUser, deleteUser, deactivateUser } from '../services/api2auth';\nimport { getOrdersCountByUser } from '../services/api25orders';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faUsers, faBuilding, faShield, faToggleOn, faToggleOff,\n  faKey, faEdit, faTrash, faPlus, faMinus, faSyncAlt,\n  faSearch, faFilter, faTimes, faFileExport, faUserCheck, faUserSlash,\n  faIdCard, faClock, faCheckCircle, faTimesCircle,\n  faChevronLeft, faChevronRight, faChevronDown, faChevronUp, faEraser, faDashboard, faUserCog, faPalette,\n  faShoppingCart, faQuestionCircle, faBolt, faMapMarkerAlt, faBriefcase, faExclamationTriangle\n} from '@fortawesome/free-solid-svg-icons';\nimport styled from '@emotion/styled';\nimport {\n  useReactTable,\n  getCoreRowModel,\n  getExpandedRowModel,\n  getSortedRowModel,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  flexRender,\n} from '@tanstack/react-table';\nimport { prettyDate } from '../utils/format';\nimport ConfirmDialog from '../components/ConfirmDialog';\nimport ResetPasswordModal from '../components/ResetPasswordModal';\nimport UserManagementModal from '../components/userManagement/UserManagementModal';\nimport UserContextMenu from '../components/UserContextMenu';\nimport ModernHelper from '../components/ModernHelper';\nimport { SmartTooltip } from '../styles/SmartTooltip';\n\n// =============================================================================\n// STYLED COMPONENTS\n// =============================================================================\n\nconst Container = styled.div`\n  padding: 1rem;\n  width: 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n  overflow: visible;\n\n  @keyframes pulse {\n    0%, 100% {\n      opacity: 0.3;\n      transform: scale(1);\n    }\n    50% {\n      opacity: 1;\n      transform: scale(1.1);\n    }\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nconst TitlePanel = styled.div`\n  background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n  padding: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n`;\n\nconst TitleLeft = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n`;\n\nconst RefreshButton = styled.button`\n  background: rgba(255, 255, 255, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  color: white;\n  width: 42px;\n  height: 42px;\n  border-radius: 6px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.1rem;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.25);\n    border-color: rgba(255, 255, 255, 0.4);\n    transform: translateY(-1px);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n`;\n\nconst PageTitle = styled.h1`\n  margin: 0;\n  font-size: calc(1.5rem + 3px);\n  font-weight: 700;\n  color: white;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n`;\n\nconst ActionBar = styled.div`\n  display: flex;\n  gap: 0.75rem;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  margin-bottom: 2rem;\n  padding-bottom: 1rem;\n  border-bottom: 3px solid #e5e7eb;\n`;\n\nconst ActionButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  border: 2px solid #3b82f6;\n  border-radius: 8px;\n  background: ${props => props.$primary ? '#3b82f6' : 'white'};\n  color: ${props => props.$primary ? 'white' : '#3b82f6'};\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ${props => props.$primary ? '#2563eb' : '#eff6ff'};\n    border-color: ${props => props.$primary ? '#2563eb' : '#2563eb'};\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n`;\n\n// Dashboard Panel\nconst DashboardPanel = styled.div`\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 60%, #e2e8f0 100%);\n  border: 1px solid #cbd5e1;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n`;\n\nconst DashboardGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(12, 1fr);\n  gap: 1.5rem;\n\n  @media (max-width: 1200px) {\n    grid-template-columns: repeat(6, 1fr);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n  }\n`;\n\nconst TallStatCard = styled.div`\n  grid-column: span 3;\n  grid-row: span 2;\n  background: linear-gradient(145deg, #ffffff, #f9fafb);\n  border-radius: 12px;\n  padding: 1rem;\n  border-left: 4px solid ${props => props.$color || '#16a34a'};\n  box-shadow:\n    0 2px 8px rgba(0, 0, 0, 0.06),\n    0 1px 3px rgba(0, 0, 0, 0.04);\n  transition: all 0.25s ease;\n  min-height: 260px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n\n  &:hover {\n    transform: translateY(-1px);\n    box-shadow:\n      0 4px 12px rgba(0, 0, 0, 0.1),\n      0 2px 6px rgba(0, 0, 0, 0.06);\n  }\n\n  @media (max-width: 1200px) {\n    grid-column: span 3;\n  }\n\n  @media (max-width: 768px) {\n    grid-column: span 1;\n    grid-row: span 1;\n    min-height: 200px;\n  }\n`;\n\nconst SmallStatCard = styled.div`\n  grid-column: span 3;\n  background: ${props => props.$isActive ?\n    `linear-gradient(145deg, ${props.$color || '#3b82f6'}20, ${props.$color || '#3b82f6'}10)` :\n    'linear-gradient(145deg, #ffffff, #f9fafb)'};\n  border-radius: 12px;\n  padding: 1rem;\n  border-left: 4px solid ${props => props.$color || '#3b82f6'};\n  box-shadow:\n    0 2px 8px rgba(0, 0, 0, 0.06),\n    0 1px 3px rgba(0, 0, 0, 0.04);\n  transition: all 0.25s ease;\n  cursor: ${props => props.$clickable ? 'pointer' : 'default'};\n  min-height: 120px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  &:hover {\n    transform: ${props => props.$clickable ? 'translateY(-2px)' : 'translateY(-1px)'};\n    box-shadow:\n      0 4px 12px rgba(0, 0, 0, 0.1),\n      0 2px 6px rgba(0, 0, 0, 0.06);\n    ${props => props.$clickable && `\n      background: linear-gradient(145deg, ${props.$color || '#3b82f6'}25, ${props.$color || '#3b82f6'}15);\n    `}\n  }\n\n  ${props => props.$isActive && `\n    border-left-width: 6px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12), 0 0 0 2px ${props.$color || '#3b82f6'}40;\n  `}\n\n  @media (max-width: 1200px) {\n    grid-column: span 3;\n  }\n\n  @media (max-width: 768px) {\n    grid-column: span 1;\n    min-height: 100px;\n  }\n`;\n\nconst StatCard = styled.div`\n  background: ${props => props.$isActive ?\n    `linear-gradient(145deg, ${props.$color || '#3b82f6'}20, ${props.$color || '#3b82f6'}10)` :\n    'linear-gradient(145deg, #ffffff, #f9fafb)'};\n  border-radius: 12px;\n  padding: 1rem;\n  border-left: 4px solid ${props => props.$color || '#3b82f6'};\n  box-shadow:\n    0 2px 8px rgba(0, 0, 0, 0.06),\n    0 1px 3px rgba(0, 0, 0, 0.04);\n  transition: all 0.25s ease;\n  cursor: ${props => props.$clickable ? 'pointer' : 'default'};\n\n  &:hover {\n    transform: ${props => props.$clickable ? 'translateY(-2px)' : 'translateY(-1px)'};\n    box-shadow:\n      0 4px 12px rgba(0, 0, 0, 0.1),\n      0 2px 6px rgba(0, 0, 0, 0.06);\n    ${props => props.$clickable && `\n      background: linear-gradient(145deg, ${props.$color || '#3b82f6'}25, ${props.$color || '#3b82f6'}15);\n    `}\n  }\n\n  ${props => props.$isActive && `\n    border-left-width: 6px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12), 0 0 0 2px ${props.$color || '#3b82f6'}40;\n  `}\n`;\n\nconst StatHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 0.5rem;\n`;\n\nconst StatIcon = styled.div`\n  color: ${props => props.$color || '#64748b'};\n  font-size: 1.25rem;\n  opacity: 0.7;\n`;\n\nconst StatLabel = styled.div`\n  font-size: 0.875rem;\n  color: #64748b;\n  font-weight: 500;\n  text-align: left;\n  line-height: 1.4;\n`;\n\nconst StatValue = styled.div`\n  font-size: 1.875rem;\n  font-weight: 700;\n  color: #1e293b;\n  line-height: 1.2;\n  text-align: left;\n`;\n\n// Filters Panel\nconst FiltersPanel = styled.div`\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 60%, #e2e8f0 100%);\n  border: 1px solid #cbd5e1;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 1.5rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n`;\n\nconst FiltersHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n`;\n\nconst FiltersTitle = styled.h3`\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #1e293b;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst ToggleButton = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #3b82f6;\n  font-size: 1.25rem;\n  padding: 0.25rem;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #eff6ff;\n  }\n`;\n\nconst FiltersGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1rem;\n  margin-top: 1rem;\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst FilterGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst FilterLabel = styled.label`\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #374151;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst FilterInputWithIcon = styled.div`\n  position: relative;\n  width: 100%;\n\n  > svg:first-of-type {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n`;\n\nconst ClearButton = styled.button`\n  position: absolute;\n  right: 0.75rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 0.25rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  z-index: 1;\n  width: 20px;\n  height: 20px;\n\n  &:hover {\n    color: #6b7280;\n  }\n\n  > svg {\n    width: 14px !important;\n    height: 14px !important;\n  }\n`;\n\nconst FilterInput = styled.input`\n  width: 100%;\n  box-sizing: border-box;\n  padding: ${props => props.hasIcon ? '0.75rem 2.5rem 0.75rem 2.5rem' : '0.75rem'};\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  background: white;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n  }\n`;\n\n// Wrapper pro select s ikonou\nconst FilterSelectWithIcon = styled.div`\n  position: relative;\n  width: 100%;\n\n  > svg {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n`;\n\nconst FilterSelect = styled.select`\n  width: 100%;\n  box-sizing: border-box;\n  padding: ${props => props.hasIcon ? '0.75rem 1.75rem 0.75rem 2.5rem' : '0.75rem 1.75rem 0.75rem 0.75rem'};\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  background: white;\n  cursor: pointer;\n  color: #1f2937;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  appearance: none;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &:hover {\n    border-color: #3b82f6;\n  }\n\n  /* Custom dropdown arrow */\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23374151' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: right 0.5rem center;\n  background-size: 16px 16px;\n\n  /* Styling pro placeholder option */\n  option[value=\"\"] {\n    color: #9ca3af;\n    font-weight: 400;\n  }\n\n  option {\n    color: #1f2937;\n    font-weight: 500;\n\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23374151' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: right 0.5rem center;\n  background-size: 16px 16px;\n`;\n\nconst ClearFiltersButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border: 2px solid #dc2626;\n  border-radius: 8px;\n  background: white;\n  color: #dc2626;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #fef2f2;\n    transform: translateY(-1px);\n  }\n`;\n\n// Table Styles\n//  Wrapper pro tabulku s shadow indiktory na krajch\nconst TableScrollWrapper = styled.div`\n  position: relative;\n  width: 100%;\n\n  /* Shadow indiktory na krajch */\n  &::before,\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    width: 40px;\n    pointer-events: none;\n    z-index: 2;\n    transition: opacity 0.3s ease;\n  }\n\n  /* Lev shadow */\n  &::before {\n    left: 0;\n    background: linear-gradient(to right, rgba(0,0,0,0.1), transparent);\n    opacity: ${props => props.$showLeftShadow ? 1 : 0};\n  }\n\n  /* Prav shadow */\n  &::after {\n    right: 0;\n    background: linear-gradient(to left, rgba(0,0,0,0.1), transparent);\n    opacity: ${props => props.$showRightShadow ? 1 : 0};\n  }\n`;\n\nconst TableContainer = styled.div`\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  overflow-x: auto;\n  overflow-y: visible;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  scroll-behavior: smooth;\n\n  /* Skryt scrollbar - mme ipky pro navigaci */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  /* Firefox - skryt scrollbar */\n  scrollbar-width: none;\n`;\n\n// Scroll ipka - lev - FIXED position\nconst ScrollArrowLeft = styled.button`\n  position: fixed;\n  left: 50px;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 9999;\n\n  width: 56px;\n  height: 56px;\n  border-radius: 50%;\n  border: 2px solid #e5e7eb;\n  background: ${props => {\n    // Pln bl JEN kdy je hover pmo NAD IPKOU\n    if (props.$arrowHovered) {\n      return 'rgba(255, 255, 255, 0.98)';\n    }\n    return 'rgba(255, 255, 255, 0.25)'; // 75% prhledn (zobrazuje se kdy je hover nad tabulkou)\n  }};\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  /* Zobrazit kdy: 1) je poteba scrollovat A 2) je hover nad tabulkou NEBO nad ipkou */\n  opacity: ${props => (props.$visible && (props.$tableHovered || props.$arrowHovered)) ? 1 : 0};\n  pointer-events: ${props => (props.$visible && (props.$tableHovered || props.$arrowHovered)) ? 'auto' : 'none'};\n  transform: translateY(-50%); /* Vdy stejn velikost, dn scale */\n\n  &:hover:not(:disabled) {\n    background: rgba(248, 250, 252, 0.98);\n    border-color: #3b82f6;\n    box-shadow: 0 6px 16px rgba(59, 130, 246, 0.3);\n  }\n\n  &:active:not(:disabled) {\n    transform: translateY(-50%) scale(1.05);\n  }\n\n  &:disabled {\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  svg {\n    width: 22px;\n    height: 22px;\n    color: #3b82f6;\n  }\n`;\n\n// Scroll ipka - prav - FIXED position\nconst ScrollArrowRight = styled(ScrollArrowLeft)`\n  left: auto;\n  right: 50px;\n`;\n\nconst Table = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n`;\n\nconst TableHead = styled.thead`\n  background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n`;\n\nconst TableRow = styled.tr`\n  background: ${props => {\n    // Pokud je zapnut zvrazovn podle statusu\n    if (props.$showHighlighting) {\n      if (props.$isActive === false) {\n        return '#fef2f2'; // Svtle erven pro neaktivn\n      }\n      return '#f0fdf4'; // Svtle zelen pro aktivn\n    }\n    // Standardn stdn dk\n    return props.$isEven ? '#f8fafc' : 'white';\n  }};\n\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ${props => {\n      if (props.$showHighlighting && props.$isActive === false) {\n        return '#fee2e2'; // Tmav erven pi hoveru pro neaktivn\n      }\n      if (props.$showHighlighting && props.$isActive === true) {\n        return '#dcfce7'; // Tmav zelen pi hoveru pro aktivn\n      }\n      return 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)';\n    }} !important;\n  }\n`;\n\nconst TableHeader = styled.th`\n  padding: 1rem 0.75rem;\n  text-align: center;\n  font-weight: 600;\n  color: white;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n  cursor: pointer;\n  user-select: none;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  font-size: 0.875rem;\n  letter-spacing: 0.025em;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n  }\n`;\n\nconst TableCell = styled.td`\n  padding: 0.75rem;\n  border-bottom: 1px solid #f1f5f9;\n  vertical-align: middle;\n  font-size: 0.875rem;\n`;\n\nconst ExpandButton = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #3b82f6;\n  font-size: 1.25rem;\n  padding: 0.25rem;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #eff6ff;\n  }\n`;\n\nconst ExpandedContent = styled.div`\n  padding: 1.5rem;\n  background: #f9fafb;\n  border-top: 2px solid #3b82f6;\n  border-bottom: 1px solid #d1d5db;\n`;\n\nconst ExpandedGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));\n  gap: 1rem;\n`;\n\nconst InfoCard = styled.div`\n  background: white;\n  border-radius: 8px;\n  padding: 1.25rem;\n  border-left: 4px solid #3b82f6;\n  box-shadow:\n    0 4px 6px -1px rgba(0, 0, 0, 0.1),\n    0 2px 4px -1px rgba(0, 0, 0, 0.06);\n\n  transition: all 0.2s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow:\n      0 10px 15px -3px rgba(0, 0, 0, 0.1),\n      0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  }\n`;\n\nconst InfoCardTitle = styled.h4`\n  margin: 0 0 0.75rem 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #1e293b;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst InfoRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 1rem;\n  padding: 0.45rem 0;\n  border-bottom: 1px dashed #e5e7eb;\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n\nconst InfoLabel = styled.span`\n  font-weight: 600;\n  color: #64748b;\n  flex-shrink: 0;\n  white-space: nowrap;\n`;\n\nconst InfoValue = styled.span`\n  color: #1f2937;\n  text-align: right;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  flex: 1;\n  line-height: 1.5;\n`;\n\nconst ActionMenu = styled.div`\n  display: flex;\n  gap: 0.12rem;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ActionMenuButton = styled.button`\n  padding: 0.375rem;\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  border-radius: 4px;\n  color: #64748b;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 28px;\n  min-height: 28px;\n\n  &:hover {\n    background: #f1f5f9;\n    color: #1e293b;\n  }\n\n  &.toggle-active:hover {\n    color: #16a34a;\n    background: #f0fdf4;\n  }\n\n  &.toggle-inactive:hover {\n    color: #dc2626;\n    background: #fef2f2;\n  }\n\n  &.reset:hover {\n    color: #f59e0b;\n    background: #fffbeb;\n  }\n\n  &.edit:hover {\n    color: #3b82f6;\n    background: #eff6ff;\n  }\n\n  &.delete:hover {\n    color: #dc2626;\n    background: #fef2f2;\n  }\n\n  &:disabled {\n    opacity: 0.4;\n    cursor: not-allowed;\n  }\n`;\n\nconst StatusBadge = styled.span`\n  display: inline-flex;\n  align-items: center;\n  gap: 0.375rem;\n  padding: 0.375rem 0.75rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.025em;\n\n  ${props => props.$active ? `\n    background: #dcfce7;\n    color: #166534;\n    border: 1px solid #86efac;\n  ` : `\n    background: #fee2e2;\n    color: #991b1b;\n    border: 1px solid #fca5a5;\n  `}\n`;\n\nconst PaginationContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: #f8fafc;\n  border-top: 1px solid #e5e7eb;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 1rem;\n  }\n`;\n\nconst PaginationInfo = styled.div`\n  font-size: 0.875rem;\n  color: #64748b;\n  font-weight: 500;\n`;\n\nconst PaginationControls = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n`;\n\nconst PageButton = styled.button`\n  padding: 0.5rem 1rem;\n  border: 1px solid #e5e7eb;\n  background: white;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  color: #374151;\n\n  &:hover:not(:disabled) {\n    background: #f3f4f6;\n    border-color: #3b82f6;\n    color: #3b82f6;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  &.active {\n    background: #3b82f6;\n    color: white;\n    border-color: #3b82f6;\n  }\n`;\n\nconst PageSizeSelect = styled.select`\n  padding: 0.5rem;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  background: white;\n  font-size: 0.875rem;\n  cursor: pointer;\n  color: #374151;\n  font-weight: 500;\n`;\n\nconst ColumnFilterWrapper = styled.div`\n  position: relative;\n  width: 100%;\n\n  > svg:first-of-type {\n    position: absolute;\n    left: 0.5rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 12px !important;\n    height: 12px !important;\n  }\n`;\n\nconst ColumnClearButton = styled.button`\n  position: absolute;\n  right: 0.5rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 0.15rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  z-index: 1;\n  width: 16px;\n  height: 16px;\n\n  &:hover {\n    color: #6b7280;\n  }\n\n  > svg {\n    width: 10px !important;\n    height: 10px !important;\n  }\n`;\n\nconst ColumnFilterInput = styled.input`\n  width: 100%;\n  padding: 0.5rem 2rem 0.5rem 2rem;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  background: #f9fafb;\n  transition: all 0.2s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    background: white;\n    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n    font-size: 0.75rem;\n  }\n`;\n\nconst FilterActionButton = styled.button`\n  background: white;\n  border: 1px solid #d1d5db;\n  color: #6b7280;\n  padding: 0.4rem 0.5rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.85rem;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 32px;\n  min-height: 32px;\n\n  &:hover {\n    background: #f3f4f6;\n    border-color: #3b82f6;\n    color: #3b82f6;\n  }\n\n  &.active {\n    background: #3b82f6;\n    color: white;\n    border-color: #3b82f6;\n  }\n`;\n\nconst IconFilterButton = styled.button`\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.2s;\n\n  &:hover {\n    opacity: 0.7;\n  }\n\n  svg {\n    width: 20px;\n    height: 20px;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: #dc2626;\n  font-weight: 600;\n  margin-top: 2rem;\n  padding: 1rem;\n  background: #fef2f2;\n  border-left: 4px solid #dc2626;\n  border-radius: 8px;\n`;\n\nconst LoadingOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(248, 250, 252, 0.95);\n  backdrop-filter: blur(${props => props.$visible ? '8px' : '0px'});\n  -webkit-backdrop-filter: blur(${props => props.$visible ? '8px' : '0px'});\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  opacity: ${props => props.$visible ? 1 : 0};\n  transition: opacity 0.5s ease-in-out, backdrop-filter 0.6s ease-in-out;\n  pointer-events: ${props => props.$visible ? 'auto' : 'none'};\n\n  @media (max-width: 768px) {\n    padding: 1rem;\n  }\n`;\n\nconst LoadingSpinner = styled.div`\n  width: 64px;\n  height: 64px;\n  border: 4px solid #e2e8f0;\n  border-top: 4px solid #3b82f6;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 1.5rem;\n  transform: scale(${props => props.$visible ? 1 : 0.8});\n  transition: transform 0.5s ease-in-out;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg) scale(1); }\n    100% { transform: rotate(360deg) scale(1); }\n  }\n`;\n\nconst LoadingMessage = styled.div`\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #374151;\n  text-align: center;\n  margin-bottom: 0.5rem;\n  transform: translateY(${props => props.$visible ? '0' : '10px'});\n  opacity: ${props => props.$visible ? 1 : 0};\n  transition: transform 0.5s ease-in-out 0.1s, opacity 0.5s ease-in-out 0.1s;\n`;\n\nconst LoadingSubtext = styled.div`\n  font-size: 0.875rem;\n  color: #6b7280;\n  text-align: center;\n  transform: translateY(${props => props.$visible ? '0' : '10px'});\n  opacity: ${props => props.$visible ? 1 : 0};\n  transition: transform 0.5s ease-in-out 0.15s, opacity 0.5s ease-in-out 0.15s;\n`;\n\nconst PageContent = styled.div`\n  filter: blur(${props => props.$blurred ? '3px' : '0px'});\n  transition: filter 0.6s ease-in-out;\n  pointer-events: ${props => props.$blurred ? 'none' : 'auto'};\n`;\n\n// Debug Panel (stejn jako Orders25List)\nconst DebugPanel = styled.div`\n  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);\n  border: 2px solid #0ea5e9;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  color: white;\n  font-family: 'Courier New', monospace;\n  box-shadow: 0 8px 32px rgba(14, 165, 233, 0.3);\n`;\n\nconst DebugHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  padding-bottom: 0.75rem;\n  border-bottom: 2px solid rgba(14, 165, 233, 0.3);\n`;\n\nconst DebugTitle = styled.h3`\n  margin: 0;\n  color: #0ea5e9;\n  font-size: 1.25rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst DebugContent = styled.div`\n  max-height: 400px;\n  overflow-y: auto;\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 8px;\n  padding: 1rem;\n  border: 1px solid rgba(14, 165, 233, 0.2);\n`;\n\nconst DebugSection = styled.div`\n  margin-bottom: 1rem;\n  &:last-child { margin-bottom: 0; }\n`;\n\nconst DebugLabel = styled.div`\n  color: #0ea5e9;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  font-size: 0.875rem;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n\nconst DebugValue = styled.pre`\n  margin: 0;\n  color: #e2e8f0;\n  font-size: 0.75rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-all;\n  background: rgba(0, 0, 0, 0.2);\n  padding: 0.75rem;\n  border-radius: 6px;\n  border-left: 3px solid #0ea5e9;\n`;\n\n// =============================================================================\n// MAIN COMPONENT\n// =============================================================================\n\nconst Users = () => {\n  const { token, username, userDetail, hasPermission } = useContext(AuthContext);\n  const { start: startGlobalProgress, setProgress: setGlobalProgress, done: doneGlobalProgress, reset: resetGlobalProgress } = useContext(ProgressContext);\n  const { showToast } = useContext(ToastContext) || {};\n\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Helper functions for user-specific localStorage\n  const user_id = userDetail?.user_id;\n  const getUserKey = (baseKey) => {\n    const sid = user_id || 'anon';\n    return `${baseKey}_${sid}`;\n  };\n\n  const getUserStorage = (baseKey, defaultValue = null) => {\n    try {\n      const item = localStorage.getItem(getUserKey(baseKey));\n      return item !== null ? JSON.parse(item) : defaultValue;\n    } catch (error) {\n      return defaultValue;\n    }\n  };\n\n  const setUserStorage = (baseKey, value) => {\n    try {\n      localStorage.setItem(getUserKey(baseKey), JSON.stringify(value));\n    } catch (error) {\n      // Ignorovat chyby zpisu\n    }\n  };\n\n  const [globalFilter, setGlobalFilter] = useState(() => {\n    return getUserStorage('users_globalFilter', '');\n  });\n  const [departmentFilter, setDepartmentFilter] = useState(() => {\n    return getUserStorage('users_departmentFilter', '');\n  });\n  const [groupFilter, setGroupFilter] = useState(() => {\n    return getUserStorage('users_groupFilter', '');\n  });\n  const [locationFilter, setLocationFilter] = useState(() => {\n    return getUserStorage('users_locationFilter', '');\n  });\n  const [positionFilter, setPositionFilter] = useState(() => {\n    return getUserStorage('users_positionFilter', '');\n  });\n  const [statusFilter, setStatusFilter] = useState(() => {\n    return getUserStorage('users_statusFilter', 'all'); // 'all', 'active', 'inactive'\n  });\n  const [showFilters, setShowFilters] = useState(() => {\n    return getUserStorage('users_showFilters', false); // Rozen filtr defaultn skryt\n  });\n\n  // Stav pro zobrazen/skryt rozenho filtru (pro dodaten filtry Lokalita, Pozice, sek, Role)\n  const [showExpandedFilters, setShowExpandedFilters] = useState(() => {\n    return getUserStorage('users_showExpandedFilters', false);\n  });\n\n  const [columnFilters, setColumnFilters] = useState(() => {\n    return getUserStorage('users_columnFilters', {});\n  });\n  const [showRowHighlighting, setShowRowHighlighting] = useState(() => {\n    return getUserStorage('users_showRowHighlighting', true);\n  });\n\n  const [showDashboard, setShowDashboard] = useState(() => {\n    return getUserStorage('users_showDashboard', true);\n  });\n\n  // Table pagination - load from user-specific localStorage\n  const [pageSize, setPageSize] = useState(() => {\n    return getUserStorage('users_pageSize', 25);\n  });\n\n  const [currentPageIndex, setCurrentPageIndex] = useState(() => {\n    return getUserStorage('users_pageIndex', 0);\n  });\n\n  // Table sorting - load from user-specific localStorage\n  const [sorting, setSorting] = useState(() => {\n    return getUserStorage('users_sorting', []);\n  });\n\n  const [expandedRows, setExpandedRows] = useState({});\n  const [collapsedSections, setCollapsedSections] = useState({});\n  const [rightsSearchTerm, setRightsSearchTerm] = useState('');\n\n  // User Management Modal state\n  const [userModalState, setUserModalState] = useState({\n    isOpen: false,\n    mode: 'create', // 'create' | 'edit'\n    userData: null\n  });\n  const [ordersCount, setOrdersCount] = useState(() => {\n    // Nast z cache pi startu\n    const cached = getUserStorage('users_ordersCountCache', null);\n    if (cached && cached.timestamp) {\n      const age = Date.now() - cached.timestamp;\n      const maxAge = 10 * 60 * 1000; // 10 minut\n      if (age < maxAge) {\n        return cached.data || {};\n      }\n    }\n    return {};\n  });\n  const [isLoadingOrdersCounts, setIsLoadingOrdersCounts] = useState(false);\n  const [ordersCountLoadTime, setOrdersCountLoadTime] = useState(() => {\n    // Nast as z cache\n    const cached = getUserStorage('users_ordersCountCache', null);\n    return cached?.loadTime || null;\n  });\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [isResetPasswordModalOpen, setIsResetPasswordModalOpen] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [dialogAction, setDialogAction] = useState(null);\n  const [activeUsers, setActiveUsers] = useState([]);\n\n  // Debug panel - user-specific\n  const [showDebug, setShowDebug] = useState(() => {\n    return getUserStorage('users_showDebug', false);\n  });\n  const [rawApiData, setRawApiData] = useState(null);\n\n  // Context menu state\n  const [contextMenu, setContextMenu] = useState(null);\n\n  //  Scroll state management pro horizontln scroll ipky\n  const [showLeftArrow, setShowLeftArrow] = useState(false);\n  const [showRightArrow, setShowRightArrow] = useState(false);\n  const [showLeftShadow, setShowLeftShadow] = useState(false);\n  const [showRightShadow, setShowRightShadow] = useState(false);\n  const [isTableHovered, setIsTableHovered] = useState(false);\n  const [isArrowHovered, setIsArrowHovered] = useState(false);\n\n  // Force refresh counter - zmna vynut re-fetch\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\n  const [silentRefresh, setSilentRefresh] = useState(false); //  Flag pro tich naten bez progress baru\n\n  //  Callback refs pro scroll monitoring\n  const tableContainerRef = useRef(null);\n  const tableWrapperRef = useRef(null);\n\n  const setTableWrapperRef = useCallback((node) => {\n    if (tableWrapperRef.current) {\n      tableWrapperRef.current.removeEventListener('mouseenter', handleTableMouseEnter);\n      tableWrapperRef.current.removeEventListener('mouseleave', handleTableMouseLeave);\n    }\n\n    tableWrapperRef.current = node;\n\n    if (node) {\n      node.addEventListener('mouseenter', handleTableMouseEnter);\n      node.addEventListener('mouseleave', handleTableMouseLeave);\n    }\n  }, []);\n\n  const setTableContainerRef = useCallback((node) => {\n    if (tableContainerRef.current) {\n      tableContainerRef.current.removeEventListener('scroll', checkScrollPosition);\n      window.removeEventListener('resize', checkScrollPosition);\n    }\n\n    tableContainerRef.current = node;\n\n    if (node) {\n      node.addEventListener('scroll', checkScrollPosition);\n      window.addEventListener('resize', checkScrollPosition);\n\n      // Initial check\n      setTimeout(() => checkScrollPosition(), 100);\n    }\n  }, []);\n\n  const checkScrollPosition = useCallback(() => {\n    if (!tableContainerRef.current) return;\n\n    const { scrollLeft, scrollWidth, clientWidth } = tableContainerRef.current;\n    const tolerance = 5; // ipky tolerance\n    const shadowTolerance = 1; // Shadow tolerance\n\n    // ipky: tolerance 5px\n    setShowLeftArrow(scrollLeft > tolerance);\n    setShowRightArrow(scrollLeft < scrollWidth - clientWidth - tolerance);\n\n    // Shadows: tolerance 1px (zobrazit tm okamit)\n    setShowLeftShadow(scrollLeft > shadowTolerance);\n    setShowRightShadow(scrollLeft < scrollWidth - clientWidth - shadowTolerance);\n  }, []);\n\n  const handleTableMouseEnter = useCallback(() => {\n    setIsTableHovered(true);\n  }, []);\n\n  const handleTableMouseLeave = useCallback(() => {\n    setIsTableHovered(false);\n    //  NEMAZAT isArrowHovered zde! Arrow m svj vlastn hover state.\n  }, []);\n\n  const handleScrollLeft = useCallback(() => {\n    if (tableContainerRef.current) {\n      const scrollAmount = tableContainerRef.current.clientWidth * 0.8;\n      tableContainerRef.current.scrollBy({ left: -scrollAmount, behavior: 'smooth' });\n    }\n  }, []);\n\n  const handleScrollRight = useCallback(() => {\n    if (tableContainerRef.current) {\n      const scrollAmount = tableContainerRef.current.clientWidth * 0.8;\n      tableContainerRef.current.scrollBy({ left: scrollAmount, behavior: 'smooth' });\n    }\n  }, []);\n\n  const fetchUsers = useCallback(async (silent = false) => {\n    try {\n      setError(null);\n      setLoading(true);\n\n      //  Pokud je silent=true, NEVOLAT startGlobalProgress\n      if (!silent) {\n        startGlobalProgress();\n      }\n\n      // Pidme timestamp do requestu, aby se vyhnul browser cache\n      const data = await fetchAllUsers({\n        token,\n        username,\n        _cacheBust: Date.now() // Force bypass any HTTP cache\n      });\n\n      // Save raw API data for debug modal\n      setRawApiData(data);\n\n      // Users loaded successfully\n\n      if (!silent) {\n        setGlobalProgress(60);\n      }\n\n      if (!Array.isArray(data)) {\n        throw new Error('API nevrtilo pole uivatel');\n      }\n\n      //  Debug: Zkontrolovat duplikty z API\n      const idCounts = {};\n      data.forEach(u => {\n        const id = u.id || u.user_id;\n        idCounts[id] = (idCounts[id] || 0) + 1;\n      });\n      const duplicates = Object.entries(idCounts).filter(([id, count]) => count > 1);\n      if (duplicates.length > 0) {\n        console.warn(' DUPLICITN UIVATEL Z API:', duplicates);\n        console.warn(' Detail duplicitnch uivatel:', \n          duplicates.map(([id]) => data.filter(u => (u.id || u.user_id) == id))\n        );\n      }\n\n      const processedData = data.map((user) => ({\n        id: user.id || user.user_id,\n        username: user.username || user.prihlas_jmeno || 'N/A',\n        surname: user.prijmeni || user.surname || 'N/A',\n        name: user.jmeno || user.name || 'N/A',\n        titul_pred: user.titul_pred || '',\n        titul_za: user.titul_za || '',\n        fullName: [\n          user.titul_pred,\n          user.prijmeni || user.surname,\n          user.jmeno || user.name,\n          user.titul_za\n        ].filter(Boolean).join(' ') || 'N/A',\n        email: user.email || 'N/A',\n        location: user.lokalita_nazev?.trim() || user.lokalita?.trim() || user.location?.trim() || '',\n        department: user.usek_zkr?.trim() || user.usek_nazev?.trim() || user.department?.trim() || user.oddeleni?.trim() || '',\n        position: (\n          user.nazev_pozice?.trim() ||\n          user.pozice_nazev?.trim() ||\n          (typeof user.pozice === 'object' && user.pozice?.nazev_pozice?.trim()) ||\n          (typeof user.pozice === 'object' && user.pozice?.nazev?.trim()) ||\n          (typeof user.pozice === 'string' && user.pozice.trim()) ||\n          user.funkce?.trim() ||\n          user.position?.trim() ||\n          user.title?.trim() ||\n          ''\n        ),\n        phone: user.phone || user.telefon || 'N/A',\n        active: user.aktivni === 1 || user.aktivni === '1' || user.aktivni === true || user.active === 'a' || user.active === true,\n        roles: user.roles || [],\n        direct_rights: user.direct_rights || [],\n        group_name: user.roles && user.roles.length > 0\n          ? user.roles\n              .map(r => r.nazev_role || r.nazev)\n              .filter(Boolean)\n              .sort((a, b) => a.localeCompare(b, 'cs'))\n              .join(', ')\n          : (user.group_name || user.nazev_role || 'Bez role'),\n        dt_activity: user.dt_activity || user.dt_posledni_aktivita || user.posl_aktivita || null,\n      }));\n\n      // Users processed successfully\n\n      setUsers(processedData);\n\n      if (!silent) {\n        doneGlobalProgress();\n      }\n\n      // Toast notification removed - no need to notify on successful list load\n    } catch (err) {\n      setError('Nepodailo se nast uivatele. Zkuste to prosm znovu.');\n\n      if (showToast) {\n        showToast('Chyba pi natn uivatel', { type: 'error' });\n      }\n\n      if (!silent) {\n        try { doneGlobalProgress(); } catch(_) {}\n        try {\n          const code = getErrorCodeCZ(err) || '';\n          if (code === 'chyba_serveru' || code === 'server_error') {\n            setTimeout(() => { resetGlobalProgress && resetGlobalProgress(); }, 2200);\n          }\n        } catch(e) {}\n      }\n    } finally {\n      setTimeout(() => setLoading(false), 500);\n    }\n  }, [token, username, startGlobalProgress, setGlobalProgress, doneGlobalProgress, resetGlobalProgress, showToast, refreshTrigger]);\n\n  useEffect(() => {\n    if (token && username) {\n      //  Pout silentRefresh flag pokud je nastaven\n      fetchUsers(silentRefresh);\n      // Reset flag po pouit\n      if (silentRefresh) {\n        setSilentRefresh(false);\n      }\n    } else {\n      setError('Chyb autentizan token nebo uivatelsk jmno. Pihlaste se prosm znovu.');\n      setLoading(false);\n    }\n  }, [token, username, fetchUsers, silentRefresh]);\n\n  // Natn aktivnch uivatel (pro dashboard)\n  const fetchActiveUsersData = useCallback(async () => {\n    if (!token || !username) return;\n    try {\n      const data = await fetchActiveUsers({ token, username });\n      setActiveUsers(data || []);\n    } catch (error) {\n    }\n  }, [token, username]);\n\n  useEffect(() => {\n    fetchActiveUsersData();\n    // Refresh kadch 30 sekund\n    const interval = setInterval(fetchActiveUsersData, 30000);\n    return () => clearInterval(interval);\n  }, [fetchActiveUsersData]);\n\n  // Natn pot objednvek pro uivatele - PARALELN VERZE s CACHE\n  const fetchOrdersCounts = useCallback(async (forceRefresh = false) => {\n    if (!users.length || !token || !username) {\n      return;\n    }\n\n    // Kontrola cache - pokud nen force refresh\n    if (!forceRefresh) {\n      const cached = getUserStorage('users_ordersCountCache', null);\n      if (cached && cached.timestamp && cached.data) {\n        const age = Date.now() - cached.timestamp;\n        const maxAge = 10 * 60 * 1000; // 10 minut\n\n        if (age < maxAge) {\n          setOrdersCount(cached.data);\n          setOrdersCountLoadTime(cached.loadTime);\n          return; // Pout cache, nechodit na DB\n        }\n      }\n    }\n\n    const startTime = performance.now(); // Start men asu\n    setIsLoadingOrdersCounts(true);\n\n    // Reset counts na loading state\n    const loadingCounts = {};\n    users.forEach(user => {\n      if (user.id) loadingCounts[user.id] = undefined; // undefined znamen loading\n    });\n    setOrdersCount(loadingCounts);\n\n    // Paraleln natn s timeoutem\n    const fetchPromises = users.map(async (user) => {\n      if (!user.id) return { user, count: 0, error: 'No user ID' };\n\n      try {\n        // Timeout wrapper pro kad request\n        const timeoutPromise = new Promise((_, reject) =>\n          setTimeout(() => reject(new Error('Request timeout')), 10000) // 10s timeout\n        );\n\n        const requestPromise = getOrdersCountByUser({\n          token,\n          username,\n          user_id: user.id\n        });\n\n        const response = await Promise.race([requestPromise, timeoutPromise]);\n        const orderCount = response.data?.total_orders_count || 0;\n\n        // Okamit aktualizuj UI pro tento uivatele\n        setOrdersCount(prev => ({\n          ...prev,\n          [user.id]: orderCount\n        }));\n\n        return { user, count: orderCount, error: null };\n\n      } catch (err) {\n        // Okamit aktualizuj UI s chybou\n        setOrdersCount(prev => ({\n          ...prev,\n          [user.id]: 0\n        }));\n\n        return { user, count: 0, error: err.message };\n      }\n    });\n\n    // ekej na vechny requesty\n    const results = await Promise.allSettled(fetchPromises);\n\n    // Zpracuj vsledky\n    let successCount = 0;\n    let errorCount = 0;\n    const finalCounts = {};\n\n    results.forEach((result, index) => {\n      if (result.status === 'fulfilled') {\n        const { user, count, error } = result.value;\n        finalCounts[user.id] = count;\n        if (error) {\n          errorCount++;\n        } else {\n          successCount++;\n        }\n      } else {\n        errorCount++;\n        const user = users[index];\n        if (user && user.id) {\n          finalCounts[user.id] = 0;\n        }\n      }\n    });\n\n    // Finln nastaven pro jistotu\n    setOrdersCount(finalCounts);\n    setIsLoadingOrdersCounts(false);\n\n    // Uloit as natn\n    const endTime = performance.now();\n    const loadTimeMs = Math.round(endTime - startTime);\n    setOrdersCountLoadTime(loadTimeMs);\n\n    // Uloit do cache\n    setUserStorage('users_ordersCountCache', {\n      data: finalCounts,\n      timestamp: Date.now(),\n      loadTime: loadTimeMs\n    });\n\n    // Orders count loaded and cached (debug removed for performance)\n  }, [users, token, username]);\n\n  // Nast poty objednvek kdy se natou uivatel - pouije cache pokud je validn\n  useEffect(() => {\n    if (users.length > 0 && token && username) {\n      fetchOrdersCounts(false); // false = pout cache pokud je validn\n    }\n  }, [users.length, token, username]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const stats = useMemo(() => {\n    const total = users.length;\n    const active = users.filter(u => u.active).length;\n    const inactive = total - active;\n\n    const departments = {};\n    users.forEach(u => {\n      const dept = u.department || 'Bez seku';\n      departments[dept] = (departments[dept] || 0) + 1;\n    });\n\n    const groups = {};\n    users.forEach(u => {\n      const group = u.group_name || 'Bez skupiny';\n      groups[group] = (groups[group] || 0) + 1;\n    });\n\n    return { total, active, inactive, departments, groups };\n  }, [users]);\n\n  // Utility function pro normalizaci textu (odstrann diakritiky a pevod na mal psmena)\n  const normalizeForSearch = useCallback((text) => {\n    if (!text) return '';\n    return String(text)\n      .toLowerCase()\n      .normalize('NFD')\n      .replace(/[\\u0300-\\u036f]/g, ''); // Odstran diakritiku\n  }, []);\n\n  const filteredData = useMemo(() => {\n    return users.filter((user) => {\n      // Status filtr (vichni/aktivn/neaktivn) - MUS BT PRVN!\n      if (statusFilter === 'active' && !user.active) return false;\n      if (statusFilter === 'inactive' && user.active) return false;\n\n      // Global filter (Fultext) - bez diakritiky\n      if (globalFilter) {\n        const searchNormalized = normalizeForSearch(globalFilter);\n        const matchGlobal =\n          normalizeForSearch(user.username).includes(searchNormalized) ||\n          normalizeForSearch(user.fullName).includes(searchNormalized) ||\n          normalizeForSearch(user.email).includes(searchNormalized) ||\n          normalizeForSearch(user.location).includes(searchNormalized) ||\n          normalizeForSearch(user.department).includes(searchNormalized) ||\n          normalizeForSearch(user.position).includes(searchNormalized) ||\n          normalizeForSearch(user.group_name).includes(searchNormalized);\n\n        if (!matchGlobal) return false;\n      }\n\n      // Panel filters (rozen filtr)\n      if (departmentFilter && user.department !== departmentFilter) return false;\n      if (groupFilter && user.group_name !== groupFilter) return false;\n      if (locationFilter && user.location !== locationFilter) return false;\n      if (positionFilter && user.position !== positionFilter) return false;\n\n      // Column filters - bez diakritiky\n      if (columnFilters.username && !normalizeForSearch(user.username).includes(normalizeForSearch(columnFilters.username))) return false;\n      if (columnFilters.fullName && !normalizeForSearch(user.fullName).includes(normalizeForSearch(columnFilters.fullName))) return false;\n      if (columnFilters.email && !normalizeForSearch(user.email).includes(normalizeForSearch(columnFilters.email))) return false;\n      if (columnFilters.location && !normalizeForSearch(user.location).includes(normalizeForSearch(columnFilters.location))) return false;\n      if (columnFilters.department && !normalizeForSearch(user.department).includes(normalizeForSearch(columnFilters.department))) return false;\n      if (columnFilters.position && !normalizeForSearch(user.position).includes(normalizeForSearch(columnFilters.position))) return false;\n      if (columnFilters.group_name && !normalizeForSearch(user.group_name).includes(normalizeForSearch(columnFilters.group_name))) return false;\n\n      // Filtrovn Prva\n      if (columnFilters.rights_count) {\n        const searchTerm = columnFilters.rights_count.toLowerCase();\n\n        // Spotat poet prv\n        const allRightsMap = new Map();\n        if (user.roles) {\n          user.roles.forEach(role => {\n            if (role.rights) {\n              role.rights.forEach(right => {\n                const kod = right.kod_prava || right.nazev;\n                if (kod) allRightsMap.set(kod, true);\n              });\n            }\n          });\n        }\n        if (user.direct_rights) {\n          user.direct_rights.forEach(right => {\n            const kod = right.kod_prava || right.nazev;\n            if (kod) allRightsMap.set(kod, true);\n          });\n        }\n        const rightsCount = allRightsMap.size;\n\n        if (!String(rightsCount).includes(searchTerm)) return false;\n      }\n\n      // Filtrovn Objednvky\n      if (columnFilters.orders_count) {\n        const searchTerm = columnFilters.orders_count.toLowerCase();\n        const ordersCountVal = ordersCount[user.id] || 0;\n\n        if (!String(ordersCountVal).includes(searchTerm)) return false;\n      }\n\n      return true;\n    });\n  }, [users, globalFilter, statusFilter, departmentFilter, groupFilter, locationFilter, positionFilter, columnFilters, normalizeForSearch]);\n\n  const columns = useMemo(() => [\n    {\n      id: 'expander',\n      header: '',\n      size: 50,\n      cell: ({ row }) => (\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n          <ExpandButton\n            onClick={() => {\n              setExpandedRows(prev => ({ ...prev, [row.id]: !prev[row.id] }));\n            }}\n          >\n            <FontAwesomeIcon icon={expandedRows[row.id] ? faMinus : faPlus} />\n          </ExpandButton>\n        </div>\n      ),\n    },\n    {\n      accessorKey: 'username',\n      header: 'Uivatelsk jmno',\n      cell: ({ row }) => (\n        <div style={{ fontWeight: 600, color: '#1e293b' }}>\n          {row.original.username}\n          <span style={{\n            fontSize: '0.75rem',\n            color: '#94a3b8',\n            marginLeft: '0.5rem',\n            fontWeight: 400,\n            verticalAlign: 'super'\n          }}>\n            #{row.original.id}\n          </span>\n        </div>\n      ),\n    },\n    {\n      accessorKey: 'fullName',\n      header: 'Cel jmno',\n      cell: (info) => <div style={{ fontWeight: 500 }}>{info.getValue()}</div>,\n    },\n    {\n      accessorKey: 'email',\n      header: 'E-mail',\n      cell: (info) => <div>{info.getValue()}</div>,\n    },\n    {\n      accessorKey: 'phone',\n      header: 'Telefon',\n      cell: (info) => <div style={{ textAlign: 'center' }}>{info.getValue()}</div>,\n    },\n    {\n      accessorKey: 'location',\n      header: 'Lokalita',\n      cell: (info) => {\n        const value = info.getValue();\n        return (\n          <div style={{ textAlign: 'center', fontSize: '0.875rem', color: value ? 'inherit' : '#9ca3af', fontStyle: value ? 'normal' : 'italic' }}>\n            {value || ''}\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: 'department',\n      header: 'sek',\n      cell: (info) => {\n        const value = info.getValue();\n        return (\n          <div style={{ textAlign: 'center', color: value ? 'inherit' : '#9ca3af', fontStyle: value ? 'normal' : 'italic' }}>\n            {value || ''}\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: 'position',\n      header: 'Pozice',\n      cell: (info) => {\n        const value = info.getValue();\n        return (\n          <div style={{ textAlign: 'center', fontSize: '0.875rem', fontWeight: 500, color: value ? 'inherit' : '#9ca3af', fontStyle: value ? 'normal' : 'italic' }}>\n            {value || ''}\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: 'group_name',\n      header: 'Role',\n      cell: (info) => <div style={{ textAlign: 'left', fontWeight: 500, paddingLeft: '1rem' }}>{info.getValue()}</div>,\n    },\n    {\n      id: 'rights_count',\n      header: 'Prva',\n      cell: ({ row }) => {\n        // Spotat vechna uniktn prva uivatele\n        const allRightsMap = new Map();\n\n        // Pidat prva z rol\n        if (row.original.roles && Array.isArray(row.original.roles)) {\n          row.original.roles.forEach(role => {\n            if (role.rights && Array.isArray(role.rights)) {\n              role.rights.forEach(right => {\n                const kod = right.kod_prava || right.nazev || right.name || right.code;\n                if (kod) {\n                  allRightsMap.set(kod, true);\n                }\n              });\n            }\n          });\n        }\n\n        // Pidat pm prva\n        if (row.original.direct_rights && Array.isArray(row.original.direct_rights)) {\n          row.original.direct_rights.forEach(right => {\n            const kod = right.kod_prava || right.nazev || right.name || right.code;\n            if (kod) {\n              allRightsMap.set(kod, true);\n            }\n          });\n        }\n\n        const totalRights = allRightsMap.size;\n\n        return (\n          <div style={{\n            textAlign: 'center',\n            fontWeight: 600,\n            color: totalRights > 0 ? '#16a34a' : '#94a3b8',\n            fontSize: '0.875rem'\n          }}>\n            {totalRights > 0 ? totalRights : '0'}\n          </div>\n        );\n      },\n    },\n    {\n      id: 'orders_count',\n      header: 'Objednvky',\n      accessorFn: (row) => ordersCount[row.id] || 0,\n      cell: ({ row }) => {\n        const userOrdersCount = ordersCount[row.original.id];\n        const isLoading = userOrdersCount === undefined;\n\n        return (\n          <div\n            style={{\n              textAlign: 'center',\n              fontWeight: 600,\n              color: isLoading ? '#94a3b8' : (userOrdersCount > 0 ? '#3b82f6' : '#94a3b8'),\n              fontSize: '0.875rem',\n              position: 'relative'\n            }}\n            title={isLoading ? 'Natm poet objednvek...' : `Poet objednvek: ${userOrdersCount}`}\n          >\n            {isLoading ? (\n              <span style={{\n                animation: 'pulse 0.8s ease-in-out infinite',\n                opacity: 0.7,\n                fontSize: '0.7rem'\n              }}>\n                \n              </span>\n            ) : (\n              <span style={{\n                fontWeight: userOrdersCount > 0 ? 700 : 400,\n                color: userOrdersCount > 0 ? '#3b82f6' : '#94a3b8'\n              }}>\n                {userOrdersCount}\n              </span>\n            )}\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: 'active',\n      header: 'Status',\n      cell: ({ row }) => (\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'center',\n            fontSize: '1.25rem'\n          }}\n          title={row.original.active ? 'Aktivn' : 'Neaktivn'}\n        >\n          <FontAwesomeIcon\n            icon={row.original.active ? faCheckCircle : faTimesCircle}\n            style={{ color: row.original.active ? '#16a34a' : '#dc2626' }}\n          />\n        </div>\n      ),\n    },\n    {\n      id: 'actions',\n      size: 160, // 4 ikony  2rem (32px) + 3 mezery  0.12rem (~2px) + padding = ~160px (vce ikon ne DocxSablony)\n      maxSize: 160,\n      header: () => (\n        <div style={{\n          textAlign: 'center',\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          width: '100%'\n        }}>\n          <FontAwesomeIcon\n            icon={faBolt}\n            style={{\n              color: '#eab308',\n              fontSize: '16px'\n            }}\n          />\n        </div>\n      ),\n      cell: ({ row }) => {\n        // Kontrola zda se jedn o aktuln pihlenho uivatele\n        const isCurrentUser = row.original.username === username;\n        const canHardDelete = hasPermission && hasPermission('USER_DELETE');\n\n        // Tooltip pro tlatko smazat\n        const getDeleteTooltip = () => {\n          if (isCurrentUser) return 'Nemete smazat sm sebe';\n          if (canHardDelete) return 'Trvale smazat uivatele z databze';\n          return 'Deaktivovat uivatele (nemte prvo USER_DELETE)';\n        };\n\n        return (\n          <ActionMenu>\n            <ActionMenuButton\n              className={row.original.active ? 'toggle-active' : 'toggle-inactive'}\n              title={isCurrentUser ? 'Nemete deaktivovat sm sebe' : (row.original.active ? 'Deaktivovat uivatele' : 'Aktivovat uivatele')}\n              onClick={isCurrentUser ? undefined : () => handleToggleStatus(row.original)}\n              disabled={isCurrentUser}\n              style={{\n                opacity: isCurrentUser ? 0.4 : 1,\n                cursor: isCurrentUser ? 'not-allowed' : 'pointer'\n              }}\n            >\n              <FontAwesomeIcon icon={row.original.active ? faToggleOn : faToggleOff} />\n            </ActionMenuButton>\n            <ActionMenuButton\n              className=\"reset\"\n              title=\"Resetovat heslo\"\n              onClick={() => handleResetPassword(row.original)}\n            >\n              <FontAwesomeIcon icon={faKey} />\n            </ActionMenuButton>\n            <ActionMenuButton\n              className=\"edit\"\n              title=\"Upravit uivatele\"\n              onClick={() => handleEditUser(row.original)}\n            >\n              <FontAwesomeIcon icon={faEdit} />\n            </ActionMenuButton>\n            <ActionMenuButton\n              className=\"delete\"\n              title={getDeleteTooltip()}\n              onClick={isCurrentUser ? undefined : () => handleDeleteUser(row.original)}\n              disabled={isCurrentUser}\n              style={{\n                opacity: isCurrentUser ? 0.4 : 1,\n                cursor: isCurrentUser ? 'not-allowed' : 'pointer'\n              }}\n            >\n              <FontAwesomeIcon icon={faTrash} />\n            </ActionMenuButton>\n          </ActionMenu>\n        );\n      },\n    },\n  ], [expandedRows, ordersCount, hasPermission]);\n\n  const table = useReactTable({\n    data: filteredData,\n    columns,\n    getRowId: (row) => String(row.id), //  Pout user.id jako uniktn kl pro prevenci duplikt\n    state: {\n      globalFilter,\n      sorting,\n      pagination: {\n        pageSize: pageSize,\n        pageIndex: currentPageIndex,\n      },\n    },\n    onGlobalFilterChange: setGlobalFilter,\n    onSortingChange: setSorting,\n    getCoreRowModel: getCoreRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    getExpandedRowModel: getExpandedRowModel(),\n    getPaginationRowModel: getPaginationRowModel(),\n    enableExpanding: true,\n    getRowCanExpand: () => true,\n    manualPagination: false,\n  });\n\n  // Update table page size and index when state changes (stejn jako v Orders25List)\n  useEffect(() => {\n    if (table) {\n      table.setPageSize(pageSize);\n      table.setPageIndex(currentPageIndex);\n    }\n  }, [pageSize, currentPageIndex, table]);\n\n  // Save filters to localStorage when they change\n  useEffect(() => {\n    setUserStorage('users_globalFilter', globalFilter);\n  }, [globalFilter, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_departmentFilter', departmentFilter);\n  }, [departmentFilter, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_groupFilter', groupFilter);\n  }, [groupFilter, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_locationFilter', locationFilter);\n  }, [locationFilter, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_positionFilter', positionFilter);\n  }, [positionFilter, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_statusFilter', statusFilter);\n  }, [statusFilter, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_showFilters', showFilters);\n  }, [showFilters, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_showExpandedFilters', showExpandedFilters);\n  }, [showExpandedFilters, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_columnFilters', columnFilters);\n  }, [columnFilters, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_showRowHighlighting', showRowHighlighting);\n  }, [showRowHighlighting, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_showDashboard', showDashboard);\n  }, [showDashboard, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_showDebug', showDebug);\n  }, [showDebug, user_id]);\n\n  // Save sorting to localStorage when it changes\n  useEffect(() => {\n    setUserStorage('users_sorting', sorting);\n  }, [sorting]);\n\n  // Reset to first page if current page is out of bounds\n  useEffect(() => {\n    if (table && table.getPageCount() > 0) {\n      const maxPageIndex = table.getPageCount() - 1;\n      if (currentPageIndex > maxPageIndex) {\n        setCurrentPageIndex(0);\n        setUserStorage('users_pageIndex', 0);\n        table.setPageIndex(0);\n      }\n    }\n  }, [currentPageIndex, table]);\n\n  // Pagination navigation helpers (stejn jako v Orders25List)\n  const goToFirstPage = () => {\n    setCurrentPageIndex(0);\n    setUserStorage('users_pageIndex', 0);\n    table.setPageIndex(0);\n  };\n\n  const goToPreviousPage = () => {\n    const newIndex = Math.max(0, currentPageIndex - 1);\n    setCurrentPageIndex(newIndex);\n    setUserStorage('users_pageIndex', newIndex);\n    table.setPageIndex(newIndex);\n  };\n\n  const goToNextPage = () => {\n    const maxIndex = table.getPageCount() - 1;\n    const newIndex = Math.min(maxIndex, currentPageIndex + 1);\n    setCurrentPageIndex(newIndex);\n    setUserStorage('users_pageIndex', newIndex);\n    table.setPageIndex(newIndex);\n  };\n\n  const goToLastPage = () => {\n    const maxIndex = table.getPageCount() - 1;\n    setCurrentPageIndex(maxIndex);\n    setUserStorage('users_pageIndex', maxIndex);\n    table.setPageIndex(maxIndex);\n  };\n\n  const handleToggleStatus = (user) => {\n    // Kontrola zda se nejedn o aktuln pihlenho uivatele\n    if (user.username === username) {\n      if (showToast) showToast('Nemete deaktivovat sm sebe', { type: 'warning' });\n      return;\n    }\n    setSelectedUser(user);\n    setDialogAction('toggle');\n    setIsDialogOpen(true);\n  };\n\n  const handleResetPassword = (user) => {\n    setSelectedUser(user);\n    setIsResetPasswordModalOpen(true);\n  };\n\n  const handleResetPasswordConfirm = async (newPassword) => {\n    if (!selectedUser) return;\n\n    try {\n      startGlobalProgress();\n      setGlobalProgress(30);\n\n      // Voln API pro reset hesla\n      const result = await partialUpdateUser({\n        token,\n        username,\n        id: selectedUser.id,\n        password: newPassword\n      });\n\n      setGlobalProgress(70);\n\n      // Refresh user list to show any updates\n      await fetchUsers();\n\n      setGlobalProgress(100);\n      doneGlobalProgress();\n\n      if (showToast) {\n        const fullName = selectedUser.fullName || selectedUser.username;\n        showToast(` Heslo uivatele ${fullName} bylo spn zmnno`, { type: 'success' });\n      }\n\n      setIsResetPasswordModalOpen(false);\n      setSelectedUser(null);\n    } catch (error) {\n      doneGlobalProgress();\n\n      const errorMessage = error.message || 'Chyba pi zmn hesla';\n      if (showToast) {\n        showToast(` ${errorMessage}`, { type: 'error' });\n      }\n    }\n  };\n\n  const handleEditUser = async (user) => {\n    try {\n      // POKUS 1: Zkusme nast z API\n      let userDetail = null;\n      try {\n        userDetail = await fetchUserDetail({\n          token,\n          username,\n          id: user.id\n        });\n        console.log(' handleEditUser - userDetail z API:', userDetail);\n        console.log(' handleEditUser - usek_id:', userDetail?.usek_id);\n        console.log(' handleEditUser - usek:', userDetail?.usek);\n        console.log(' handleEditUser - lokalita_id:', userDetail?.lokalita_id);\n        console.log(' handleEditUser - lokalita:', userDetail?.lokalita);\n        console.log(' handleEditUser - organizace_id:', userDetail?.organizace_id);\n        console.log(' handleEditUser - organizace:', userDetail?.organizace);\n      } catch (apiError) {\n        // API detail selhal, pouije se fallback data\n        console.error(' handleEditUser - API error:', apiError);\n      }\n\n      // POKUS 2: Pokud API nevrtilo ID pole, najdi uivatele v rawApiData\n      if (!userDetail || (!userDetail.usek_id && !userDetail.usek?.id)) {\n        const rawUser = rawApiData?.find(u => (u.id || u.user_id) === user.id);\n\n        if (rawUser) {\n          userDetail = {\n            ...userDetail,\n            ...rawUser,\n            // Zajisti sprvn mapovn\n            id: rawUser.id || rawUser.user_id,\n            username: rawUser.username || rawUser.prihlas_jmeno,\n            jmeno: rawUser.jmeno || rawUser.name,\n            prijmeni: rawUser.prijmeni || rawUser.surname,\n          };\n        }\n      }\n\n      setUserModalState({\n        isOpen: true,\n        mode: 'edit',\n        userData: userDetail\n      });\n    } catch (error) {\n      if (showToast) {\n        showToast('Chyba pi natn detailu uivatele', { type: 'error' });\n      }\n    }\n  };\n\n  const handleAddUser = () => {\n    setUserModalState({\n      isOpen: true,\n      mode: 'create',\n      userData: null\n    });\n  };\n\n  const handleCloseUserModal = () => {\n    setUserModalState({\n      isOpen: false,\n      mode: 'create',\n      userData: null\n    });\n  };\n\n  const handleUserModalSuccess = () => {\n    //  Tich naten na pozad msto reload strnky se splash screen\n    // NEVYIOVAT users[], aby uivatel vidl aktuln stav\n    // Jen spustit fetch na pozad - bez loader animac\n\n\n    //  Nastavit silentRefresh flag - fetchUsers se spust bez progress baru\n    setSilentRefresh(true);\n\n    // Trigger force refresh zmnou refreshTrigger\n    // Toto vyvol useEffect, kter nate data znovu (s silent=true)\n    setRefreshTrigger(prev => prev + 1);\n\n    // Pokud mme natn pot objednvek, obnovme i je\n    if (typeof fetchOrdersCounts === 'function') {\n      // Mal delay ped natenm count, aby se DB stihla aktualizovat\n      setTimeout(() => {\n        fetchOrdersCounts(true); // force refresh\n      }, 500);\n    }\n\n  };\n\n  const handleDeleteUser = (user) => {\n    // Kontrola zda se nejedn o aktuln pihlenho uivatele\n    if (user.username === username) {\n      if (showToast) showToast('Nemete smazat sm sebe', { type: 'warning' });\n      return;\n    }\n    setSelectedUser(user);\n    setDialogAction('delete');\n    setIsDialogOpen(true);\n  };\n\n  const handleConfirmAction = async () => {\n    if (!selectedUser) return;\n\n    try {\n      startGlobalProgress();\n      setGlobalProgress(30);\n\n      switch (dialogAction) {\n        case 'delete': {\n          // Kontrola prv - pokud m USER_DELETE, skuten smazat, jinak jen deaktivovat\n          const canHardDelete = hasPermission && hasPermission('USER_DELETE');\n          const fullName = selectedUser.fullName || selectedUser.username;\n\n          if (canHardDelete) {\n            // Hard delete\n            await deleteUser({\n              token,\n              username,\n              id: selectedUser.id\n            });\n\n            setGlobalProgress(100);\n            doneGlobalProgress();\n\n            if (showToast) {\n              showToast(` Uivatel ${fullName} byl trvale smazn z databze`, { type: 'success' });\n            }\n          } else {\n            // Soft delete - pouze deaktivace\n            await deactivateUser({\n              token,\n              username,\n              id: selectedUser.id\n            });\n\n            setGlobalProgress(100);\n            doneGlobalProgress();\n\n            if (showToast) {\n              showToast(` Uivatel ${fullName} byl deaktivovn`, { type: 'success' });\n            }\n          }\n\n          // Force refresh seznamu uivatel z databze\n          setUsers([]); // Vyisti aktuln seznam\n          setLoading(true);\n          setRefreshTrigger(prev => prev + 1); // Trigger force refresh\n\n          // Refresh pot objednvek\n          if (typeof fetchOrdersCounts === 'function') {\n            setTimeout(() => fetchOrdersCounts(true), 500);\n          }\n          break;\n        }\n\n        case 'toggle': {\n          // Toggle aktivnho stavu\n          const newActiveState = selectedUser.active ? 0 : 1;\n          const fullName = selectedUser.fullName || selectedUser.username;\n\n          await partialUpdateUser({\n            token,\n            username,\n            id: selectedUser.id,\n            aktivni: newActiveState\n          });\n\n          setGlobalProgress(100);\n          doneGlobalProgress();\n\n          if (showToast) {\n            showToast(\n              newActiveState === 1\n                ? ` Uivatel ${fullName} byl aktivovn`\n                : ` Uivatel ${fullName} byl deaktivovn`,\n              { type: 'success' }\n            );\n          }\n\n          // Force refresh seznamu uivatel z databze\n          setUsers([]); // Vyisti aktuln seznam\n          setLoading(true);\n          setRefreshTrigger(prev => prev + 1); // Trigger force refresh\n\n          // Refresh pot objednvek\n          if (typeof fetchOrdersCounts === 'function') {\n            setTimeout(() => fetchOrdersCounts(true), 500);\n          }\n          break;\n        }\n\n        default:\n          doneGlobalProgress();\n          break;\n      }\n\n      setIsDialogOpen(false);\n      setSelectedUser(null);\n      setDialogAction(null);\n\n    } catch (error) {\n      doneGlobalProgress();\n\n      const errorMessage = error.message || 'Chyba pi provdn operace';\n      if (showToast) {\n        showToast(` ${errorMessage}`, { type: 'error' });\n      }\n\n      // Zavt dialog i pi chyb\n      setIsDialogOpen(false);\n      setSelectedUser(null);\n      setDialogAction(null);\n    }\n  };\n\n  const handleCancelAction = () => {\n    setIsDialogOpen(false);\n    setSelectedUser(null);\n    setDialogAction(null);\n  };\n\n  // Context Menu handlers\n  const handleUserContextMenu = useCallback((e, user, cellData = null) => {\n    e.preventDefault();\n\n    // Zjisti na jakou buku se kliklo\n    let selectedData = null;\n    const target = e.target;\n\n    if (cellData) {\n      selectedData = cellData;\n    } else if (target && target.closest('td')) {\n      // Najdi text obsahu buky\n      const cellElement = target.closest('td');\n      selectedData = {\n        value: cellElement.textContent?.trim() || '',\n        element: cellElement\n      };\n    }\n\n    setContextMenu({\n      x: e.clientX,\n      y: e.clientY,\n      user: user,\n      selectedData: selectedData\n    });\n  }, []);\n\n  const handleContextMenuEdit = useCallback(() => {\n    if (contextMenu?.user) {\n      handleEditUser(contextMenu.user);\n    }\n    setContextMenu(null);\n  }, [contextMenu]);\n\n  const handleContextMenuDelete = useCallback(() => {\n    if (contextMenu?.user) {\n      handleDeleteUser(contextMenu.user);\n    }\n    setContextMenu(null);\n  }, [contextMenu]);\n\n  const handleContextMenuToggleActive = useCallback(() => {\n    if (contextMenu?.user) {\n      setSelectedUser(contextMenu.user);\n      setDialogAction('toggle');\n      setIsDialogOpen(true);\n    }\n    setContextMenu(null);\n  }, [contextMenu]);\n\n  const getDialogMessage = () => {\n    if (!selectedUser) return '';\n    const userName = `${selectedUser.name} ${selectedUser.surname} (${selectedUser.username})`;\n    const canHardDelete = hasPermission && hasPermission('USER_DELETE');\n\n    switch (dialogAction) {\n      case 'delete':\n        if (canHardDelete) {\n          return `Opravdu chcete trvale smazat uivatele?\\n\\n${userName}\\n\\nTato akce je nevratn a vechna data uivatele budou trvale odstranna z databze.`;\n        } else {\n          return `Opravdu chcete deaktivovat uivatele?\\n\\n${userName}\\n\\nNemte oprvnn USER_DELETE, proto bude uivatel pouze deaktivovn (soft delete). Jeho data zstanou zachovna, ale nebude se moci pihlsit do systmu.`;\n        }\n      case 'toggle':\n        return selectedUser.active\n          ? `Opravdu chcete deaktivovat uivatele?\\n\\n${userName}\\n\\nUivatel se nebude moci pihlsit do systmu, ale jeho data zstanou zachovna.`\n          : `Opravdu chcete aktivovat uivatele?\\n\\n${userName}\\n\\nUivatel zsk znovu pstup do systmu s pvodnmi prvy.`;\n      default:\n        return '';\n    }\n  };\n\n  const getDialogConfirmText = () => {\n    const canHardDelete = hasPermission && hasPermission('USER_DELETE');\n\n    switch (dialogAction) {\n      case 'delete':\n        return canHardDelete ? 'Smazat trvale' : 'Deaktivovat';\n      case 'toggle':\n        return selectedUser?.active ? 'Deaktivovat' : 'Aktivovat';\n      default:\n        return 'Potvrdit';\n    }\n  };\n\n  const getDialogVariant = () => {\n    const canHardDelete = hasPermission && hasPermission('USER_DELETE');\n\n    switch (dialogAction) {\n      case 'delete':\n        return canHardDelete ? 'danger' : 'warning';\n      case 'toggle':\n        return selectedUser?.active ? 'warning' : 'primary';\n      default:\n        return 'primary';\n    }\n  };\n\n  const getDialogIcon = () => {\n    const canHardDelete = hasPermission && hasPermission('USER_DELETE');\n\n    switch (dialogAction) {\n      case 'delete':\n        return canHardDelete ? faTrash : faExclamationTriangle;\n      case 'toggle':\n        return selectedUser?.active ? faUserSlash : faUserCheck;\n      default:\n        return faQuestionCircle;\n    }\n  };\n\n  const handleStatusFilterClick = () => {\n    setStatusFilter(prev => {\n      if (prev === 'all') return 'active';\n      if (prev === 'active') return 'inactive';\n      return 'all';\n    });\n  };\n\n  const handleClearFilters = () => {\n    setGlobalFilter('');\n    setDepartmentFilter('');\n    setGroupFilter('');\n    setLocationFilter('');\n    setPositionFilter('');\n    setStatusFilter('all'); // Reset na defaultn hodnotu\n    setColumnFilters({}); // Vymazat i column filtry v tabulce\n    // localStorage will be updated automatically via useEffect hooks\n  };\n\n  const clearColumnFilters = () => {\n    setColumnFilters({});\n    // localStorage will be updated automatically via useEffect hook\n  };\n\n  // Handler pro toggle rozenho filtru\n  const handleToggleFilters = () => {\n    const newShowFilters = !showFilters;\n    setShowFilters(newShowFilters);\n    setUserStorage('users_showFilters', newShowFilters);\n  };\n\n  // Handler pro toggle rozench filtr (Lokalita, Pozice, sek, Role)\n  const handleToggleExpandedFilters = () => {\n    const newShowExpandedFilters = !showExpandedFilters;\n    setShowExpandedFilters(newShowExpandedFilters);\n    setUserStorage('users_showExpandedFilters', newShowExpandedFilters);\n  };\n\n  const toggleAllRows = () => {\n    const anyExpanded = Object.values(expandedRows).some(val => val);\n    if (anyExpanded) {\n      setExpandedRows({});\n    } else {\n      const allExpanded = {};\n      filteredData.forEach((_, index) => {\n        allExpanded[index] = true;\n      });\n      setExpandedRows(allExpanded);\n    }\n  };\n\n  const toggleRowHighlighting = () => {\n    setShowRowHighlighting(!showRowHighlighting);\n  };\n\n  const handleRefreshOrdersCount = () => {\n    if (showToast) {\n      showToast('Aktualizuji poty objednvek z databze...', { type: 'info' });\n    }\n    fetchOrdersCounts(true); // Force refresh z DB\n  };\n\n  const handleToggleDashboard = () => {\n    const newShowDashboard = !showDashboard;\n    setShowDashboard(newShowDashboard);\n    setUserStorage('users_showDashboard', newShowDashboard);\n  };\n\n  const handleShowFilters = () => {\n    setShowFilters(true);\n    setUserStorage('users_showFilters', true);\n  };\n\n  const handleExport = () => {\n    if (showToast) showToast('Export uivatel bude dostupn brzy', { type: 'info' });\n  };\n\n  const handleToggleDebug = () => {\n    const newShowDebug = !showDebug;\n    setShowDebug(newShowDebug);\n    setUserStorage('users_showDebug', newShowDebug);\n  };\n\n  const uniqueDepartments = useMemo(() => [...new Set(users.map(u => u.department))].sort(), [users]);\n  const uniqueGroups = useMemo(() => [...new Set(users.map(u => u.group_name))].sort(), [users]);\n  const uniqueLocations = useMemo(() => [...new Set(users.map(u => u.location))].sort(), [users]);\n  const uniquePositions = useMemo(() => [...new Set(users.map(u => u.position))].sort(), [users]);\n\n  const renderPagination = () => {\n    const pageCount = table.getPageCount();\n    const currentPage = table.getState().pagination.pageIndex;\n    if (pageCount <= 1) return null;\n\n    const pages = [];\n    pages.push(<PageButton key={0} onClick={() => table.setPageIndex(0)} className={currentPage === 0 ? 'active' : ''}>1</PageButton>);\n\n    if (currentPage > 2) pages.push(<span key=\"ellipsis1\" style={{ padding: '0 0.5rem', color: '#9ca3af' }}>...</span>);\n\n    for (let i = Math.max(1, currentPage - 1); i <= Math.min(pageCount - 2, currentPage + 1); i++) {\n      pages.push(<PageButton key={i} onClick={() => table.setPageIndex(i)} className={currentPage === i ? 'active' : ''}>{i + 1}</PageButton>);\n    }\n\n    if (currentPage < pageCount - 3) pages.push(<span key=\"ellipsis2\" style={{ padding: '0 0.5rem', color: '#9ca3af' }}>...</span>);\n\n    if (pageCount > 1) {\n      pages.push(<PageButton key={pageCount - 1} onClick={() => table.setPageIndex(pageCount - 1)} className={currentPage === pageCount - 1 ? 'active' : ''}>{pageCount}</PageButton>);\n    }\n\n    return pages;\n  };\n\n  if (loading && users.length === 0) {\n    return (\n      <LoadingOverlay $visible={true}>\n        <LoadingSpinner $visible={true} />\n        <LoadingMessage $visible={true}>Natm uivatele...</LoadingMessage>\n        <LoadingSubtext $visible={true}>Prosm ekejte</LoadingSubtext>\n      </LoadingOverlay>\n    );\n  }\n\n  if (error && users.length === 0) {\n    return <Container><ErrorMessage>{error}</ErrorMessage></Container>;\n  }\n\n  return (\n    <>\n    <Container>\n      <LoadingOverlay $visible={loading}>\n        <LoadingSpinner $visible={loading} />\n        <LoadingMessage $visible={loading}>Aktualizuji data...</LoadingMessage>\n        <LoadingSubtext $visible={loading}>Prosm ekejte</LoadingSubtext>\n      </LoadingOverlay>\n\n      <PageContent $blurred={loading}>\n\n      <TitlePanel>\n        <TitleLeft>\n          <SmartTooltip text=\"Obnovit seznam uivatel z databze (force reload)\" icon=\"warning\" preferredPosition=\"bottom\">\n            <RefreshButton onClick={fetchUsers}>\n              <FontAwesomeIcon icon={faSyncAlt} />\n            </RefreshButton>\n          </SmartTooltip>\n        </TitleLeft>\n        <PageTitle>\n          Sprva uivatel\n          <FontAwesomeIcon icon={faUsers} />\n        </PageTitle>\n      </TitlePanel>\n\n      <ActionBar>\n        {!showDashboard && (\n          <SmartTooltip text=\"Zobrazit pehledov dashboard\" icon=\"info\" preferredPosition=\"bottom\">\n            <ActionButton onClick={handleToggleDashboard}>\n              <FontAwesomeIcon icon={faDashboard} />\n              Dashboard\n            </ActionButton>\n          </SmartTooltip>\n        )}\n\n        {!showFilters && (\n          <SmartTooltip text=\"Zobrazit pokroil filtry\" icon=\"info\" preferredPosition=\"bottom\">\n            <ActionButton onClick={handleShowFilters}>\n              <FontAwesomeIcon icon={faFilter} />\n              Filtr\n            </ActionButton>\n          </SmartTooltip>\n        )}\n\n        <SmartTooltip text=\"Export seznamu uivatel do CSV\" icon=\"success\" preferredPosition=\"bottom\">\n          <ActionButton onClick={handleExport}>\n            <FontAwesomeIcon icon={faFileExport} />\n            Export\n          </ActionButton>\n        </SmartTooltip>\n\n        <SmartTooltip text=\"Vytvoit novho uivatele\" icon=\"success\" preferredPosition=\"bottom\">\n          <ActionButton $primary onClick={handleAddUser}>\n            <FontAwesomeIcon icon={faPlus} />\n            Pidat uivatele\n          </ActionButton>\n        </SmartTooltip>\n      </ActionBar>\n\n      {/* Debug Panel - pstupn z DEBUG menu v menubar */}\n      {showDebug && rawApiData && (\n        <DebugPanel>\n          <DebugHeader>\n            <DebugTitle>\n              <FontAwesomeIcon icon={faEraser} />\n               DEBUG - Surov data z API (users/list)\n            </DebugTitle>\n            <ActionButton onClick={handleToggleDebug}>\n              <FontAwesomeIcon icon={faTimes} />\n              Skrt debug\n            </ActionButton>\n          </DebugHeader>\n          <DebugContent>\n            <DebugSection>\n              <DebugLabel> Zkladn info:</DebugLabel>\n              <DebugValue>{`Poet uivatel: ${rawApiData.length}\nUivatel s ID: ${rawApiData.map(u => `${u.id || u.user_id} (${u.username || u.prihlas_jmeno})`).join(', ')}`}</DebugValue>\n            </DebugSection>\n\n            <DebugSection>\n              <DebugLabel> Poty objednvek:</DebugLabel>\n              <DebugValue>{`Nateno pot: ${Object.keys(ordersCount).length}\n${Object.entries(ordersCount).map(([userId, count]) => {\n                const user = users.find(u => u.id === parseInt(userId));\n                return `  - User ${userId} (${user?.username || 'Neznm'}): ${count === undefined ? 'nat...' : count}`;\n              }).join('\\n')}\n\nStav ordersCount:\n${JSON.stringify(ordersCount, null, 2)}`}</DebugValue>\n            </DebugSection>\n\n            {rawApiData[0] && (\n              <DebugSection>\n                <DebugLabel> Prvn uivatel (struktura):</DebugLabel>\n                <DebugValue>{JSON.stringify(rawApiData[0], null, 2)}</DebugValue>\n              </DebugSection>\n            )}\n\n            <DebugSection>\n              <DebugLabel> Vechna data (JSON):</DebugLabel>\n              <DebugValue>{JSON.stringify(rawApiData, null, 2)}</DebugValue>\n            </DebugSection>\n          </DebugContent>\n        </DebugPanel>\n      )}\n\n      {showDashboard && (\n        <DashboardPanel>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n            <h3 style={{ margin: 0, display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n              <FontAwesomeIcon icon={faDashboard} style={{ color: '#3b82f6' }} />\n              Dashboard uivatel\n            </h3>\n            <div style={{ display: 'flex', gap: '0.5rem' }}>\n              <SmartTooltip text=\"Skrt dashboard a zobrazit pouze tabulku uivatel\" icon=\"info\" preferredPosition=\"bottom\">\n                <ActionButton onClick={handleToggleDashboard}>\n                  <FontAwesomeIcon icon={faTimes} />\n                  Skrt\n                </ActionButton>\n              </SmartTooltip>\n            </div>\n          </div>\n          <DashboardGrid>\n            {/* Vysok dlazdice s aktivnmi uivateli - PRVN */}\n            <TallStatCard $color=\"#16a34a\">\n              <StatHeader style={{ marginBottom: '0.75rem', display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\n                <StatLabel style={{ fontSize: '0.875rem', fontWeight: 600, color: '#16a34a', margin: 0 }}>\n                  <FontAwesomeIcon icon={faUserCheck} style={{ marginRight: '0.5rem' }} />\n                  Aktivn uivatel ({activeUsers.length})\n                </StatLabel>\n                <button\n                  onClick={fetchActiveUsersData}\n                  style={{\n                    background: 'none',\n                    border: 'none',\n                    cursor: 'pointer',\n                    color: '#16a34a',\n                    padding: '0.25rem',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    borderRadius: '4px',\n                    transition: 'all 0.2s'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.background = 'rgba(22, 163, 74, 0.1)';\n                    e.currentTarget.style.transform = 'rotate(180deg)';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.background = 'none';\n                    e.currentTarget.style.transform = 'rotate(0deg)';\n                  }}\n                  title=\"Obnovit seznam\"\n                >\n                  <FontAwesomeIcon icon={faSyncAlt} size=\"sm\" />\n                </button>\n              </StatHeader>\n              <div style={{\n                flex: 1,\n                overflowY: 'auto',\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '0.35rem',\n                paddingRight: '0.25rem'\n              }}>\n                {activeUsers.length === 0 ? (\n                  <div style={{\n                    textAlign: 'center',\n                    padding: '2rem 1rem',\n                    color: '#9ca3af',\n                    fontSize: '0.875rem'\n                  }}>\n                    dn aktivn uivatel\n                  </div>\n                ) : (\n                  activeUsers.slice(0, 8).map((user, index) => {\n                    const now = new Date();\n                    const activityTime = new Date(user.dt_posledni_aktivita);\n                    const diffSec = Math.floor((now - activityTime) / 1000);\n                    const diffMin = Math.floor(diffSec / 60);\n                    const status = diffSec < 270 ? 'active' : diffSec < 300 ? 'warning' : 'inactive';\n\n                    // Formtovat as\n                    let timeText = '';\n                    if (diffSec < 60) {\n                      timeText = `${diffSec}s`;\n                    } else {\n                      timeText = `${diffMin}m`;\n                    }\n\n                    // Formtovat datum a as v CZ formtu\n                    const dateTimeText = prettyDate(activityTime);\n\n                    return (\n                      <div key={index} style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '0.5rem',\n                        padding: '0.35rem 0.5rem',\n                        borderRadius: '4px',\n                        transition: 'background 0.2s'\n                      }}\n                      onMouseEnter={(e) => e.currentTarget.style.background = 'rgba(0, 0, 0, 0.02)'}\n                      onMouseLeave={(e) => e.currentTarget.style.background = 'transparent'}\n                      >\n                        <div style={{\n                          width: '8px',\n                          height: '8px',\n                          borderRadius: '50%',\n                          flexShrink: 0,\n                          background: status === 'active' ? '#22c55e' : status === 'warning' ? '#f59e0b' : '#ef4444'\n                        }} />\n                        <div style={{\n                          fontSize: '0.875rem',\n                          color: '#1f2937',\n                          fontWeight: 500,\n                          whiteSpace: 'nowrap',\n                          overflow: 'hidden',\n                          textOverflow: 'ellipsis',\n                          flex: 1\n                        }}>\n                          {user.cele_jmeno}\n                        </div>\n                        <div style={{\n                          fontSize: '0.75rem',\n                          color: '#9ca3af',\n                          fontWeight: 400,\n                          whiteSpace: 'nowrap',\n                          flexShrink: 0,\n                          minWidth: '150px',\n                          textAlign: 'right'\n                        }}>\n                          {dateTimeText}\n                        </div>\n                        <div style={{\n                          fontSize: '0.75rem',\n                          color: '#9ca3af',\n                          fontWeight: 400,\n                          flexShrink: 0,\n                          minWidth: '40px',\n                          textAlign: 'right'\n                        }}>\n                          {timeText}\n                        </div>\n                      </div>\n                    );\n                  })\n                )}\n              </div>\n            </TallStatCard>\n\n            {/* Mal statistick dlazdice - VEDLE */}\n            <SmallStatCard\n              $color=\"#3b82f6\"\n              $clickable\n              $isActive={statusFilter === 'all'}\n              onClick={() => setStatusFilter('all')}\n              title=\"Kliknte pro zobrazen vech uivatel\"\n            >\n              <StatHeader>\n                <StatValue>{stats.total}</StatValue>\n                <StatIcon $color=\"#3b82f6\"><FontAwesomeIcon icon={faUsers} /></StatIcon>\n              </StatHeader>\n              <StatLabel>Celkem uivatel v systmu</StatLabel>\n            </SmallStatCard>\n\n            <SmallStatCard\n              $color=\"#16a34a\"\n              $clickable\n              $isActive={statusFilter === 'active'}\n              onClick={() => setStatusFilter('active')}\n              title=\"Kliknte pro filtrovn pouze aktivnch uivatel\"\n            >\n              <StatHeader>\n                <StatValue>{stats.active}</StatValue>\n                <StatIcon $color=\"#16a34a\"><FontAwesomeIcon icon={faUserCheck} /></StatIcon>\n              </StatHeader>\n              <StatLabel>Aktivn uivatel</StatLabel>\n            </SmallStatCard>\n\n            <SmallStatCard\n              $color=\"#dc2626\"\n              $clickable\n              $isActive={statusFilter === 'inactive'}\n              onClick={() => setStatusFilter('inactive')}\n              title=\"Kliknte pro filtrovn pouze neaktivnch uivatel\"\n            >\n              <StatHeader>\n                <StatValue>{stats.inactive}</StatValue>\n                <StatIcon $color=\"#dc2626\"><FontAwesomeIcon icon={faUserSlash} /></StatIcon>\n              </StatHeader>\n              <StatLabel>Neaktivn uivatel</StatLabel>\n            </SmallStatCard>\n\n            <SmallStatCard $color=\"#f59e0b\">\n              <StatHeader>\n                <StatValue>{Object.keys(stats.departments).length}</StatValue>\n                <StatIcon $color=\"#f59e0b\"><FontAwesomeIcon icon={faBuilding} /></StatIcon>\n              </StatHeader>\n              <StatLabel>Poet sek</StatLabel>\n            </SmallStatCard>\n\n            <SmallStatCard $color=\"#8b5cf6\">\n              <StatHeader>\n                <StatValue>{Object.keys(stats.groups).length}</StatValue>\n                <StatIcon $color=\"#8b5cf6\"><FontAwesomeIcon icon={faShield} /></StatIcon>\n              </StatHeader>\n              <StatLabel>Poet skupin/rol</StatLabel>\n            </SmallStatCard>\n\n            <SmallStatCard $color=\"#ec4899\">\n              <StatHeader>\n                <StatValue>\n                  {Object.keys(ordersCount).length > 0 ?\n                    Object.values(ordersCount).filter(count => count > 0).length :\n                    '...'\n                  }\n                </StatValue>\n                <StatIcon $color=\"#ec4899\"><FontAwesomeIcon icon={faUserCheck} /></StatIcon>\n              </StatHeader>\n              <StatLabel>Uivatel s objednvkami</StatLabel>\n            </SmallStatCard>\n          </DashboardGrid>\n        </DashboardPanel>\n      )}\n\n      {/* Filters Panel */}\n      {showFilters && (\n        <FiltersPanel>\n          <FiltersHeader>\n            <FiltersTitle>\n              <FontAwesomeIcon icon={faFilter} />\n              Filtry a vyhledvn\n            </FiltersTitle>\n            <div style={{ display: 'flex', gap: '0.5rem' }}>\n              <SmartTooltip text=\"Vymazat vechny filtry a zobrazit vechny uivatele\" icon=\"warning\" preferredPosition=\"bottom\">\n                <ClearFiltersButton onClick={handleClearFilters}>\n                  <FontAwesomeIcon icon={faEraser} />\n                  Vymazat filtry\n                </ClearFiltersButton>\n              </SmartTooltip>\n              <SmartTooltip\n                text={showExpandedFilters\n                  ? 'Skrt rozen filtry (zobrazit pouze zkladn vyhledvn)'\n                  : 'Zobrazit rozen filtry (role, organizace, stav...)'}\n                icon=\"info\"\n                preferredPosition=\"bottom\"\n              >\n                <ActionButton onClick={handleToggleExpandedFilters}>\n                  <FontAwesomeIcon icon={showExpandedFilters ? faChevronUp : faChevronDown} />\n                  {showExpandedFilters ? 'Skrt filtr' : 'Rozen filtr'}\n                </ActionButton>\n              </SmartTooltip>\n              <SmartTooltip text=\"Skrt cel panel filtr a vyhledvn\" icon=\"info\" preferredPosition=\"bottom\">\n                <ActionButton onClick={() => setShowFilters(false)}>\n                  <FontAwesomeIcon icon={faTimes} />\n                  Skrt\n                </ActionButton>\n              </SmartTooltip>\n            </div>\n          </FiltersHeader>\n\n          {/* Fultext vyhledvn - cel ka */}\n          <FilterGroup style={{ gridColumn: '1 / -1' }}>\n            <FilterLabel>\n              <FontAwesomeIcon icon={faSearch} />\n              Fulltext vyhledvn\n            </FilterLabel>\n            <FilterInputWithIcon>\n              <FontAwesomeIcon icon={faSearch} />\n              <FilterInput\n                type=\"text\"\n                placeholder=\"Hledat v uivatelskm jmnu, jmn, emailu, lokalit, pozici, seku, skupin...\"\n                value={globalFilter}\n                onChange={(e) => setGlobalFilter(e.target.value)}\n                hasIcon\n              />\n              {globalFilter && (\n                <ClearButton\n                  onClick={() => setGlobalFilter('')}\n                  title=\"Vymazat\"\n                >\n                  <FontAwesomeIcon icon={faTimes} />\n                </ClearButton>\n              )}\n            </FilterInputWithIcon>\n          </FilterGroup>\n\n          {/* Rozen filtry - zobraz se po kliknut na \"Rozen filtr\" */}\n          {showExpandedFilters && (\n            <FiltersGrid style={{ marginTop: '1rem' }}>\n              <FilterGroup>\n                <FilterLabel><FontAwesomeIcon icon={faUserCog} />Status uivatele</FilterLabel>\n                <FilterSelectWithIcon>\n                  <FontAwesomeIcon icon={faUserCog} />\n                  <FilterSelect value={statusFilter} onChange={(e) => setStatusFilter(e.target.value)} hasIcon>\n                    <option value=\"all\">Vichni uivatel</option>\n                    <option value=\"active\">Pouze aktivn</option>\n                    <option value=\"inactive\">Pouze neaktivn</option>\n                  </FilterSelect>\n                </FilterSelectWithIcon>\n              </FilterGroup>\n\n              <FilterGroup>\n                <FilterLabel><FontAwesomeIcon icon={faMapMarkerAlt} />Lokalita</FilterLabel>\n                <FilterSelectWithIcon>\n                  <FontAwesomeIcon icon={faMapMarkerAlt} />\n                  <FilterSelect value={locationFilter} onChange={(e) => setLocationFilter(e.target.value)} hasIcon>\n                    <option value=\"\">Vechny lokality</option>\n                    {uniqueLocations.map((loc) => <option key={loc} value={loc}>{loc}</option>)}\n                  </FilterSelect>\n                </FilterSelectWithIcon>\n              </FilterGroup>\n\n              <FilterGroup>\n                <FilterLabel><FontAwesomeIcon icon={faBriefcase} />Pozice</FilterLabel>\n                <FilterSelectWithIcon>\n                  <FontAwesomeIcon icon={faBriefcase} />\n                  <FilterSelect value={positionFilter} onChange={(e) => setPositionFilter(e.target.value)} hasIcon>\n                    <option value=\"\">Vechny pozice</option>\n                    {uniquePositions.map((pos) => <option key={pos} value={pos}>{pos}</option>)}\n                  </FilterSelect>\n                </FilterSelectWithIcon>\n              </FilterGroup>\n\n              <FilterGroup>\n                <FilterLabel><FontAwesomeIcon icon={faBuilding} />sek</FilterLabel>\n                <FilterSelectWithIcon>\n                  <FontAwesomeIcon icon={faBuilding} />\n                  <FilterSelect value={departmentFilter} onChange={(e) => setDepartmentFilter(e.target.value)} hasIcon>\n                    <option value=\"\">Vechny seky</option>\n                    {uniqueDepartments.map((dept) => <option key={dept} value={dept}>{dept}</option>)}\n                  </FilterSelect>\n                </FilterSelectWithIcon>\n              </FilterGroup>\n\n              <FilterGroup>\n                <FilterLabel><FontAwesomeIcon icon={faShield} />Role</FilterLabel>\n                <FilterSelectWithIcon>\n                  <FontAwesomeIcon icon={faShield} />\n                  <FilterSelect value={groupFilter} onChange={(e) => setGroupFilter(e.target.value)} hasIcon>\n                    <option value=\"\">Vechny skupiny</option>\n                    {uniqueGroups.map((group) => <option key={group} value={group}>{group}</option>)}\n                  </FilterSelect>\n                </FilterSelectWithIcon>\n              </FilterGroup>\n            </FiltersGrid>\n          )}\n        </FiltersPanel>\n      )}\n\n      {/*  TableScrollWrapper s shadow indiktory */}\n      <TableScrollWrapper\n        ref={setTableWrapperRef}\n        $showLeftShadow={showLeftShadow}\n        $showRightShadow={showRightShadow}\n      >\n        <TableContainer ref={setTableContainerRef}>\n          <Table>\n          <TableHead>\n            {/* Prvn dek - nzvy sloupc */}\n            {table.getHeaderGroups().map((headerGroup) => (\n              <tr key={headerGroup.id}>\n                {headerGroup.headers.map((header) => (\n                  <TableHeader\n                    key={header.id}\n                    onClick={header.column.getCanSort() ? header.column.getToggleSortingHandler() : undefined}\n                    style={{\n                      cursor: header.column.getCanSort() ? 'pointer' : 'default',\n                      ...(header.id === 'expander' ? { width: '50px', textAlign: 'center' } : {})\n                    }}\n                  >\n                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem' }}>\n                      {flexRender(header.column.columnDef.header, header.getContext())}\n                      {header.column.getCanSort() && header.column.getIsSorted() && (\n                        <FontAwesomeIcon\n                          icon={\n                            header.column.getIsSorted() === 'asc' ? faChevronUp :\n                            faChevronDown\n                          }\n                        />\n                      )}\n                    </div>\n                  </TableHeader>\n                ))}\n              </tr>\n            ))}\n\n            {/* Druh dek - filtry sloupc */}\n            <tr>\n              {table.getHeaderGroups()[0]?.headers.map(header => (\n                <TableHeader key={`filter-${header.id}`} style={{\n                  padding: '0.5rem',\n                  backgroundColor: '#f8f9fa',\n                  borderTop: '1px solid #e5e7eb',\n                  ...(header.id === 'expander' ? { width: '50px', textAlign: 'center' } : {})\n                }}>\n                  {header.id === 'expander' ? (\n                    <div style={{\n                      display: 'flex',\n                      justifyContent: 'center',\n                      alignItems: 'center',\n                      height: '32px'\n                    }}>\n                      <FilterActionButton\n                        onClick={toggleAllRows}\n                        title={Object.values(expandedRows).some(val => val) ? \"Sbalit vechny dky\" : \"Rozbalit vechny dky\"}\n                      >\n                        <FontAwesomeIcon icon={Object.values(expandedRows).some(val => val) ? faMinus : faPlus} />\n                      </FilterActionButton>\n                    </div>\n                  ) : header.id === 'actions' ? (\n                    <div style={{\n                      display: 'flex',\n                      justifyContent: 'center',\n                      alignItems: 'center',\n                      gap: '3px',\n                      height: '32px'\n                    }}>\n                      <FilterActionButton\n                        onClick={clearColumnFilters}\n                        title=\"Vymazat filtry sloupc\"\n                      >\n                        <FontAwesomeIcon icon={faEraser} />\n                      </FilterActionButton>\n                      <FilterActionButton\n                        onClick={handleRefreshOrdersCount}\n                        title={\n                          isLoadingOrdersCounts\n                            ? \"Natm poty objednvek...\"\n                            : ordersCountLoadTime\n                              ? `Aktualizovat poty objednvek (posledn naten: ${(ordersCountLoadTime / 1000).toFixed(2)}s)`\n                              : \"Aktualizovat poty objednvek\"\n                        }\n                        disabled={isLoadingOrdersCounts}\n                        style={{\n                          position: 'relative',\n                          background: isLoadingOrdersCounts ? '#94a3b8' : '#16a34a',\n                          color: 'white',\n                          borderColor: isLoadingOrdersCounts ? '#94a3b8' : '#16a34a',\n                          opacity: isLoadingOrdersCounts ? 0.7 : 1\n                        }}\n                      >\n                        <FontAwesomeIcon icon={isLoadingOrdersCounts ? faSyncAlt : faShoppingCart} />\n                      </FilterActionButton>\n                      <FilterActionButton\n                        onClick={toggleRowHighlighting}\n                        title={showRowHighlighting ? \"Vypnout podbarven dk podle statusu\" : \"Zapnout podbarven dk podle statusu\"}\n                        className={showRowHighlighting ? 'active' : ''}\n                      >\n                        <FontAwesomeIcon icon={faPalette} />\n                      </FilterActionButton>\n                    </div>\n                  ) : header.id === 'active' ? (\n                    <div style={{ display: 'flex', justifyContent: 'center' }}>\n                      <IconFilterButton\n                        onClick={handleStatusFilterClick}\n                        title={\n                          statusFilter === 'all' ? 'Zobrazit ve' :\n                          statusFilter === 'active' ? 'Jen aktivn' :\n                          'Jen neaktivn'\n                        }\n                      >\n                        {statusFilter === 'all' && (\n                          <svg viewBox=\"0 0 512 512\" style={{ width: '20px', height: '20px' }}>\n                            <defs>\n                              <clipPath id=\"clip-left-status\">\n                                <rect x=\"0\" y=\"0\" width=\"256\" height=\"512\"/>\n                              </clipPath>\n                              <clipPath id=\"clip-right-status\">\n                                <rect x=\"256\" y=\"0\" width=\"256\" height=\"512\"/>\n                              </clipPath>\n                            </defs>\n                            <path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z\"\n                                  fill=\"#22c55e\" clipPath=\"url(#clip-left-status)\"/>\n                            <path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z\"\n                                  fill=\"#ef4444\" clipPath=\"url(#clip-right-status)\"/>\n                          </svg>\n                        )}\n                        {statusFilter === 'active' && (\n                          <FontAwesomeIcon icon={faCheckCircle} style={{ color: '#22c55e', fontSize: '20px' }}/>\n                        )}\n                        {statusFilter === 'inactive' && (\n                          <FontAwesomeIcon icon={faTimesCircle} style={{ color: '#ef4444', fontSize: '20px' }}/>\n                        )}\n                      </IconFilterButton>\n                    </div>\n                  ) : (\n                    <ColumnFilterWrapper>\n                      <FontAwesomeIcon icon={faSearch} />\n                      <ColumnFilterInput\n                        type=\"text\"\n                        placeholder={`Hledat ${header.column.columnDef.header}...`}\n                        value={columnFilters[header.column.columnDef.accessorKey || header.column.columnDef.id] || ''}\n                        onChange={(e) => {\n                          const columnKey = header.column.columnDef.accessorKey || header.column.columnDef.id;\n                          const newFilters = { ...columnFilters };\n                          newFilters[columnKey] = e.target.value;\n                          setColumnFilters(newFilters);\n                        }}\n                      />\n                      {columnFilters[header.column.columnDef.accessorKey || header.column.columnDef.id] && (\n                        <ColumnClearButton\n                          onClick={() => {\n                            const columnKey = header.column.columnDef.accessorKey || header.column.columnDef.id;\n                            const newFilters = { ...columnFilters };\n                            delete newFilters[columnKey];\n                            setColumnFilters(newFilters);\n                          }}\n                          title=\"Vymazat\"\n                        >\n                          <FontAwesomeIcon icon={faTimes} />\n                        </ColumnClearButton>\n                      )}\n                    </ColumnFilterWrapper>\n                  )}\n                </TableHeader>\n              ))}\n            </tr>\n          </TableHead>\n          <tbody>\n            {table.getRowModel().rows.map((row, index) => (\n              <React.Fragment key={row.id}>\n                <TableRow\n                  $isEven={index % 2 === 0}\n                  $isActive={row.original.active}\n                  $showHighlighting={showRowHighlighting}\n                  onContextMenu={(e) => handleUserContextMenu(e, row.original)}\n                  onDoubleClick={() => handleEditUser(row.original)}\n                  style={{ cursor: 'context-menu' }}\n                >\n                  {row.getVisibleCells().map((cell) => (\n                    <TableCell\n                      key={cell.id}\n                      style={cell.column.id === 'expander' ? { width: '50px', textAlign: 'center', padding: '0.5rem' } : {}}\n                    >\n                      {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                    </TableCell>\n                  ))}\n                </TableRow>\n\n                {expandedRows[row.id] && (() => {\n                  return (\n                  <tr>\n                    <td colSpan={columns.length} style={{ padding: 0 }}>\n                      <ExpandedContent>\n                        <ExpandedGrid>\n                          <InfoCard>\n                            <InfoCardTitle><FontAwesomeIcon icon={faIdCard} />Zkladn informace</InfoCardTitle>\n                            <InfoRow><InfoLabel>ID:</InfoLabel><InfoValue>{row.original.id}</InfoValue></InfoRow>\n                            <InfoRow><InfoLabel>Uivatelsk jmno:</InfoLabel><InfoValue>{row.original.username}</InfoValue></InfoRow>\n                            <InfoRow><InfoLabel>Cel jmno:</InfoLabel><InfoValue>{row.original.fullName}</InfoValue></InfoRow>\n                            <InfoRow><InfoLabel>Email:</InfoLabel><InfoValue>{row.original.email}</InfoValue></InfoRow>\n                          </InfoCard>\n\n                          <InfoCard>\n                            <InfoCardTitle><FontAwesomeIcon icon={faBuilding} />Organizan zaazen</InfoCardTitle>\n                            <InfoRow><InfoLabel>sek:</InfoLabel><InfoValue>{row.original.department}</InfoValue></InfoRow>\n                            <InfoRow><InfoLabel>Lokalita:</InfoLabel><InfoValue>{row.original.location}</InfoValue></InfoRow>\n                            <InfoRow><InfoLabel>Telefon:</InfoLabel><InfoValue>{row.original.phone}</InfoValue></InfoRow>\n                          </InfoCard>\n\n                          <InfoCard>\n                            <InfoCardTitle><FontAwesomeIcon icon={faClock} />Aktivita</InfoCardTitle>\n                            <InfoRow>\n                              <InfoLabel>Status:</InfoLabel>\n                              <InfoValue>\n                                <StatusBadge $active={row.original.active}>\n                                  <FontAwesomeIcon icon={row.original.active ? faCheckCircle : faTimesCircle} />\n                                  {row.original.active ? 'Aktivn' : 'Neaktivn'}\n                                </StatusBadge>\n                              </InfoValue>\n                            </InfoRow>\n                            <InfoRow>\n                              <InfoLabel>Posledn aktivita:</InfoLabel>\n                              <InfoValue>{row.original.dt_activity ? prettyDate(row.original.dt_activity) : 'Nikdy'}</InfoValue>\n                            </InfoRow>\n                          </InfoCard>\n\n                          {/* Role a prva - NOV VERZE S UNIKTNMI PRVY */}\n                          {((row.original.roles && row.original.roles.length > 0) || (row.original.direct_rights && row.original.direct_rights.length > 0)) && (() => {\n                            // Pipravit seznam rol - SEAZEN ABECEDN\n                            const rolesList = row.original.roles && Array.isArray(row.original.roles)\n                              ? [...row.original.roles].sort((a, b) => {\n                                  const nameA = (a.nazev_role || a.nazev || '').toLowerCase();\n                                  const nameB = (b.nazev_role || b.nazev || '').toLowerCase();\n                                  return nameA.localeCompare(nameB, 'cs');\n                                })\n                              : [];\n\n                            // Sestavit uniktn seznam vech prv\n                            const allRightsMap = new Map(); // key: kod_prava, value: { right: object, roleIndexes: [] }\n\n                            // Pidat prva z rol\n                            rolesList.forEach((role, roleIdx) => {\n                              if (role.rights && Array.isArray(role.rights)) {\n                                role.rights.forEach(right => {\n                                  const kod = right.kod_prava || right.nazev || right.name || right.code;\n                                  if (kod) {\n                                    if (!allRightsMap.has(kod)) {\n                                      allRightsMap.set(kod, { right: right, roleIndexes: [] });\n                                    }\n                                    allRightsMap.get(kod).roleIndexes.push(roleIdx + 1); // slovn od 1\n                                  }\n                                });\n                              }\n                            });\n\n                            // Pidat pm prva (bez role index)\n                            if (row.original.direct_rights && Array.isArray(row.original.direct_rights)) {\n                              row.original.direct_rights.forEach(right => {\n                                const kod = right.kod_prava || right.nazev || right.name || right.code;\n                                if (kod) {\n                                  if (!allRightsMap.has(kod)) {\n                                    allRightsMap.set(kod, { right: right, roleIndexes: [] });\n                                  }\n                                  // Pro pm prva nepidvme roleIndex\n                                }\n                              });\n                            }\n\n                            // Pevst na pole pro zobrazen - SEAZEN ABECEDN PODLE KDU\n                            const uniqueRights = Array.from(allRightsMap.entries())\n                              .map(([kod, data]) => ({\n                                kod,\n                                right: data.right,\n                                roleIndexes: [...new Set(data.roleIndexes)].sort() // unique a seazen\n                              }))\n                              .sort((a, b) => a.kod.localeCompare(b.kod, 'cs'));\n\n                            return (\n                              <InfoCard style={{ gridColumn: '1 / -1' }}>\n                                <InfoCardTitle><FontAwesomeIcon icon={faShield} />Role a prva</InfoCardTitle>\n\n                                {/* 1. SEZNAM ROL */}\n                                {rolesList.length > 0 && (\n                                  <div style={{\n                                    marginBottom: '1.5rem',\n                                    padding: '0.75rem',\n                                    background: '#f0f9ff',\n                                    borderRadius: '6px',\n                                    border: '1px solid #bae6fd'\n                                  }}>\n                                    <div style={{\n                                      fontSize: '0.875rem',\n                                      fontWeight: 600,\n                                      color: '#0c4a6e',\n                                      marginBottom: '0.75rem',\n                                      display: 'flex',\n                                      alignItems: 'center',\n                                      gap: '0.5rem'\n                                    }}>\n                                      <FontAwesomeIcon icon={faShield} style={{ color: '#0284c7' }} />\n                                      Role uivatele ({rolesList.length}):\n                                    </div>\n\n                                    {rolesList.map((role, roleIdx) => (\n                                      <div key={`role-${roleIdx}`} style={{\n                                        marginBottom: '0.5rem',\n                                        display: 'flex',\n                                        alignItems: 'flex-start',\n                                        fontSize: '0.875rem'\n                                      }}>\n                                        {/* slo role */}\n                                        <div style={{\n                                          background: '#0284c7',\n                                          color: 'white',\n                                          borderRadius: '50%',\n                                          width: '20px',\n                                          height: '20px',\n                                          display: 'flex',\n                                          alignItems: 'center',\n                                          justifyContent: 'center',\n                                          fontSize: '0.75rem',\n                                          fontWeight: 'bold',\n                                          flexShrink: 0,\n                                          marginRight: '0.75rem'\n                                        }}>\n                                          {roleIdx + 1}\n                                        </div>\n\n                                        {/* Nzev role a popis - jako tabulka */}\n                                        <div style={{ flex: 1, display: 'flex' }}>\n                                          <div style={{\n                                            fontWeight: 600,\n                                            color: '#0c4a6e',\n                                            minWidth: '150px',\n                                            marginRight: '1.5rem'\n                                          }}>\n                                            {role.nazev_role || role.nazev || role.name || 'Bez nzvu'}\n                                          </div>\n                                          {(role.Popis || role.popis) && (\n                                            <div style={{\n                                              color: '#64748b',\n                                              fontStyle: 'italic',\n                                              flex: 1\n                                            }}>\n                                              {role.Popis || role.popis}\n                                            </div>\n                                          )}\n                                        </div>\n                                      </div>\n                                    ))}\n                                  </div>\n                                )}\n\n                                {/* 2. UNIKTN PRVA PODLE SEKC */}\n                                {uniqueRights.length > 0 && (() => {\n                                  // Pekladov slovnk pro nzvy sekc\n                                  const sectionTranslations = {\n                                    'ORDER': 'Objednvky',\n                                    'USER': 'Uivatel',\n                                    'CONTACT': 'Kontakty',\n                                    'REPORT': 'Reporty',\n                                    'ADMIN': 'Administrace',\n                                    'SYSTEM': 'Systm',\n                                    'EXPORT': 'Export',\n                                    'IMPORT': 'Import',\n                                    'SETTINGS': 'Nastaven',\n                                    'BACKUP': 'Zlohy',\n                                    'LOG': 'Logy',\n                                    'NOTIFICATION': 'Notifikace',\n                                    'OSTATN': 'Ostatn'\n                                  };\n\n                                  // Seskupit prva podle prefixu (ORDER_, USER_, atd.)\n                                  const rightsBySection = {};\n                                  uniqueRights.forEach(item => {\n                                    const kod = item.kod;\n                                    const prefix = kod.includes('_') ? kod.split('_')[0] : 'OSTATN';\n                                    if (!rightsBySection[prefix]) {\n                                      rightsBySection[prefix] = [];\n                                    }\n                                    rightsBySection[prefix].push(item);\n                                  });\n\n                                  // Seadit sekce abecedn, ale OSTATN na konec\n                                  const sortedSections = Object.keys(rightsBySection).sort((a, b) => {\n                                    if (a === 'OSTATN') return 1;\n                                    if (b === 'OSTATN') return -1;\n                                    return a.localeCompare(b);\n                                  });\n\n                                  return (\n                                    <div style={{\n                                      padding: '0.75rem',\n                                      background: '#f8fafc',\n                                      borderRadius: '6px',\n                                      border: '1px solid #cbd5e1'\n                                    }}>\n                                      <div style={{\n                                        fontSize: '0.875rem',\n                                        fontWeight: 600,\n                                        color: '#1e293b',\n                                        marginBottom: '0.75rem',\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        justifyContent: 'space-between',\n                                        gap: '1rem'\n                                      }}>\n                                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                                          <FontAwesomeIcon icon={faKey} style={{ color: '#059669' }} />\n                                          Vechna prva ({uniqueRights.length}) podle sekc:\n                                        </div>\n\n                                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                                          {/* Vyhledvac pole pro prva */}\n                                          <div style={{ position: 'relative' }}>\n                                            <FontAwesomeIcon\n                                              icon={faSearch}\n                                              style={{\n                                                position: 'absolute',\n                                                left: '8px',\n                                                top: '50%',\n                                                transform: 'translateY(-50%)',\n                                                color: '#9ca3af',\n                                                fontSize: '0.75rem'\n                                              }}\n                                            />\n                                            <input\n                                              type=\"text\"\n                                              placeholder=\"Najt prvo...\"\n                                              value={rightsSearchTerm || ''}\n                                              onChange={(e) => {\n                                                const searchTerm = e.target.value;\n                                                setRightsSearchTerm(searchTerm);\n\n                                                // Auto-rozvinut sekc s nalezernmi prvy\n                                                if (searchTerm.trim()) {\n                                                  const newCollapsed = {};\n                                                  sortedSections.forEach(sectionName => {\n                                                    const sectionRights = rightsBySection[sectionName];\n                                                    const hasMatch = sectionRights.some(item =>\n                                                      item.kod.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                                                      (item.right.popis && item.right.popis.toLowerCase().includes(searchTerm.toLowerCase()))\n                                                    );\n                                                    // Rozvi sekci pokud obsahuje vsledek\n                                                    if (hasMatch) {\n                                                      newCollapsed[sectionName] = false;\n                                                    }\n                                                  });\n                                                  setCollapsedSections(prev => ({ ...prev, ...newCollapsed }));\n                                                }\n                                              }}\n                                              style={{\n                                                fontSize: '0.75rem',\n                                                padding: '0.25rem 0.5rem 0.25rem 1.75rem',\n                                                border: '1px solid #d1d5db',\n                                                borderRadius: '4px',\n                                                background: 'white',\n                                                width: '140px',\n                                                transition: 'all 0.2s'\n                                              }}\n                                              onFocus={(e) => {\n                                                e.target.style.borderColor = '#3b82f6';\n                                                e.target.style.boxShadow = '0 0 0 2px rgba(59, 130, 246, 0.1)';\n                                              }}\n                                              onBlur={(e) => {\n                                                e.target.style.borderColor = '#d1d5db';\n                                                e.target.style.boxShadow = 'none';\n                                              }}\n                                            />\n                                          </div>\n\n                                          {/* Collapse/Expand vechno tlatko */}\n                                          <button\n                                            onClick={() => {\n                                              const allCollapsed = sortedSections.every(section => collapsedSections[section]);\n                                              const newState = {};\n                                              sortedSections.forEach(section => {\n                                                newState[section] = !allCollapsed;\n                                              });\n                                              setCollapsedSections(newState);\n                                            }}\n                                            style={{\n                                              display: 'flex',\n                                              alignItems: 'center',\n                                              gap: '0.25rem',\n                                              padding: '0.25rem 0.5rem',\n                                              fontSize: '0.75rem',\n                                              fontWeight: 500,\n                                              color: '#6b7280',\n                                              background: 'white',\n                                              border: '1px solid #d1d5db',\n                                              borderRadius: '4px',\n                                              cursor: 'pointer',\n                                              transition: 'all 0.2s'\n                                            }}\n                                            onMouseEnter={(e) => {\n                                              e.target.style.background = '#f3f4f6';\n                                              e.target.style.borderColor = '#9ca3af';\n                                            }}\n                                            onMouseLeave={(e) => {\n                                              e.target.style.background = 'white';\n                                              e.target.style.borderColor = '#d1d5db';\n                                            }}\n                                            title={sortedSections.every(section => collapsedSections[section]) ? 'Rozvinout vechny sekce' : 'Sbalit vechny sekce'}\n                                          >\n                                            <FontAwesomeIcon\n                                              icon={sortedSections.every(section => collapsedSections[section]) ? faPlus : faMinus}\n                                              style={{ fontSize: '0.7rem' }}\n                                            />\n                                            {sortedSections.every(section => collapsedSections[section]) ? 'Ve' : 'Sbalit'}\n                                          </button>\n                                        </div>\n                                      </div>\n\n                                        {sortedSections.map(sectionName => {\n                                        const sectionRights = rightsBySection[sectionName];\n                                        // Seadit prva v sekci podle abecedy\n                                        const sortedSectionRights = [...sectionRights].sort((a, b) => a.kod.localeCompare(b.kod));\n\n                                        const filteredSectionRights = rightsSearchTerm ?\n                                          sortedSectionRights.filter(item => {\n                                            const searchLower = rightsSearchTerm.toLowerCase();\n                                            return item.kod.toLowerCase().includes(searchLower) ||\n                                                   (item.right.popis && item.right.popis.toLowerCase().includes(searchLower));\n                                          }) : sortedSectionRights;\n                                        const isCollapsed = collapsedSections[sectionName];\n\n                                        // Pokud pi vyhledvn sekce neobsahuje vsledky, nezobraz se\n                                        if (rightsSearchTerm && filteredSectionRights.length === 0) {\n                                          return null;\n                                        }                                        return (\n                                          <div key={sectionName} style={{ marginBottom: '1rem' }}>\n                                            {/* Header sekce - klikac */}\n                                            <div\n                                              style={{\n                                                display: 'flex',\n                                                alignItems: 'center',\n                                                gap: '0.5rem',\n                                                padding: '0.5rem 0.75rem',\n                                                background: '#e2e8f0',\n                                                borderRadius: '4px',\n                                                cursor: 'pointer',\n                                                marginBottom: isCollapsed ? '0' : '0.5rem',\n                                                transition: 'all 0.2s'\n                                              }}\n                                              onClick={() => {\n                                                setCollapsedSections(prev => ({\n                                                  ...prev,\n                                                  [sectionName]: !prev[sectionName]\n                                                }));\n                                              }}\n                                              onMouseEnter={(e) => {\n                                                e.currentTarget.style.background = '#cbd5e1';\n                                              }}\n                                              onMouseLeave={(e) => {\n                                                e.currentTarget.style.background = '#e2e8f0';\n                                              }}\n                                            >\n                                              <FontAwesomeIcon\n                                                icon={isCollapsed ? faChevronRight : faChevronDown}\n                                                style={{\n                                                  color: '#64748b',\n                                                  fontSize: '0.75rem',\n                                                  transition: 'transform 0.2s'\n                                                }}\n                                              />\n                                              <span style={{\n                                                fontWeight: 600,\n                                                color: '#475569',\n                                                fontSize: '0.875rem'\n                                              }}>\n                                                {sectionTranslations[sectionName] || sectionName} ({rightsSearchTerm ? filteredSectionRights.length : sortedSectionRights.length}\n                                                {rightsSearchTerm && filteredSectionRights.length !== sortedSectionRights.length && (\n                                                  <span style={{ color: '#64748b', fontWeight: 400 }}> z {sortedSectionRights.length}</span>\n                                                )})\n                                              </span>\n                                            </div>\n\n                                            {/* Obsah sekce - skldac */}\n                                            {!isCollapsed && (\n                                              <div style={{\n                                                display: 'flex',\n                                                flexWrap: 'wrap',\n                                                gap: '0.5rem',\n                                                paddingLeft: '1.5rem'\n                                              }}>\n                                                {filteredSectionRights.map((item, idx) => {\n                                                  const buttonText = item.kod;\n                                                  const tooltipText = item.right.popis || item.right.description || buttonText;\n\n                                                  return (\n                                                    <div\n                                                      key={`${sectionName}-right-${idx}`}\n                                                      title={tooltipText}\n                                                      style={{\n                                                        background: 'white',\n                                                        padding: '0.5rem 0.75rem',\n                                                        borderRadius: '4px',\n                                                        fontSize: '0.8rem',\n                                                        border: '1px solid #059669',\n                                                        color: '#065f46',\n                                                        fontWeight: 500,\n                                                        cursor: 'help',\n                                                        transition: 'all 0.2s',\n                                                        boxShadow: '0 1px 2px rgba(5, 150, 105, 0.1)',\n                                                        position: 'relative',\n                                                        display: 'flex',\n                                                        flexDirection: 'column',\n                                                        alignItems: 'flex-start',\n                                                        minWidth: '120px'\n                                                      }}\n                                                      onMouseEnter={(e) => {\n                                                        e.currentTarget.style.background = '#d1fae5';\n                                                        e.currentTarget.style.transform = 'translateY(-1px)';\n                                                        e.currentTarget.style.boxShadow = '0 2px 4px rgba(5, 150, 105, 0.2)';\n                                                      }}\n                                                      onMouseLeave={(e) => {\n                                                        e.currentTarget.style.background = 'white';\n                                                        e.currentTarget.style.transform = 'translateY(0)';\n                                                        e.currentTarget.style.boxShadow = '0 1px 2px rgba(5, 150, 105, 0.1)';\n                                                      }}\n                                                    >\n                                                      {/* Hlavn dek s kdem prva a role indexy */}\n                                                      <div style={{\n                                                        display: 'flex',\n                                                        alignItems: 'center',\n                                                        width: '100%',\n                                                        marginBottom: tooltipText !== buttonText ? '2px' : '0'\n                                                      }}>\n                                                        <span>{buttonText}</span>\n                                                        {/* Role indexy jako horn index */}\n                                                        {item.roleIndexes.length > 0 && (\n                                                          <sup style={{\n                                                            fontSize: '0.6rem',\n                                                            color: '#0284c7',\n                                                            fontWeight: 'bold',\n                                                            marginLeft: '2px'\n                                                          }}>\n                                                            {item.roleIndexes.join(',')}\n                                                          </sup>\n                                                        )}\n                                                      </div>\n\n                                                      {/* Popis pod hlavnm textem - pouze pokud se li od kdu */}\n                                                      {tooltipText !== buttonText && (\n                                                        <div style={{\n                                                          fontSize: '0.65rem',\n                                                          color: '#6b7280',\n                                                          fontWeight: 400,\n                                                          lineHeight: 1.2,\n                                                          textAlign: 'left',\n                                                          maxWidth: '100%',\n                                                          wordBreak: 'break-word'\n                                                        }}>\n                                                          {tooltipText}\n                                                        </div>\n                                                      )}\n                                                    </div>\n                                                  );\n                                                })}\n                                              </div>\n                                            )}\n                                          </div>\n                                        );\n                                      })}\n                                    </div>\n                                  );\n                                })()}\n\n                                {/* Pokud uivatel nem dn role ani pm prva */}\n                                {uniqueRights.length === 0 && (\n                                  <div style={{\n                                    fontSize: '0.875rem',\n                                    color: '#64748b',\n                                    fontStyle: 'italic',\n                                    padding: '1rem',\n                                    textAlign: 'center'\n                                  }}>\n                                    Tento uivatel nem piazen dn role ani prva\n                                  </div>\n                                )}\n                              </InfoCard>\n                            );\n                          })()}\n                        </ExpandedGrid>\n                      </ExpandedContent>\n                    </td>\n                  </tr>\n                  );\n                })()}\n              </React.Fragment>\n            ))}\n          </tbody>\n        </Table>\n\n        {/* Pagination - stejn jako v Orders25List */}\n        <PaginationContainer>\n          <PaginationInfo>\n            Zobrazeno {table.getRowModel().rows.length} z {filteredData.length} uivatel\n            {filteredData.length !== users.length && (\n              <span> (filtrovno z {users.length})</span>\n            )}\n          </PaginationInfo>\n\n          <PaginationControls>\n            <span style={{ fontSize: '0.875rem', color: '#64748b', marginRight: '1rem' }}>\n              Zobrazit:\n            </span>\n            <PageSizeSelect\n              value={pageSize}\n              onChange={(e) => {\n                const newSize = parseInt(e.target.value);\n                setPageSize(newSize);\n                setUserStorage('users_pageSize', newSize);\n                table.setPageSize(newSize);\n                // Resetuj na prvn strnku pi zmn velikosti strnky\n                setCurrentPageIndex(0);\n                setUserStorage('users_pageIndex', 0);\n                table.setPageIndex(0);\n              }}\n            >\n              <option value={10}>10</option>\n              <option value={25}>25</option>\n              <option value={50}>50</option>\n              <option value={100}>100</option>\n              <option value={250}>250</option>\n            </PageSizeSelect>\n\n            <PageButton\n              onClick={goToFirstPage}\n              disabled={!table.getCanPreviousPage()}\n            >\n              \n            </PageButton>\n            <PageButton\n              onClick={goToPreviousPage}\n              disabled={!table.getCanPreviousPage()}\n            >\n              \n            </PageButton>\n\n            <span style={{ fontSize: '0.875rem', color: '#64748b', margin: '0 1rem' }}>\n              Strnka {table.getState().pagination.pageIndex + 1} z {table.getPageCount()}\n            </span>\n\n            <PageButton\n              onClick={goToNextPage}\n              disabled={!table.getCanNextPage()}\n            >\n              \n            </PageButton>\n            <PageButton\n              onClick={goToLastPage}\n              disabled={!table.getCanNextPage()}\n            >\n              \n            </PageButton>\n          </PaginationControls>\n        </PaginationContainer>\n      </TableContainer>\n      </TableScrollWrapper>\n\n      {/*  React Portal pro scroll ipky (MIMO scroll context) */}\n      {createPortal(\n        <>\n          <ScrollArrowLeft\n            onClick={handleScrollLeft}\n            onMouseEnter={() => setIsArrowHovered(true)}\n            onMouseLeave={() => setIsArrowHovered(false)}\n            $visible={showLeftArrow}\n            $tableHovered={isTableHovered}\n            $arrowHovered={isArrowHovered}\n            aria-label=\"Posunout vlevo\"\n          >\n            <FontAwesomeIcon icon={faChevronLeft} />\n          </ScrollArrowLeft>\n\n          <ScrollArrowRight\n            onClick={handleScrollRight}\n            onMouseEnter={() => setIsArrowHovered(true)}\n            onMouseLeave={() => setIsArrowHovered(false)}\n            $visible={showRightArrow}\n            $tableHovered={isTableHovered}\n            $arrowHovered={isArrowHovered}\n            aria-label=\"Posunout vpravo\"\n          >\n            <FontAwesomeIcon icon={faChevronRight} />\n          </ScrollArrowRight>\n        </>,\n        document.body\n      )}\n\n      <ConfirmDialog\n        isOpen={isDialogOpen}\n        title={\n          dialogAction === 'delete'\n            ? (hasPermission && hasPermission('USER_DELETE') ? 'Smazn uivatele' : 'Deaktivace uivatele')\n            : dialogAction === 'toggle'\n            ? (selectedUser?.active ? 'Deaktivace uivatele' : 'Aktivace uivatele')\n            : 'Potvrzen akce'\n        }\n        icon={getDialogIcon()}\n        variant={getDialogVariant()}\n        onConfirm={handleConfirmAction}\n        onClose={handleCancelAction}\n      >\n        {getDialogMessage()}\n      </ConfirmDialog>\n\n      {/* Reset Password Modal */}\n      <ResetPasswordModal\n        isOpen={isResetPasswordModalOpen}\n        onClose={() => {\n          setIsResetPasswordModalOpen(false);\n          setSelectedUser(null);\n        }}\n        onConfirm={handleResetPasswordConfirm}\n        userData={selectedUser}\n      />\n\n      {/* User Management Modal */}\n      <UserManagementModal\n        isOpen={userModalState.isOpen}\n        onClose={handleCloseUserModal}\n        mode={userModalState.mode}\n        userData={userModalState.userData}\n        onSuccess={handleUserModalSuccess}\n        addToast={showToast}\n      />\n\n      {/* User Context Menu */}\n      {contextMenu && (\n        <UserContextMenu\n          x={contextMenu.x}\n          y={contextMenu.y}\n          user={contextMenu.user}\n          selectedData={contextMenu.selectedData}\n          onClose={() => setContextMenu(null)}\n          onEdit={handleContextMenuEdit}\n          onDelete={handleContextMenuDelete}\n          onToggleActive={handleContextMenuToggleActive}\n          canEdit={true}\n          canDelete={hasPermission && hasPermission('USER_DELETE')}\n        />\n      )}\n\n      </PageContent>\n    </Container>\n\n    {/* Modern Sponka helper - kontextov npovda pro sprvu uivatel */}\n    {hasPermission('HELPER_VIEW') && <ModernHelper pageContext=\"users\" />}\n    </>\n  );\n};\n\nexport default Users;\n\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n];\n\n/**\n * @component @name CircleX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleX = createLucideIcon('circle-x', __iconNode);\n\nexport default CircleX;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4', key: 'g0fldk' }],\n  ['path', { d: 'm21 2-9.6 9.6', key: '1j0ho8' }],\n  ['circle', { cx: '7.5', cy: '15.5', r: '5.5', key: 'yqb3hr' }],\n];\n\n/**\n * @component @name Key\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUuNSA3LjUgMi4zIDIuM2ExIDEgMCAwIDAgMS40IDBsMi4xLTIuMWExIDEgMCAwIDAgMC0xLjRMMTkgNCIgLz4KICA8cGF0aCBkPSJtMjEgMi05LjYgOS42IiAvPgogIDxjaXJjbGUgY3g9IjcuNSIgY3k9IjE1LjUiIHI9IjUuNSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/key\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Key = createLucideIcon('key', __iconNode);\n\nexport default Key;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n];\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('circle-alert', __iconNode);\n\nexport default CircleAlert;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21.801 10A10 10 0 1 1 17 3.335', key: 'yps3ct' }],\n  ['path', { d: 'm9 11 3 3L22 4', key: '1pflzl' }],\n];\n\n/**\n * @component @name CircleCheckBig\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuODAxIDEwQTEwIDEwIDAgMSAxIDE3IDMuMzM1IiAvPgogIDxwYXRoIGQ9Im05IDExIDMgM0wyMiA0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check-big\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheckBig = createLucideIcon('circle-check-big', __iconNode);\n\nexport default CircleCheckBig;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384',\n      key: '9njp5v',\n    },\n  ],\n];\n\n/**\n * @component @name Phone\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMuODMyIDE2LjU2OGExIDEgMCAwIDAgMS4yMTMtLjMwM2wuMzU1LS40NjVBMiAyIDAgMCAxIDE3IDE1aDNhMiAyIDAgMCAxIDIgMnYzYTIgMiAwIDAgMS0yIDJBMTggMTggMCAwIDEgMiA0YTIgMiAwIDAgMSAyLTJoM2EyIDIgMCAwIDEgMiAydjNhMiAyIDAgMCAxLS44IDEuNmwtLjQ2OC4zNTFhMSAxIDAgMCAwLS4yOTIgMS4yMzMgMTQgMTQgMCAwIDAgNi4zOTIgNi4zODQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/phone\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Phone = createLucideIcon('phone', __iconNode);\n\nexport default Phone;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 10h.01', key: '1nrarc' }],\n  ['path', { d: 'M12 14h.01', key: '1etili' }],\n  ['path', { d: 'M12 6h.01', key: '1vi96p' }],\n  ['path', { d: 'M16 10h.01', key: '1m94wz' }],\n  ['path', { d: 'M16 14h.01', key: '1gbofw' }],\n  ['path', { d: 'M16 6h.01', key: '1x0f13' }],\n  ['path', { d: 'M8 10h.01', key: '19clt8' }],\n  ['path', { d: 'M8 14h.01', key: '6423bh' }],\n  ['path', { d: 'M8 6h.01', key: '1dz90k' }],\n  ['path', { d: 'M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3', key: 'cabbwy' }],\n  ['rect', { x: '4', y: '2', width: '16', height: '20', rx: '2', key: '1uxh74' }],\n];\n\n/**\n * @component @name Building\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTBoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xMiAxNGguMDEiIC8+CiAgPHBhdGggZD0iTTEyIDZoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xNiAxMGguMDEiIC8+CiAgPHBhdGggZD0iTTE2IDE0aC4wMSIgLz4KICA8cGF0aCBkPSJNMTYgNmguMDEiIC8+CiAgPHBhdGggZD0iTTggMTBoLjAxIiAvPgogIDxwYXRoIGQ9Ik04IDE0aC4wMSIgLz4KICA8cGF0aCBkPSJNOCA2aC4wMSIgLz4KICA8cGF0aCBkPSJNOSAyMnYtM2ExIDEgMCAwIDEgMS0xaDRhMSAxIDAgMCAxIDEgMXYzIiAvPgogIDxyZWN0IHg9IjQiIHk9IjIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIyMCIgcng9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/building\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Building = createLucideIcon('building', __iconNode);\n\nexport default Building;\n"],"names":["Briefcase","createLucideIcon","d","key","width","height","x","y","rx","User","cx","cy","r","MapPin","Mail","Check","Search","X","Shield","jsx","ReactJSXRuntime","type","props","hasOwn","call","Emotion","createEmotionProps","jsxs","overlayStyle","css","_templateObject","_taggedTemplateLiteral","dialogStyle","_templateObject2","headerStyle","_templateObject3","titleStyle","_templateObject4","closeBtnStyle","_templateObject5","formGroupStyle","_templateObject6","labelStyle","_templateObject7","inputWrapperStyle","_templateObject8","inputStyle","_templateObject9","toggleButtonStyle","_templateObject0","requirementsStyle","_templateObject1","requirementsTitleStyle","_templateObject10","requirementItemStyle","_templateObject11","errorMessageStyle","_templateObject12","userInfoStyle","_templateObject13","userInfoLabelStyle","_templateObject14","userInfoValueStyle","_templateObject15","buttonsStyle","_templateObject16","cancelButtonStyle","_templateObject17","confirmButtonStyle","_templateObject18","_ref","isOpen","onClose","onConfirm","userData","password","setPassword","useState","confirmPassword","setConfirmPassword","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","error","setError","touched","setTouched","confirm","useEffect","validation","minLength","length","hasUpperCase","test","hasLowerCase","hasNumber","hasSpecialChar","validatePassword","isPasswordValid","Object","values","every","v","doPasswordsMatch","isFormValid","getInputClassName","field","ReactDOM","_jsx","role","children","_jsxs","onClick","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","style","fontSize","fontWeight","fullName","concat","surname","name","trim","username","color","marginLeft","email","marginTop","onSubmit","e","preventDefault","value","onChange","target","onBlur","handlePasswordBlur","prev","_objectSpread","placeholder","className","autoComplete","FontAwesomeIcon","icon","faEyeSlash","faEye","faCheckCircle","faTimesCircle","handleConfirmBlur","disabled","document","body","Award","ValidatorContainer","styled","div","StrengthBar","StrengthFill","strength","StrengthText","RequirementsList","ul","Requirement","li","met","getPasswordRequirements","text","validatePasswordStrength","filter","showRequirements","score","getPasswordStrength","requirements","isValid","weak","medium","strong","map","req","index","CheckCircle","size","XCircle","slideInUp","keyframes","ModalOverlay","ModalContainer","ModalHeader","ModalHeaderContent","HeaderLeft","ModalTitle","h2","ModalSubtitle","p","CloseButton","button","TabsContainer","Tab","$active","ModalBody","FormSection","FormGrid","FormGrid3Col","FormGrid4Col","FormGroup","$fullWidth","Label","label","required","InputWithIcon","span","Input","input","_templateObject19","hasIcon","hasError","SearchInputWrapper","_templateObject20","hasValue","ErrorText","_templateObject21","SectionTitle","_templateObject22","_templateObject23","h3","_templateObject24","CheckboxGrid","_templateObject25","ToggleSwitch","_templateObject26","ToggleContainer","_templateObject27","ToggleLabel","_templateObject28","CheckboxLabel","_templateObject29","$checked","Checkbox","_templateObject30","CheckboxContent","_templateObject31","CheckboxTitle","_templateObject32","CheckboxDescription","_templateObject33","ModalFooter","_templateObject34","FooterLeft","_templateObject35","FooterRight","_templateObject36","Button","_templateObject37","LoadingSpinner","_templateObject38","SuccessMessage","_templateObject39","ErrorMessage","_templateObject40","EmptyState","_templateObject41","FilterCheckboxLabel","_templateObject42","mode","onSuccess","addToast","token","user","userDetail","useContext","AuthContext","triggerActivity","useActivity","activeTab","setActiveTab","loading","setLoading","isSaved","setIsSaved","isClosing","setIsClosing","loadingData","setLoadingData","errors","setErrors","successMessage","setSuccessMessage","errorMessage","setErrorMessage","canEditUsername","useMemo","roles","some","kod_role","selectStates","setSelectStates","searchStates","setSearchStates","touchedSelectFields","setTouchedSelectFields","Set","formData","setFormData","jmeno","prijmeni","titul_pred","titul_za","telefon","usek_id","lokalita_id","pozice_id","organizace_id","aktivni","direct_rights","lokality","setLokality","pozice","setPozice","organizace","setOrganizace","setRole","prava","setPrava","useky","setUseky","roleFilter","setRoleFilter","pravaFilter","setPravaFilter","showOnlyUnassigned","setShowOnlyUnassigned","rightsFromRoles","setRightsFromRoles","filteredRoles","search","toLowerCase","nazev_role","nazev","includes","popis","filteredPrava","filtered","pravoId","Number","id","isFromRole","has","isDirectlySelected","kod_prava","loadReferenceData","_userData$usek","_userData$lokalita","_lokality$find","_userData$pozice","_pozice$find","_userData$organizace","extractedIds","usek","lokalita","lokalita_nazev","find","l","nazev_pozice","rolesIds","Array","isArray","role_id","foundRole","roleItem","console","log","rightsIds","pravo_id","foundRight","pravaItem","newFormData","async","lokalityData","poziceData","organizaceData","roleData","pravaData","usekyData","Promise","all","fetchLokality","fetchPozice","fetchOrganizace","fetchRole","fetchPrava","fetchUseky","hierarchicalLokality","hierarchical","okresy","typ","parent_id","stanoviste","sort","a","b","localeCompare","forEach","okres","push","level","isParent","displayLabel","s","String","child","parentId","processedIds","h","orphans","orphan","isOrphan","createHierarchicalLokality","sortedRole","nameA","nameB","sortedPrava","codeA","codeB","toggleSelect","filterOptions","options","searchTerm","term","opt","_opt$usek_nazev","_opt$usek_zkr","_opt$nazev","_opt$nazev_pozice","_opt$nazev2","usek_nazev","usek_zkr","getOptionLabel","option","handleChange","roleIds","allRights","roleId","roleDetail","fetchRoleDetail","add","loadRightsFromRoles","handleCheckboxChange","current","isChecked","stopPropagation","onKeyDown","Boolean","join","Building","flexShrink","AlertCircle","flex","_Fragment","Key","PasswordStrengthValidator","checked","Phone","display","justifyContent","alignItems","marginBottom","gap","title","opacity","background","undefined","cursor","fontFamily","CustomSelect","gridColumn","validate","newErrors","keys","_formData$titul_pred","_formData$titul_za","userData_payload","result","createPayload","new_username","createUser","newUserName","_result$data","_result$data2","_result$data3","updatePayload","parseInt","originalUsername","hasUsernameChanged","updateUser","updatedUserName","successMsg","_result$data4","data","username_changed","old_username","successData","setTimeout","errorDetails","message","response","JSON","stringify","status","Save","MenuContainer","MenuItem","danger","success","MenuDivider","MenuLabel","onEdit","onDelete","onToggleActive","canEdit","canDelete","selectedData","menuRef","useRef","hasClipboardData","setHasClipboardData","clipboardData","setClipboardData","navigator","clipboard","readText","parse","_unused","localData","localStorage","getItem","_unused2","checkClipboard","handleCopy","dataToCopy","description","substring","textToCopy","writeText","textArea","createElement","appendChild","select","execCommand","removeChild","clipboardInfo","timestamp","Date","now","setItem","handleCut","cutData","action","userId","handlePaste","_unused3","alert","isActive","active","is_active","handleClickOutside","contains","handleKeyDown","ctrlKey","metaKey","addEventListener","removeEventListener","position","adjustedPosition","left","top","menuRect","getBoundingClientRect","viewportWidth","window","innerWidth","viewportHeight","innerHeight","ref","faCut","faCopy","faPaste","faEdit","faUserSlash","faUserCheck","faTrash","faUserMinus","faTimes","Container","TitlePanel","TitleLeft","RefreshButton","PageTitle","h1","ActionBar","ActionButton","$primary","DashboardPanel","DashboardGrid","TallStatCard","$color","SmallStatCard","$isActive","$clickable","StatHeader","StatIcon","StatLabel","StatValue","FiltersPanel","FiltersHeader","FiltersTitle","FiltersGrid","FilterGroup","FilterLabel","FilterInputWithIcon","ClearButton","FilterInput","FilterSelectWithIcon","FilterSelect","ClearFiltersButton","TableScrollWrapper","$showLeftShadow","$showRightShadow","TableContainer","ScrollArrowLeft","$arrowHovered","$visible","$tableHovered","ScrollArrowRight","Table","table","TableHead","thead","TableRow","tr","$showHighlighting","$isEven","TableHeader","th","TableCell","td","ExpandButton","ExpandedContent","ExpandedGrid","InfoCard","InfoCardTitle","h4","InfoRow","InfoLabel","_templateObject43","InfoValue","_templateObject44","ActionMenu","_templateObject45","ActionMenuButton","_templateObject46","StatusBadge","_templateObject47","PaginationContainer","_templateObject48","PaginationInfo","_templateObject49","PaginationControls","_templateObject50","PageButton","_templateObject51","PageSizeSelect","_templateObject52","ColumnFilterWrapper","_templateObject53","ColumnClearButton","_templateObject54","ColumnFilterInput","_templateObject55","FilterActionButton","_templateObject56","IconFilterButton","_templateObject57","_templateObject58","LoadingOverlay","_templateObject59","_templateObject60","LoadingMessage","_templateObject61","LoadingSubtext","_templateObject62","PageContent","_templateObject63","$blurred","DebugPanel","_templateObject64","DebugHeader","_templateObject65","DebugTitle","_templateObject66","DebugContent","_templateObject67","DebugSection","_templateObject68","DebugLabel","_templateObject69","DebugValue","pre","_templateObject70","Users","_table$getHeaderGroup","hasPermission","start","startGlobalProgress","setProgress","setGlobalProgress","done","doneGlobalProgress","reset","resetGlobalProgress","ProgressContext","showToast","ToastContext","users","setUsers","user_id","getUserKey","baseKey","sid","getUserStorage","defaultValue","arguments","item","setUserStorage","globalFilter","setGlobalFilter","departmentFilter","setDepartmentFilter","groupFilter","setGroupFilter","locationFilter","setLocationFilter","positionFilter","setPositionFilter","statusFilter","setStatusFilter","showFilters","setShowFilters","showExpandedFilters","setShowExpandedFilters","columnFilters","setColumnFilters","showRowHighlighting","setShowRowHighlighting","showDashboard","setShowDashboard","pageSize","setPageSize","currentPageIndex","setCurrentPageIndex","sorting","setSorting","expandedRows","setExpandedRows","collapsedSections","setCollapsedSections","rightsSearchTerm","setRightsSearchTerm","userModalState","setUserModalState","ordersCount","setOrdersCount","cached","isLoadingOrdersCounts","setIsLoadingOrdersCounts","ordersCountLoadTime","setOrdersCountLoadTime","loadTime","isDialogOpen","setIsDialogOpen","isResetPasswordModalOpen","setIsResetPasswordModalOpen","selectedUser","setSelectedUser","dialogAction","setDialogAction","activeUsers","setActiveUsers","showDebug","setShowDebug","rawApiData","setRawApiData","contextMenu","setContextMenu","showLeftArrow","setShowLeftArrow","showRightArrow","setShowRightArrow","showLeftShadow","setShowLeftShadow","showRightShadow","setShowRightShadow","isTableHovered","setIsTableHovered","isArrowHovered","setIsArrowHovered","refreshTrigger","setRefreshTrigger","silentRefresh","setSilentRefresh","tableContainerRef","tableWrapperRef","setTableWrapperRef","useCallback","node","handleTableMouseEnter","handleTableMouseLeave","setTableContainerRef","checkScrollPosition","scrollLeft","scrollWidth","clientWidth","handleScrollLeft","scrollAmount","scrollBy","behavior","handleScrollRight","fetchUsers","silent","fetchAllUsers","_cacheBust","Error","idCounts","u","duplicates","entries","count","warn","_ref2","processedData","_user$lokalita_nazev","_user$lokalita","_user$location","_user$usek_zkr","_user$usek_nazev","_user$department","_user$oddeleni","_user$nazev_pozice","_user$pozice_nazev","_user$pozice","_user$pozice$nazev_po","_user$pozice2","_user$pozice2$nazev","_user$funkce","_user$position","_user$title","prihlas_jmeno","location","department","oddeleni","pozice_nazev","funkce","phone","group_name","dt_activity","dt_posledni_aktivita","posl_aktivita","err","_","code","getErrorCodeCZ","fetchActiveUsersData","fetchActiveUsers","interval","setInterval","clearInterval","fetchOrdersCounts","forceRefresh","startTime","performance","loadingCounts","fetchPromises","_response$data","timeoutPromise","reject","requestPromise","getOrdersCountByUser","orderCount","race","total_orders_count","results","allSettled","finalCounts","errorCount","successCount","endTime","loadTimeMs","Math","round","stats","total","inactive","departments","dept","groups","group","normalizeForSearch","normalize","replace","filteredData","searchNormalized","rights_count","allRightsMap","Map","rights","right","kod","set","rightsCount","orders_count","ordersCountVal","columns","header","cell","_ref3","row","faMinus","faPlus","accessorKey","_ref4","original","verticalAlign","info","getValue","textAlign","fontStyle","paddingLeft","_ref5","totalRights","accessorFn","_ref6","userOrdersCount","isLoading","animation","_ref7","maxSize","faBolt","_ref8","isCurrentUser","canHardDelete","handleToggleStatus","faToggleOn","faToggleOff","handleResetPassword","faKey","handleEditUser","handleDeleteUser","useReactTable","getRowId","state","pagination","pageIndex","onGlobalFilterChange","onSortingChange","getCoreRowModel","getSortedRowModel","getFilteredRowModel","getExpandedRowModel","getPaginationRowModel","enableExpanding","getRowCanExpand","manualPagination","setPageIndex","getPageCount","maxPageIndex","_userDetail$usek","_userDetail","_userDetail2","_userDetail3","_userDetail4","_userDetail5","_userDetail6","fetchUserDetail","apiError","rawUser","handleUserContextMenu","cellData","closest","_cellElement$textCont","cellElement","textContent","element","clientX","clientY","handleContextMenuEdit","handleContextMenuDelete","handleContextMenuToggleActive","handleStatusFilterClick","clearColumnFilters","toggleAllRows","val","allExpanded","toggleRowHighlighting","handleRefreshOrdersCount","handleToggleDashboard","newShowDashboard","uniqueDepartments","uniqueGroups","uniqueLocations","uniquePositions","SmartTooltip","preferredPosition","faSyncAlt","faUsers","faDashboard","handleShowFilters","faFilter","handleExport","faFileExport","handleAddUser","faEraser","handleToggleDebug","newShowDebug","_ref9","margin","marginRight","border","padding","borderRadius","transition","onMouseEnter","currentTarget","transform","onMouseLeave","overflowY","flexDirection","paddingRight","slice","activityTime","diffSec","floor","diffMin","timeText","dateTimeText","prettyDate","whiteSpace","overflow","textOverflow","cele_jmeno","minWidth","faBuilding","faShield","handleClearFilters","handleToggleExpandedFilters","newShowExpandedFilters","faChevronUp","faChevronDown","faSearch","faUserCog","faMapMarkerAlt","loc","faBriefcase","pos","getHeaderGroups","headerGroup","headers","column","getCanSort","getToggleSortingHandler","flexRender","columnDef","getContext","getIsSorted","backgroundColor","borderTop","toFixed","borderColor","faShoppingCart","faPalette","clipPath","columnKey","newFilters","getRowModel","rows","React","onContextMenu","onDoubleClick","getVisibleCells","colSpan","faIdCard","faClock","rolesList","roleIdx","roleIndexes","get","uniqueRights","from","_ref0","Popis","sectionTranslations","rightsBySection","prefix","split","sortedSections","newCollapsed","sectionName","onFocus","boxShadow","allCollapsed","section","newState","sortedSectionRights","filteredSectionRights","searchLower","isCollapsed","faChevronRight","flexWrap","idx","buttonText","tooltipText","lineHeight","maxWidth","wordBreak","newSize","goToFirstPage","getCanPreviousPage","goToPreviousPage","newIndex","max","getState","goToNextPage","maxIndex","min","getCanNextPage","goToLastPage","createPortal","faChevronLeft","ConfirmDialog","getDialogIcon","faExclamationTriangle","faQuestionCircle","variant","getDialogVariant","deleteUser","deactivateUser","newActiveState","partialUpdateUser","handleCancelAction","getDialogMessage","userName","ResetPasswordModal","newPassword","UserManagementModal","handleCloseUserModal","handleUserModalSuccess","UserContextMenu","ModernHelper","pageContext","CircleX","CircleAlert","CircleCheckBig"],"sourceRoot":""}