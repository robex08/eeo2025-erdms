{"version":3,"file":"static/js/3637.aaf290e0.chunk.js","mappings":"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","sources":["services/api25orders.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport axios from 'axios';\n\n/**\n * ORDERS25 API Service\n * Implementace podle dokumentace v docs/ORDERS25_API_DOCUMENTATION.md\n * Verze: v2025.03_25\n * Datum: 8. října 2025\n *\n * Endpointy:\n * 1. orders25/list - Seznam všech objednávek\n * 2. orders25/by-id - Detail objednávky podle ID\n * 3. orders25/by-user - Objednávky podle uživatele\n * 4. orders25/insert - Vytvoření nové objednávky\n * 5. orders25/update - Aktualizace objednávky\n * 6. orders25/delete - Smazání objednávky\n * 7. orders25/next-number - Generování čísla objednávky\n * 8. orders25/check-number - Kontrola dostupnosti čísla\n * 9. orders25/partial-insert - Částečné vytvoření objednávky\n * 10. orders25/partial-update - Částečná aktualizace objednávky\n */\n\n// Axios instance for API25 Orders - specifically for 25a_objednavky table\nconst api25orders = axios.create({\n  baseURL: process.env.REACT_APP_API2_BASE_URL,\n  headers: { 'Content-Type': 'application/json' }\n});\n\n// Debug logging function - will be injected from OrderForm25\nlet debugLogger = null;\n\nexport const setDebugLogger = (loggerFn) => {\n  debugLogger = loggerFn;\n};\n\nconst logDebug = (type, endpoint, data, response) => {\n  // DOČASNĚ VYPNUT - způsobuje nekonečnou smyčku\n  return;\n\n  // if (debugLogger) {\n  //   const baseURL = process.env.REACT_APP_API2_BASE_URL;\n  //   const fullURL = `${baseURL}${endpoint}`;\n  //\n  //   if (type === 'request') {\n  //     debugLogger(type, 'POST', endpoint, {\n  //       url: fullURL,\n  //       method: 'POST',\n  //       headers: { 'Content-Type': 'application/json' },\n  //       payload: data,\n  //       curl_equivalent: `curl -X POST \"${fullURL}\" -H \"Content-Type: application/json\" -d '${JSON.stringify(data)}'`\n  //     });\n  //   } else {\n  //     debugLogger(type, 'POST', endpoint, null, {\n  //       url: fullURL,\n  //       response_data: response,\n  //       timestamp: new Date().toISOString()\n  //     });\n  //   }\n  // }\n};\n\n// Response interceptor to handle token expiration\napi25orders.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    // Check for authentication errors\n    if (error.response?.status === 401 || error.response?.status === 403) {\n      // Token expired - could redirect to login or show notification\n\n      // If we're in a browser environment, we could show a global notification\n      if (typeof window !== 'undefined') {\n        const event = new CustomEvent('authError', {\n          detail: { message: 'Vaše přihlášení vypršelo. Přihlaste se prosím znovu.' }\n        });\n        window.dispatchEvent(event);\n      }\n    }\n\n    // Check for HTML response (login page instead of JSON)\n    const responseText = error.response?.data || '';\n    if (typeof responseText === 'string' && responseText.includes('<!doctype')) {\n      if (typeof window !== 'undefined') {\n        const event = new CustomEvent('authError', {\n          detail: { message: 'Vaše přihlášení vypršelo. Obnovte stránku a přihlaste se znovu.' }\n        });\n        window.dispatchEvent(event);\n      }\n    }\n\n    return Promise.reject(error);\n  }\n);\n\n/**\n * Normalize error messages from API responses\n */\nexport function normalizeApi25OrdersError(err) {\n  if (err.response?.data?.message) return err.response.data.message;\n  if (err.response?.data?.error) return err.response.data.error;\n  if (err.response?.data?.err) return err.response.data.err;\n  if (err.response?.data) {\n    if (typeof err.response.data === 'string') return err.response.data;\n  }\n  if (err.message) return err.message;\n  return 'Neočekávaná chyba při komunikaci se serverem';\n}\n\n/**\n * Get user-friendly error message from API error\n */\nexport function getUserErrorMessage25Orders(err) {\n  return normalizeApi25OrdersError(err);\n}\n\n// ===================================================================\n// 1. LIST - Zobrazení všech objednávek\n// ===================================================================\n\n/**\n * Get list of orders from 25a_objednavky table with enriched data\n *\n * Načte všechny objednávky včetně položek a rozbalených číselníků.\n * Vrací enriched data (_enriched) pro zobrazení v FE bez dodatečných API volání.\n *\n * @param {Object} params - Parameters\n * @param {string} params.token - Auth token\n * @param {string} params.username - Username\n * @param {Object} params.filters - Optional filters (zatím nepodporováno v BE)\n */\nexport async function getOrdersList25({ token, username, filters = {} }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username,\n      ...filters  // přidáme všechny filtry (včetně roku) do payload\n    };\n\n    logDebug('request', 'orders25/list', { ...payload, token: '***' });\n\n    const response = await api25orders.post('orders25/list', payload, { timeout: 15000 });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při načítání seznamu objednávek';\n      logDebug('error', 'orders25/list', null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.err) {\n      logDebug('error', 'orders25/list', null, data.err);\n      throw new Error(data.err);\n    }\n\n    if (data.status === 'ok' && Array.isArray(data.data)) {\n      // Process enriched data for frontend consumption\n      const processedOrders = data.data.map(order => {\n        // Parse JSON fields if they exist\n        try {\n          if (order.financovani && typeof order.financovani === 'string') {\n            order.financovani_parsed = JSON.parse(order.financovani);\n          }\n        } catch (e) {\n          order.financovani_parsed = {};\n        }\n\n        // Calculate total price from items if available\n        if (order.polozky && Array.isArray(order.polozky)) {\n          const totalPrice = order.polozky.reduce((sum, item) => {\n            return sum + parseFloat(item.cena_s_dph || 0);\n          }, 0);\n          order.total_price = totalPrice;\n        }\n\n        // Process enriched data for easier FE usage\n        const enriched = order._enriched || {};\n\n        // User display names\n        if (enriched.uzivatel) {\n          order.uzivatel_display = `${enriched.uzivatel.jmeno} ${enriched.uzivatel.prijmeni}`.trim();\n          order.uzivatel_email = enriched.uzivatel.email;\n        }\n\n        if (enriched.garant_uzivatel) {\n          const jmeno = enriched.garant_uzivatel.jmeno || '';\n          const prijmeni = enriched.garant_uzivatel.prijmeni || '';\n          order.garant_display = `${jmeno} ${prijmeni}`.trim();\n        }\n\n        if (enriched.schvalovatel) {\n          const jmeno = enriched.schvalovatel.jmeno || '';\n          const prijmeni = enriched.schvalovatel.prijmeni || '';\n          order.schvalovatel_display = `${jmeno} ${prijmeni}`.trim();\n        }\n\n        // Status display with color\n        if (enriched.stav_workflow) {\n          order.stav_display = enriched.stav_workflow.nazev;\n          order.stav_barva = enriched.stav_workflow.barva;\n          order.stav_ikona = enriched.stav_workflow.ikona;\n        }\n\n        // Střediska names\n        if (enriched.strediska && Array.isArray(enriched.strediska)) {\n          order.strediska_nazvy = enriched.strediska.map(s => s.nazev).join(', ');\n        }\n\n        // Order type display\n        if (enriched.druh_objednavky) {\n          order.druh_objednavky_display = enriched.druh_objednavky.nazev;\n        }\n\n        return order;\n      });\n\n      logDebug('success', 'orders25/list', null, {\n        count: processedOrders.length,\n        enriched: processedOrders.length > 0 ? !!processedOrders[0]._enriched : false\n      });\n      return processedOrders;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', 'orders25/list', null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n/**\n * Get orders statistics for dashboard\n */\nexport async function getOrdersStats25({ token, username, filters = {} }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username,\n      action: 'stats',\n      ...filters\n    };\n\n    logDebug('request', 'orders25/stats', { ...payload, token: '***' });\n\n    const response = await api25orders.post('orders25/stats', payload, { timeout: 30000 });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při načítání statistik objednávek';\n      logDebug('error', 'orders25/stats', null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.err) {\n      logDebug('error', 'orders25/stats', null, data.err);\n      throw new Error(data.err);\n    }\n\n    if (data.status === 'ok' && data.data) {\n      logDebug('success', 'orders25/stats', null, data.data);\n      return data.data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', 'orders25/stats', null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n// ===================================================================\n// 2. BY-ID - Detail objednávky podle ID\n// ===================================================================\n\n/**\n * Get single order by ID from 25a_objednavky table\n */\nexport async function getOrder25({ token, username, orderId, archivovano }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  if (!orderId) {\n    throw new Error('Chybí ID objednávky.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username,\n      id: orderId\n    };\n\n    // Pokud je archivovano nastaveno, přidej do payload\n    if (archivovano) {\n      payload.archivovano = archivovano;\n    }\n\n    logDebug('request', 'orders25/by-id', { ...payload, token: '***' });\n\n    const response = await api25orders.post('orders25/by-id', payload, { timeout: 5000 });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při načítání objednávky';\n      logDebug('error', 'orders25/by-id', null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.err) {\n      logDebug('error', 'orders25/by-id', null, data.err);\n      throw new Error(data.err);\n    }\n\n    if (data.status === 'ok' && data.data) {\n      logDebug('success', 'orders25/by-id', null, { id: data.data.id });\n      return data.data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', 'orders25/by-id', null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n// ===================================================================\n// 3. BY-USER - Objednávky podle uživatele\n// ===================================================================\n\n/**\n * Get orders by user from 25a_objednavky table\n * Volá orders25/by-user endpoint, který filtruje na BE podle oprávnění\n */\nexport async function getOrdersByUser25({ token, username, userId, rok, mesic, archivovano }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username\n    };\n\n    // Přidej user_id pouze pokud je zadán (pro filtrování podle konkrétního uživatele)\n    if (userId) {\n      payload.user_id = userId;\n      // Přidávám user_id do payload\n    } else {\n      // Volám bez user_id - očekávám všechny objednávky\n    }\n\n    // Přidej rok pokud je zadán\n    if (rok) {\n      payload.rok = rok;\n    }\n\n    // Přidej měsíc pokud je zadán\n    if (mesic) {\n      payload.mesic = mesic;\n    }\n\n    // Přidej archivovano pokud je zadán (1 = zobrazit archivované)\n    if (archivovano) {\n      payload.archivovano = archivovano;\n    }\n\n    // Finální payload připraven\n    logDebug('request', 'orders25/by-user', { ...payload, token: '***' });\n\n    const response = await api25orders.post('orders25/by-user', payload, { timeout: 30000 });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při načítání objednávek uživatele';\n      logDebug('error', 'orders25/by-user', null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.err) {\n      logDebug('error', 'orders25/by-user', null, data.err);\n      throw new Error(data.err);\n    }\n\n    // Zkus různé možné struktury odpovědi\n    if (data.status === 'ok' && data.data) {\n      logDebug('success', 'orders25/by-user', null, { count: data.data.length });\n      return data.data;\n    }\n\n    // Možná server vrací přímo pole\n    if (Array.isArray(data)) {\n      logDebug('success', 'orders25/by-user', null, { count: data.length, note: 'Direct array response' });\n      return data;\n    }\n\n    // Možná server vrací data v jiném formátu\n    if (data.success && data.orders) {\n      logDebug('success', 'orders25/by-user', null, { count: data.orders.length, note: 'success+orders format' });\n      return data.orders;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', 'orders25/by-user', null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n// ===================================================================\n// 4. INSERT - Vytvoření nové objednávky\n// ===================================================================\n\n/**\n * Create new order in 25a_objednavky table - full insert\n * Povinné parametry: predmet, strediska_kod, max_cena_s_dph\n */\nexport async function createOrder25({ token, username, orderData }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  if (!orderData) {\n    throw new Error('Chybí data objednávky.');\n  }\n\n  // Kontrola povinných parametrů\n  if (!orderData.predmet) {\n    throw new Error('Chybí předmět objednávky.');\n  }\n\n  if (!orderData.strediska_kod) {\n    throw new Error('Chybí kód střediska.');\n  }\n\n  if (!orderData.max_cena_s_dph) {\n    throw new Error('Chybí maximální cena s DPH.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username,\n      ...orderData\n    };\n\n    logDebug('request', 'orders25/insert', { ...payload, token: '***' });\n\n    const response = await api25orders.post('orders25/insert', payload, { timeout: 60000 });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při vytváření objednávky';\n      logDebug('error', 'orders25/insert', null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.err) {\n      logDebug('error', 'orders25/insert', null, data.err);\n      throw new Error(data.err);\n    }\n\n    if (data.status === 'ok') {\n      logDebug('success', 'orders25/insert', null, {\n        inserted_id: data.inserted_id,\n        message: data.message\n      });\n      return data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', 'orders25/insert', null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n// ===================================================================\n// 5. UPDATE - Aktualizace objednávky\n// ===================================================================\n\n/**\n * Update existing order in 25a_objednavky table - full update\n */\nexport async function updateOrder25({ token, username, orderId, orderData }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  if (!orderId) {\n    throw new Error('Chybí ID objednávky.');\n  }\n\n  if (!orderData) {\n    throw new Error('Chybí data objednávky.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username,\n      id: orderId,\n      ...orderData\n    };\n\n    logDebug('request', 'orders25/update', { ...payload, token: '***' });\n\n    const response = await api25orders.post('orders25/update', payload, { timeout: 60000 });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při aktualizaci objednávky';\n      logDebug('error', 'orders25/update', null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.err) {\n      logDebug('error', 'orders25/update', null, data.err);\n      throw new Error(data.err);\n    }\n\n    if (data.status === 'ok') {\n      logDebug('success', 'orders25/update', null, { message: data.message });\n      return data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', 'orders25/update', null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n// ===================================================================\n// 6. DELETE - Smazání objednávky\n// ===================================================================\n\n/**\n * Soft delete order - označí jako neaktivní (aktivni = 0)\n * Doporučená metoda - objednávka zůstane v databázi včetně příloh\n */\nexport async function softDeleteOrder25({ token, username, orderId }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  if (!orderId) {\n    throw new Error('Chybí ID objednávky.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username,\n      id: orderId\n    };\n\n    logDebug('request', 'orders25/soft-delete', { ...payload, token: '***' });\n\n    const response = await api25orders.post('orders25/soft-delete', payload, { timeout: 30000 });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při označování objednávky jako neaktivní';\n      logDebug('error', 'orders25/soft-delete', null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.err) {\n      logDebug('error', 'orders25/soft-delete', null, data.err);\n      throw new Error(data.err);\n    }\n\n    if (data.status === 'ok') {\n      logDebug('success', 'orders25/soft-delete', null, {\n        message: data.message\n      });\n      return data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', 'orders25/soft-delete', null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n/**\n * Hard delete order - úplně smaže objednávku včetně položek, příloh a souborů\n * POZOR: Nevratná operace! Smaže objednávku, všechny položky, přílohy a soubory z disku!\n */\nexport async function hardDeleteOrder25({ token, username, orderId }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  if (!orderId) {\n    throw new Error('Chybí ID objednávky.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username,\n      id: orderId\n    };\n\n    logDebug('request', 'orders25/delete', { ...payload, token: '***' });\n\n    const response = await api25orders.post('orders25/delete', payload, { timeout: 10000 });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při mazání objednávky';\n      logDebug('error', 'orders25/delete', null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.err) {\n      logDebug('error', 'orders25/delete', null, data.err);\n      throw new Error(data.err);\n    }\n\n    if (data.status === 'ok') {\n      logDebug('success', 'orders25/delete', null, {\n        message: data.message,\n        data: data.data || {}\n      });\n      return data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', 'orders25/delete', null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n/**\n * Delete order - backward compatibility wrapper\n * Používá soft delete jako výchozí bezpečnou metodu\n */\nexport async function deleteOrder25({ token, username, orderId }) {\n  return softDeleteOrder25({ token, username, orderId });\n}\n\n/**\n * Lock order - zamkne objednávku pro editaci aktuálním uživatelem\n * Volá se při otevření objednávky pro editaci\n *\n * BE Response structure (aktualizováno 24.10.2025):\n * - Success: {\n *     status: \"ok\",\n *     message: \"...\",\n *     lock_info: {\n *       locked: false,              // ✅ FALSE = můžu editovat (moje zamčená)\n *       locked_by_user_id,\n *       locked_by_user_fullname,\n *       locked_at,\n *       lock_status: \"owned\",\n *       is_owned_by_me: true        // ✅ NOVÉ POLE\n *     }\n *   }\n * - Already locked by same user: { status: \"ok\", message: \"Zámek byl obnoven\", lock_info: { locked: false, is_owned_by_me: true, ... } }\n * - Locked by another user: {\n *     err: \"...\",\n *     lock_info: {\n *       locked: true,               // ❌ TRUE = zamčená JINÝM\n *       locked_by_user_id,\n *       locked_by_user_fullname,\n *       locked_at,\n *       lock_status: \"locked\",\n *       is_owned_by_me: false       // ✅ NOVÉ POLE\n *     }\n *   }\n *\n * KLÍČOVÁ ZMĚNA: locked: true znamená \"zamčeno JINÝM uživatelem\"\n *                locked: false znamená \"můžu editovat\" (volná NEBO moje zamčená)\n */\nexport async function lockOrder25({ token, username, orderId }) {\n  if (!token || !username || !orderId) {\n    throw new Error('Chybí přístupový token, uživatelské jméno nebo ID objednávky.');\n  }\n\n  const requestData = {\n    token: token,\n    username: username,\n    id: orderId\n  };\n\n  logDebug('request', 'orders25/lock', requestData);\n\n  try {\n    const response = await api25orders.post('orders25/lock', requestData);\n\n    logDebug('response', 'orders25/lock', requestData, response.data);\n\n    if (response.data && response.data.status === 'ok') {\n      // Objednávka byla úspěšně zamknuta (nebo zámek obnoven)\n      const lockInfo = response.data.lock_info;\n      const userName = lockInfo?.locked_by_user_fullname || 'Vámi';\n\n      return {\n        success: true,\n        message: response.data.message || 'Objednávka byla zamknuta',\n        lock_info: response.data.lock_info,\n        locked_by_name: userName // Pro toast notifikaci\n      };\n    } else if (response.data && response.data.err) {\n      // BE vrátil chybu (objednávka zamčená jiným uživatelem)\n      const lockInfo = response.data.lock_info;\n      const err = new Error(response.data.err);\n      err.lock_info = lockInfo;\n      throw err;\n    } else {\n      throw new Error(response.data?.message || 'Nepodařilo se zamknout objednávku');\n    }\n\n  } catch (error) {\n\n    // Pokud už má lock_info, propaguj\n    if (error.lock_info) {\n      throw error;\n    }\n\n    if (error.response?.status === 401 || error.response?.status === 403) {\n      throw new Error('Nemáte oprávnění k zamknutí objednávky');\n    }\n\n    // BE může vrátit lock_info i v error response\n    if (error.response?.data?.lock_info) {\n      const lockInfo = error.response.data.lock_info;\n      const err = new Error(error.response.data.err || 'Objednávka je zamčená jiným uživatelem');\n      err.lock_info = lockInfo;\n      throw err;\n    }\n\n    throw new Error(`Chyba při zamykání objednávky: ${error.message}`);\n  }\n}\n\n/**\n * Unlock order - odemkne objednávku po zrušení editace\n * Volá se při zrušení editace objednávky, která byla uložena do DB\n *\n * @param {boolean} force - Pro SUPERADMIN/ADMINISTRATOR - násilné odemčení i cizího zámku\n *\n * BE Response structure:\n * - Normal unlock: { status: \"ok\", message: \"Objednávka byla odemčena\" }\n * - Forced unlock: { status: \"ok\", message: \"Objednávka byla násilně odemčena\", unlock_type: \"forced\" }\n */\nexport async function unlockOrder25({ token, username, orderId, force = false }) {\n  if (!token || !username || !orderId) {\n    throw new Error('Chybí přístupový token, uživatelské jméno nebo ID objednávky.');\n  }\n\n  const requestData = {\n    token: token,\n    username: username,\n    id: orderId\n  };\n\n  // Pro force unlock přidej parametr\n  if (force) {\n    requestData.force = true;\n  }\n\n  logDebug('request', 'orders25/unlock', requestData);\n\n  try {\n    const response = await api25orders.post('orders25/unlock', requestData);\n\n    logDebug('response', 'orders25/unlock', requestData, response.data);\n\n    if (response.data && response.data.status === 'ok') {\n      // Objednávka byla úspěšně odemknuta\n      return {\n        success: true,\n        message: response.data.message || 'Objednávka byla odemknuta',\n        unlock_type: response.data.unlock_type || 'normal'\n      };\n    } else {\n      throw new Error(response.data?.message || 'Nepodařilo se odemknout objednávku');\n    }\n\n  } catch (error) {\n\n    if (error.response?.status === 401 || error.response?.status === 403) {\n      throw new Error('Nemáte oprávnění k odemknutí objednávky');\n    }\n\n    throw new Error(`Chyba při odemykání objednávky: ${error.message}`);\n  }\n}\n\n// ===================================================================\n// 7. NEXT-NUMBER - Generování dalšího čísla objednávky\n// ===================================================================\n\n/**\n * Get next available order number for new order\n */\nexport async function getNextOrderNumber25({ token, username }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username\n    };\n\n    logDebug('request', 'orders25/next-number', { ...payload, token: '***' });\n\n    const response = await api25orders.post('orders25/next-number', payload, { timeout: 5000 });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při získávání čísla objednávky';\n      logDebug('error', 'orders25/next-number', null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.err) {\n      logDebug('error', 'orders25/next-number', null, data.err);\n      throw new Error(data.err);\n    }\n\n    if (data.status === 'ok' && data.data) {\n      logDebug('success', 'orders25/next-number', null, {\n        next_order_string: data.data.next_order_string,\n        order_number_string: data.data.order_number_string,\n        next_number: data.data.next_number\n      });\n\n      // Backend vrací:\n      // {\n      //   last_used_number: 14,\n      //   next_number: 15,\n      //   formatted_last_used: \"0014\",\n      //   formatted_next: \"0015\",\n      //   ico: \"12345678\",\n      //   usek_zkr: \"IT\",\n      //   current_year: \"2025\",\n      //   last_used_order_string: \"O-0014/12345678/2025/IT\",\n      //   next_order_string: \"O-0015/12345678/2025/IT\",\n      //   order_number_string: \"O-0015/12345678/2025/IT\"\n      // }\n\n      // ⚠️ DŮLEŽITÉ: Toto číslo je POUZE pro ZOBRAZENÍ v UI!\n      // NIKDY se neposílá v CREATE/UPDATE - backend si číslo přidělí sám!\n      return data.data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', 'orders25/next-number', null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n// ===================================================================\n// 8. CHECK-NUMBER - Kontrola dostupnosti čísla objednávky\n// ===================================================================\n\n/**\n * Check if order number is available and optionally get suggestion\n */\nexport async function checkOrderNumber25({ token, username, cisloObjednavky, suggest = false }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  if (!cisloObjednavky) {\n    throw new Error('Chybí číslo objednávky k ověření.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username,\n      cislo_objednavky: cisloObjednavky,\n      suggest: suggest\n    };\n\n    logDebug('request', 'orders25/check-number', { ...payload, token: '***' });\n\n    const response = await api25orders.post('orders25/check-number', payload, { timeout: 5000 });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při kontrole čísla objednávky';\n      logDebug('error', 'orders25/check-number', null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.err) {\n      logDebug('error', 'orders25/check-number', null, data.err);\n      throw new Error(data.err);\n    }\n\n    if (data.status === 'ok' && data.data) {\n      logDebug('success', 'orders25/check-number', null, {\n        available: data.data.available,\n        suggestion: data.data.suggestion\n      });\n      return data.data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', 'orders25/check-number', null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n// ===================================================================\n// 9. PARTIAL-INSERT - Částečné vytvoření objednávky\n// ===================================================================\n\n/**\n * Create partial order - for multi-step workflow\n * Pro postupné vyplňování objednávky přes více kroků\n */\nexport async function createPartialOrder25({ token, username, orderData, autoAssignNumber = false }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username,\n      auto_assign_number: autoAssignNumber,\n      ...orderData\n    };\n\n    logDebug('request', 'orders25/partial-insert', { ...payload, token: '***' });\n\n    const response = await api25orders.post('orders25/partial-insert', payload, { timeout: 10000 });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při vytváření částečné objednávky';\n      logDebug('error', 'orders25/partial-insert', null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.err) {\n      logDebug('error', 'orders25/partial-insert', null, data.err);\n      throw new Error(data.err);\n    }\n\n    if (data.status === 'ok') {\n      logDebug('success', 'orders25/partial-insert', null, {\n        id: data.data?.id,\n        cislo_objednavky: data.data?.cislo_objednavky,\n        inserted_fields: data.data?.inserted_fields\n      });\n      return data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', 'orders25/partial-insert', null, error.message);\n\n    // Zkontrolovat HTTP 423 (zamčeno jiným uživatelem)\n    if (error.response?.status === 423 && error.response?.data?.lock_info) {\n      const lockInfo = error.response.data.lock_info;\n      const customError = new Error(error.response.data.err || 'Objednávka je zamčená jiným uživatelem');\n      customError.lock_info = lockInfo; // Přidat lock_info k erroru\n      throw customError;\n    }\n\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n// ===================================================================\n// 10. PARTIAL-UPDATE - Částečná aktualizace objednávky\n// ===================================================================\n\n/**\n * Partial update of existing order - only updates provided fields\n * Aktualizuje pouze poskytnuté parametry, ostatní hodnoty zůstávají beze změny\n */\nexport async function updatePartialOrder25({ token, username, orderId, orderData }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  if (!orderId) {\n    throw new Error('Chybí ID objednávky.');\n  }\n\n  if (!orderData) {\n    throw new Error('Chybí data objednávky.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username,\n      id: orderId,\n      ...orderData\n    };\n\n    logDebug('request', 'orders25/partial-update', { ...payload, token: '***' });\n\n    const response = await api25orders.post('orders25/partial-update', payload, { timeout: 10000 });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při částečné aktualizaci objednávky';\n      logDebug('error', 'orders25/partial-update', null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.err) {\n      logDebug('error', 'orders25/partial-update', null, data.err);\n      throw new Error(data.err);\n    }\n\n    if (data.status === 'ok') {\n      logDebug('success', 'orders25/partial-update', null, {\n        message: data.message,\n        updated_fields: data.updated_fields\n      });\n      return data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', 'orders25/partial-update', null, error.message);\n\n    // Zkontrolovat HTTP 423 (zamčeno jiným uživatelem)\n    if (error.response?.status === 423 && error.response?.data?.lock_info) {\n      const lockInfo = error.response.data.lock_info;\n      const customError = new Error(error.response.data.err || 'Objednávka je zamčená jiným uživatelem');\n      customError.lock_info = lockInfo; // Přidat lock_info k erroru\n      throw customError;\n    }\n\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n// ===================================================================\n/**\n * Získá seznam středisek z API\n * @param {Object} params - Parametry požadavku\n * @param {string} params.token - Autentizační token\n * @param {string} params.username - Uživatelské jméno\n * @returns {Promise<Array>} Seznam středisek s hierarchickou strukturou\n */\nexport const getStrediska25 = async ({ token, username, aktivni = 1 }) => {\n  try {\n    // Používáme správný endpoint pro číselníky\n    const requestData = {\n      token,\n      username,\n      typ_objektu: 'STREDISKA',\n      aktivni: aktivni  // ✅ Filtrovat pouze aktivní záznamy (1 = aktivní, 0 = neaktivní, null = všechny)\n    };\n\n    logDebug('request', 'states25/by-object-type', {\n      ...requestData,\n      token: token ? `${token.substring(0, 10)}...` : 'null' // Skrýt token v logu\n    });\n\n    // Volání API přímo na endpoint\n    const response = await api25orders.post('states25/by-object-type', requestData);\n    logDebug('success', 'states25/by-object-type', null, {\n      status: response.status,\n      statusText: response.statusText,\n      data: response.data,\n      headers: response.headers\n    });\n\n    // Zpracování odpovědi - vytvoření hierarchické struktury\n    const rawData = response.data?.data || [];\n\n    logDebug('info', 'states25/by-object-type', null, {\n      rawDataSample: rawData.slice(0, 3),\n      totalCount: rawData.length,\n      fields: rawData[0] ? Object.keys(rawData[0]) : []\n    });\n\n    // Vytvoření mapy pro rychlé vyhledávání\n    const itemMap = new Map();\n    rawData.forEach(item => {\n      itemMap.set(item.kod_stavu, item);\n    });\n\n    // Rozdělení na root elementy a potomky podle nadrazeny_kod_stavu\n    const rootElements = rawData.filter(item =>\n      !item.nadrazeny_kod_stavu ||\n      item.nadrazeny_kod_stavu.trim() === '' ||\n      item.nadrazeny_kod_stavu === null ||\n      item.nadrazeny_kod_stavu === undefined\n    );\n\n    const childElements = rawData.filter(item =>\n      item.nadrazeny_kod_stavu &&\n      item.nadrazeny_kod_stavu.trim() !== '' &&\n      item.nadrazeny_kod_stavu !== null &&\n      item.nadrazeny_kod_stavu !== undefined\n    );\n\n    logDebug('info', 'states25/by-object-type', null, {\n      rootCount: rootElements.length,\n      childCount: childElements.length,\n      rootSample: rootElements.slice(0, 2),\n      childSample: childElements.slice(0, 2)\n    });\n\n    // Vytvoření hierarchické struktury\n    const hierarchicalData = [];\n\n    // Řazení root elementů podle názvu\n    rootElements.sort((a, b) => (a.nazev_stavu || '').localeCompare(b.nazev_stavu || '', 'cs'));\n\n    // Přidání root elementů a jejich potomků\n    rootElements.forEach(root => {\n      // Přidat root element (okres) - také vybíratelný\n      hierarchicalData.push({\n        value: root.kod_stavu,\n        label: root.nazev_stavu,\n        level: 0,\n        isParent: true,\n        raw: root\n      });\n\n      // Najít potomky tohoto root elementu podle nadrazeny_kod_stavu\n      const children = childElements.filter(child => {\n        // Párování podle kod_stavu rodiče = nadrazeny_kod_stavu potomka\n        return child.nadrazeny_kod_stavu === root.kod_stavu;\n      });\n\n      // Řazení potomků podle názvu\n      children.sort((a, b) => (a.nazev_stavu || '').localeCompare(b.nazev_stavu || '', 'cs'));\n\n      // Přidat potomky s odsazením (stanoviště)\n      children.forEach(child => {\n        hierarchicalData.push({\n          value: child.kod_stavu,\n          label: `${child.nazev_stavu}`, // Bez prefix odsazení - CSS to vyřeší\n          level: 1,\n          isParent: false,\n          parentCode: root.kod_stavu,\n          raw: child\n        });\n      });\n    });\n\n    // Přidat osiřelé potomky (pokud nějaké zbudou)\n    const processedChildCodes = new Set();\n    hierarchicalData.forEach(item => {\n      if (item.level === 1) {\n        processedChildCodes.add(item.raw.kod_stavu);\n      }\n    });\n\n    const orphanChildren = childElements.filter(child =>\n      !processedChildCodes.has(child.kod_stavu)\n    );\n\n    if (orphanChildren.length > 0) {\n      logDebug('warning', 'states25/by-object-type', null, {\n        orphanChildren: orphanChildren.map(c => ({\n          kod: c.kod_stavu,\n          nazev: c.nazev_stavu,\n          nadrazeny: c.nadrazeny_kod_stavu\n        }))\n      });\n\n      // Přidat osiřelé potomky na konec\n      orphanChildren.forEach(orphan => {\n        hierarchicalData.push({\n          value: orphan.kod_stavu,\n          label: `⚠️ ${orphan.nazev_stavu} (nadřazený: ${orphan.nadrazeny_kod_stavu})`,\n          level: 1,\n          isParent: false,\n          isOrphan: true,\n          raw: orphan\n        });\n      });\n    }\n\n    logDebug('info', 'states25/by-object-type', 'Finální hierarchie', {\n      totalItems: hierarchicalData.length\n    });\n\n    return hierarchicalData;\n\n  } catch (error) {\n    const normalizedError = normalizeApi25OrdersError(error);\n\n    logDebug('error', 'states25/by-object-type', null, {\n      error: normalizedError.message,\n      status: error.response?.status || 'NETWORK_ERROR',\n      statusText: error.response?.statusText || 'Connection failed',\n      response_data: error.response?.data || null,\n      request_url: error.config?.url || 'Unknown URL',\n      request_method: error.config?.method?.toUpperCase() || 'POST',\n      request_headers: error.config?.headers || {},\n      original_error: error.message\n    });\n\n    throw normalizedError;\n  }\n};\n\n/**\n * Získání seznamu druhů objednávky ze systému STATES25\n * @param {Object} params - Parametry požadavku\n * @param {string} params.token - Autentizační token\n * @param {string} params.username - Uživatelské jméno\n * @returns {Promise<Array>} Seznam druhů objednávky\n */\nexport const getDruhyObjednavky25 = async ({ token, username, aktivni = 1 }) => {\n  try {\n    const requestData = {\n      token,\n      username,\n      typ_objektu: 'DRUH_OBJEDNAVKY',\n      aktivni: aktivni  // ✅ Filtrovat pouze aktivní záznamy\n    };\n\n    logDebug('request', 'states25/by-object-type', {\n      ...requestData,\n      token: token ? `${token.substring(0, 10)}...` : 'null'\n    });\n\n    const response = await api25orders.post('states25/by-object-type', requestData);\n    logDebug('success', 'states25/by-object-type', null, {\n      status: response.status,\n      statusText: response.statusText,\n      data: response.data,\n      headers: response.headers\n    });\n\n    const rawData = response.data?.data || [];\n\n    // ⚠️ OPRAVA: Mapování pro konzistenci s ostatními selecty - používat kod_stavu a nazev_stavu\n    const druhyObjednavky = rawData.map(item => ({\n      id: item.kod_stavu,\n      kod: item.kod_stavu,\n      kod_stavu: item.kod_stavu,  // Standardní pojmenování\n      nazev: item.nazev_stavu,\n      nazev_stavu: item.nazev_stavu, // Standardní pojmenování\n      value: item.kod_stavu,  // Legacy podpora\n      label: item.nazev_stavu,  // Legacy podpora\n      atribut_objektu: item.atribut_objektu  // ✅ DŮLEŽITÉ: Zachovat atribut_objektu pro určení majetku\n    }));\n\n    logDebug('info', 'states25/by-object-type', null, {\n      processedCount: druhyObjednavky.length,\n      sample: druhyObjednavky.slice(0, 3)\n    });\n\n    // ⚠️ OPRAVA: Vrátit přímo pole jako getFinancovaniZdroj25 pro konzistenci\n    return druhyObjednavky;\n\n  } catch (error) {\n    logDebug('error', 'states25/by-object-type', null, {\n      message: error.message,\n      status: error.response?.status,\n      statusText: error.response?.statusText,\n      data: error.response?.data\n    });\n\n    throw error;\n  }\n};\n\n/**\n * Získání seznamu zdrojů financování ze systému STATES25\n * @param {Object} params - Parametry požadavku\n * @param {string} params.token - Autentizační token\n * @param {string} params.username - Uživatelské jméno\n * @returns {Promise<Array>} Seznam zdrojů financování\n */\nexport const getFinancovaniZdroj25 = async ({ token, username, aktivni = 1 }) => {\n  try {\n    // Podle API dokumentace - pouze tyto 3 parametry + aktivni pro filtrování\n    const requestData = {\n      token,\n      username,\n      typ_objektu: 'FINANCOVANI_ZDROJ',\n      aktivni: aktivni  // ✅ Filtrovat pouze aktivní záznamy\n    };\n\n    logDebug('request', 'states25/by-object-type', {\n      ...requestData,\n      token: token ? `${token.substring(0, 10)}...` : 'null' // Skrýt token v logu\n    });\n\n    // Volání API bez endpoint wrapperu - přímé volání endpointu\n    const response = await api25orders.post('states25/by-object-type', requestData);\n    logDebug('success', 'states25/by-object-type', null, {\n      status: response.status,\n      statusText: response.statusText,\n      data: response.data,\n      headers: response.headers\n    });\n\n    // Zpracování odpovědi - jednoduchý seznam bez hierarchie\n    const rawData = response.data?.data || [];\n\n    logDebug('info', 'states25/by-object-type', null, {\n      rawDataSample: rawData.slice(0, 3),\n      totalCount: rawData.length,\n      fields: rawData[0] ? Object.keys(rawData[0]) : []\n    });\n\n    // Transformace dat na formát pro select komponentu\n    const financovaniOptions = rawData\n      .filter(item => item.kod_stavu && item.nazev_stavu) // Pouze platné záznamy\n      .sort((a, b) => (a.nazev_stavu || '').localeCompare(b.nazev_stavu || '', 'cs')) // Řazení podle názvu\n      .map(item => ({\n        id: item.kod_stavu,\n        kod: item.kod_stavu,\n        kod_stavu: item.kod_stavu, // ⚠️ OPRAVA: Přidat kod_stavu pro konzistenci\n        nazev: item.nazev_stavu,\n        nazev_stavu: item.nazev_stavu, // ⚠️ OPRAVA: Přidat nazev_stavu pro konzistenci\n        label: item.nazev_stavu, // Pro zobrazení v select komponentě\n        raw: item // Původní data pro případné další použití\n      }));\n\n    logDebug('info', 'states25/by-object-type', null, {\n      transformedCount: financovaniOptions.length,\n      transformedSample: financovaniOptions.slice(0, 3)\n    });\n\n    return financovaniOptions;\n\n  } catch (error) {\n    const normalizedError = normalizeApi25OrdersError(error);\n\n    logDebug('error', 'states25/by-object-type', null, {\n      error: normalizedError.message,\n      status: error.response?.status || 'NETWORK_ERROR',\n      statusText: error.response?.statusText || 'Connection failed',\n      response_data: error.response?.data || null,\n      request_url: error.config?.url || 'Unknown URL',\n      request_method: error.config?.method?.toUpperCase() || 'POST',\n      request_headers: error.config?.headers || {},\n      original_error: error.message\n    });\n\n    throw normalizedError;\n  }\n};\n\n// ===================================================================\n// GUID GENERATION UTILITIES\n// ===================================================================\n\n/**\n * Generátor GUID pro přílohy (RFC 4122 compliant UUID v4)\n * @returns {string} GUID ve formátu xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\n */\nexport function generateAttachmentGUID25() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    const r = Math.random() * 16 | 0;\n    const v = c === 'x' ? r : ((r & 0x3) | 0x8);\n    return v.toString(16);\n  });\n}\n\n/**\n * Vytvoří systémový název souboru ve formátu YYYY-MM-DD_GUID\n * @param {string} [guid] - Volitelný GUID, pokud není zadán, vygeneruje se nový\n * @returns {string} Systémový název ve formátu 2025-10-10_E3A4B2C1-D5F6-4E7A-8B9C-1D2E3F4A5B6C\n */\nexport function generateSystemovyNazev25(guid = null) {\n  const datePart = new Date().toISOString().slice(0, 10); // YYYY-MM-DD\n  const fullGuid = guid || generateAttachmentGUID25();\n  return `${datePart}_${fullGuid}`;\n}\n\n/**\n * Vytvoří metadata pro nový attachment před uploadem\n * @param {File} file - Soubor k nahrání\n * @returns {Object} Metadata attachment\n */\nexport function createAttachmentMetadata25(file) {\n  const fullGuid = generateAttachmentGUID25();\n  const systemovyNazev = generateSystemovyNazev25(fullGuid);\n  const ext = file.name.includes('.') ? file.name.substring(file.name.lastIndexOf('.')) : '';\n  const displayName = `${systemovyNazev}${ext}`;\n\n  const metadata = {\n    id: `${Date.now()}_${Math.random().toString(36).slice(2)}`, // Frontend ID\n    guid: fullGuid,\n    originalName: file.name,\n    generatedName: displayName,\n    systemovy_nazev: systemovyNazev,\n    file,\n    createdAt: new Date().toISOString()\n  };\n\n  // Debug log VYPNUT - zabírá výkon\n  // logDebug('info', 'attachment/metadata', null, {\n  //   original_filename: file.name,\n  //   generated_guid: fullGuid,\n  //   systemovy_nazev: systemovyNazev,\n  //   display_name: displayName,\n  //   file_size: file.size,\n  //   file_type: file.type\n  // });\n\n  return metadata;\n}\n\n/**\n * Získání číselníku typů příloh z Orders25 API\n * @param {Object} params - Parametry požadavku\n * @param {string} params.token - Autentizační token\n * @param {string} params.username - Uživatelské jméno\n * @returns {Promise<Array>} Seznam typů příloh\n */\nexport const getTypyPriloh25 = async ({ token, username, aktivni = 1 }) => {\n  try {\n    const requestData = {\n      token,\n      username,\n      typ_objektu: 'PRILOHA_TYP',\n      aktivni: aktivni  // ✅ Filtrovat pouze aktivní typy příloh\n    };\n\n    logDebug('request', 'states25/by-object-type', {\n      ...requestData,\n      token: token ? `${token.substring(0, 10)}...` : 'null'\n    });\n\n    const response = await api25orders.post('states25/by-object-type', requestData);\n\n    // Zpracování odpovědi\n    const rawData = response.data?.data || [];\n\n    // Transformace dat na formát pro select komponentu\n    const typyPrilohOptions = rawData\n      .filter(item => item.kod_stavu && item.nazev_stavu) // Pouze platné záznamy\n      .sort((a, b) => (a.nazev_stavu || '').localeCompare(b.nazev_stavu || '', 'cs')) // Řazení podle názvu\n      .map(item => ({\n        value: item.kod_stavu,\n        label: item.nazev_stavu,\n        kod: item.kod_stavu,\n        nazev: item.nazev_stavu\n      }));\n\n    logDebug('success', 'states25/by-object-type PRILOHA_TYP', null, {\n      loaded_count: typyPrilohOptions.length,\n      sample: typyPrilohOptions.slice(0, 3)\n    });\n\n    return typyPrilohOptions;\n\n  } catch (error) {\n    logDebug('error', 'states25/by-object-type PRILOHA_TYP', null, error.message);\n    throw new Error(`Chyba při načítání typů příloh: ${error.message}`);\n  }\n};\n\n// 📎 Načtení typů FAKTUR z databáze (FAKTURA_TYP klasifikace)\nexport const getTypyFaktur25 = async ({ token, username, aktivni = 1 }) => {\n  try {\n    const requestData = {\n      token,\n      username,\n      typ_objektu: 'FAKTURA_TYP',\n      aktivni: aktivni  // ✅ Filtrovat pouze aktivní typy faktur\n    };\n\n    logDebug('request', 'states25/by-object-type', {\n      ...requestData,\n      token: token ? `${token.substring(0, 10)}...` : 'null'\n    });\n\n    const response = await api25orders.post('states25/by-object-type', requestData);\n\n    // Zpracování odpovědi\n    const rawData = response.data?.data || [];\n\n    // Transformace dat na formát pro select komponentu\n    const typyFakturOptions = rawData\n      .filter(item => item.kod_stavu && item.nazev_stavu) // Pouze platné záznamy\n      .sort((a, b) => (a.nazev_stavu || '').localeCompare(b.nazev_stavu || '', 'cs')) // Řazení podle názvu\n      .map(item => ({\n        value: item.kod_stavu,\n        label: item.nazev_stavu,\n        kod: item.kod_stavu,\n        nazev: item.nazev_stavu\n      }));\n\n    logDebug('success', 'states25/by-object-type FAKTURA_TYP', null, {\n      loaded_count: typyFakturOptions.length,\n      sample: typyFakturOptions.slice(0, 3)\n    });\n\n    return typyFakturOptions;\n\n  } catch (error) {\n    logDebug('error', 'states25/by-object-type FAKTURA_TYP', null, error.message);\n    throw new Error(`Chyba při načítání typů faktur: ${error.message}`);\n  }\n};\n\n// 🔄 Načtení stavů WORKFLOW z databáze (OBJEDNAVKA workflow stavy)\nexport const getStavyWorkflow25 = async ({ token, username }) => {\n  try {\n    const requestData = {\n      token,\n      username,\n      typ_objektu: 'OBJEDNAVKA'\n    };\n\n    logDebug('request', 'states25/by-object-type', {\n      ...requestData,\n      token: token ? `${token.substring(0, 10)}...` : 'null'\n    });\n\n    const response = await api25orders.post('states25/by-object-type', requestData);\n\n    // Zpracování odpovědi\n    const rawData = response.data?.data || [];\n\n    // Transformace dat na formát pro lookup podle workflow kódu\n    const stavyWorkflowMap = {};\n    rawData\n      .filter(item => item.kod_stavu && item.nazev_stavu) // Pouze platné záznamy\n      .forEach(item => {\n        stavyWorkflowMap[item.kod_stavu] = {\n          kod: item.kod_stavu,\n          nazev: item.nazev_stavu,\n          popis: item.popis_stavu || '',\n          // Zachovat i raw data pro případné další použití\n          raw: item\n        };\n      });\n\n    logDebug('success', 'states25/by-object-type OBJEDNAVKA', null, {\n      loaded_count: Object.keys(stavyWorkflowMap).length,\n      sample: Object.keys(stavyWorkflowMap).slice(0, 3)\n    });\n\n    return stavyWorkflowMap;\n\n  } catch (error) {\n    logDebug('error', 'states25/by-object-type OBJEDNAVKA', null, error.message);\n    throw new Error(`Chyba při načítání workflow stavů: ${error.message}`);\n  }\n};\n\n// ===================================================================\n// ORDER V2 ATTACHMENTS API - Správa příloh pro objednávky\n// Dokumentace: ORDER-V2-ATTACHMENTS-API.md\n// ===================================================================\n\n/**\n * Upload přílohy pro Order V2\n * @param {Object} params - Parametry uploadu\n * @param {string} params.token - Autentizační token\n * @param {string} params.username - Uživatelské jméno\n * @param {number|string} params.objednavka_id - ID objednávky\n * @param {File} params.file - Soubor k nahrání\n * @param {string} [params.description] - Popis přílohy (volitelný)\n * @returns {Promise<Object>} Response s detaily nahrané přílohy\n */\nexport async function uploadAttachment25({ token, username, objednavka_id, file, description }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  if (!objednavka_id) {\n    throw new Error('Chybí ID objednávky.');\n  }\n\n  if (!file || !(file instanceof File)) {\n    throw new Error('Chybí soubor k nahrání.');\n  }\n\n  try {\n    const formData = new FormData();\n    formData.append('token', token);\n    formData.append('username', username);\n    formData.append('file', file);\n\n    if (description) {\n      formData.append('description', description);\n    }\n\n    logDebug('request', `order-v2/${objednavka_id}/attachments/upload`, {\n      objednavka_id,\n      filename: file.name,\n      size: file.size,\n      type: file.type,\n      description: description || ''\n    });\n\n    const response = await api25orders.post(`order-v2/${objednavka_id}/attachments/upload`, formData, {\n      timeout: 60000, // 60s pro velké soubory\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při uploadu přílohy';\n      logDebug('error', `order-v2/${objednavka_id}/attachments/upload`, null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.status === 'error') {\n      logDebug('error', `order-v2/${objednavka_id}/attachments/upload`, null, data.message);\n      throw new Error(data.message || 'Chyba při nahrávání přílohy');\n    }\n\n    if (data.status === 'success') {\n      logDebug('success', `order-v2/${objednavka_id}/attachments/upload`, null, {\n        attachment_id: data.data?.attachment_id,\n        original_filename: data.data?.original_filename,\n        file_size: data.data?.file_size\n      });\n      return data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', `order-v2/${objednavka_id}/attachments/upload`, null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n/**\n * Seznam příloh pro objednávku Order V2\n * @param {Object} params - Parametry požadavku\n * @param {string} params.token - Autentizační token\n * @param {string} params.username - Uživatelské jméno\n * @param {number|string} params.objednavka_id - ID objednávky\n * @returns {Promise<Object>} Response se seznamem příloh\n */\nexport async function listAttachments25({ token, username, objednavka_id }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  if (!objednavka_id) {\n    throw new Error('Chybí ID objednávky.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username\n    };\n\n    logDebug('request', `order-v2/${objednavka_id}/attachments`, { ...payload, token: '***' });\n\n    const response = await api25orders.post(`order-v2/${objednavka_id}/attachments`, payload, {\n      timeout: 10000\n    });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při načítání příloh';\n      logDebug('error', `order-v2/${objednavka_id}/attachments`, null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.status === 'error') {\n      logDebug('error', `order-v2/${objednavka_id}/attachments`, null, data.message);\n      throw new Error(data.message || 'Chyba při načítání příloh');\n    }\n\n    if (data.status === 'success') {\n      logDebug('success', `order-v2/${objednavka_id}/attachments`, null, {\n        count: data.count || 0\n      });\n      return data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', `order-v2/${objednavka_id}/attachments`, null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n/**\n * Download přílohy Order V2\n * @param {Object} params - Parametry požadavku\n * @param {string} params.token - Autentizační token\n * @param {string} params.username - Uživatelské jméno\n * @param {number|string} params.objednavka_id - ID objednávky\n * @param {number|string} params.attachment_id - ID přílohy\n * @returns {Promise<Blob>} Binární data souboru\n */\nexport async function downloadAttachment25({ token, username, objednavka_id, attachment_id }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  if (!objednavka_id) {\n    throw new Error('Chybí ID objednávky.');\n  }\n\n  if (!attachment_id) {\n    throw new Error('Chybí ID přílohy.');\n  }\n\n  try {\n    logDebug('request', `order-v2/${objednavka_id}/attachments/${attachment_id}/download`, { token: '***', username });\n\n    const payload = {\n      token,\n      username\n    };\n\n    // ✅ V2 API: POST s token + username v BODY (jako u faktur)\n    const response = await api25orders.post(\n      `order-v2/${objednavka_id}/attachments/${attachment_id}/download`,\n      payload,\n      {\n        timeout: 30000,\n        responseType: 'blob'\n      }\n    );\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při stahování přílohy';\n      logDebug('error', `order-v2/${objednavka_id}/attachments/${attachment_id}`, null, error);\n      throw new Error(error);\n    }\n\n    logDebug('success', `order-v2/${objednavka_id}/attachments/${attachment_id}`, null, {\n      blob_size: response.data.size,\n      content_type: response.headers['content-type']\n    });\n\n    return response.data;\n\n  } catch (error) {\n    // Blob error response - parsuj JSON a extrahuj message\n    if (error.response?.data instanceof Blob) {\n      const text = await error.response.data.text();\n      \n      let errorMessage = text;\n      try {\n        const data = JSON.parse(text);\n        errorMessage = data.message || data.error || data.err || text;\n      } catch (parseError) {\n        // Pokud JSON parse selže, použij raw text\n      }\n      \n      logDebug('error', `order-v2/${objednavka_id}/attachments/${attachment_id}`, null, errorMessage);\n      throw new Error(errorMessage || 'Nepodařilo se stáhnout přílohu');\n    }\n    \n    logDebug('error', `order-v2/${objednavka_id}/attachments/${attachment_id}`, null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n/**\n * Smazání přílohy Order V2\n * @param {Object} params - Parametry požadavku\n * @param {string} params.token - Autentizační token\n * @param {string} params.username - Uživatelské jméno\n * @param {number|string} params.objednavka_id - ID objednávky\n * @param {number|string} params.attachment_id - ID přílohy\n * @returns {Promise<Object>} Response s výsledkem smazání\n */\nexport async function deleteAttachment25({ token, username, objednavka_id, attachment_id }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  if (!objednavka_id) {\n    throw new Error('Chybí ID objednávky.');\n  }\n\n  if (!attachment_id) {\n    throw new Error('Chybí ID přílohy.');\n  }\n\n  try {\n    const data = {\n      token,\n      username\n    };\n\n    logDebug('request', `order-v2/${objednavka_id}/attachments/${attachment_id}`, { ...data, token: '***' });\n\n    const response = await api25orders.delete(`order-v2/${objednavka_id}/attachments/${attachment_id}`, {\n      data,\n      timeout: 15000\n    });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při mazání přílohy';\n      logDebug('error', `order-v2/${objednavka_id}/attachments/${attachment_id}`, null, error);\n      throw new Error(error);\n    }\n\n    const responseData = response.data;\n\n    if (responseData.status === 'error') {\n      logDebug('error', `order-v2/${objednavka_id}/attachments/${attachment_id}`, null, responseData.message);\n      throw new Error(responseData.message || 'Chyba při mazání přílohy');\n    }\n\n    if (responseData.status === 'success') {\n      logDebug('success', `order-v2/${objednavka_id}/attachments/${attachment_id}`, null, {\n        deleted_attachment_id: responseData.data?.deleted_attachment_id,\n        original_filename: responseData.data?.original_filename\n      });\n      return responseData;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', `order-v2/${objednavka_id}/attachments/${attachment_id}`, null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n/**\n * Aktualizace metadat přílohy Order V2\n * @param {Object} params - Parametry požadavku\n * @param {string} params.token - Autentizační token\n * @param {string} params.username - Uživatelské jméno\n * @param {number|string} params.objednavka_id - ID objednávky\n * @param {number|string} params.attachment_id - ID přílohy\n * @param {string} [params.typ_prilohy] - Nový typ přílohy (klasifikace)\n * @param {string} [params.description] - Nový popis přílohy\n * @param {string} [params.original_filename] - Nový název souboru\n * @returns {Promise<Object>} Response s výsledkem aktualizace\n */\nexport async function updateAttachment25({ token, username, objednavka_id, attachment_id, typ_prilohy, description, original_filename }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  if (!objednavka_id) {\n    throw new Error('Chybí ID objednávky.');\n  }\n\n  if (!attachment_id) {\n    throw new Error('Chybí ID přílohy.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username\n    };\n\n    if (typ_prilohy !== undefined) {\n      payload.type = typ_prilohy; // Backend očekává 'type', ne 'typ_prilohy'\n    }\n\n    if (description !== undefined) {\n      payload.description = description;\n    }\n\n    if (original_filename !== undefined) {\n      payload.original_name = original_filename; // Backend očekává 'original_name'\n    }\n\n    logDebug('request', `order-v2/${objednavka_id}/attachments/${attachment_id}`, { ...payload, token: '***' });\n\n    const response = await api25orders.put(`order-v2/${objednavka_id}/attachments/${attachment_id}`, payload, {\n      timeout: 10000\n    });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při aktualizaci přílohy';\n      logDebug('error', `order-v2/${objednavka_id}/attachments/${attachment_id}`, null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.status === 'error') {\n      logDebug('error', `order-v2/${objednavka_id}/attachments/${attachment_id}`, null, data.message);\n      throw new Error(data.message || 'Chyba při aktualizaci přílohy');\n    }\n\n    // ✅ Backend může vracet 'ok' nebo 'success'\n    if (data.status === 'success' || data.status === 'ok') {\n      logDebug('success', `order-v2/${objednavka_id}/attachments/${attachment_id}`, null, {\n        attachment_id: data.data?.attachment_id,\n        original_name: data.data?.original_name,\n        type: data.data?.type,\n        description: data.data?.description\n      });\n      return data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', `order-v2/${objednavka_id}/attachments/${attachment_id}`, null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n/**\n * Ověření integrity příloh Order V2\n * @param {Object} params - Parametry požadavku\n * @param {string} params.token - Autentizační token\n * @param {string} params.username - Uživatelské jméno\n * @param {number|string} params.objednavka_id - ID objednávky\n * @returns {Promise<Object>} Response s výsledky ověření\n */\nexport async function verifyAttachments25({ token, username, objednavka_id }) {\n  if (!token || !username) {\n    throw new Error('Chybí přístupový token nebo uživatelské jméno. Přihlaste se prosím znovu.');\n  }\n\n  if (!objednavka_id) {\n    throw new Error('Chybí ID objednávky.');\n  }\n\n  try {\n    const payload = {\n      token,\n      username\n    };\n\n    logDebug('request', `order-v2/${objednavka_id}/attachments/verify`, { ...payload, token: '***' });\n\n    const response = await api25orders.post(`order-v2/${objednavka_id}/attachments/verify`, payload, {\n      timeout: 15000\n    });\n\n    if (response.status !== 200) {\n      const error = 'Neočekávaný kód odpovědi při ověřování příloh';\n      logDebug('error', `order-v2/${objednavka_id}/attachments/verify`, null, error);\n      throw new Error(error);\n    }\n\n    const data = response.data;\n\n    if (data.status === 'error') {\n      logDebug('error', `order-v2/${objednavka_id}/attachments/verify`, null, data.message);\n      throw new Error(data.message || 'Chyba při ověřování příloh');\n    }\n\n    if (data.status === 'success') {\n      logDebug('success', `order-v2/${objednavka_id}/attachments/verify`, null, {\n        total_attachments: data.data?.total_attachments,\n        valid_attachments: data.data?.valid_attachments,\n        invalid_attachments: data.data?.invalid_attachments\n      });\n      return data;\n    }\n\n    throw new Error('Neočekávaná struktura odpovědi ze serveru');\n\n  } catch (error) {\n    logDebug('error', `order-v2/${objednavka_id}/attachments/verify`, null, error.message);\n    throw new Error(normalizeApi25OrdersError(error));\n  }\n}\n\n/**\n * Zjistí, zda je soubor zobrazitelný v prohlížeči\n * @param {string} filename - Název souboru\n * @returns {boolean} True pokud lze zobrazit v prohlížeči\n */\nexport function isPreviewableInBrowser(filename) {\n  if (!filename) return false;\n  \n  const ext = filename.toLowerCase().split('.').pop();\n  const previewableExtensions = [\n    // PDF\n    'pdf',\n    // Obrázky\n    'jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg',\n    // Textové soubory\n    'txt', 'xml', 'json'\n  ];\n  \n  return previewableExtensions.includes(ext);\n}\n\n/**\n * Stáhne soubor přímo bez otevírání dialogu\n * @param {Blob} blob - Blob data souboru\n * @param {string} filename - Název souboru\n * @returns {boolean} True pokud se podařilo stáhnout\n */\nexport function openInBrowser25(blob, filename) {\n  try {\n    // Místo window.open používáme přímé stažení\n    const url = window.URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = filename || 'soubor';\n    link.style.display = 'none';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    \n    // Uvolnění URL po krátké pauze\n    setTimeout(() => {\n      window.URL.revokeObjectURL(url);\n    }, 100);\n    \n    return true;\n  } catch (error) {\n    console.error('Chyba při stahování souboru:', error);\n    return false;\n  }\n}\n\n/**\n * Utility funkce pro vytvoření download linku z blob dat\n * @param {Blob} blob - Blob data souboru\n * @param {string} filename - Název souboru pro stažení\n */\nexport function createDownloadLink25(blob, filename) {\n  try {\n    const url = window.URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = filename || 'priloha';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    window.URL.revokeObjectURL(url);\n  } catch (error) {\n    throw new Error('Nepodařilo se vytvořit odkaz pro stažení souboru');\n  }\n}\n\n/**\n * Utility funkce pro validaci typu souboru\n * Podporované formáty podle Order V2 API dokumentace\n * @param {string} filename - Název souboru\n * @returns {boolean} True pokud je typ povolený\n */\nexport function isAllowedFileType25(filename) {\n  if (!filename) return false;\n\n  const allowedExtensions = [\n    // Dokumenty\n    '.pdf', '.doc', '.docx', '.xls', '.xlsx', '.txt', '.rtf',\n    // Obrázky\n    '.jpg', '.jpeg', '.png', '.gif', '.bmp', '.tiff',\n    // Archivy\n    '.zip', '.rar', '.7z',\n    // Ostatní\n    '.xml', '.csv', '.json'\n  ];\n\n  const ext = filename.toLowerCase().substring(filename.lastIndexOf('.'));\n  return allowedExtensions.includes(ext);\n}\n\n/**\n * Utility funkce pro validaci velikosti souboru\n * @param {number} fileSize - Velikost souboru v bytech\n * @param {number} maxSizeMB - Maximální velikost v MB (default 10MB podle Order V2 API)\n * @returns {boolean} True pokud je velikost přijatelná\n */\nexport function isAllowedFileSize25(fileSize, maxSizeMB = 10) {\n  if (!fileSize) return false;\n  const maxSizeBytes = maxSizeMB * 1024 * 1024;\n  return fileSize <= maxSizeBytes;\n}\n\n/**\n * Utility funkce pro formátování velikosti souboru\n * @param {number} bytes - Velikost v bytech\n * @returns {string} Formátovaná velikost (např. \"1.5 MB\")\n */\nexport function formatFileSize25(bytes) {\n  if (!bytes || bytes === 0) return '0 B';\n  const k = 1024;\n  const sizes = ['B', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return `${(bytes / Math.pow(k, i)).toFixed(2)} ${sizes[i]}`;\n}\n\n// EXPORT SUMMARY - Přehled exportovaných funkcí\n// ===================================================================\n\n/**\n * Exportované funkce pro ORDERS25 API:\n *\n * SETUP:\n * - setDebugLogger(loggerFn) - Nastavení debug loggeru\n * - normalizeApi25OrdersError(err) - Normalizace chyb\n * - getUserErrorMessage25Orders(err) - Uživatelsky přívětivé chybové zprávy\n *\n * CRUD operace:\n * - getOrdersList25({ token, username, filters }) - Seznam objednávek (s enriched data)\n * - getOrder25({ token, username, orderId }) - Detail objednávky\n * - getOrdersByUser25({ token, username, userId, rok }) - Objednávky podle oprávnění (bez userId = všechny, s userId = filtrované)\n * - createOrder25({ token, username, orderData }) - Vytvoření objednávky (plné)\n * - updateOrder25({ token, username, orderId, orderData }) - Aktualizace objednávky (plná)\n * - deleteOrder25({ token, username, orderId }) - Smazání objednávky (soft delete - backward compatibility)\n * - softDeleteOrder25({ token, username, orderId }) - Označí jako neaktivní (doporučené)\n * - hardDeleteOrder25({ token, username, orderId }) - Úplné smazání (POZOR: nevratné!)\n * - unlockOrder25({ token, username, orderId }) - Odemkne objednávku po zrušení editace\n *\n * Speciální operace:\n * - getNextOrderNumber25({ token, username }) - Nové číslo objednávky\n * - checkOrderNumber25({ token, username, cisloObjednavky, suggest }) - Kontrola čísla\n * - createPartialOrder25({ token, username, orderData, autoAssignNumber }) - Částečné vytvoření\n * - updatePartialOrder25({ token, username, orderId, orderData }) - Částečná aktualizace\n *\n * Číselníky:\n * - getStrediska25({ token, username }) - Seznam středisek s hierarchií\n * - getFinancovaniZdroj25({ token, username }) - Seznam zdrojů financování\n * - getDruhyObjednavky25({ token, username }) - Seznam druhů objednávky\n * - getTypyPriloh25({ token, username }) - Seznam typů příloh (PRILOHA_TYP)\n *\n * ATTACHMENTS (Order V2):\n * - uploadAttachment25({ token, username, objednavka_id, file, description }) - Upload přílohy\n * - listAttachments25({ token, username, objednavka_id }) - Seznam příloh\n * - downloadAttachment25({ token, username, objednavka_id, attachment_id }) - Download přílohy\n * - deleteAttachment25({ token, username, objednavka_id, attachment_id }) - Smazání přílohy\n * - updateAttachment25({ token, username, objednavka_id, attachment_id, description, original_filename }) - Aktualizace metadat\n * - verifyAttachments25({ token, username, objednavka_id }) - Ověření integrity\n * - createDownloadLink25(blob, filename) - Utility pro download\n * - isAllowedFileType25(filename) - Validace typu souboru\n * - isAllowedFileSize25(fileSize, maxSizeMB) - Validace velikosti\n * - formatFileSize25(bytes) - Formátování velikosti souboru\n *\n * IMPORT STARÝCH OBJEDNÁVEK:\n * - importOldOrders25({ token, username, oldOrderIds, tabulkaObj, tabulkaOpriloh }) - Import ze staré DB\n *\n * Všechny funkce logují do debug okénka pomocí logDebug()\n */\n\n/**\n * Import starých objednávek ze DEMO databáze do nového systému orders25\n *\n * Endpoint: POST /orders25/import-oldies\n * Backend dokumentace: docs/import/IMPORT_OLDIES_API_DOCUMENTATION.md\n *\n * @param {Object} params\n * @param {string} params.token - Autorizační token\n * @param {string} params.username - Uživatelské jméno\n * @param {number} params.userId - ID uživatele (z AuthContext user.id)\n * @param {number[]} params.oldOrderIds - Pole ID starých objednávek k importu\n * @param {string} [params.tabulkaObj='DEMO_objednavky_2025'] - Název tabulky se starými objednávkami\n * @param {string} [params.tabulkaOpriloh='DEMO_pripojene_odokumenty'] - Název tabulky se starými přílohami\n * @param {string} [params.database] - Volitelný název databáze\n * @returns {Promise<Object>} Response s detaily importu\n *\n * Response struktura:\n * {\n *   success: boolean,\n *   imported_count: number,\n *   failed_count: number,\n *   results: [\n *     {\n *       old_id: number,\n *       new_id: number | null,\n *       cislo_objednavky: string,\n *       polozky_count: number,\n *       prilohy_count: number,\n *       status: 'OK' | 'ERROR',\n *       error: string | null\n *     }\n *   ]\n * }\n */\nexport async function importOldOrders25({\n  token,\n  username,\n  userId,\n  oldOrderIds,\n  tabulkaObj = 'DEMO_objednavky_2025',\n  tabulkaOpriloh = 'DEMO_pripojene_odokumenty',\n  database = null\n}) {\n  // Validace vstupních parametrů\n  if (!oldOrderIds || !Array.isArray(oldOrderIds) || oldOrderIds.length === 0) {\n    throw new Error('Parametr oldOrderIds musí být neprázdné pole čísel');\n  }\n\n  if (!token || !username) {\n    throw new Error('Token a username jsou povinné parametry');\n  }\n\n  if (!userId) {\n    throw new Error('Chybí ID uživatele (userId parameter)');\n  }\n\n  const payload = {\n    token,           // Token MUSÍ být v payloadu pro backend ověření\n    username,        // Username MUSÍ být v payloadu pro backend ověření\n    old_order_ids: oldOrderIds,\n    uzivatel_id: parseInt(userId, 10),\n    tabulka_obj: tabulkaObj,\n    tabulka_opriloh: tabulkaOpriloh\n  };\n\n  // Přidáme database pouze pokud je zadaná\n  if (database) {\n    payload.database = database;\n  }\n\n  logDebug('request', 'orders25/import-oldies', { ...payload, token: '***' });\n\n  try {\n    // Headers se přidávají automaticky přes interceptor - stejně jako u všech ostatních API volání\n    // Timeout 5 minut (300000 ms) pro velké importy\n    const response = await api25orders.post('orders25/import-oldies', payload, { timeout: 300000 });\n\n    logDebug('success', 'orders25/import-oldies', payload, response.data);\n\n    // Kontrola, že response.data je validní objekt\n    if (!response.data || typeof response.data !== 'object') {\n      throw new Error('Backend vrátil neplatnou odpověď (není JSON objekt)');\n    }\n\n    return response.data;\n  } catch (err) {\n    logDebug('error', 'orders25/import-oldies', payload, err.response?.data || err.message);\n    throw err;\n  }\n}\n\n/**\n * Získá počet objednávek podle uživatele\n * @param {Object} params - Parametry pro API volání\n * @param {string} params.token - Autentizační token\n * @param {string} params.username - Uživatelské jméno\n * @param {number} params.user_id - ID uživatele\n * @returns {Promise<Object>} Počet objednávek uživatele\n */\nexport async function getOrdersCountByUser(params) {\n  try {\n    // Debug: Orders Count by User API Request\n\n    logDebug('request', 'orders25/count-by-user', params);\n\n    const response = await api25orders.post('orders25/count-by-user', {\n      token: params.token,\n      username: params.username,\n      user_id: params.user_id\n    });\n\n    // Debug: Orders Count by User API Response\n    logDebug('success', 'orders25/count-by-user', params, response.data);\n\n    // Validace odpovědi\n    if (!response.data || typeof response.data !== 'object') {\n      throw new Error('Backend vrátil neplatnou odpověď');\n    }\n\n    if (response.data.err) {\n      throw new Error(response.data.err);\n    }\n\n    if (response.data.status !== 'ok') {\n      throw new Error('Backend vrátil chybu: ' + (response.data.message || 'Neznámá chyba'));\n    }\n\n    return response.data;\n  } catch (err) {\n    console.error('❌ Count by user failed:', {\n      message: err.message,\n      response: err.response?.data,\n      status: err.response?.status,\n      user_id: params.user_id\n    });\n    logDebug('error', 'orders25/count-by-user', params, err.response?.data || err.message);\n    throw err;\n  }\n}\n\n/**\n * 🔥 Import starých objednávek s SSE streaming (real-time progress)\n *\n * @param {Object} params\n * @param {string} params.token - Auth token\n * @param {string} params.username - Username\n * @param {number} params.userId - ID uživatele\n * @param {Array<number>} params.oldOrderIds - IDs objednávek k importu\n * @param {string} params.tabulkaObj - Název tabulky objednávek\n * @param {string} params.tabulkaOpriloh - Název tabulky příloh\n * @param {string} params.database - Název databáze (optional)\n * @param {Function} params.onProgress - Callback pro progress updates\n * @param {Function} params.onComplete - Callback pro dokončení\n * @param {Function} params.onError - Callback pro chyby\n * @returns {Promise<{results: Array, imported_count: number, updated_count: number, failed_count: number}>}\n */\nexport async function importOldOrders25Streaming({\n  token,\n  username,\n  userId,\n  oldOrderIds,\n  tabulkaObj = 'DEMO_objednavky_2025',\n  tabulkaOpriloh = 'DEMO_pripojene_odokumenty',\n  database = null,\n  onProgress = null,\n  onComplete = null,\n  onError = null\n}) {\n  // Validace vstupních parametrů\n  if (!oldOrderIds || !Array.isArray(oldOrderIds) || oldOrderIds.length === 0) {\n    throw new Error('Parametr oldOrderIds musí být neprázdné pole čísel');\n  }\n\n  if (!token || !username) {\n    throw new Error('Token a username jsou povinné parametry');\n  }\n\n  if (!userId) {\n    throw new Error('Chybí ID uživatele (userId parameter)');\n  }\n\n  const payload = {\n    token,\n    username,\n    old_order_ids: oldOrderIds,\n    uzivatel_id: parseInt(userId, 10),\n    tabulka_obj: tabulkaObj,\n    tabulka_opriloh: tabulkaOpriloh,\n    streaming: true  // 🔥 Zapni SSE streaming\n  };\n\n  if (database) {\n    payload.database = database;\n  }\n\n  return new Promise((resolve, reject) => {\n    // Sestav URL pro SSE streaming\n    let baseURL = api25orders.defaults.baseURL;\n\n    // Validace baseURL\n    if (!baseURL) {\n      const error = new Error('❌ CHYBA: API baseURL není definována! Zkontrolujte REACT_APP_API2_BASE_URL v .env souboru');\n      if (onError) onError(error);\n      reject(error);\n      return;\n    }\n\n    // Odstraň trailing slash z baseURL aby se předešlo double slash\n    baseURL = baseURL.replace(/\\/$/, '');\n\n    const url = `${baseURL}/orders25/import-oldies`;\n\n    // Prepare fetch request s EventSource alternative (EventSource nepodporuje POST)\n    // Použijeme fetch s streaming response\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'text/event-stream'\n      },\n      body: JSON.stringify(payload)\n    })\n    .then(response => {\n      if (!response.ok) {\n        const errorMsg = `HTTP ${response.status}: ${response.statusText}`;\n\n        // Specifická chyba pro 404\n        if (response.status === 404) {\n          throw new Error(`❌ API endpoint nenalezen (404)\\n\\nURL: ${response.url}\\n\\nBackend pravděpodobně:\\n• Neběží\\n• Nemá implementovaný SSE endpoint /orders25/import-oldies\\n• Používá jinou URL strukturu`);\n        }\n\n        throw new Error(errorMsg);\n      }\n\n      const reader = response.body.getReader();\n      const decoder = new TextDecoder();\n      let buffer = '';\n\n      // Aggregace výsledků\n      const allResults = [];\n      let finalStats = null;\n\n      const processChunk = ({ done, value }) => {\n        if (done) {\n          // Pokud máme final stats, resolve s nimi\n          if (finalStats) {\n            resolve({\n              results: allResults,\n              imported_count: finalStats.imported_count,\n              updated_count: finalStats.updated_count,\n              failed_count: finalStats.failed_count,\n              total_count: finalStats.total_count\n            });\n          } else {\n            // Fallback pokud complete event nepřišel\n            resolve({\n              results: allResults,\n              imported_count: allResults.filter(r => r.operation === 'INSERT').length,\n              updated_count: allResults.filter(r => r.operation === 'UPDATE').length,\n              failed_count: allResults.filter(r => r.status === 'ERROR').length,\n              total_count: allResults.length\n            });\n          }\n          return;\n        }\n\n        // Dekóduj chunk a přidej do bufferu\n        buffer += decoder.decode(value, { stream: true });\n\n        // Zpracuj všechny kompletní řádky\n        const lines = buffer.split('\\n\\n');\n        buffer = lines.pop() || ''; // Poslední neúplný řádek zpět do bufferu\n\n        lines.forEach(line => {\n          if (!line.trim() || !line.startsWith('data: ')) return;\n\n          try {\n            // Parse SSE data\n            const jsonStr = line.substring(6); // Remove \"data: \" prefix\n            const event = JSON.parse(jsonStr);\n\n            switch (event.type) {\n              case 'start':\n                break;\n\n              case 'progress':\n                // Uložit výsledek do agregace\n                if (event.last_result) {\n                  allResults.push(event.last_result);\n                }\n\n                // Callback pro progress update\n                if (onProgress) {\n                  onProgress({\n                    current: event.current,\n                    total: event.total,\n                    percentage: event.percentage,\n                    imported: event.imported,\n                    updated: event.updated,\n                    failed: event.failed,\n                    last_result: event.last_result,  // Ponecháme snake_case konzistentní s backendem\n                    timestamp: event.timestamp\n                  });\n                }\n                break;\n\n              case 'complete':\n                finalStats = event;\n\n                // Callback pro dokončení\n                if (onComplete) {\n                  onComplete({\n                    imported_count: event.imported_count,\n                    updated_count: event.updated_count,\n                    failed_count: event.failed_count,\n                    total_count: event.total_count,\n                    timestamp: event.timestamp\n                  });\n                }\n                break;\n\n              default:\n            }\n          } catch (err) {\n            if (onError) {\n              onError(new Error(`Failed to parse SSE event: ${err.message}`));\n            }\n          }\n        });\n\n        // Čti další chunk\n        return reader.read().then(processChunk);\n      };\n\n      // Start reading stream\n      return reader.read().then(processChunk);\n    })\n    .catch(err => {\n      if (onError) {\n        onError(err);\n      }\n      reject(err);\n    });\n  });\n}\n\n// Export axios instance for direct use\nexport { api25orders };"],"names":["api25orders","axios","create","baseURL","process","headers","logDebug","type","endpoint","data","response","normalizeApi25OrdersError","err","_err$response","_err$response$data","_err$response2","_err$response2$data","_err$response3","_err$response3$data","_err$response4","message","error","async","lockOrder25","_ref0","token","username","orderId","Error","requestData","id","post","status","lockInfo","lock_info","userName","locked_by_user_fullname","success","locked_by_name","_response$data","_error$response4","_error$response5","_error$response6","_error$response6$data","concat","unlockOrder25","_ref1","force","unlock_type","_response$data2","_error$response7","_error$response8","interceptors","use","_error$response","_error$response2","_error$response3","window","event","CustomEvent","detail","dispatchEvent","responseText","includes","Promise","reject","getStrediska25","aktivni","_ref14","_response$data3","typ_objektu","_objectSpread","substring","statusText","rawData","rawDataSample","slice","totalCount","length","fields","Object","keys","itemMap","Map","forEach","item","set","kod_stavu","rootElements","filter","nadrazeny_kod_stavu","trim","undefined","childElements","rootCount","childCount","rootSample","childSample","hierarchicalData","sort","a","b","nazev_stavu","localeCompare","root","push","value","label","level","isParent","raw","children","child","parentCode","processedChildCodes","Set","add","orphanChildren","has","map","c","kod","nazev","nadrazeny","orphan","isOrphan","totalItems","_error$response11","_error$response12","_error$response13","_error$config","_error$config2","_error$config2$method","_error$config3","normalizedError","response_data","request_url","config","url","request_method","method","toUpperCase","request_headers","original_error","getDruhyObjednavky25","_ref15","_response$data4","druhyObjednavky","atribut_objektu","processedCount","sample","_error$response14","_error$response15","_error$response16","getFinancovaniZdroj25","_ref16","_response$data5","financovaniOptions","transformedCount","transformedSample","_error$response17","_error$response18","_error$response19","_error$config4","_error$config5","_error$config5$method","_error$config6","getTypyPriloh25","_ref17","_response$data6","typyPrilohOptions","loaded_count","getTypyFaktur25","_ref18","_response$data7","typyFakturOptions","getStavyWorkflow25","_ref19","_response$data8","stavyWorkflowMap","popis","popis_stavu","isPreviewableInBrowser","filename","ext","toLowerCase","split","pop","openInBrowser25","blob","URL","createObjectURL","link","document","createElement","href","download","style","display","body","appendChild","click","removeChild","setTimeout","revokeObjectURL","console","createDownloadLink25","importOldOrders25","_ref26","userId","oldOrderIds","tabulkaObj","tabulkaOpriloh","database","Array","isArray","payload","old_order_ids","uzivatel_id","parseInt","tabulka_obj","tabulka_opriloh","timeout","_err$response5","getOrdersCountByUser","params","user_id","_err$response6","_err$response7","_err$response8","importOldOrders25Streaming","_ref27","onProgress","onComplete","onError","streaming","resolve","defaults","replace","fetch","JSON","stringify","then","ok","errorMsg","reader","getReader","decoder","TextDecoder","buffer","allResults","finalStats","processChunk","_ref28","done","results","imported_count","updated_count","failed_count","total_count","r","operation","decode","stream","lines","line","startsWith","jsonStr","parse","last_result","current","total","percentage","imported","updated","failed","timestamp","read","catch"],"sourceRoot":""}