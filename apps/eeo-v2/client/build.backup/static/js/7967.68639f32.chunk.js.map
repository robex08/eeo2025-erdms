{"version":3,"file":"static/js/7967.68639f32.chunk.js","mappings":"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","sources":["components/mobile/MobileHeader.jsx","components/mobile/MobileMenu.jsx","services/activityLogService.js","components/mobile/MobileActivityLog.jsx","components/mobile/MobileSuccessAnimation.jsx","components/mobile/OrderApprovalCard.jsx","components/mobile/MobileConfirmDialog.jsx","services/mobileDataService.js","components/mobile/MobileDashboard.jsx","services/hierarchyService.js","components/SplashScreen.js","services/globalSettingsApi.js","theme/useThemeMode.js","utils/iconMapping.js"],"sourcesContent":["import { useState, useContext, useEffect } from 'react';\nimport { AuthContext } from '../../context/AuthContext';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faClockRotateLeft } from '@fortawesome/free-solid-svg-icons';\nimport './MobileHeader.css';\n\nconst logoZZS = '/eeo-v2/logo-ZZS.png';\n\n/**\n * Mobiln hlavika s logem a zkratkou EEO\n * Obsahuje hamburger menu pro oteven navigace\n * @param {string} title - Vlastn nadpis (pepe vchoz \"EEO\")\n * @param {boolean} showBackButton - Zobrazit tlatko zpt\n * @param {function} onBackClick - Handler pro tlatko zpt\n * @param {function} onActivityClick - Handler pro oteven historie aktivit\n * @param {number} activityCount - Poet aktivit v historii\n */\nfunction MobileHeader({ title, onMenuClick, notificationCount = 0, showBackButton = false, onBackClick, onActivityClick, activityCount = 0 }) {\n  const { isLoggedIn, token, user } = useContext(AuthContext);\n  const [hierarchyInfo, setHierarchyInfo] = useState(null);\n  \n  // Zskat verzi z ENV promnn a extrahovat slo verze\n  const fullVersion = process.env.REACT_APP_VERSION || '1.88';\n  const versionNumber = fullVersion.match(/(\\d+\\.\\d+[a-z]?)/)?.[1] || fullVersion;\n  \n  //  HIERARCHIE: Nast stav hierarchie pi pihlen (stejn jako v Layout.js)\n  useEffect(() => {\n    if (!isLoggedIn || !token || !user?.username) {\n      setHierarchyInfo(null);\n      return;\n    }\n    \n    const loadHierarchyStatus = async () => {\n      try {\n        const { getGlobalSettings } = await import('../../services/globalSettingsApi');\n        const { getUserDetailApi2 } = await import('../../services/api2auth');\n        \n        const settings = await getGlobalSettings(token, user.username);\n        const userDetail = await getUserDetailApi2(user.username, token, user.id);\n        \n        // Zkontrolovat HIERARCHY_IMMUNE prvo\n        const hasImmunity = userDetail?.roles?.some(role => \n          role.prava?.some(pravo => pravo.kod_prava === 'HIERARCHY_IMMUNE')\n        ) || false;\n        \n        // Nastavit info o hierarchii pro hlaviku\n        if (settings.hierarchy_enabled && settings.hierarchy_profile_id) {\n          setHierarchyInfo({\n            profileId: settings.hierarchy_profile_id,\n            enabled: true,\n            isImmune: hasImmunity\n          });\n          console.log(' [MobileHeader] Hierarchie natena:', settings.hierarchy_profile_id, 'Imunita:', hasImmunity);\n        } else {\n          setHierarchyInfo({ enabled: false });\n        }\n      } catch (error) {\n        console.error(' [MobileHeader] Chyba pi natn hierarchie:', error);\n        setHierarchyInfo(null);\n      }\n    };\n    \n    loadHierarchyStatus();\n  }, [isLoggedIn, token, user?.username, user?.id]);\n  \n  return (\n    <header className=\"mobile-header\">\n      <div className=\"mobile-header-container\">\n        {/* Tlatko zpt (pokud je showBackButton) */}\n        {showBackButton ? (\n          <button className=\"mobile-back-btn\" onClick={onBackClick} aria-label=\"Zpt\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"24\" height=\"24\">\n              <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/>\n            </svg>\n          </button>\n        ) : (\n          <>\n            {/* Logo */}\n            <div className=\"mobile-logo\">\n              <img src={logoZZS} alt=\"ZZS Logo\" className=\"mobile-logo-img\" />\n            </div>\n          </>\n        )}\n\n        {/* Nzev aplikace s verz a profilem */}\n        <div className=\"mobile-app-title\">\n          <h1>\n            {title || 'EEO'}\n            {!title && (\n              <sup style={{ \n                fontSize: '0.45em', \n                marginLeft: '4px', \n                fontWeight: '600', \n                color: '#fbbf24',\n                textShadow: '0 1px 2px rgba(0,0,0,0.3)'\n              }}>\n                {versionNumber}\n                {hierarchyInfo?.enabled && hierarchyInfo?.profileId && (\n                  <span style={{ \n                    color: hierarchyInfo.isImmune ? '#9ca3af' : '#10b981', \n                    fontWeight: '700',\n                    opacity: hierarchyInfo.isImmune ? 0.6 : 1\n                  }}>.H{hierarchyInfo.profileId}</span>\n                )}\n              </sup>\n            )}\n          </h1>\n          {!title && <span className=\"mobile-app-subtitle\">Elektronick evidence objednvek</span>}\n        </div>\n\n        {/* Historie aktivit a menu */}\n        <div className=\"mobile-header-actions\">\n          {/* Historie aktivit (vlevo od hamburgeru) */}\n          {!showBackButton && onActivityClick && (\n            <button \n              className=\"mobile-activity-btn\" \n              onClick={onActivityClick}\n              aria-label=\"Historie aktivit\"\n            >\n              <FontAwesomeIcon icon={faClockRotateLeft} />\n              {activityCount > 0 && (\n                <span className=\"mobile-activity-badge\">{activityCount > 9 ? '9+' : activityCount}</span>\n              )}\n            </button>\n          )}\n\n          {/* Zvoneek s notifikacemi */}\n          {notificationCount > 0 && (\n            <button className=\"mobile-notification-btn\" aria-label=\"Notifikace\">\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z\"/>\n              </svg>\n              {notificationCount > 0 && (\n                <span className=\"mobile-notification-badge\">{notificationCount > 99 ? '99+' : notificationCount}</span>\n              )}\n            </button>\n          )}\n\n          {/* Hamburger menu */}\n          <button \n            className=\"mobile-menu-btn\" \n            onClick={onMenuClick}\n            aria-label=\"Menu\"\n          >\n            <span></span>\n            <span></span>\n            <span></span>\n          </button>\n        </div>\n      </div>\n    </header>\n  );\n}\n\nexport default MobileHeader;\n","import { useContext } from 'react';\nimport { AuthContext } from '../../context/AuthContext';\nimport useThemeMode from '../../theme/useThemeMode';\nimport './MobileMenu.css';\n\n/**\n * Mobiln menu (slide-in) s monost odhlen a pepnaem reimu\n */\nfunction MobileMenu({ isOpen, onClose, user, userDetail, authUser, onNavigate }) {\n  const { logout } = useContext(AuthContext);\n  const { mode, preference, setThemePreference } = useThemeMode();\n\n  // Sestavit cel jmno s titulem\n  const getFullName = () => {\n    if (!userDetail) return authUser?.displayName || authUser?.username || 'Uivatel';\n    \n    const parts = [];\n    if (userDetail.titul_pred) parts.push(userDetail.titul_pred);\n    if (userDetail.jmeno) parts.push(userDetail.jmeno);\n    if (userDetail.prijmeni) parts.push(userDetail.prijmeni);\n    if (userDetail.titul_za) parts.push(userDetail.titul_za);\n    \n    return parts.length > 0 ? parts.join(' ') : (authUser?.displayName || authUser?.username || 'Uivatel');\n  };\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      // AuthContext u se postar o redirect\n    } catch (error) {\n      console.error('Logout failed:', error);\n    }\n  };\n\n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return (\n    <>\n      {/* Overlay */}\n      <div \n        className={`mobile-menu-overlay ${isOpen ? 'open' : ''}`}\n        onClick={handleOverlayClick}\n      />\n\n      {/* Menu panel */}\n      <div className={`mobile-menu ${isOpen ? 'open' : ''}`}>\n        <div className=\"mobile-menu-header\">\n          <button \n            className=\"mobile-menu-close\" \n            onClick={onClose}\n            aria-label=\"Zavt menu\"\n          >\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n            </svg>\n          </button>\n          <h3>Menu</h3>\n        </div>\n\n        <div className=\"mobile-menu-content\">\n          {/* Info o uivateli */}\n          {user && (\n            <div className=\"mobile-menu-user\">\n              <div className=\"mobile-menu-user-avatar\">\n                {userDetail?.jmeno ? userDetail.jmeno.charAt(0).toUpperCase() : (authUser?.displayName ? authUser.displayName.charAt(0).toUpperCase() : 'U')}\n              </div>\n              <div className=\"mobile-menu-user-info\">\n                <div className=\"mobile-menu-user-name\">\n                  {getFullName()}\n                </div>\n                <div className=\"mobile-menu-user-details\">\n                  {userDetail?.usek_nazev && (\n                    <span className=\"user-detail-item\">\n                      {typeof userDetail.usek_nazev === 'object' ? userDetail.usek_nazev?.nazev : userDetail.usek_nazev}\n                    </span>\n                  )}\n                  {userDetail?.lokalita_nazev && (\n                    <span className=\"user-detail-item\">\n                      {typeof userDetail.lokalita_nazev === 'object' ? userDetail.lokalita_nazev?.nazev : userDetail.lokalita_nazev}\n                    </span>\n                  )}\n                </div>\n                <div className=\"mobile-menu-user-email\">{userDetail?.email || authUser?.mail || authUser?.upn || authUser?.username || ''}</div>\n              </div>\n            </div>\n          )}\n\n          {/* Navigace */}\n          <nav className=\"mobile-menu-nav\">\n            <button className=\"mobile-menu-item\" onClick={() => { onNavigate('dashboard'); onClose(); }}>\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/>\n              </svg>\n              <span>Dashboard</span>\n            </button>\n            <button className=\"mobile-menu-item\" onClick={() => { onNavigate('activity'); onClose(); }}>\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z\"/>\n              </svg>\n              <span>Aktivita</span>\n            </button>\n          </nav>\n\n          {/* Reim zobrazen */}\n          <div className=\"mobile-menu-section\">\n            <div className=\"mobile-menu-section-title\">Reim zobrazen</div>\n            <div className=\"mobile-menu-theme-options\">\n              <button \n                className={`mobile-menu-theme-btn ${preference === 'auto' ? 'active' : ''}`}\n                onClick={() => setThemePreference('auto')}\n              >\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n                </svg>\n                <span>Automaticky</span>\n                {preference === 'auto' && (\n                  <span className=\"mobile-menu-theme-current\">({mode === 'dark' ? 'Tmav' : 'Svtl'})</span>\n                )}\n              </button>\n              <button \n                className={`mobile-menu-theme-btn ${preference === 'light' ? 'active' : ''}`}\n                onClick={() => setThemePreference('light')}\n              >\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z\"/>\n                </svg>\n                <span>Svtl</span>\n              </button>\n              <button \n                className={`mobile-menu-theme-btn ${preference === 'dark' ? 'active' : ''}`}\n                onClick={() => setThemePreference('dark')}\n              >\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.06 7 9.54 0 4.48-2.94 8.27-7 9.54.95.3 1.95.46 3 .46 5.52 0 10-4.48 10-10S14.52 2 9 2z\"/>\n                </svg>\n                <span>Tmav</span>\n              </button>\n            </div>\n          </div>\n\n          {/* Odhlen */}\n          <div className=\"mobile-menu-footer\">\n            <button \n              className=\"mobile-menu-logout\" \n              onClick={handleLogout}\n            >\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z\"/>\n              </svg>\n              <span>Odhlsit se</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default MobileMenu;\n","/**\n *  Activity Log Service\n * \n * Spravuje historii uivatelskch aktivit (schvlen, zamtnut, atd.)\n * - Ukld do localStorage\n * - Dr pouze zznamy z poslednho dne\n * - Univerzln pro rzn typy objekt (objednvky, faktury, pokladna, ...)\n */\n\nconst STORAGE_KEY = 'eeo_activity_log';\nconst MAX_AGE_HOURS = 24; // Historie pouze z poslednch 24 hodin\n\n/**\n * Typy aktivit\n */\nexport const ACTIVITY_TYPES = {\n  // Objednvky\n  ORDER_APPROVED: 'order_approved',\n  ORDER_REJECTED: 'order_rejected',\n  ORDER_WAITING: 'order_waiting',\n  ORDER_CREATED: 'order_created',\n  ORDER_UPDATED: 'order_updated',\n  ORDER_DELETED: 'order_deleted',\n  \n  // Faktury (pipraveno do budoucna)\n  INVOICE_APPROVED: 'invoice_approved',\n  INVOICE_REJECTED: 'invoice_rejected',\n  INVOICE_CREATED: 'invoice_created',\n  INVOICE_UPDATED: 'invoice_updated',\n  \n  // Pokladna (pipraveno do budoucna)\n  CASHBOOK_CREATED: 'cashbook_created',\n  CASHBOOK_UPDATED: 'cashbook_updated',\n  CASHBOOK_DELETED: 'cashbook_deleted',\n};\n\n/**\n * Typ entity\n */\nexport const ENTITY_TYPES = {\n  ORDER: 'order',\n  INVOICE: 'invoice',\n  CASHBOOK: 'cashbook',\n};\n\n/**\n * Struktura aktivity:\n * {\n *   id: string,              // Uniktn ID aktivity\n *   timestamp: number,       // Unix timestamp\n *   entityType: string,      // Typ entity (order, invoice, cashbook, ...)\n *   entityId: number|string, // ID entity\n *   activityType: string,    // Typ aktivity (approved, rejected, ...)\n *   title: string,           // Nzev/popis entity\n *   amount: number,          // stka (voliteln)\n *   userName: string,        // Jmno uivatele\n *   description: string,     // Popis aktivity\n *   metadata: object         // Dal metadata (voliteln)\n * }\n */\n\n/**\n * Nate vechny aktivity z localStorage a vyfiltruje star\n */\nexport const getActivities = () => {\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (!stored) return [];\n    \n    const activities = JSON.parse(stored);\n    const now = Date.now();\n    const maxAge = MAX_AGE_HOURS * 60 * 60 * 1000; // 24h v ms\n    \n    // Filtrovat pouze aktivity z poslednch 24 hodin\n    const recentActivities = activities.filter(activity => {\n      return (now - activity.timestamp) < maxAge;\n    });\n    \n    // Uloit zpt vyfiltrovan seznam\n    if (recentActivities.length !== activities.length) {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(recentActivities));\n    }\n    \n    // Vrtit seazen od nejnovjch\n    return recentActivities.sort((a, b) => b.timestamp - a.timestamp);\n    \n  } catch (error) {\n    console.error('[ActivityLog] Chyba pi natn aktivit:', error);\n    return [];\n  }\n};\n\n/**\n * Pid novou aktivitu\n */\nexport const addActivity = ({\n  entityType,\n  entityId,\n  activityType,\n  title,\n  amount = null,\n  userName,\n  description,\n  metadata = {}\n}) => {\n  try {\n    const activities = getActivities();\n    \n    const newActivity = {\n      id: `${entityType}_${entityId}_${Date.now()}`,\n      timestamp: Date.now(),\n      entityType,\n      entityId,\n      activityType,\n      title,\n      amount,\n      userName,\n      description,\n      metadata\n    };\n    \n    activities.unshift(newActivity); // Pidat na zatek\n    \n    // Omezit poet aktivit (max 100)\n    const limitedActivities = activities.slice(0, 100);\n    \n    localStorage.setItem(STORAGE_KEY, JSON.stringify(limitedActivities));\n    \n    console.log('[ActivityLog] Aktivita pidna:', newActivity);\n    return newActivity;\n    \n  } catch (error) {\n    console.error('[ActivityLog] Chyba pi pidvn aktivity:', error);\n    return null;\n  }\n};\n\n/**\n * Vymae vechny aktivity\n */\nexport const clearActivities = () => {\n  try {\n    localStorage.removeItem(STORAGE_KEY);\n    console.log('[ActivityLog] Vechny aktivity vymazny');\n    return true;\n  } catch (error) {\n    console.error('[ActivityLog] Chyba pi mazn aktivit:', error);\n    return false;\n  }\n};\n\n/**\n * Zsk ikonu pro typ aktivity\n */\nexport const getActivityIcon = (activityType) => {\n  const iconMap = {\n    // Schvlen\n    [ACTIVITY_TYPES.ORDER_APPROVED]: 'faCheckCircle',\n    [ACTIVITY_TYPES.INVOICE_APPROVED]: 'faCheckCircle',\n    \n    // Zamtnut\n    [ACTIVITY_TYPES.ORDER_REJECTED]: 'faTimesCircle',\n    [ACTIVITY_TYPES.INVOICE_REJECTED]: 'faTimesCircle',\n    \n    // ekn\n    [ACTIVITY_TYPES.ORDER_WAITING]: 'faHourglassHalf',\n    \n    // Vytvoen\n    [ACTIVITY_TYPES.ORDER_CREATED]: 'faPlusCircle',\n    [ACTIVITY_TYPES.INVOICE_CREATED]: 'faPlusCircle',\n    [ACTIVITY_TYPES.CASHBOOK_CREATED]: 'faPlusCircle',\n    \n    // prava\n    [ACTIVITY_TYPES.ORDER_UPDATED]: 'faEdit',\n    [ACTIVITY_TYPES.INVOICE_UPDATED]: 'faEdit',\n    [ACTIVITY_TYPES.CASHBOOK_UPDATED]: 'faEdit',\n    \n    // Smazn\n    [ACTIVITY_TYPES.ORDER_DELETED]: 'faTrash',\n    [ACTIVITY_TYPES.CASHBOOK_DELETED]: 'faTrash',\n  };\n  \n  return iconMap[activityType] || 'faInfoCircle';\n};\n\n/**\n * Zsk CSS tdu pro typ aktivity (pro barvu)\n */\nexport const getActivityColorClass = (activityType) => {\n  if (activityType.includes('approved')) return 'activity-success';\n  if (activityType.includes('rejected')) return 'activity-danger';\n  if (activityType.includes('waiting')) return 'activity-warning';\n  if (activityType.includes('created')) return 'activity-info';\n  if (activityType.includes('updated')) return 'activity-info';\n  if (activityType.includes('deleted')) return 'activity-danger';\n  return 'activity-default';\n};\n\n/**\n * Formtuje asov rozdl (nap. \"ped 5 minutami\")\n */\nexport const formatTimeAgo = (timestamp) => {\n  const now = Date.now();\n  const diff = now - timestamp;\n  \n  const minutes = Math.floor(diff / 60000);\n  const hours = Math.floor(diff / 3600000);\n  \n  if (minutes < 1) return 'prv te';\n  if (minutes < 60) return `ped ${minutes} min`;\n  if (hours < 24) return `ped ${hours} h`;\n  return 'ped 1 dnem';\n};\n\nexport default {\n  getActivities,\n  addActivity,\n  clearActivities,\n  getActivityIcon,\n  getActivityColorClass,\n  formatTimeAgo,\n  ACTIVITY_TYPES,\n  ENTITY_TYPES\n};\n","import { useState, useEffect } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { \n  faCheckCircle, \n  faTimesCircle, \n  faHourglassHalf, \n  faPlusCircle,\n  faEdit,\n  faTrash,\n  faInfoCircle,\n  faTimes\n} from '@fortawesome/free-solid-svg-icons';\nimport { \n  getActivities, \n  clearActivities, \n  getActivityColorClass, \n  formatTimeAgo,\n  ENTITY_TYPES \n} from '../../services/activityLogService';\nimport './MobileActivityLog.css';\n\n/**\n *  Mobiln Activity Log\n * Zobrazuje historii poslednch aktivit uivatele (24h)\n * - Schvlen/zamtnut objednvek\n * - Vytven/pravy faktur, pokladny atd.\n * \n * Design: Podobn jako OrderApprovalCard\n */\nfunction MobileActivityLog({ isOpen, onClose }) {\n  const [activities, setActivities] = useState([]);\n\n  // Nast aktivity pi oteven\n  useEffect(() => {\n    if (isOpen) {\n      loadActivities();\n    }\n  }, [isOpen]);\n\n  const loadActivities = () => {\n    const loadedActivities = getActivities();\n    setActivities(loadedActivities);\n  };\n\n  const handleClearAll = () => {\n    if (window.confirm('Opravdu smazat celou historii aktivit?')) {\n      clearActivities();\n      setActivities([]);\n    }\n  };\n\n  const getIconComponent = (activityType) => {\n    if (activityType.includes('approved')) return faCheckCircle;\n    if (activityType.includes('rejected')) return faTimesCircle;\n    if (activityType.includes('waiting')) return faHourglassHalf;\n    if (activityType.includes('created')) return faPlusCircle;\n    if (activityType.includes('updated')) return faEdit;\n    if (activityType.includes('deleted')) return faTrash;\n    return faInfoCircle;\n  };\n\n  const getEntityLabel = (entityType) => {\n    const labels = {\n      [ENTITY_TYPES.ORDER]: 'Objednvka',\n      [ENTITY_TYPES.INVOICE]: 'Faktura',\n      [ENTITY_TYPES.CASHBOOK]: 'Pokladna',\n    };\n    return labels[entityType] || entityType;\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"mobile-activity-overlay\" onClick={onClose}>\n      <div className=\"mobile-activity-panel\" onClick={(e) => e.stopPropagation()}>\n        {/* Hlavika */}\n        <div className=\"mobile-activity-header\">\n          <h2>\n             Historie aktivit\n            <span className=\"mobile-activity-count\">{activities.length}</span>\n          </h2>\n          <button className=\"mobile-activity-close\" onClick={onClose} aria-label=\"Zavt\">\n            <FontAwesomeIcon icon={faTimes} />\n          </button>\n        </div>\n\n        {/* Subtitle */}\n        <div className=\"mobile-activity-subtitle\">\n          Posledn aktivity za 24 hodin\n        </div>\n\n        {/* Seznam aktivit */}\n        <div className=\"mobile-activity-list\">\n          {activities.length === 0 ? (\n            <div className=\"mobile-activity-empty\">\n              <FontAwesomeIcon icon={faInfoCircle} className=\"empty-icon\" />\n              <p>Zatm dn aktivity</p>\n              <span className=\"empty-hint\">Schvlen a dal akce se zobraz zde</span>\n            </div>\n          ) : (\n            activities.map((activity) => (\n              <div \n                key={activity.id} \n                className={`mobile-activity-card ${getActivityColorClass(activity.activityType)}`}\n                data-entity-id={activity.metadata?.orderId || activity.id}\n              >\n                {/* Ikona aktivity */}\n                <div className=\"activity-icon\">\n                  <FontAwesomeIcon icon={getIconComponent(activity.activityType)} />\n                </div>\n\n                {/* Obsah */}\n                <div className=\"activity-content\">\n                  {/* Typ entity + asov raztko */}\n                  <div className=\"activity-meta\">\n                    <span className=\"activity-entity\">{getEntityLabel(activity.entityType)}</span>\n                    <span className=\"activity-time\">{formatTimeAgo(activity.timestamp)}</span>\n                  </div>\n\n                  {/* Evidenn slo objednvky */}\n                  <div className=\"activity-title\">\n                    Ev. slo: {activity.metadata?.orderNumber || activity.entityId}\n                  </div>\n                  \n                  {/* Nzev objednvky */}\n                  {activity.title && !activity.title.startsWith('Objednvka') && (\n                    <div className=\"activity-description\" style={{ fontWeight: 600, color: '#212529', marginBottom: '0.25rem' }}>\n                      {activity.title}\n                    </div>\n                  )}\n                  \n                  {/* Popis akce */}\n                  <div className=\"activity-description\">{activity.description}</div>\n\n                  {/* stka (pokud je) */}\n                  {activity.amount && (\n                    <div className=\"activity-amount\">\n                      {new Intl.NumberFormat('cs-CZ', {\n                        style: 'currency',\n                        currency: 'CZK',\n                        minimumFractionDigits: 0,\n                        maximumFractionDigits: 0,\n                      }).format(activity.amount)}\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n\n        {/* Footer s tlatkem vymazat */}\n        {activities.length > 0 && (\n          <div className=\"mobile-activity-footer\">\n            <button className=\"mobile-activity-clear-btn\" onClick={handleClearAll}>\n              <FontAwesomeIcon icon={faTrash} />\n              Vymazat historii\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default MobileActivityLog;\n","import { useEffect, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheckCircle, faTimesCircle, faHourglassHalf } from '@fortawesome/free-solid-svg-icons';\nimport './MobileSuccessAnimation.css';\n\n/**\n *  Success Animation Component\n * Zobraz animaci spchu s efektem \"odltnut\" do ikony historie\n * \n * @param {boolean} show - Zobrazit animaci\n * @param {string} type - Typ akce: 'approved' | 'rejected' | 'waiting'\n * @param {string} message - Zprva k zobrazen\n * @param {function} onComplete - Callback po dokonen animace\n */\nfunction MobileSuccessAnimation({ show, type = 'approved', message = 'spn provedeno', onComplete }) {\n  const [animationPhase, setAnimationPhase] = useState('hidden'); // hidden | show | flyaway\n\n  useEffect(() => {\n    if (show) {\n      // Fze 1: Zobrazit\n      setAnimationPhase('show');\n      \n      // Fze 2: Po 1.2s zat odltat\n      const flyTimeout = setTimeout(() => {\n        setAnimationPhase('flyaway');\n      }, 1200);\n\n      // Fze 3: Po dokonen animace zavolat callback\n      const completeTimeout = setTimeout(() => {\n        setAnimationPhase('hidden');\n        if (onComplete) {\n          onComplete();\n        }\n      }, 2000);\n\n      return () => {\n        clearTimeout(flyTimeout);\n        clearTimeout(completeTimeout);\n      };\n    }\n  }, [show, onComplete]);\n\n  if (animationPhase === 'hidden') return null;\n\n  const getIcon = () => {\n    switch (type) {\n      case 'approved':\n        return faCheckCircle;\n      case 'rejected':\n        return faTimesCircle;\n      case 'waiting':\n        return faHourglassHalf;\n      default:\n        return faCheckCircle;\n    }\n  };\n\n  const getColorClass = () => {\n    switch (type) {\n      case 'approved':\n        return 'success-animation-approved';\n      case 'rejected':\n        return 'success-animation-rejected';\n      case 'waiting':\n        return 'success-animation-waiting';\n      default:\n        return 'success-animation-approved';\n    }\n  };\n\n  return (\n    <div className={`mobile-success-animation ${animationPhase} ${getColorClass()}`}>\n      <div className=\"success-animation-content\">\n        <div className=\"success-animation-icon\">\n          <FontAwesomeIcon icon={getIcon()} />\n        </div>\n        <div className=\"success-animation-message\">{message}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default MobileSuccessAnimation;\n","import { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck, faTimes, faClock, faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport './OrderApprovalCard.css';\n\n/**\n *  Karta objednvky ke schvlen v mobilnm dashboardu\n * Zobrazuje: Pedmt, Max cena s DPH, Zdroj financovn\n * Akce: Schvlit, Zamtnout, ek se\n */\nfunction OrderApprovalCard({ order, onApprove, onReject, onWait, loading }) {\n  const [localLoading, setLocalLoading] = useState(null); // 'approve', 'reject', 'wait'\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('cs-CZ', {\n      style: 'currency',\n      currency: 'CZK',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  const handleAction = async (action, handler) => {\n    setLocalLoading(action);\n    try {\n      await handler(order);\n    } finally {\n      setLocalLoading(null);\n    }\n  };\n\n  const maxCena = parseFloat(order.max_cena_s_dph || 0);\n  \n  //  Zdroj financovn - parsovn a zobrazen detail\n  let zdrojFinancovani = 'Neuvedeno';\n  let financovaniDetail = null;\n  let financovaniData = null;\n  \n  if (order.financovani) {\n    // Parsovat financovani objekt\n    if (typeof order.financovani === 'object') {\n      financovaniData = order.financovani;\n    } else if (typeof order.financovani === 'string') {\n      try {\n        financovaniData = JSON.parse(order.financovani);\n      } catch {\n        // Nen JSON, pouij jako string\n        zdrojFinancovani = order.financovani;\n      }\n    }\n    \n    if (financovaniData) {\n      // Zskat TYP financovn (kod_stavu nebo typ)\n      const typKod = financovaniData.kod_stavu || financovaniData.typ || '';\n      \n      // Mapovn kod na lidsk nzvy (podle OrderForm25 financovaniOptions)\n      const typyFinancovaniMap = {\n        'LP': 'Limitovan pslib',\n        'SMLOUVA': 'Smlouva',\n        'INDIVIDUALNI_SCHVALENI': 'Individuln schvlen',\n        'INDIVIDUALNI': 'Individuln schvlen',\n        'POJISTNA_UDALOST': 'Pojistn udlost',\n        'POJISTNE_UDALOSTI': 'Pojistn udlost'\n      };\n      \n      // Nzev zdroje - priorita: nazev_stavu > nazev > mapovn z kdu > kd\n      zdrojFinancovani = financovaniData.nazev_stavu \n        || financovaniData.nazev \n        || typyFinancovaniMap[typKod] \n        || typKod \n        || 'Neuvedeno';\n      \n      // Detail podle typu\n      if (typKod === 'LP') {\n        // LP kdy - zobrazit cislo_lp (zkratky) msto ID\n        if (financovaniData.lp_nazvy && Array.isArray(financovaniData.lp_nazvy)) {\n          // lp_nazvy je array objekt: [{id, cislo_lp, nazev}, ...]\n          const lpCodes = financovaniData.lp_nazvy\n            .map(lp => lp.cislo_lp || lp.id)\n            .filter(Boolean)\n            .join(', ');\n          financovaniDetail = lpCodes || 'LP';\n        } else if (financovaniData.lp_kody && Array.isArray(financovaniData.lp_kody)) {\n          // Fallback: zobrazit ID\n          financovaniDetail = financovaniData.lp_kody.join(', ');\n        }\n      } else if (typKod === 'SMLOUVA' && financovaniData.cislo_smlouvy) {\n        // slo smlouvy\n        financovaniDetail = financovaniData.cislo_smlouvy;\n      } else if ((typKod === 'INDIVIDUALNI_SCHVALENI' || typKod === 'INDIVIDUALNI') && financovaniData.individualni_schvaleni) {\n        // Individuln schvlen\n        financovaniDetail = financovaniData.individualni_schvaleni;\n      } else if ((typKod === 'POJISTNA_UDALOST' || typKod === 'POJISTNE_UDALOSTI') && financovaniData.pojistna_udalost_cislo) {\n        // Pojistn udlost\n        financovaniDetail = financovaniData.pojistna_udalost_cislo;\n      }\n    }\n  } else if (order.zpusob_financovani) {\n    zdrojFinancovani = order.zpusob_financovani;\n  }\n  \n  const predmet = order.predmet || 'Bez nzvu';\n  const orderNumber = order.cislo_objednavky || order.ev_cislo || `#${order.id}`;\n  const isMimoradna = order.mimoradna_udalost === 1 || order.mimoradna_udalost === true;\n  \n  //  Objednatel - enriched data jsou pmo v order.objednatel (ne v _enriched)\n  let objednatel = 'Neznm';\n  if (order.objednatel?.cele_jmeno) {\n    objednatel = order.objednatel.cele_jmeno;\n  } else if (order._enriched?.objednatel?.cele_jmeno) {\n    objednatel = order._enriched.objednatel.cele_jmeno;\n  } else if (order.objednatel_cele_jmeno) {\n    objednatel = order.objednatel_cele_jmeno;\n  } else if (order.objednatel_jmeno) {\n    objednatel = order.objednatel_jmeno;\n  } else if (order.jmeno) {\n    objednatel = order.jmeno;\n  }\n  \n  //  Garant - enriched data jsou v order.garant_uzivatel (ne _enriched.garant)\n  let garant = null;\n  if (order.garant_uzivatel?.cele_jmeno) {\n    garant = order.garant_uzivatel.cele_jmeno;\n  } else if (order._enriched?.garant?.cele_jmeno) {\n    garant = order._enriched.garant.cele_jmeno;\n  } else if (order.garant_cele_jmeno) {\n    garant = order.garant_cele_jmeno;\n  } else if (order.garant_jmeno) {\n    garant = order.garant_jmeno;\n  }\n\n  return (\n    <div className={`mobile-approval-card ${isMimoradna ? 'urgent' : ''}`}>\n      {/* Header s slem objednvky a objednatelem */}\n      <div className=\"mobile-approval-header\">\n        <span className=\"mobile-approval-number\">\n          {orderNumber}\n          {isMimoradna && <span className=\"mobile-approval-urgent-badge\"> </span>}\n        </span>\n        <span className=\"mobile-approval-objednatel\">{objednatel}</span>\n      </div>\n\n      {/* Obsah - pedmt */}\n      <div className=\"mobile-approval-subject\">\n        {predmet}\n      </div>\n\n      {/* Detaily - cena a zdroj */}\n      <div className=\"mobile-approval-details\">\n        <div className=\"mobile-approval-detail-row\">\n          {garant && (\n            <div className=\"mobile-approval-detail mobile-approval-detail-half\">\n              <span className=\"mobile-approval-label\">Garant:</span>\n              <span className=\"mobile-approval-value\">{garant}</span>\n            </div>\n          )}\n          <div className=\"mobile-approval-detail mobile-approval-detail-half\">\n            <span className=\"mobile-approval-label\">Max. cena s DPH:</span>\n            <span className=\"mobile-approval-value\">{formatCurrency(maxCena)}</span>\n          </div>\n        </div>\n        <div className=\"mobile-approval-detail\">\n          <span className=\"mobile-approval-label\">Zdroj financovn:</span>\n          <span className=\"mobile-approval-value\">\n            {financovaniDetail ? `${zdrojFinancovani} : ${financovaniDetail}` : zdrojFinancovani}\n          </span>\n        </div>\n        {order.financovani?.poznamka && (\n          <div className=\"mobile-approval-detail\">\n            <span className=\"mobile-approval-label\">Poznmka:</span>\n            <span className=\"mobile-approval-value\">{order.financovani.poznamka}</span>\n          </div>\n        )}\n      </div>\n\n      {/* Akce - 3 tvercov tlatka */}\n      <div className=\"mobile-approval-actions\">\n        <button\n          className=\"mobile-approval-btn approve\"\n          onClick={() => handleAction('approve', onApprove)}\n          disabled={loading || localLoading !== null}\n          title=\"Schvlit objednvku\"\n        >\n          {localLoading === 'approve' ? (\n            <FontAwesomeIcon icon={faSpinner} spin />\n          ) : (\n            <FontAwesomeIcon icon={faCheck} />\n          )}\n          <span>Schvlit</span>\n        </button>\n\n        <button\n          className=\"mobile-approval-btn reject\"\n          onClick={() => handleAction('reject', onReject)}\n          disabled={loading || localLoading !== null}\n          title=\"Zamtnout objednvku\"\n        >\n          {localLoading === 'reject' ? (\n            <FontAwesomeIcon icon={faSpinner} spin />\n          ) : (\n            <FontAwesomeIcon icon={faTimes} />\n          )}\n          <span>Zamtnout</span>\n        </button>\n\n        <button\n          className=\"mobile-approval-btn wait\"\n          onClick={() => handleAction('wait', onWait)}\n          disabled={loading || localLoading !== null}\n          title=\"Oznait jako ek se\"\n        >\n          {localLoading === 'wait' ? (\n            <FontAwesomeIcon icon={faSpinner} spin />\n          ) : (\n            <FontAwesomeIcon icon={faClock} />\n          )}\n          <span>ek se</span>\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default OrderApprovalCard;\n","import { useState, useEffect } from 'react';\nimport './MobileConfirmDialog.css';\n\n/**\n * Mobiln confirm dialog s podporou dark/light mode\n * \n * @param {boolean} isOpen - Zda je dialog oteven\n * @param {function} onClose - Callback pro zaven dialogu\n * @param {function} onConfirm - Callback pro potvrzen (dostane text dvodu)\n * @param {string} title - Nadpis dialogu\n * @param {string} message - Zprva v dialogu\n * @param {string} confirmText - Text potvrzovacho tlatka\n * @param {string} cancelText - Text zruovacho tlatka\n * @param {boolean} requireReason - Zda je dvod povinn\n * @param {string} reasonPlaceholder - Placeholder pro textarea\n * @param {string} variant - Barevn styl: 'danger' | 'warning' | 'primary'\n */\nfunction MobileConfirmDialog({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message,\n  confirmText = 'Potvrdit',\n  cancelText = 'Zruit',\n  requireReason = false,\n  reasonPlaceholder = 'Zadejte dvod...',\n  variant = 'primary' // 'danger' | 'warning' | 'primary'\n}) {\n  const [reason, setReason] = useState('');\n  const [error, setError] = useState('');\n\n  // Reset pi oteven/zaven\n  useEffect(() => {\n    if (isOpen) {\n      setReason('');\n      setError('');\n    }\n  }, [isOpen]);\n\n  // Zabrnit scrollovn pozad kdy je dialog oteven\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isOpen]);\n\n  const handleConfirm = () => {\n    if (requireReason && !reason.trim()) {\n      setError('Dvod je povinn');\n      return;\n    }\n    onConfirm(reason.trim());\n    onClose();\n  };\n\n  const handleCancel = () => {\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"mobile-confirm-overlay\" onClick={handleCancel}>\n      <div \n        className={`mobile-confirm-dialog ${variant}`}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Nadpis */}\n        <div className=\"mobile-confirm-header\">\n          <h3>{title}</h3>\n        </div>\n\n        {/* Obsah */}\n        <div className=\"mobile-confirm-body\">\n          {message && <p className=\"mobile-confirm-message\">{message}</p>}\n          \n          {requireReason && (\n            <div className=\"mobile-confirm-reason\">\n              <textarea\n                value={reason}\n                onChange={(e) => {\n                  setReason(e.target.value);\n                  setError('');\n                }}\n                placeholder={reasonPlaceholder}\n                rows={4}\n                autoFocus\n              />\n              {error && (\n                <div className=\"mobile-confirm-error\">\n                  {error}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Tlatka */}\n        <div className=\"mobile-confirm-actions\">\n          <button\n            className=\"mobile-confirm-btn cancel\"\n            onClick={handleCancel}\n          >\n            {cancelText}\n          </button>\n          <button\n            className={`mobile-confirm-btn confirm ${variant}`}\n            onClick={handleConfirm}\n          >\n            {confirmText}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MobileConfirmDialog;\n","/**\n *  Mobile Data Service\n * Servis pro zskvn dat pro mobiln dashboard\n * \n *  Pouv centrln hierarchyService pro konzistentn chovn s desktop verz\n */\n\nimport { listOrdersV2 } from './apiOrderV2';\nimport { listInvoices25 } from './api25invoices';\nimport cashbookAPI from './cashbookService';\nimport hierarchyService, { HierarchyModules } from './hierarchyService';\n\nconst mobileDataService = {\n  /**\n   * Hlavn metoda pro naten vech dat pro mobiln dashboard\n   * @param {Object} params - { token, username, year, userId, isAdmin }\n   * \n   * DLEIT: Pouvme STEJN API jako desktop (listOrdersV2, listInvoices25, cashbookAPI).\n   * Potme statistiky lokln ze seznam.\n   * \n   * @param {number} userId - ID aktulnho uivatele (pro filtrovn objednvek dle pikzce)\n   * @param {boolean} isAdmin - Pokud true, zobraz vechny objednvky; jinak jen ty, kde je userId pikzce\n   */\n  async getAllMobileData({ token, username, year = new Date().getFullYear(), userId = null, isAdmin = false }) {\n    try {\n      // Nati data paraleln pro rychlej natn\n      const currentMonth = new Date().getMonth() + 1; // 1-12\n      \n      console.log('[MobileData] Loading data for year:', year, 'token:', token ? 'present' : 'MISSING', 'username:', username);\n      \n      //  Naten hierarchie (pro metadata)\n      const hierarchyConfig = await hierarchyService.getHierarchyConfigCached(token, username);\n      console.log('[MobileData]  Hierarchy status:', hierarchyConfig.status, 'for orders:', hierarchyConfig.modules.orders);\n      \n      const [ordersResult, invoicesResult, cashbookResult] = await Promise.allSettled([\n        // 1. Objednvky pro dan rok - SPRVN POAD PARAMETR!\n        // listOrdersV2(filters, token, username, returnFullResponse, enriched)\n        listOrdersV2({ rok: year }, token, username, false, true),\n        \n        // 2. Faktury pro dan rok\n        listInvoices25({ token, username, year, page: 1, per_page: 1000 }),\n        \n        // 3. Pokladn knihy pro aktuln msc (pro zskn aktivnch pokladen)\n        cashbookAPI.getCashboxListByPeriod(year, currentMonth, true, true)\n      ]);\n\n      console.log('[MobileData] Orders result:', ordersResult.status, ordersResult.status === 'fulfilled' ? `${ordersResult.value?.length || 0} items` : ordersResult.reason);\n      console.log('[MobileData] Invoices result:', invoicesResult.status, invoicesResult.status === 'fulfilled' ? `${invoicesResult.value?.faktury?.length || 0} items` : invoicesResult.reason);\n      console.log('[MobileData] Cashbook result:', cashbookResult.status, cashbookResult.status === 'fulfilled' ? cashbookResult.value?.status : cashbookResult.reason);\n\n      // === OBJEDNVKY ===\n      let ordersData = null;\n      if (ordersResult.status === 'fulfilled' && Array.isArray(ordersResult.value)) {\n        console.log('[MobileData]  Processing orders from API:', ordersResult.value.length);\n        ordersData = this.calculateOrdersStats(ordersResult.value, userId, isAdmin);\n      } else {\n        console.error('[MobileData]  Orders API FAILED! Reason:', ordersResult.reason);\n        ordersData = { total: 0, totalAmount: 0, pending: { count: 0, amount: 0 }, approved: { count: 0, amount: 0 }, inProgress: { count: 0, amount: 0 }, completed: { count: 0, amount: 0 }, rejected: { count: 0, amount: 0 }, cancelled: { count: 0, amount: 0 } };\n      }\n\n      // === FAKTURY ===\n      let invoicesData = null;\n      if (invoicesResult.status === 'fulfilled' && invoicesResult.value?.faktury) {\n        console.log('[MobileData]  Processing invoices from API:', invoicesResult.value.faktury.length);\n        invoicesData = this.calculateInvoicesStats(invoicesResult.value.faktury);\n      } else {\n        console.error('[MobileData]  Invoices API FAILED! Reason:', invoicesResult.reason);\n        invoicesData = { total: 0, totalAmount: 0, paid: { count: 0, amount: 0 }, unpaid: { count: 0, amount: 0 }, overdue: { count: 0, amount: 0 }, regular: { count: 0, amount: 0 }, advance: { count: 0, amount: 0 }, corrective: { count: 0, amount: 0 }, proforma: { count: 0, amount: 0 }, creditNote: { count: 0, amount: 0 }, withoutAssignment: { count: 0, amount: 0 } };\n      }\n\n      // === POKLADNA ===\n      let cashbookData = null;\n      if (cashbookResult.status === 'fulfilled' && cashbookResult.value?.status === 'ok') {\n        console.log('[MobileData]  Processing cashbook from API');\n        cashbookData = this.calculateCashbookStats(cashbookResult.value.data);\n      } else {\n        console.error('[MobileData]  Cashbook API FAILED! Reason:', cashbookResult.reason);\n        cashbookData = { count: 0, balance: 0, pokladny: [] };\n      }\n\n      return {\n        success: true,\n        data: {\n          orders: ordersData,\n          invoices: invoicesData,\n          cashbook: cashbookData,\n          notifications: { unread: 0 }\n        },\n        // Metadata - informace o zdroji dat a obdob\n        meta: {\n          year: year,\n          period: `Rok ${year}`,\n          dataSource: {\n            orders: ordersResult.status === 'fulfilled' ? 'API' : 'MOCK',\n            invoices: invoicesResult.status === 'fulfilled' ? 'API' : 'MOCK',\n            cashbook: cashbookResult.status === 'fulfilled' ? 'API' : 'MOCK'\n          },\n          //  Hierarchie info\n          hierarchy: {\n            status: hierarchyConfig.status,\n            enabled: hierarchyConfig.enabled,\n            profileName: hierarchyConfig.profileName,\n            logic: hierarchyConfig.logic,\n            message: hierarchyService.getHierarchyInfoMessage(hierarchyConfig, HierarchyModules.ORDERS)\n          }\n        }\n      };\n    } catch (error) {\n      console.error('[MobileData]  CRITICAL ERROR loading mobile data:', error);\n      // Vrtit przdn data msto mock dat\n      return {\n        success: false,\n        error: error.message,\n        data: {\n          orders: { total: 0, totalAmount: 0, pending: { count: 0, amount: 0 }, approved: { count: 0, amount: 0 }, inProgress: { count: 0, amount: 0 }, completed: { count: 0, amount: 0 }, rejected: { count: 0, amount: 0 }, cancelled: { count: 0, amount: 0 } },\n          invoices: { total: 0, totalAmount: 0, paid: { count: 0, amount: 0 }, unpaid: { count: 0, amount: 0 }, overdue: { count: 0, amount: 0 }, regular: { count: 0, amount: 0 }, advance: { count: 0, amount: 0 }, corrective: { count: 0, amount: 0 }, proforma: { count: 0, amount: 0 }, creditNote: { count: 0, amount: 0 }, withoutAssignment: { count: 0, amount: 0 } },\n          cashbook: { count: 0, balance: 0, pokladny: [] },\n          notifications: { unread: 0 }\n        },\n        meta: {\n          year: new Date().getFullYear(),\n          period: 'ERROR',\n          dataSource: { orders: 'ERROR', invoices: 'ERROR', cashbook: 'ERROR' }\n        }\n      };\n    }\n  },\n\n  /**\n   * Pot statistiky ze seznamu objednvek - PESN PODLE ORDERS25LIST!\n   * @param {Array} orders - Seznam objednvek z API\n   * @param {number} userId - ID aktulnho uivatele (pro filtrovn objednvek dle pikzce)\n   * @param {boolean} isAdmin - Pokud true, zobraz vechny objednvky; jinak jen ty, kde je userId pikzce\n   * @returns {Object} - Statistiky ve formtu { pending: {count, amount}, ... }\n   */\n  calculateOrdersStats(orders, userId = null, isAdmin = false) {\n    // PESN KOPIE Z ORDERS25LIST - getOrderTotalPriceWithDPH\n    const getOrderAmount = (order) => {\n      const status = getOrderSystemStatus(order);\n      \n      // DOKONEN  souet faktur\n      if (status === 'DOKONCENA' || status === 'VYRIZENA' || status === 'COMPLETED') {\n        if (order.faktury && Array.isArray(order.faktury) && order.faktury.length > 0) {\n          const fakturyTotal = order.faktury.reduce((sum, faktura) => {\n            const castka = parseFloat(faktura.fa_castka || 0);\n            return sum + (isNaN(castka) ? 0 : castka);\n          }, 0);\n          if (fakturyTotal > 0) return fakturyTotal;\n        }\n      }\n      \n      // DAL FZE  souet poloek (pokud existuj)\n      // 1. Zkus vrcen pole z BE (polozky_celkova_cena_s_dph je ji souet)\n      if (order.polozky_celkova_cena_s_dph != null && order.polozky_celkova_cena_s_dph !== '') {\n        const value = parseFloat(order.polozky_celkova_cena_s_dph);\n        if (!isNaN(value) && value > 0) return value;\n      }      // 2. Spotej z poloek (Order V2 API vrac polozky pmo v order objektu)\n      if (order.polozky && Array.isArray(order.polozky) && order.polozky.length > 0) {\n        const total = order.polozky.reduce((sum, item) => {\n          const cena = parseFloat(item.cena_s_dph || 0);\n          return sum + (isNaN(cena) ? 0 : cena);\n        }, 0);\n        if (total > 0) return total;\n      }\n\n      // POTEN FZE  max_cena_s_dph (limit)\n      if (order.max_cena_s_dph != null && order.max_cena_s_dph !== '') {\n        const value = parseFloat(order.max_cena_s_dph);\n        if (!isNaN(value)) return value;\n      }\n\n      return 0;\n    };\n\n    // PESN KOPIE Z ORDERS25LIST - getOrderSystemStatus\n    const getOrderSystemStatus = (order) => {\n      // Speciln ppad pro koncepty\n      if (order.isDraft || order.je_koncept) {\n        return 'NOVA';\n      }\n\n      let systemStatus;\n\n      // Zskej stav z stav_workflow_kod (je to pole!)\n      if (order.stav_workflow_kod) {\n        try {\n          const workflowStates = Array.isArray(order.stav_workflow_kod) \n            ? order.stav_workflow_kod \n            : JSON.parse(order.stav_workflow_kod);\n          systemStatus = Array.isArray(workflowStates) \n            ? workflowStates[workflowStates.length - 1] \n            : order.stav_workflow_kod;\n        } catch {\n          systemStatus = order.stav_workflow_kod;\n        }\n      } else {\n        systemStatus = 'DRAFT';\n      }\n\n      return systemStatus;\n    };\n\n    // PESN PODLE ORDERS25LIST - vyfiltruj koncepty/drafty (nemaj reln ID) a systmovou obj id=1\n    // V Orders25List se koncepty nepotaj do celkovho potu v tabulce\n    let validOrders = orders.filter(o => o.id && o.id > 1 && !o.isLocalConcept);\n    \n    //  Filtrovn pro non-admin uivatele: zobraz jen objednvky, kde je uivatel pikzce\n    if (!isAdmin && userId) {\n      validOrders = validOrders.filter(o => o.prikazce_id === userId);\n      console.log('[MobileData] Non-admin user', userId, '- filtered to', validOrders.length, 'orders (where prikazce_id matches)');\n    }\n    \n    const total = validOrders.length;\n    const byStatus = validOrders.reduce((acc, order) => {\n      const systemStatus = getOrderSystemStatus(order);\n      acc[systemStatus] = (acc[systemStatus] || 0) + 1;\n      return acc;\n    }, {});\n\n    const totalAmount = validOrders.reduce((sum, order) => {\n      const amount = getOrderAmount(order);\n      return sum + (isNaN(amount) ? 0 : amount);\n    }, 0);\n\n    console.log('[MobileData] Stats:', { total, totalAmount, validOrders: validOrders.length, allOrders: orders.length, byStatus });\n\n    return {\n      total,\n      totalAmount,\n      // Mapovn stav - pouvme validOrders pro filtrovn\n      //  KE_SCHVALENI je legacy pozstatek - ve dle OrderV2 pouv ODESLANA_KE_SCHVALENI\n      pending: { \n        count: byStatus.ODESLANA_KE_SCHVALENI || 0, \n        amount: validOrders.filter(o => getOrderSystemStatus(o) === 'ODESLANA_KE_SCHVALENI').reduce((s, o) => s + getOrderAmount(o), 0)\n      },\n      approved: { \n        count: byStatus.SCHVALENA || 0, \n        amount: validOrders.filter(o => getOrderSystemStatus(o) === 'SCHVALENA').reduce((s, o) => s + getOrderAmount(o), 0)\n      },\n      maBytZverejnena: { \n        count: byStatus.K_UVEREJNENI_DO_REGISTRU || 0, \n        amount: validOrders.filter(o => getOrderSystemStatus(o) === 'K_UVEREJNENI_DO_REGISTRU').reduce((s, o) => s + getOrderAmount(o), 0)\n      },\n      uverejnena: { \n        count: byStatus.UVEREJNENA || 0, \n        amount: validOrders.filter(o => getOrderSystemStatus(o) === 'UVEREJNENA').reduce((s, o) => s + getOrderAmount(o), 0)\n      },\n      vecnaSpravnost: { \n        count: byStatus.VECNA_SPRAVNOST || 0, \n        amount: validOrders.filter(o => getOrderSystemStatus(o) === 'VECNA_SPRAVNOST').reduce((s, o) => s + getOrderAmount(o), 0)\n      },\n      completed: { \n        count: byStatus.DOKONCENA || 0, \n        amount: validOrders.filter(o => getOrderSystemStatus(o) === 'DOKONCENA').reduce((s, o) => s + getOrderAmount(o), 0)\n      },\n      rejected: { \n        count: byStatus.ZAMITNUTA || 0, \n        amount: validOrders.filter(o => getOrderSystemStatus(o) === 'ZAMITNUTA').reduce((s, o) => s + getOrderAmount(o), 0)\n      },\n      cancelled: { \n        count: byStatus.ZRUSENA || 0, \n        amount: validOrders.filter(o => getOrderSystemStatus(o) === 'ZRUSENA').reduce((s, o) => s + getOrderAmount(o), 0)\n      }\n    };\n  },\n\n  /**\n   * Pot statistiky ze seznamu faktur (podobn jako desktop Invoices25List)\n   * @param {Array} invoices - Seznam faktur z API\n   * @returns {Object} - Statistiky ve formtu { paid: {count, amount}, regular: {count, amount}, ... }\n   */\n  calculateInvoicesStats(invoices) {\n    const now = new Date();\n    now.setHours(0, 0, 0, 0);\n    \n    // Pomocn funkce pro uren statusu faktury\n    const getInvoiceStatus = (invoice) => {\n      if (invoice.fa_zaplacena === 1 || invoice.fa_zaplacena === true) {\n        return 'paid';\n      }\n      if (invoice.fa_datum_splatnosti) {\n        const splatnost = new Date(invoice.fa_datum_splatnosti);\n        splatnost.setHours(0, 0, 0, 0);\n        if (splatnost < now) {\n          return 'overdue';\n        }\n      }\n      return 'unpaid';\n    };\n\n    // Inicializace statistik\n    const stats = {\n      total: invoices.length,\n      totalAmount: 0,\n      // STAVY ZAPLACEN\n      paid: { count: 0, amount: 0 },\n      unpaid: { count: 0, amount: 0 },\n      overdue: { count: 0, amount: 0 },\n      // TYPY FAKTUR\n      regular: { count: 0, amount: 0 },      // BEZNA\n      advance: { count: 0, amount: 0 },      // ZALOHA\n      corrective: { count: 0, amount: 0 },   // OPRAVNA\n      proforma: { count: 0, amount: 0 },     // PROFORMA\n      creditNote: { count: 0, amount: 0 },   // DOBROPISY\n      withoutAssignment: { count: 0, amount: 0 } // BEZ_PRIRAZENI\n    };\n\n    invoices.forEach(invoice => {\n      const amount = parseFloat(invoice.fa_castka || 0);\n      stats.totalAmount += amount;\n\n      // Status zaplacen - PESN PODLE INVOICES25LIST\n      const status = getInvoiceStatus(invoice);\n      \n      // Zaplacen\n      if (status === 'paid') {\n        stats.paid.count++;\n        stats.paid.amount += amount;\n      } else {\n        // NEZAPLACENO = vechny nezaplacen (vetn po splatnosti)\n        stats.unpaid.count++;\n        stats.unpaid.amount += amount;\n        \n        // PO SPLATNOSTI = podmnoina nezaplacench\n        if (status === 'overdue') {\n          stats.overdue.count++;\n          stats.overdue.amount += amount;\n        }\n      }\n\n      // Typ faktury - bezpen zskn (PESN PODLE INVOICES25LIST!)\n      const typRaw = invoice.fa_typ;\n      const typ = (typRaw && typeof typRaw === 'string') ? typRaw.toUpperCase() : 'BEZNA';\n      switch (typ) {\n        case 'BEZNA':\n          stats.regular.count++;\n          stats.regular.amount += amount;\n          break;\n        case 'ZALOHOVA':\n          stats.advance.count++;\n          stats.advance.amount += amount;\n          break;\n        case 'OPRAVNA':\n          stats.corrective.count++;\n          stats.corrective.amount += amount;\n          break;\n        case 'PROFORMA':\n          stats.proforma.count++;\n          stats.proforma.amount += amount;\n          break;\n        case 'DOBROPIS':\n          stats.creditNote.count++;\n          stats.creditNote.amount += amount;\n          break;\n        default:\n          stats.regular.count++;\n          stats.regular.amount += amount;\n      }\n      \n      // BEZ PIAZEN = faktury bez objednvky ANI smlouvy\n      if (!invoice.objednavka_id && !invoice.smlouva_id) {\n        stats.withoutAssignment.count++;\n        stats.withoutAssignment.amount += amount;\n      }\n    });\n\n    return stats;\n  },\n\n  /**\n   * Pot statistiky z pokladnch knih\n   * @param {Object} cashboxData - Data z API (response.data)\n   * @returns {Object} - Statistiky ve formtu { count, balance, pokladny: [...] }\n   */\n  calculateCashbookStats(cashboxData) {\n    // cashboxData.pokladny obsahuje pole pokladen s piazenmi uivateli\n    const pokladny = cashboxData?.pokladny || [];\n    \n    if (pokladny.length === 0) {\n      return {\n        count: 0,\n        balance: 0,\n        pokladny: []\n      };\n    }\n\n    // Agreguj statistiky z vech pokladen\n    let totalCount = 0;\n    let totalBalance = 0;\n\n    const pokladnyList = pokladny.map(pokladna => {\n      const pocetZaznamu = parseInt(pokladna.pocet_zaznamu || 0, 10);\n      const koncovyStav = parseFloat(pokladna.koncovy_stav || 0);\n      const pocatecniStav = parseFloat(pokladna.pocatecni_stav || 0);\n      \n      //  API VRAC celkove_prijmy, celkove_vydaje, prijmy_pocet, vydaje_pocet z DB\n      const celkovePrijmy = parseFloat(pokladna.celkove_prijmy || 0);\n      const celkoveVydaje = parseFloat(pokladna.celkove_vydaje || 0);\n      const prijmyPocet = parseInt(pokladna.prijmy_pocet || 0, 10);\n      const vydajePocet = parseInt(pokladna.vydaje_pocet || 0, 10);\n      \n      totalCount += pocetZaznamu;\n      totalBalance += koncovyStav;\n\n      //  Pevod z pedchozho msce (pichz z DB)\n      const prevod = parseFloat(pokladna.prevod_z_predchoziho || 0);\n      \n      return {\n        id: pokladna.id,\n        cislo_pokladny: pokladna.cislo_pokladny,\n        nazev: pokladna.nazev,\n        pocet_zaznamu: pocetZaznamu,\n        koncovy_stav: koncovyStav,\n        pocatecni_stav: pocatecniStav,\n        prevod: prevod,\n        aktivni: pokladna.aktivni === 1 || pokladna.aktivni === '1',\n        //  PJMY A VDAJE - poty i stky z DB\n        prijmy_castka: celkovePrijmy,\n        prijmy_pocet: prijmyPocet,\n        vydaje_castka: celkoveVydaje,\n        vydaje_pocet: vydajePocet\n      };\n    });\n\n    return {\n      count: totalCount,\n      balance: totalBalance,\n      pokladny: pokladnyList\n    };\n  }\n};\n\nexport default mobileDataService;\n","import { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../../context/AuthContext';\nimport useThemeMode from '../../theme/useThemeMode';\nimport MobileHeader from './MobileHeader';\nimport MobileMenu from './MobileMenu';\nimport MobileActivityLog from './MobileActivityLog';\nimport MobileSuccessAnimation from './MobileSuccessAnimation';\nimport OrderApprovalCard from './OrderApprovalCard';\nimport MobileConfirmDialog from './MobileConfirmDialog';\nimport SplashScreen from '../SplashScreen';\nimport mobileDataService from '../../services/mobileDataService';\nimport { fetchActiveUsersWithStats } from '../../services/api2auth';\nimport { listOrdersV2, getOrderV2, updateOrderV2 } from '../../services/apiOrderV2';\nimport { getStavyWorkflow25 } from '../../services/api25orders';\nimport { getActivities, addActivity, ACTIVITY_TYPES, ENTITY_TYPES } from '../../services/activityLogService';\nimport { getStatusIcon } from '../../utils/iconMapping';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { \n  faCheckCircle, \n  faHourglassHalf, \n  faExclamationTriangle, \n  faTimesCircle \n} from '@fortawesome/free-solid-svg-icons';\nimport './MobileDashboard.css';\n\n/**\n *  Mobiln dashboard s widget dladicemi\n * Zobrazuje statistiky dle prv uivatele:\n * - Objednvky (dle stav workflow)\n * - Faktury (dle stav)\n * - Pokladna (zznamy v msci)\n * \n *  Podporuje light/dark mode dle system preference\n */\nfunction MobileDashboard() {\n  const { user: authUser, userDetail, token, username } = useContext(AuthContext);\n  //  Inicializace theme mode - automatick detekce systmovho reimu + run pepna v menu\n  const { mode } = useThemeMode();\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState({\n    orders: null,\n    invoices: null,\n    cashbook: null,\n    notifications: null\n  });\n  const [refreshing, setRefreshing] = useState(false);\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\n  const [activeUsers, setActiveUsers] = useState([]);\n  const [pendingApprovalOrders, setPendingApprovalOrders] = useState([]);\n  const [loadingApprovals, setLoadingApprovals] = useState(false);\n  const [showApprovalDetail, setShowApprovalDetail] = useState(false);\n  const [approvalFilter, setApprovalFilter] = useState('all'); // 'all' | 'normal' | 'urgent'\n  const [approvalSearchQuery, setApprovalSearchQuery] = useState('');\n  const [rejectDialogOpen, setRejectDialogOpen] = useState(false);\n  const [waitDialogOpen, setWaitDialogOpen] = useState(false);\n  const [currentOrder, setCurrentOrder] = useState(null);\n  const [stavyWorkflowMap, setStavyWorkflowMap] = useState({});\n  const [activityLogOpen, setActivityLogOpen] = useState(false);\n  const [activityCount, setActivityCount] = useState(0);\n  const [successAnimation, setSuccessAnimation] = useState({ show: false, type: 'approved', message: '' });\n\n  // Nast selnk stav workflow z DB\n  useEffect(() => {\n    const loadStavy = async () => {\n      if (!token || !username) return;\n      \n      // Guard - zkontrolovat, e funkce existuje\n      if (typeof getStavyWorkflow25 !== 'function') {\n        console.error('[MobileDashboard] getStavyWorkflow25 nen dostupn funkce!');\n        return;\n      }\n      \n      try {\n        const stavy = await getStavyWorkflow25({ token, username });\n        setStavyWorkflowMap(stavy || {});\n        console.log('[MobileDashboard] selnk stav naten:', Object.keys(stavy || {}).length, 'stav');\n      } catch (error) {\n        console.error('[MobileDashboard] Chyba natn selnku stav:', error);\n      }\n    };\n    loadStavy();\n  }, [token, username]);\n\n  // Helper funkce pro zskn nzvu stavu z selnku\n  const getStavObjednavky = (workflowKod) => {\n    const stavZCiselniku = stavyWorkflowMap[workflowKod];\n    console.log('[getStavObjednavky]', workflowKod, '', stavZCiselniku ? stavZCiselniku.nazev : 'FALLBACK');\n    if (stavZCiselniku) {\n      return stavZCiselniku.nazev;\n    }\n    // Fallback hodnoty - MLY BY SE POUVAT POUZE PI CHYB NATEN\n    const fallbackMap = {\n      'SCHVALENA': 'Schvlen',\n      'ZAMITNUTA': 'Zamtnut',\n      'CEKA_SE': 'ek se',\n      'ODESLANA_KE_SCHVALENI': 'Ke schvlen',\n      'NOVA': 'Nov'\n    };\n    return fallbackMap[workflowKod] || workflowKod;\n  };\n\n  // Helper funkce pro MySQL datetime formt\n  const toMySQLDateTime = () => {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, '0');\n    const day = String(now.getDate()).padStart(2, '0');\n    const hours = String(now.getHours()).padStart(2, '0');\n    const minutes = String(now.getMinutes()).padStart(2, '0');\n    const seconds = String(now.getSeconds()).padStart(2, '0');\n    return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n  };\n\n  // Sestavme user objekt pro kompatibilitu\n  const user = authUser ? {\n    ...authUser,\n    displayName: userDetail?.jmeno_prijmeni_titul || userDetail?.jmeno_prijmeni || authUser.username,\n    mail: userDetail?.email || '',\n    upn: authUser.username\n  } : null;\n\n  // Kontrola admin funkce role\n  const isAdmin = userDetail?.roles?.some(role => \n    role.kod_role === 'SUPERADMIN' || role.kod_role === 'ADMINISTRATOR'\n  ) || false;\n\n  // Kontrola oprvnn ke schvalovn (ADMIN nebo m prvo APPROVE)\n  const canApprove = isAdmin || userDetail?.permissions?.some(p => \n    p.kod_opravneni === 'ORDER_APPROVE'\n  ) || false;\n\n  // Scroll s offsetem pro fixn hlaviku (60px) + nav bar (48px) + 8px mezera = 116px\n  const scrollToSection = (sectionName) => {\n    const element = document.querySelector(`[data-section=\"${sectionName}\"]`);\n    if (element) {\n      const remInPx = parseFloat(getComputedStyle(document.documentElement).fontSize);\n      const extraSpace = 0.5 * remInPx; // 0.5em v pixelech\n      const offsetTop = element.offsetTop - 108 - extraSpace;\n      window.scrollTo({\n        top: offsetTop,\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  useEffect(() => {\n    loadInitialData();\n    loadActivityCount();\n  }, [selectedYear]);\n\n  // Nast poet aktivit\n  const loadActivityCount = () => {\n    const activities = getActivities();\n    setActivityCount(activities.length);\n  };\n\n  // Navigace z menu\n  const handleNavigate = (target) => {\n    if (target === 'dashboard') {\n      // Zavt approval detail pokud je oteven a vrtit na dashboard\n      setShowApprovalDetail(false);\n      // Scroll na zatek\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n      // Refresh dat BEZ loading gate (na pozad)\n      loadDashboardData();\n      loadActivityCount();\n    } else if (target === 'activity') {\n      // Otevt historii aktivit\n      setActivityLogOpen(true);\n    }\n  };\n\n  const loadInitialData = async () => {\n    try {\n      setLoading(true);\n      await loadDashboardData();\n    } catch (error) {\n      // Error handled silently\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadActiveUsers = async () => {\n    if (!token || !username || !isAdmin) return;\n    \n    try {\n      const users = await fetchActiveUsersWithStats({ token, username });\n      setActiveUsers(users || []);\n    } catch (error) {\n      console.error('[MobileDashboard] Error loading active users:', error);\n    }\n  };\n\n  // Nast objednvky ke schvlen (pouze pro uivatele s prvy)\n  const loadPendingApprovals = async () => {\n    if (!token || !username || !canApprove) {\n      return;\n    }\n    \n    if (!userDetail?.id) {\n      return;\n    }\n    \n    try {\n      setLoadingApprovals(true);\n      // Nati VECHNY objednvky z aktulnho roku\n      const orders = await listOrdersV2({ rok: selectedYear }, token, username, false, true);\n      \n      if (Array.isArray(orders)) {\n        // Debug: kolik objednvek m ODESLANA_KE_SCHVALENI\n        const allPending = orders.filter(order => {\n          if (!order.id || order.id <= 1) return false;\n          try {\n            const workflowStates = Array.isArray(order.stav_workflow_kod) \n              ? order.stav_workflow_kod \n              : JSON.parse(order.stav_workflow_kod || '[]');\n            return Array.isArray(workflowStates) && workflowStates.includes('ODESLANA_KE_SCHVALENI');\n          } catch {\n            return false;\n          }\n        });\n        \n        // Vyfiltruj pouze objednvky ve stavu ODESLANA_KE_SCHVALENI\n        // A kde je aktuln uivatel pikzce (prikazce_id == userDetail.id)\n        const pending = allPending.filter(order => {\n          return order.prikazce_id === userDetail?.id;\n        });\n        \n        setPendingApprovalOrders(pending);\n      }\n    } catch (error) {\n      setPendingApprovalOrders([]);\n    } finally {\n      setLoadingApprovals(false);\n    }\n  };\n\n  const loadDashboardData = async () => {\n    try {\n      // Pokud nemme token, zobraz przdn data\n      if (!token || !username) {\n        setData({\n          orders: null,\n          invoices: null,\n          cashbook: null,\n          notifications: { unread: 0 }\n        });\n        return;\n      }\n\n      console.log('[MobileDashboard] Loading real data for year:', selectedYear, 'token:', token ? 'present' : 'MISSING', 'username:', username);\n\n      // Nati ostr data s tokenem\n      const result = await mobileDataService.getAllMobileData({ \n        token, \n        username,\n        year: selectedYear,\n        userId: userDetail?.id,  // Pro filtrovn objednvek podle pikzce (non-admin)\n        isAdmin: isAdmin         // Admin vid vechny objednvky\n      });\n      \n      console.log('[MobileDashboard] Result received:', result);\n      console.log('[MobileDashboard] Data sources:', result.meta?.dataSource);\n      \n      if (result.success) {\n        setData(result.data);\n        // Nati aktivn uivatele pro adminy\n        if (isAdmin) {\n          await loadActiveUsers();\n        }\n        // Nati objednvky ke schvlen (pokud m prva)\n        if (canApprove) {\n          await loadPendingApprovals();\n        }\n      }\n    } catch (error) {\n      // Error handled silently\n    }\n  };\n\n  const handleManualRefresh = async () => {\n    setRefreshing(true);\n    await loadDashboardData();\n    setRefreshing(false);\n  };\n\n  // Schvlen objednvky\n  const handleApproveOrder = async (order) => {\n    if (!token || !username || !order.id) return;\n    \n    try {\n      // Nati aktuln objednvku\n      const currentOrder = await getOrderV2(order.id, token, username, true);\n      if (!currentOrder) {\n        alert('Objednvku se nepodailo nast');\n        return;\n      }\n\n      // Zpracuj workflow stavy\n      let workflowStates = [];\n      try {\n        workflowStates = Array.isArray(currentOrder.stav_workflow_kod)\n          ? currentOrder.stav_workflow_kod\n          : JSON.parse(currentOrder.stav_workflow_kod || '[]');\n      } catch {\n        workflowStates = [];\n      }\n\n      // Odstra ODESLANA_KE_SCHVALENI, CEKA_SE, ZAMITNUTA\n      workflowStates = workflowStates.filter(s => \n        !['ODESLANA_KE_SCHVALENI', 'CEKA_SE', 'ZAMITNUTA'].includes(s)\n      );\n\n      // Pidej SCHVALENA\n      if (!workflowStates.includes('SCHVALENA')) {\n        workflowStates.push('SCHVALENA');\n      }\n\n      // Aktualizuj objednvku\n      const updateData = {\n        stav_workflow_kod: JSON.stringify(workflowStates),\n        stav_objednavky: getStavObjednavky('SCHVALENA'),\n        schvalovatel_id: userDetail?.id || null,\n        dt_schvaleni: toMySQLDateTime(),\n        schvaleni_komentar: '' // Vymazat koment pi schvlen\n      };\n\n      await updateOrderV2(order.id, updateData, token, username);\n      \n      // Zaznamenat aktivitu\n      addActivity({\n        entityType: ENTITY_TYPES.ORDER,\n        entityId: order.ev_cislo || order.cislo_objednavky || order.id,\n        activityType: ACTIVITY_TYPES.ORDER_APPROVED,\n        title: order.nazev_obj || `Objednvka ${order.ev_cislo || order.cislo_objednavky || order.id}`,\n        amount: order.castka_obj || null,\n        userName: username,\n        description: ' Objednvka byla schvlena',\n        metadata: { \n          orderNumber: order.ev_cislo || order.cislo_objednavky,\n          orderId: order.id \n        }\n      });\n      \n      // Zobrazit success animaci\n      setSuccessAnimation({\n        show: true,\n        type: 'approved',\n        message: ' Objednvka schvlena!'\n      });\n      \n      // Obnovit seznam a poet aktivit\n      await loadPendingApprovals();\n      await loadDashboardData();\n      loadActivityCount();\n    } catch (error) {\n      alert(`Chyba: ${error.message || 'Nepodailo se schvlit objednvku'}`);\n    }\n  };\n\n  // Zamtnut objednvky - oteven dialogu\n  const handleRejectOrder = (order) => {\n    setCurrentOrder(order);\n    setRejectDialogOpen(true);\n  };\n\n  // Potvrzen zamtnut\n  const confirmRejectOrder = async (reason) => {\n    if (!token || !username || !currentOrder?.id) {\n      setRejectDialogOpen(false);\n      return;\n    }\n    \n    try {\n      // Nati aktuln objednvku pro zskn fresh dat\n      const freshOrder = await getOrderV2(currentOrder.id, token, username, true);\n      if (!freshOrder) {\n        alert('Objednvku se nepodailo nast');\n        setRejectDialogOpen(false);\n        return;\n      }\n\n      // Zpracuj workflow stavy\n      let workflowStates = [];\n      try {\n        workflowStates = Array.isArray(freshOrder.stav_workflow_kod)\n          ? freshOrder.stav_workflow_kod\n          : JSON.parse(freshOrder.stav_workflow_kod || '[]');\n      } catch {\n        workflowStates = [];\n      }\n\n      // Odstra ODESLANA_KE_SCHVALENI, CEKA_SE, SCHVALENA\n      workflowStates = workflowStates.filter(s => \n        !['ODESLANA_KE_SCHVALENI', 'CEKA_SE', 'SCHVALENA'].includes(s)\n      );\n\n      // Pidej ZAMITNUTA\n      if (!workflowStates.includes('ZAMITNUTA')) {\n        workflowStates.push('ZAMITNUTA');\n      }\n\n      // Aktualizuj objednvku\n      const updateData = {\n        stav_workflow_kod: JSON.stringify(workflowStates),\n        stav_objednavky: getStavObjednavky('ZAMITNUTA'),\n        schvalovatel_id: userDetail?.id || null,\n        dt_schvaleni: toMySQLDateTime(),\n        schvaleni_komentar: reason\n      };\n\n      await updateOrderV2(currentOrder.id, updateData, token, username);\n      \n      // Zaznamenat aktivitu\n      addActivity({\n        entityType: ENTITY_TYPES.ORDER,\n        entityId: currentOrder.ev_cislo || currentOrder.cislo_objednavky || currentOrder.id,\n        activityType: ACTIVITY_TYPES.ORDER_REJECTED,\n        title: currentOrder.nazev_obj || `Objednvka ${currentOrder.ev_cislo || currentOrder.cislo_objednavky || currentOrder.id}`,\n        amount: currentOrder.castka_obj || null,\n        userName: username,\n        description: ` Objednvka byla zamtnuta${reason ? `: ${reason}` : ''}`,\n        metadata: { \n          orderNumber: currentOrder.ev_cislo || currentOrder.cislo_objednavky,\n          orderId: currentOrder.id \n        }\n      });\n      \n      // Zobrazit success animaci\n      setSuccessAnimation({\n        show: true,\n        type: 'rejected',\n        message: ' Objednvka zamtnuta'\n      });\n      \n      // Zavt dialog a obnovit seznam\n      setRejectDialogOpen(false);\n      setCurrentOrder(null);\n      await loadPendingApprovals();\n      await loadDashboardData();\n      loadActivityCount();\n    } catch (error) {\n      alert(`Chyba: ${error.message || 'Nepodailo se zamtnout objednvku'}`);\n      setRejectDialogOpen(false);\n    }\n  };\n\n  // Oznait jako \"ek se\" - oteven dialogu\n  const handleWaitOrder = (order) => {\n    setCurrentOrder(order);\n    setWaitDialogOpen(true);\n  };\n\n  // Potvrzen pozastaven\n  const confirmWaitOrder = async (reason) => {\n    if (!token || !username || !currentOrder?.id) {\n      setWaitDialogOpen(false);\n      return;\n    }\n    \n    try {\n      // Nati aktuln objednvku pro zskn fresh dat\n      const freshOrder = await getOrderV2(currentOrder.id, token, username, true);\n      if (!freshOrder) {\n        alert('Objednvku se nepodailo nast');\n        setWaitDialogOpen(false);\n        return;\n      }\n\n      // Zpracuj workflow stavy\n      let workflowStates = [];\n      try {\n        workflowStates = Array.isArray(freshOrder.stav_workflow_kod)\n          ? freshOrder.stav_workflow_kod\n          : JSON.parse(freshOrder.stav_workflow_kod || '[]');\n      } catch {\n        workflowStates = [];\n      }\n\n      // Odstra ODESLANA_KE_SCHVALENI, SCHVALENA, ZAMITNUTA\n      workflowStates = workflowStates.filter(s => \n        !['ODESLANA_KE_SCHVALENI', 'SCHVALENA', 'ZAMITNUTA'].includes(s)\n      );\n\n      // Pidej CEKA_SE\n      if (!workflowStates.includes('CEKA_SE')) {\n        workflowStates.push('CEKA_SE');\n      }\n\n      // Aktualizuj objednvku\n      const updateData = {\n        stav_workflow_kod: JSON.stringify(workflowStates),\n        stav_objednavky: getStavObjednavky('CEKA_SE'),\n        schvalovatel_id: userDetail?.id || null,\n        dt_schvaleni: toMySQLDateTime(),\n        schvaleni_komentar: reason\n      };\n      // Zaznamenat aktivitu\n      addActivity({\n        entityType: ENTITY_TYPES.ORDER,\n        entityId: currentOrder.ev_cislo || currentOrder.cislo_objednavky || currentOrder.id,\n        activityType: ACTIVITY_TYPES.ORDER_WAITING,\n        title: currentOrder.nazev_obj || `Objednvka ${currentOrder.ev_cislo || currentOrder.cislo_objednavky || currentOrder.id}`,\n        amount: currentOrder.castka_obj || null,\n        userName: username,\n        description: ` Objednvka oznaena jako \"ek se\"${reason ? `: ${reason}` : ''}`,\n        metadata: { \n          orderNumber: currentOrder.ev_cislo || currentOrder.cislo_objednavky,\n          orderId: currentOrder.id \n        }\n      });\n      \n      // Zobrazit success animaci\n      setSuccessAnimation({\n        show: true,\n        type: 'waiting',\n        message: ' Objednvka pozastavena'\n      });\n      \n      // Zavt dialog a obnovit seznam\n      setWaitDialogOpen(false);\n      setCurrentOrder(null);\n      await loadPendingApprovals();\n      await loadDashboardData();\n      loadActivityCount();\n    } catch (error) {\n      alert(`Chyba: ${error.message || 'Nepodailo se pozastavit objednvku'}`);\n      setWaitDialogOpen(false);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('cs-CZ', {\n      style: 'currency',\n      currency: 'CZK',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  // Bhem natn zobrazme SplashScreen\n  if (loading) {\n    return <SplashScreen message={refreshing ? \"Obnovuji data...\" : \"Natm dashboard...\"} />;\n  }\n\n  // Notifikace - poet nepetench\n  const notificationCount = data.notifications?.unread || 0;\n\n  // Sestaven widget pro objednvky\n  //  IKONY z desktop modulu (Orders25List.js + iconMapping.js)\n  const orderWidgets = [];\n  if (data.orders) {\n    // KE SCHVLEN - vdy zobrazit (i kdy 0)\n    orderWidgets.push({\n      id: 'orders-pending',\n      title: 'Ke schvlen',\n      count: data.orders.pending?.count || 0,\n      amount: data.orders.pending?.amount || 0,\n      icon: getStatusIcon('ke_schvaleni'), //  Desktop: faHourglassHalf\n      color: 'orange',\n      category: 'orders'\n    });\n    \n    if (data.orders.approved?.count > 0) {\n      orderWidgets.push({\n        id: 'orders-approved',\n        title: 'Schvleno',\n        count: data.orders.approved.count,\n        amount: data.orders.approved.amount,\n        icon: getStatusIcon('schvalena'), //  Desktop: faCheckCircle\n        color: 'green',\n        category: 'orders'\n      });\n    }\n    \n    // M BT ZVEEJNNA - vdy zobrazit (i kdy 0)\n    orderWidgets.push({\n      id: 'orders-ma-byt-zverejnena',\n      title: 'M bt zveejnna',\n      count: data.orders.maBytZverejnena?.count || 0,\n      amount: data.orders.maBytZverejnena?.amount || 0,\n      icon: getStatusIcon('k_uverejneni_do_registru'), // Desktop icon\n      color: 'teal',\n      category: 'orders'\n    });\n    \n    // UVEEJNN - vdy zobrazit (i kdy 0)\n    orderWidgets.push({\n      id: 'orders-uverejnena',\n      title: 'Uveejnn',\n      count: data.orders.uverejnena?.count || 0,\n      amount: data.orders.uverejnena?.amount || 0,\n      icon: getStatusIcon('uverejnena'), // Desktop icon\n      color: 'blue',\n      category: 'orders'\n    });\n    \n    // VCN SPRVNOST\n    if (data.orders.vecnaSpravnost?.count > 0) {\n      orderWidgets.push({\n        id: 'orders-vecna-spravnost',\n        title: 'Vcn sprvnost',\n        count: data.orders.vecnaSpravnost.count,\n        amount: data.orders.vecnaSpravnost.amount,\n        icon: getStatusIcon('vecna_spravnost'), // Desktop icon\n        color: 'purple',\n        category: 'orders'\n      });\n    }\n    \n    if (data.orders.completed?.count > 0) {\n      orderWidgets.push({\n        id: 'orders-completed',\n        title: 'Dokoneno',\n        count: data.orders.completed.count,\n        amount: data.orders.completed.amount,\n        icon: getStatusIcon('dokoncena'), //  Desktop: faBullseye\n        color: 'teal',\n        category: 'orders'\n      });\n    }\n    if (data.orders.rejected?.count > 0) {\n      orderWidgets.push({\n        id: 'orders-rejected',\n        title: 'Zamtnuto',\n        count: data.orders.rejected.count,\n        amount: data.orders.rejected.amount,\n        icon: getStatusIcon('zamitnuta'), //  Desktop: faTimesCircle\n        color: 'red',\n        category: 'orders'\n      });\n    }\n    if (data.orders.cancelled?.count > 0) {\n      orderWidgets.push({\n        id: 'orders-cancelled',\n        title: 'Zrueno',\n        count: data.orders.cancelled.count,\n        amount: data.orders.cancelled.amount,\n        icon: getStatusIcon('zrusena'), //  Desktop: faTimesCircle\n        color: 'gray',\n        category: 'orders'\n      });\n    }\n  }\n\n  // Widgety pro faktury - STAVY (zaplacen)\n  //  IKONY z desktop modulu\n  const invoiceStatusWidgets = [];\n  const invoiceTypeWidgets = [];\n  \n  if (data.invoices) {\n    // === STAVY ZAPLACEN ===\n    if (data.invoices.paid?.count > 0) {\n      invoiceStatusWidgets.push({\n        id: 'invoices-paid',\n        title: 'Zaplaceno',\n        count: data.invoices.paid.count,\n        amount: data.invoices.paid.amount,\n        icon: faCheckCircle,\n        color: 'green',\n        category: 'invoices-status'\n      });\n    }\n    if (data.invoices.unpaid?.count > 0) {\n      invoiceStatusWidgets.push({\n        id: 'invoices-unpaid',\n        title: 'Nezaplaceno',\n        count: data.invoices.unpaid.count,\n        amount: data.invoices.unpaid.amount,\n        icon: faHourglassHalf,\n        color: 'orange',\n        category: 'invoices-status'\n      });\n    }\n    if (data.invoices.overdue?.count > 0) {\n      invoiceStatusWidgets.push({\n        id: 'invoices-overdue',\n        title: 'Po splatnosti',\n        count: data.invoices.overdue.count,\n        amount: data.invoices.overdue.amount,\n        icon: faExclamationTriangle,\n        color: 'red',\n        category: 'invoices-status'\n      });\n    }\n    \n    // === TYPY FAKTUR ===\n    if (data.invoices.regular?.count > 0) {\n      invoiceTypeWidgets.push({\n        id: 'invoices-regular',\n        title: 'Bn',\n        count: data.invoices.regular.count,\n        amount: data.invoices.regular.amount,\n        icon: getStatusIcon('schvalena'), //  Desktop: faCheckCircle\n        color: 'blue',\n        category: 'invoices'\n      });\n    }\n    if (data.invoices.advance?.count > 0) {\n      invoiceTypeWidgets.push({\n        id: 'invoices-advance',\n        title: 'Zlohov',\n        count: data.invoices.advance.count,\n        amount: data.invoices.advance.amount,\n        icon: getStatusIcon('ke_schvaleni'), //  Desktop: faHourglassHalf\n        color: 'purple',\n        category: 'invoices'\n      });\n    }\n    if (data.invoices.corrective?.count > 0) {\n      invoiceTypeWidgets.push({\n        id: 'invoices-corrective',\n        title: 'Opravn',\n        count: data.invoices.corrective.count,\n        amount: data.invoices.corrective.amount,\n        icon: getStatusIcon('rozpracovana'), //  Desktop: faClock\n        color: 'teal',\n        category: 'invoices'\n      });\n    }\n    if (data.invoices.proforma?.count > 0) {\n      invoiceTypeWidgets.push({\n        id: 'invoices-proforma',\n        title: 'Proforma',\n        count: data.invoices.proforma.count,\n        amount: data.invoices.proforma.amount,\n        icon: getStatusIcon('potvrzena'), //  Desktop: faShield\n        color: 'blue',\n        category: 'invoices'\n      });\n    }\n    if (data.invoices.creditNote?.count > 0) {\n      invoiceTypeWidgets.push({\n        id: 'invoices-creditnote',\n        title: 'Dobropis',\n        count: data.invoices.creditNote.count,\n        amount: data.invoices.creditNote.amount,\n        icon: getStatusIcon('zrusena'), //  Desktop: faTimesCircle\n        color: 'gray',\n        category: 'invoices'\n      });\n    }\n    //  Bez piazen (bez obj. ANI smlouvy)\n    if (data.invoices.withoutAssignment?.count > 0) {\n      invoiceTypeWidgets.push({\n        id: 'invoices-without-assignment',\n        title: 'Bez piazen',\n        count: data.invoices.withoutAssignment.count,\n        amount: data.invoices.withoutAssignment.amount,\n        icon: faTimesCircle, //  STEJN ikona jako desktop Invoices25List.js\n        color: 'gray',\n        category: 'invoices'\n      });\n    }\n  }\n\n  // Pokladny - speciln komponenta s 2x2 gridem\n  const cashbookData = [];\n  if (data.cashbook && data.cashbook.pokladny && data.cashbook.pokladny.length > 0) {\n    const pokladny = data.cashbook.pokladny;\n    \n    pokladny.forEach(pokladna => {\n      if (pokladna.aktivni) {\n        cashbookData.push({\n          id: pokladna.id,\n          cislo: pokladna.cislo_pokladny,\n          nazev: pokladna.nazev || '',\n          zaznamy: pokladna.pocet_zaznamu || 0,\n          prevod: pokladna.prevod || 0,\n          zustatek: pokladna.koncovy_stav || 0,\n          prijmy: pokladna.prijmy_pocet || 0,\n          prijmyCastka: pokladna.prijmy_castka || 0,\n          vydaje: pokladna.vydaje_pocet || 0,\n          vydajeCastka: pokladna.vydaje_castka || 0\n        });\n      }\n    });\n  }\n\n  return (\n    <div className=\"mobile-dashboard\">\n      {/* Fixn hlavika - vdy viditeln */}\n      <MobileHeader \n        onMenuClick={() => setMenuOpen(true)}\n        notificationCount={notificationCount}\n        onActivityClick={() => setActivityLogOpen(true)}\n        activityCount={activityCount}\n      />\n      \n      {/* Subheader pro approval screen */}\n      {showApprovalDetail && (\n        <div className=\"mobile-subheader\">\n          <button \n            className=\"mobile-subheader-back\"\n            onClick={() => setShowApprovalDetail(false)}\n          >\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"20\" height=\"20\">\n              <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/>\n            </svg>\n            Zpt\n          </button>\n          <h2 className=\"mobile-subheader-title\">\n            Ke schvlen ({(() => {\n              const total = pendingApprovalOrders.length;\n              const normal = pendingApprovalOrders.filter(o => !o.mimoradna_udalost).length;\n              const urgent = pendingApprovalOrders.filter(o => o.mimoradna_udalost).length;\n              \n              if (approvalFilter === 'all') {\n                return `${total}/${normal}/${urgent}`;\n              } else if (approvalFilter === 'normal') {\n                return normal;\n              } else {\n                return urgent;\n              }\n            })()})\n          </h2>\n          <div className=\"mobile-subheader-filters\">\n            <button\n              className={`mobile-filter-btn ${approvalFilter === 'all' ? 'active' : ''}`}\n              onClick={() => setApprovalFilter('all')}\n              title=\"Vechny objednvky\"\n            >\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"18\" height=\"18\">\n                <path d=\"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z\"/>\n              </svg>\n            </button>\n            <button\n              className={`mobile-filter-btn ${approvalFilter === 'normal' ? 'active' : ''}`}\n              onClick={() => setApprovalFilter('normal')}\n              title=\"Normln objednvky\"\n            >\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"18\" height=\"18\">\n                <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\n              </svg>\n            </button>\n            <button\n              className={`mobile-filter-btn ${approvalFilter === 'urgent' ? 'active' : ''}`}\n              onClick={() => setApprovalFilter('urgent')}\n              title=\"Mimodn objednvky\"\n            >\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"18\" height=\"18\">\n                <path d=\"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"/>\n              </svg>\n            </button>\n          </div>\n        </div>\n      )}\n      \n      <MobileMenu \n        isOpen={menuOpen}\n        onClose={() => setMenuOpen(false)}\n        user={user}\n        userDetail={userDetail}\n        authUser={authUser}\n        onNavigate={handleNavigate}\n      />\n\n      {/* Obsah pod fixn hlavikou */}\n      {showApprovalDetail ? (\n        <>\n          {loadingApprovals ? (\n            <div className=\"mobile-dashboard-content\">\n              <div className=\"mobile-refresh-indicator\">\n                <div className=\"spinner-circle small\"></div>\n                <span>Natm objednvky...</span>\n              </div>\n            </div>\n          ) : pendingApprovalOrders.length > 0 ? (\n            <div className=\"mobile-approval-list\">\n              <div className=\"mobile-approval-search\">\n                <div className=\"mobile-approval-search-wrapper\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Vyhledat objednvku...\"\n                    value={approvalSearchQuery}\n                    onChange={(e) => setApprovalSearchQuery(e.target.value)}\n                  />\n                  {approvalSearchQuery && (\n                    <button\n                      className=\"mobile-approval-search-clear\"\n                      onClick={() => setApprovalSearchQuery('')}\n                      title=\"Vymazat vyhledvn\"\n                    >\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"20\" height=\"20\">\n                        <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n                      </svg>\n                    </button>\n                  )}\n                </div>\n              </div>\n                {pendingApprovalOrders\n                  .filter(order => {\n                    // Filtr podle typu (normal/urgent)\n                    if (approvalFilter === 'urgent' && !order.mimoradna_udalost) return false;\n                    if (approvalFilter === 'normal' && order.mimoradna_udalost) return false;\n                    \n                    // Filtr podle vyhledvacho etzce\n                    if (approvalSearchQuery.trim()) {\n                      const query = approvalSearchQuery.toLowerCase();\n                      const orderNumber = (order.cislo_objednavky || order.ev_cislo || '').toLowerCase();\n                      const predmet = (order.predmet || '').toLowerCase();\n                      const objednatel = (order.objednatel?.cele_jmeno || '').toLowerCase();\n                      const garant = (order.garant_uzivatel?.cele_jmeno || '').toLowerCase();\n                      \n                      return orderNumber.includes(query) || \n                             predmet.includes(query) || \n                             objednatel.includes(query) ||\n                             garant.includes(query);\n                    }\n                    \n                    return true;\n                  })\n                  .map(order => (\n                  <OrderApprovalCard\n                    key={order.id}\n                    order={order}\n                    onApprove={async (order) => {\n                      await handleApproveOrder(order);\n                      if (pendingApprovalOrders.length === 1) {\n                        setShowApprovalDetail(false);\n                      }\n                    }}\n                    onReject={async (order) => {\n                      await handleRejectOrder(order);\n                      if (pendingApprovalOrders.length === 1) {\n                        setShowApprovalDetail(false);\n                      }\n                    }}\n                    onWait={async (order) => {\n                      await handleWaitOrder(order);\n                      if (pendingApprovalOrders.length === 1) {\n                        setShowApprovalDetail(false);\n                      }\n                    }}\n                    loading={loadingApprovals}\n                  />\n                ))}\n          </div>\n          ) : (\n            <div className=\"mobile-dashboard-content\">\n              <div className=\"mobile-empty-state-inline\">\n                <p> dn objednvky ke schvlen</p>\n              </div>\n            </div>\n          )}\n        </>\n      ) : (\n        <>\n          {/* Normln dashboard obsah */}\n\n          {/* Fixn rychl navigace */}\n      <nav className=\"mobile-quick-nav\">\n        {isAdmin && activeUsers.length > 0 && (\n          <button \n            className=\"mobile-quick-nav-btn\"\n            onClick={() => scrollToSection('users')}\n          >\n            UZI\n          </button>\n        )}\n        <button \n          className=\"mobile-quick-nav-btn\"\n          onClick={() => scrollToSection('orders')}\n        >\n          OBJ\n        </button>\n        <button \n          className=\"mobile-quick-nav-btn\"\n          onClick={() => scrollToSection('invoices')}\n        >\n          FAK\n        </button>\n        <button \n          className=\"mobile-quick-nav-btn\"\n          onClick={() => scrollToSection('cashbook')}\n        >\n          POK\n        </button>\n      </nav>\n\n      <main className=\"mobile-dashboard-content\">\n        {/* Pull to refresh indicator */}\n        {refreshing && (\n          <div className=\"mobile-refresh-indicator\">\n            <div className=\"spinner-circle small\"></div>\n            <span>Obnovuji data...</span>\n          </div>\n        )}\n\n        {/*  AKTIVN UIVATEL - Pouze pro ADMIN */}\n        {isAdmin && activeUsers.length > 0 && (\n          <section data-section=\"users\" className=\"mobile-widget-section\">\n            <div className=\"mobile-section-header\">\n              <h2>Aktivn uivatel</h2>\n              <div className=\"mobile-section-summary\">\n                <span className=\"mobile-summary-count\">{activeUsers.length} online</span>\n              </div>\n            </div>\n            \n            {/* Jedna velk dladice se seznamem */}\n            <div className=\"mobile-users-card\">\n              {/* Detail prvnch 5 uivatel */}\n              <div className=\"mobile-users-list\">\n                {activeUsers.slice(0, 5).map((user, index) => {\n                  const now = new Date();\n                  const activityTime = new Date(user.dt_posledni_aktivita);\n                  const diffSec = Math.floor((now - activityTime) / 1000);\n                  const diffMin = Math.floor(diffSec / 60);\n                  \n                  // Formtovn asu\n                  let timeText = '';\n                  if (diffSec < 60) {\n                    timeText = `${diffSec}s`;\n                  } else if (diffMin < 60) {\n                    timeText = `${diffMin}m`;\n                  } else {\n                    const hours = Math.floor(diffMin / 60);\n                    timeText = `${hours}h`;\n                  }\n                  \n                  // Status color\n                  const statusColor = diffSec < 270 ? '#22c55e' : diffSec < 300 ? '#f59e0b' : '#ef4444';\n                  \n                  // Formtovn data a asu\n                  const dateTimeText = activityTime.toLocaleString('cs-CZ', {\n                    day: '2-digit',\n                    month: '2-digit',\n                    hour: '2-digit',\n                    minute: '2-digit'\n                  });\n                  \n                  // Formtovn statistik\n                  const stats = user.stats || {};\n                  const statsText = [];\n                  if (stats.objednavky > 0) statsText.push(`OBJ: ${stats.objednavky}`);\n                  if (stats.faktury > 0) statsText.push(`FA: ${stats.faktury}`);\n                  if (stats.pokladna_zustatek !== null) {\n                    const zustatek = new Intl.NumberFormat('cs-CZ', {\n                      style: 'currency',\n                      currency: 'CZK',\n                      minimumFractionDigits: 0,\n                      maximumFractionDigits: 0\n                    }).format(stats.pokladna_zustatek);\n                    statsText.push(`POKL: ${zustatek}`);\n                  }\n                  \n                  return (\n                    <div key={index} className=\"mobile-user-item\">\n                      <div \n                        className=\"mobile-user-status\" \n                        style={{ background: statusColor }}\n                      />\n                      <div className=\"mobile-user-info\">\n                        <div className=\"mobile-user-row\">\n                          <span className=\"mobile-user-name\">{user.cele_jmeno || user.username}</span>\n                          <span className=\"mobile-user-time\">{dateTimeText} ({timeText})</span>\n                        </div>\n                        {statsText.length > 0 && (\n                          <span className=\"mobile-user-stats\">({statsText.join(', ')})</span>\n                        )}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n              \n              {/* Zbytek jako prost seznam */}\n              {activeUsers.length > 5 && (\n                <div className=\"mobile-users-more\">\n                  <div className=\"mobile-users-more-title\">\n                    +{activeUsers.length - 5} dalch aktivnch\n                  </div>\n                  <div className=\"mobile-users-more-list\">\n                    {activeUsers.slice(5).map((user, index) => (\n                      <span key={index} className=\"mobile-users-more-name\">\n                        {user.cele_jmeno || user.username}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </section>\n        )}\n\n        {/*  KE SCHVLEN - irok dladice 2x1 pro ADMIN nebo uivatele s prvy APPROVE */}\n        {canApprove && (loadingApprovals || pendingApprovalOrders.length > 0) && (() => {\n          const normalniCount = pendingApprovalOrders.filter(o => !o.mimoradna_udalost).length;\n          const mimoradneCount = pendingApprovalOrders.filter(o => o.mimoradna_udalost).length;\n          \n          // Vpoet celkov max ceny s DPH\n          const totalMaxPrice = pendingApprovalOrders.reduce((sum, order) => {\n            const maxPrice = parseFloat(order.max_cena_s_dph || 0);\n            return sum + (isNaN(maxPrice) ? 0 : maxPrice);\n          }, 0);\n          \n          return (\n            <section data-section=\"approvals\" className=\"mobile-widget-section\">\n              <div className=\"mobile-section-header\">\n                <h2>Objednvky ekaj na m schvlen</h2>\n              </div>\n              <div \n                className=\"mobile-approval-widget\"\n                onClick={() => !loadingApprovals && pendingApprovalOrders.length > 0 && setShowApprovalDetail(true)}\n              >\n                <div className=\"mobile-approval-widget-header\">\n                  <div className=\"mobile-approval-widget-count\">\n                    {loadingApprovals ? '...' : pendingApprovalOrders.length}\n                  </div>\n                  <div className=\"mobile-approval-widget-breakdown\">\n                    {loadingApprovals ? (\n                      <div className=\"mobile-approval-loading\">Natm...</div>\n                    ) : (\n                      <>\n                        <div className=\"mobile-approval-normal\">\n                          {normalniCount} normlnch\n                        </div>\n                        {mimoradneCount > 0 && (\n                          <div className=\"mobile-approval-urgent\">\n                            {mimoradneCount} mimodnch \n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n                  <div className=\"mobile-approval-widget-icon\">\n                    <FontAwesomeIcon icon={getStatusIcon('ke_schvaleni')} />\n                  </div>\n                </div>\n                <div className=\"mobile-approval-widget-info\">\n                  <div className=\"mobile-approval-widget-title-row\">\n                    <div className=\"mobile-approval-widget-title\">Ke schvlen</div>\n                    <div className=\"mobile-approval-widget-action\">Kliknte pro schvlen</div>\n                  </div>\n                  <div className=\"mobile-approval-widget-title-row\">\n                    <div className=\"mobile-approval-widget-subtitle\">Max. celkem s DPH</div>\n                    <div className=\"mobile-approval-widget-price\">{formatCurrency(totalMaxPrice)}</div>\n                  </div>\n                </div>\n              </div>\n            </section>\n          );\n        })()}\n\n        {/* Sekce objednvky */}\n        {orderWidgets.length > 0 && (\n          <section data-section=\"orders\" className=\"mobile-widget-section\">\n            <div className=\"mobile-section-header\">\n              <h2>Objednvky</h2>\n              <div className=\"mobile-section-summary\">\n                {data.orders.total > 0 && (\n                  <>\n                    <span className=\"mobile-summary-count\">{data.orders.total} ks</span>\n                    {data.orders.totalAmount > 0 && (\n                      <span className=\"mobile-summary-amount\">{formatCurrency(data.orders.totalAmount)}</span>\n                    )}\n                  </>\n                )}\n              </div>\n            </div>\n            <div className=\"mobile-widget-grid\">\n              {orderWidgets.map(widget => (\n                <WidgetCard key={widget.id} widget={widget} />\n              ))}\n            </div>\n          </section>\n        )}\n\n        {/* Sekce faktury - STAVY */}\n        {invoiceStatusWidgets.length > 0 && (\n          <section data-section=\"invoices\" className=\"mobile-widget-section\">\n            <div className=\"mobile-section-header\">\n              <h2>Faktury - stavy</h2>\n              <div className=\"mobile-section-summary\">\n                {data.invoices.total > 0 && (\n                  <>\n                    <span className=\"mobile-summary-count\">{data.invoices.total} ks</span>\n                    {data.invoices.totalAmount > 0 && (\n                      <span className=\"mobile-summary-amount\">{formatCurrency(data.invoices.totalAmount)}</span>\n                    )}\n                  </>\n                )}\n              </div>\n            </div>\n            <div className=\"mobile-widget-grid\">\n              {invoiceStatusWidgets.map(widget => (\n                <WidgetCard key={widget.id} widget={widget} />\n              ))}\n            </div>\n          </section>\n        )}\n\n        {/* Sekce faktury - TYPY */}\n        {invoiceTypeWidgets.length > 0 && (\n          <section className=\"mobile-widget-section\">\n            <div className=\"mobile-section-header\">\n              <h2>Faktury - typy</h2>\n            </div>\n            <div className=\"mobile-widget-grid\">\n              {invoiceTypeWidgets.map(widget => (\n                <WidgetCard key={widget.id} widget={widget} />\n              ))}\n            </div>\n          </section>\n        )}\n\n        {/* Sekce pokladna - speciln 2x2 grid */}\n        {cashbookData.length > 0 && (\n          <section data-section=\"cashbook\" className=\"mobile-widget-section\">\n            <div className=\"mobile-section-header\">\n              <h2>Pokladna</h2>\n              <div className=\"mobile-section-summary\">\n                <span className=\"mobile-summary-count\">Aktuln msc</span>\n              </div>\n            </div>\n            {cashbookData.map(pokladna => (\n              <CashbookCard key={pokladna.id} cashbook={pokladna} formatCurrency={formatCurrency} />\n            ))}\n          </section>\n        )}\n\n        {/* Przdn stav */}\n        {orderWidgets.length === 0 && invoiceStatusWidgets.length === 0 && invoiceTypeWidgets.length === 0 && cashbookData.length === 0 && (\n          <div className=\"mobile-empty-state\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n            </svg>\n            <p>dn data k zobrazen</p>\n          </div>\n        )}\n\n      </main>\n\n      {/* Fixn patika s tlatkem obnovit */}\n      <footer className=\"mobile-footer\">\n        <button \n          className=\"mobile-footer-refresh-btn\"\n          onClick={handleManualRefresh}\n          disabled={refreshing}\n        >\n          <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className={refreshing ? 'spinning' : ''}>\n            <path d=\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"/>\n          </svg>\n          <span>{refreshing ? 'Obnovuji...' : 'Obnovit data'}</span>\n        </button>\n      </footer>\n        </>\n      )}\n\n      {/* Dialogy pro schvalovn */}\n      <MobileConfirmDialog\n        isOpen={rejectDialogOpen}\n        onClose={() => setRejectDialogOpen(false)}\n        onConfirm={confirmRejectOrder}\n        title=\"Zamtnout objednvku\"\n        message={`Opravdu chcete zamtnout objednvku ${currentOrder?.cislo_objednavky || currentOrder?.ev_cislo || ''}?`}\n        confirmText=\"Zamtnout\"\n        cancelText=\"Zruit\"\n        requireReason={true}\n        reasonPlaceholder=\"Zadejte dvod zamtnut (povinn)...\"\n        variant=\"danger\"\n      />\n\n      <MobileConfirmDialog\n        isOpen={waitDialogOpen}\n        onClose={() => setWaitDialogOpen(false)}\n        onConfirm={confirmWaitOrder}\n        title=\"Pozastavit objednvku\"\n        message={`Objednvka ${currentOrder?.cislo_objednavky || currentOrder?.ev_cislo || ''} bude oznaena jako \"ek se\".`}\n        confirmText=\"Pozastavit\"\n        cancelText=\"Zruit\"\n        requireReason={true}\n        reasonPlaceholder=\"Zadejte dvod pozastaven (povinn)...\"\n        variant=\"warning\"\n      />\n\n      {/* Activity Log Panel */}\n      <MobileActivityLog \n        isOpen={activityLogOpen}\n        onClose={() => {\n          setActivityLogOpen(false);\n          loadActivityCount(); // Aktualizovat poet pi zaven\n        }}\n      />\n\n      {/* Success Animation */}\n      <MobileSuccessAnimation\n        show={successAnimation.show}\n        type={successAnimation.type}\n        message={successAnimation.message}\n        onComplete={() => setSuccessAnimation({ show: false, type: 'approved', message: '' })}\n      />\n    </div>\n  );\n}\n\n/**\n * Komponenta pro jednotlivou dladici\n *  Pouv FontAwesome ikony z desktop modulu (stejn jako Orders25List.js)\n */\n\n/**\n * Komponenta pro jednotlivou dladici\n *  Pouv FontAwesome ikony z desktop modulu (stejn jako Orders25List.js)\n */\nfunction WidgetCard({ widget }) {\n  \n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('cs-CZ', {\n      style: 'currency',\n      currency: 'CZK',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  return (\n    <div className={`mobile-widget-card ${widget.color}`}>\n      {/* Horn ada: slo + Ikona */}\n      <div className=\"mobile-widget-header\">\n        {widget.count !== null && widget.count !== undefined && (\n          <div className=\"mobile-widget-count\">{widget.count}</div>\n        )}\n        <div className=\"mobile-widget-icon\">\n          <FontAwesomeIcon icon={widget.icon} />\n        </div>\n      </div>\n      \n      {/* Nzev stavu a stka - bez mezery */}\n      <div className=\"mobile-widget-info\">\n        <div className=\"mobile-widget-title\">{widget.title}</div>\n        {widget.amount !== null && widget.amount !== undefined && (\n          <div className=\"mobile-widget-amount\">{formatCurrency(widget.amount)}</div>\n        )}\n      </div>\n      {widget.subtitle && (\n        <div className=\"mobile-widget-subtitle\">{widget.subtitle}</div>\n      )}\n    </div>\n  );\n}\n\n/**\n * Speciln komponenta pro pokladnu - 2x2 grid s pehledem\n */\nfunction CashbookCard({ cashbook, formatCurrency }) {\n  const title = cashbook.cislo ? `Pokladna ${cashbook.cislo}` : 'Pokladna';\n  \n  return (\n    <div className=\"mobile-cashbook-card\">\n      {cashbook.nazev && (\n        <div className=\"mobile-cashbook-title\">{title} - {cashbook.nazev}</div>\n      )}\n      <div className=\"mobile-cashbook-grid\">\n        {/* Pevod */}\n        <div className=\"mobile-cashbook-item\">\n          <div className=\"mobile-cashbook-label\">Pevod</div>\n          <div className=\"mobile-cashbook-value\">{formatCurrency(cashbook.prevod)}</div>\n        </div>\n        \n        {/* Zstatek */}\n        <div className=\"mobile-cashbook-item highlight\">\n          <div className=\"mobile-cashbook-label\">Zstatek</div>\n          <div className=\"mobile-cashbook-value\">{formatCurrency(cashbook.zustatek)}</div>\n        </div>\n        \n        {/* Pjmy */}\n        <div className=\"mobile-cashbook-item\">\n          <div className=\"mobile-cashbook-label\">Pjmy</div>\n          <div className=\"mobile-cashbook-count\">{cashbook.prijmy} ks</div>\n          <div className=\"mobile-cashbook-amount\">{formatCurrency(cashbook.prijmyCastka)}</div>\n        </div>\n        \n        {/* Vdaje */}\n        <div className=\"mobile-cashbook-item\">\n          <div className=\"mobile-cashbook-label\">Vdaje</div>\n          <div className=\"mobile-cashbook-count\">{cashbook.vydaje} ks</div>\n          <div className=\"mobile-cashbook-amount\">{formatCurrency(cashbook.vydajeCastka)}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MobileDashboard;\n","/**\n *  Centrln sluba pro hierarchick zen viditelnosti dat\n * \n * Univerzln sluba pro desktop i mobiln aplikaci.\n * Poskytuje jednotn API pro prci s hierarchi nap vemi moduly.\n * \n * @author GitHub Copilot & robex08\n * @date 15. prosince 2025\n * @version 1.0\n */\n\nimport { getGlobalSettings } from './globalSettingsApi';\n\n/**\n *  Typy modul, kter podporuj hierarchii\n */\nexport const HierarchyModules = {\n  ORDERS: 'orders',\n  INVOICES: 'invoices',\n  CASHBOOK: 'cashbook'\n};\n\n/**\n *  Stav hierarchie\n */\nexport const HierarchyStatus = {\n  DISABLED: 'disabled',           // Hierarchie vypnuta\n  IMMUNE: 'immune',               // Uivatel m HIERARCHY_IMMUNE prvo\n  ACTIVE: 'active',               // Hierarchie aktivn\n  NO_PROFILE: 'no_profile',       // Nen vybrn profil\n  ERROR: 'error'                  // Chyba natn\n};\n\n/**\n *  Nate nastaven hierarchie z global_settings\n * \n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<{\n *   status: string,\n *   enabled: boolean,\n *   profileId: number|null,\n *   profileName: string|null,\n *   logic: string,\n *   logicDescription: string,\n *   error?: string\n * }>}\n */\nexport const getHierarchyConfig = async (token, username) => {\n  try {\n    const settings = await getGlobalSettings(token, username);\n    \n    const enabled = Boolean(settings.hierarchy_enabled);\n    const profileId = settings.hierarchy_profile_id || null;\n    const logic = settings.hierarchy_logic || 'OR';\n    \n    //  Nast nzev profilu podle ID\n    let profileName = null;\n    if (profileId) {\n      try {\n        const { getHierarchyProfiles } = await import('./hierarchyProfilesApi');\n        const profiles = await getHierarchyProfiles(token, username);\n        const profile = profiles.find(p => p.id === parseInt(profileId, 10));\n        profileName = profile ? profile.name : null;\n      } catch (error) {\n        console.warn(' [HierarchyService] Nelze nast nzev profilu:', error);\n        // Pokrauj bez nzvu - nen kritick\n      }\n    }\n    \n    // Uren statusu\n    let status = HierarchyStatus.DISABLED;\n    if (enabled) {\n      if (!profileId) {\n        status = HierarchyStatus.NO_PROFILE;\n      } else {\n        status = HierarchyStatus.ACTIVE;\n      }\n    }\n    \n    return {\n      status,\n      enabled,\n      profileId,\n      profileName,\n      logic,\n      logicDescription: getLogicDescription(logic),\n      modules: {\n        orders: enabled && profileId !== null,\n        invoices: false, // TODO: Sprint 3\n        cashbook: false  // TODO: Sprint 2\n      }\n    };\n    \n  } catch (error) {\n    console.error(' [HierarchyService] Chyba pi natn nastaven:', error);\n    \n    return {\n      status: HierarchyStatus.ERROR,\n      enabled: false,\n      profileId: null,\n      profileName: null,\n      logic: 'OR',\n      logicDescription: getLogicDescription('OR'),\n      error: error.message,\n      modules: {\n        orders: false,\n        invoices: false,\n        cashbook: false\n      }\n    };\n  }\n};\n\n/**\n *  Zkontroluje, zda je hierarchie aktivn pro dan modul\n * \n * @param {string} module - Typ modulu (HierarchyModules.ORDERS, ...)\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<boolean>}\n */\nexport const isHierarchyActiveForModule = async (module, token, username) => {\n  try {\n    const config = await getHierarchyConfig(token, username);\n    \n    // Kontrola podle modulu\n    switch (module) {\n      case HierarchyModules.ORDERS:\n        return config.modules.orders;\n      case HierarchyModules.INVOICES:\n        return config.modules.invoices;\n      case HierarchyModules.CASHBOOK:\n        return config.modules.cashbook;\n      default:\n        console.warn(` [HierarchyService] Neznm modul: ${module}`);\n        return false;\n    }\n    \n  } catch (error) {\n    console.error(' [HierarchyService] Chyba pi kontrole modulu:', error);\n    return false;\n  }\n};\n\n/**\n *  Zsk popisn text pro logiku hierarchie\n * \n * @param {string} logic - 'OR' nebo 'AND'\n * @returns {string}\n */\nexport const getLogicDescription = (logic) => {\n  if (logic === 'AND') {\n    return 'Restriktivn (A ZROVE) - mus splovat vechny rovn souasn';\n  }\n  \n  return 'Liberln (NEBO) - sta splnit alespo jednu rove';\n};\n\n/**\n *  Vytvo informan zprvu o hierarchii pro uivatele\n * \n * @param {Object} config - Konfigurace hierarchie z getHierarchyConfig()\n * @param {string} module - Typ modulu\n * @returns {string|null} - Textov zprva nebo null\n */\nexport const getHierarchyInfoMessage = (config, module = HierarchyModules.ORDERS) => {\n  if (!config) return null;\n  \n  switch (config.status) {\n    case HierarchyStatus.DISABLED:\n      return null; // dn zprva\n      \n    case HierarchyStatus.NO_PROFILE:\n      return ' Hierarchie je zapnut, ale nen vybrn dn profil. Kontaktujte administrtora.';\n      \n    case HierarchyStatus.IMMUNE:\n      return ' Mte neomezen pstup k datm (HIERARCHY_IMMUNE).';\n      \n    case HierarchyStatus.ACTIVE:\n      const moduleName = {\n        [HierarchyModules.ORDERS]: 'objednvky',\n        [HierarchyModules.INVOICES]: 'faktury',\n        [HierarchyModules.CASHBOOK]: 'pokladnu'\n      }[module] || 'data';\n      \n      return ` Hierarchie aktivn: Vidte ${moduleName} podle organizanho du \"${config.profileName}\" (${config.logicDescription}).`;\n      \n    case HierarchyStatus.ERROR:\n      return ' Chyba pi natn hierarchie. Kontaktujte administrtora.';\n      \n    default:\n      return null;\n  }\n};\n\n/**\n *  Zsk barvu pro informan banner\n * \n * @param {Object} config - Konfigurace hierarchie\n * @returns {string} - 'info', 'warning', 'error', 'success'\n */\nexport const getHierarchyBannerColor = (config) => {\n  if (!config) return 'info';\n  \n  switch (config.status) {\n    case HierarchyStatus.DISABLED:\n      return 'info';\n    case HierarchyStatus.NO_PROFILE:\n      return 'warning';\n    case HierarchyStatus.IMMUNE:\n      return 'success';\n    case HierarchyStatus.ACTIVE:\n      return 'info';\n    case HierarchyStatus.ERROR:\n      return 'error';\n    default:\n      return 'info';\n  }\n};\n\n/**\n *  Hook pro React komponenty - nate a cachuje hierarchii\n * Pouit: const hierarchyConfig = useHierarchyConfig(token, username);\n */\nexport const createHierarchyHook = () => {\n  let cachedConfig = null;\n  let cacheTime = 0;\n  const CACHE_DURATION = 60000; // 60 sekund\n  \n  return async (token, username, forceRefresh = false) => {\n    const now = Date.now();\n    \n    if (!forceRefresh && cachedConfig && (now - cacheTime < CACHE_DURATION)) {\n      console.log(' [HierarchyService] Using cached config');\n      return cachedConfig;\n    }\n    \n    console.log(' [HierarchyService] Fetching fresh config');\n    cachedConfig = await getHierarchyConfig(token, username);\n    cacheTime = now;\n    \n    return cachedConfig;\n  };\n};\n\n// Singleton instance hooku\nexport const getHierarchyConfigCached = createHierarchyHook();\n\n/**\n *  Vyist cache hierarchie\n */\nexport const clearHierarchyCache = () => {\n  console.log(' [HierarchyService] Cache cleared');\n  // Cache se resetuje automaticky pi ptm voln\n};\n\n// Export vech funkc jako default objekt\nexport default {\n  HierarchyModules,\n  HierarchyStatus,\n  getHierarchyConfig,\n  getHierarchyConfigCached,\n  isHierarchyActiveForModule,\n  getLogicDescription,\n  getHierarchyInfoMessage,\n  getHierarchyBannerColor,\n  clearHierarchyCache\n};\n","import React from 'react';\nimport { keyframes } from '@emotion/react';\nimport styled from '@emotion/styled';\n\n// Animace pro spinner\nconst spin = keyframes`\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n`;\n\nconst fadeIn = keyframes`\n  from { opacity: 0; }\n  to { opacity: 1; }\n`;\n\nconst pulse = keyframes`\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.5; }\n`;\n\n// Styled components\nconst SplashContainer = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, #1f2a57 0%, #2c3e7a 100%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  animation: ${fadeIn} 0.3s ease-in;\n`;\n\nconst LogoContainer = styled.div`\n  margin-bottom: 2rem;\n  animation: ${fadeIn} 0.5s ease-in;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst LogoImage = styled.img`\n  width: 225px;\n  height: 225px;\n  object-fit: contain;\n  filter: drop-shadow(0 4px 20px rgba(0, 0, 0, 0.3));\n  animation: ${fadeIn} 0.6s ease-in;\n`;\n\nconst Logo = styled.div`\n  font-size: 2.5rem;\n  font-weight: 700;\n  color: #ffffff;\n  text-align: center;\n  letter-spacing: 3px;\n  text-shadow: 0 4px 20px rgba(37, 99, 235, 0.5);\n  background: linear-gradient(135deg, #ffffff 0%, #e0e7ff 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n`;\n\nconst Subtitle = styled.div`\n  font-size: 1rem;\n  color: rgba(255, 255, 255, 0.8);\n  text-align: center;\n  margin-top: 0.5rem;\n  letter-spacing: 1px;\n`;\n\nconst SpinnerContainer = styled.div`\n  margin: 2rem 0;\n`;\n\nconst Spinner = styled.div`\n  width: 50px;\n  height: 50px;\n  border: 4px solid rgba(255, 255, 255, 0.1);\n  border-top: 4px solid #ffffff;\n  border-radius: 50%;\n  animation: ${spin} 1s linear infinite;\n`;\n\nconst LoadingText = styled.div`\n  color: rgba(255, 255, 255, 0.9);\n  font-size: 0.95rem;\n  margin-top: 1.5rem;\n  animation: ${pulse} 1.5s ease-in-out infinite;\n  letter-spacing: 0.5px;\n`;\n\nconst VersionText = styled.div`\n  position: absolute;\n  bottom: 2rem;\n  color: rgba(255, 255, 255, 0.4);\n  font-size: 0.85rem;\n`;\n\n/**\n * SplashScreen - Zobrazuje se pi natn aplikace\n * @param {Object} props\n * @param {string} [props.message] - Voliteln zprva pro zobrazen\n */\nconst SplashScreen = ({ message = 'Natn aplikace...' }) => {\n  return (\n    <SplashContainer>\n      <LogoContainer>\n        <LogoImage src={`${process.env.PUBLIC_URL}/logo512.png`} alt=\"ZZS Logo\" />\n        <Logo>ERDMS</Logo>\n        <Subtitle>Systm sprvy a workflow objednvek</Subtitle>\n      </LogoContainer>\n\n      <SpinnerContainer>\n        <Spinner />\n      </SpinnerContainer>\n\n      <LoadingText>{message}</LoadingText>\n\n      <VersionText>verze {process.env.REACT_APP_VERSION || '1.86.V2.08122025 (LP financovn fix, DatePicker portal fix, UI cleanup)'}</VersionText>\n    </SplashContainer>\n  );\n};\n\nexport default SplashScreen;\n","/**\n * API sluba pro globln nastaven systmu\n * Pattern: POST s token a username v body (jako OrderV2)\n */\n\nconst API_BASE_URL = (process.env.REACT_APP_API2_BASE_URL || '/api.eeo').replace(/\\/$/, '');\n\n/**\n * Nate vechna globln nastaven\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<Object>} Objekt s nastavenmi\n */\nexport const getGlobalSettings = async (token, username) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/global-settings`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token,\n        username,\n        operation: 'get'\n      })\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    const data = result.data || result;\n    \n    return data;\n    \n  } catch (error) {\n    console.error('Chyba pi natn globlnho nastaven:', error);\n    throw error;\n  }\n};\n\n/**\n * Ulo globln nastaven\n * @param {Object} settings - Objekt s nastavenmi k uloen\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<Object>} Response z API\n */\nexport const saveGlobalSettings = async (settings, token, username) => {\n  try {\n    const payload = {\n      token,\n      username,\n      operation: 'save',\n      settings\n    };\n    \n    console.group(' SAVE GLOBAL SETTINGS');\n    console.log('Settings to save:', settings);\n    console.log('Full payload:', payload);\n    console.groupEnd();\n    \n    const response = await fetch(`${API_BASE_URL}/global-settings`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    return result;\n    \n  } catch (error) {\n    console.error('Chyba pi ukldn globlnho nastaven:', error);\n    throw error;\n  }\n};\n\n/**\n * Nate drbovou zprvu (dostupn pro vechny pihlen uivatele)\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<string>} drbov zprva\n */\nexport const getMaintenanceMessage = async (token, username) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/maintenance-message`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token,\n        username\n      })\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    return result.message || 'Systm je momentln v drb. Omlouvme se za komplikace.';\n    \n  } catch (error) {\n    console.error('Chyba pi natn drbov zprvy:', error);\n    throw error;\n  }\n};\n\n/**\n * Nate jedno konkrtn nastaven podle kle\n * @param {string} key - Kl nastaven\n * @returns {Promise<any>} Hodnota nastaven\n */\nexport const getSingleSetting = async (key) => {\n  try {\n    const token = localStorage.getItem('token');\n    \n    const response = await fetch(`${API_BASE_URL}/global-settings/${key}`, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const data = await response.json();\n    return data.value;\n    \n  } catch (error) {\n    console.error(`Chyba pi natn nastaven ${key}:`, error);\n    throw error;\n  }\n};\n\n/**\n * Zkontroluje, zda je aktivn maintenance mode\n * @returns {Promise<boolean>} True pokud je drba aktivn\n */\nexport const checkMaintenanceMode = async () => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/maintenance-status`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    \n    if (!response.ok) {\n      return false;\n    }\n    \n    const data = await response.json();\n    return data.maintenance_mode === true || data.maintenance_mode === 1;\n    \n  } catch (error) {\n    console.error('Chyba pi kontrole maintenance mode:', error);\n    return false;\n  }\n};\n","import { useState, useEffect, useCallback } from 'react';\n\n/**\n * Hook pro zen light/dark reimu\n * - auto: detekuje systmov nastaven\n * - light: vynucen svtl reim\n * - dark: vynucen tmav reim\n */\nexport const useThemeMode = () => {\n  // Preference: 'auto', 'light', 'dark'\n  const [preference, setPreference] = useState(() => {\n    if (typeof window !== 'undefined') {\n      try {\n        const stored = localStorage.getItem('app_theme_preference');\n        if (stored) return stored;\n      } catch {}\n    }\n    return 'auto';\n  });\n\n  // Aktuln reim (vypotan z preference)\n  const [mode, setMode] = useState('light');\n\n  // Detekce systmovho reimu\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    \n    const updateMode = () => {\n      if (preference === 'auto') {\n        setMode(mediaQuery.matches ? 'dark' : 'light');\n      } else {\n        setMode(preference);\n      }\n    };\n\n    updateMode();\n    mediaQuery.addEventListener('change', updateMode);\n    \n    return () => mediaQuery.removeEventListener('change', updateMode);\n  }, [preference]);\n\n  // Aplikuj reim na document\n  useEffect(() => {\n    document.documentElement.setAttribute('data-theme', mode);\n  }, [mode]);\n\n  // Uloen preference\n  useEffect(() => {\n    try {\n      localStorage.setItem('app_theme_preference', preference);\n    } catch {}\n  }, [preference]);\n\n  const setThemePreference = useCallback((pref) => {\n    setPreference(pref);\n  }, []);\n\n  const toggle = useCallback(() => {\n    setMode(m => m === 'light' ? 'dark' : 'light');\n  }, []);\n\n  return { mode, preference, setThemePreference, toggle };\n};\n\nexport default useThemeMode;","/**\n *  CENTRALIZED ICON MAPPING\n *\n * Tento modul poskytuje jednotnou logiku pro mapovn stav objednvek,\n * notifikac a dalch entit na FontAwesome ikony.\n *\n * Vechny komponenty by mly pouvat tyto funkce msto vlastnch implementac,\n * aby byla zachovna konzistence nap celou aplikac.\n */\n\nimport {\n  faPlay, faHourglassHalf, faCheckCircle, faBan, faClock,\n  faTruck, faShield, faFileContract, faStop, faPause,\n  faTimesCircle, faArchive, faInfoCircle, faExclamationCircle,\n  faBell, faExclamationTriangle, faBolt, faBullseye\n} from '@fortawesome/free-solid-svg-icons';\n\n/**\n * Mapovn stav objednvek na FontAwesome ikony\n *\n * @param {string} status - Stav objednvky (nap. 'nova', 'schvalena', 'odeslana')\n * @returns {object} FontAwesome ikona\n */\nexport const getStatusIcon = (status) => {\n  // Normalizace: odstrann diakritiky a pevod na lowercase\n  const normalizedStatus = status?.toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, ''); // Odstrann diakritiky\n\n  switch (normalizedStatus) {\n    // Zkladn stavy\n    case 'nova':\n      return faPlay;\n    case 'ke_schvaleni':\n    case 'keSchvaleni':\n      return faHourglassHalf;\n    case 'schvalena':\n      return faCheckCircle;\n    case 'zamitnuta':\n      return faTimesCircle;\n    case 'rozpracovana':\n      return faClock;\n\n    // Pracovn stavy\n    case 'odeslana':\n      return faTruck;\n    case 'potvrzena':\n      return faShield;\n    case 'uverejnena':\n    case 'registr_zverejnena':\n    case 'registrzverejnena':\n      return faFileContract;\n    case 'dokoncena':\n      return faBullseye; // Pouv se v tabulce, kompaktn reim m pmo emoji\n    case 'ceka_potvrzeni':\n    case 'cekaPotvrzeni':\n    case 'ceka_se':\n    case 'cekaSe':\n      return faPause;\n    case 'zrusena':\n      return faTimesCircle;\n    case 'archivovano':\n    case 'archivovana':\n      return faArchive;\n\n    // Kontroln stavy\n    case 'kontrola_ceka':\n    case 'cekaKontrola':\n      return faClock;\n    case 'kontrola_potvrzena':\n    case 'vecnaSpravnost':\n    case 'vecna_spravnost':\n      return faCheckCircle;\n\n    // Vchoz ikona pro neznm stavy\n    default:\n      return faInfoCircle;\n  }\n};\n\n/**\n * Mapovn typ notifikac na FontAwesome ikony\n *\n * Pro notifikace souvisejc s objednvkami se pouije ikona podle stavu.\n * Pro ostatn notifikace jsou definovny specifick ikony.\n *\n * @param {string} notificationType - Typ notifikace (nap. 'order_status_nova', 'todo_alarm')\n * @param {string} priority - Priorita notifikace ('low', 'normal', 'high', 'urgent')\n * @returns {object} FontAwesome ikona\n */\nexport const getNotificationIcon = (notificationType, priority = 'normal') => {\n  // Pokud je to notifikace o zmn stavu objednvky, pouij ikonu podle stavu\n  if (notificationType?.startsWith('order_status_')) {\n    const status = notificationType.replace('order_status_', '');\n    return getStatusIcon(status);\n  }\n\n  // Specifick typy notifikac\n  switch (notificationType) {\n    // TODO alarmy\n    case 'todo_alarm':\n      return faBell;\n    case 'todo_alarm_high':\n      return faExclamationTriangle;\n    case 'todo_alarm_expired':\n      return faExclamationCircle;\n\n    // Force unlock\n    case 'order_unlock_forced':\n      return faBolt;\n\n    // Obecn notifikace (deprecated, ale ponechno pro zptnou kompatibilitu)\n    case 'order_approved':\n      return faCheckCircle;\n    case 'order_rejected':\n      return faBan;\n    case 'order_created':\n      return faPlay;\n\n    // Vchoz podle priority\n    default:\n      return getPriorityIcon(priority);\n  }\n};\n\n/**\n * Zskn ikony podle priority notifikace\n *\n * @param {string} priority - Priorita ('low', 'normal', 'high', 'urgent')\n * @returns {object} FontAwesome ikona\n */\nexport const getPriorityIcon = (priority) => {\n  switch (priority) {\n    case 'urgent':\n    case 'high':\n      return faExclamationCircle;\n    case 'normal':\n      return faBell;\n    case 'low':\n    default:\n      return faInfoCircle;\n  }\n};\n\n/**\n * Helper funkce: Extrahuje stav objednvky z typu notifikace\n *\n * @param {string} notificationType - Typ notifikace (nap. 'order_status_schvalena')\n * @returns {string|null} Stav objednvky nebo null\n */\nexport const extractOrderStatusFromNotificationType = (notificationType) => {\n  if (!notificationType?.startsWith('order_status_')) {\n    return null;\n  }\n  return notificationType.replace('order_status_', '');\n};\n\n/**\n *  Mapovn typ notifikac na EMOJI ikony\n *\n * Pro notifikace souvisejc s objednvkami se pouije emoji podle stavu.\n * Pro ostatn notifikace jsou definovny specifick emoji.\n *\n * @param {string} notificationType - Typ notifikace (nap. 'order_status_nova', 'todo_alarm')\n * @param {string} priority - Priorita notifikace ('low', 'normal', 'high', 'urgent')\n * @returns {string} Emoji ikona\n */\nexport const getNotificationEmoji = (notificationType, priority = 'normal') => {\n  // Pokud je to notifikace o zmn stavu objednvky, pouij emoji podle stavu\n  if (notificationType?.startsWith('order_status_')) {\n    const status = notificationType.replace('order_status_', '');\n    return getStatusEmoji(status);\n  }\n\n  // Specifick typy notifikac\n  switch (notificationType) {\n    // TODO alarmy\n    case 'todo_alarm':\n      return '';\n    case 'todo_alarm_high':\n      return '';\n    case 'todo_alarm_expired':\n      return '';\n\n    // Force unlock\n    case 'order_unlock_forced':\n      return '';\n\n    // Obecn notifikace (deprecated, ale ponechno pro zptnou kompatibilitu)\n    case 'order_approved':\n      return '';\n    case 'order_rejected':\n      return '';\n    case 'order_created':\n      return '';\n\n    // Vchoz podle priority\n    default:\n      return getPriorityEmoji(priority);\n  }\n};\n\n/**\n *  Zskn emoji podle priority notifikace\n *\n * @param {string} priority - Priorita ('low', 'normal', 'high', 'urgent')\n * @returns {string} Emoji ikona\n */\nexport const getPriorityEmoji = (priority) => {\n  switch (priority) {\n    case 'urgent':\n      return '';\n    case 'high':\n      return '';\n    case 'normal':\n      return '';\n    case 'low':\n    default:\n      return '';\n  }\n};\n\n/**\n *  Helper funkce pro emoji ikony stav (pro pouit v notifikacch)\n *\n * @param {string} status - Stav objednvky\n * @returns {string} Emoji ikona\n */\nexport const getStatusEmoji = (status) => {\n  const normalizedStatus = status?.toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, ''); // Odstrann diakritiky\n\n  switch (normalizedStatus) {\n    case 'nova':\n    case 'koncept':\n      return '';\n    case 'ke_schvaleni':\n    case 'keschvaleni':\n      return '';\n    case 'schvalena':\n      return '';\n    case 'zamitnuta':\n      return '';\n    case 'rozpracovana':\n      return '';\n    case 'odeslana':\n      return '';\n    case 'potvrzena':\n      return '';\n    case 'uverejnena':\n    case 'registr_zverejnena':\n    case 'registrzverejnena':\n      return '';\n    case 'dokoncena':\n      return '';\n    case 'ceka_potvrzeni':\n    case 'cekapotvrzeni':\n      return '';\n    case 'ceka_se':\n    case 'cekase':\n      return '';\n    case 'zrusena':\n      return '';\n    case 'smazana':\n      return '';\n    case 'archivovano':\n    case 'archivovana':\n      return '';\n    case 'ceka_kontrola':\n    case 'cekakontrola':\n      return '';\n    case 'vecna_spravnost':\n    case 'vecnaspravnost':\n      return '';\n    default:\n      return '';\n  }\n};\n\n"],"names":["_ref","_fullVersion$match","title","onMenuClick","notificationCount","showBackButton","onBackClick","onActivityClick","activityCount","isLoggedIn","token","user","useContext","AuthContext","hierarchyInfo","setHierarchyInfo","useState","fullVersion","process","versionNumber","match","useEffect","username","async","_userDetail$roles","getGlobalSettings","getUserDetailApi2","settings","userDetail","id","hasImmunity","roles","some","role","_role$prava","prava","pravo","kod_prava","hierarchy_enabled","hierarchy_profile_id","profileId","enabled","isImmune","console","log","error","loadHierarchyStatus","_jsx","className","children","_jsxs","onClick","viewBox","fill","width","height","d","_Fragment","src","alt","style","fontSize","marginLeft","fontWeight","color","textShadow","opacity","FontAwesomeIcon","icon","faClockRotateLeft","_userDetail$usek_naze","_userDetail$lokalita_","isOpen","onClose","authUser","onNavigate","logout","mode","preference","setThemePreference","useThemeMode","concat","e","target","currentTarget","jmeno","charAt","toUpperCase","displayName","getFullName","parts","titul_pred","push","prijmeni","titul_za","length","join","usek_nazev","nazev","lokalita_nazev","email","mail","upn","STORAGE_KEY","ACTIVITY_TYPES","ORDER_APPROVED","ORDER_REJECTED","ORDER_WAITING","ORDER_CREATED","ORDER_UPDATED","ORDER_DELETED","INVOICE_APPROVED","INVOICE_REJECTED","INVOICE_CREATED","INVOICE_UPDATED","CASHBOOK_CREATED","CASHBOOK_UPDATED","CASHBOOK_DELETED","ENTITY_TYPES","ORDER","INVOICE","CASHBOOK","getActivities","stored","localStorage","getItem","activities","JSON","parse","now","Date","maxAge","MAX_AGE_HOURS","recentActivities","filter","activity","timestamp","setItem","stringify","sort","a","b","addActivity","entityType","entityId","activityType","amount","userName","description","metadata","newActivity","unshift","limitedActivities","slice","clearActivities","removeItem","getActivityColorClass","includes","formatTimeAgo","diff","minutes","Math","floor","hours","setActivities","loadActivities","loadedActivities","stopPropagation","faTimes","faInfoCircle","map","_activity$metadata","_activity$metadata2","orderId","faCheckCircle","faTimesCircle","faHourglassHalf","faPlusCircle","faEdit","faTrash","orderNumber","startsWith","marginBottom","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","format","handleClearAll","window","confirm","show","type","message","onComplete","animationPhase","setAnimationPhase","flyTimeout","setTimeout","completeTimeout","clearTimeout","getColorClass","getIcon","_order$objednatel","_order$_enriched","_order$_enriched$obje","_order$garant_uzivate","_order$_enriched2","_order$_enriched2$gar","_order$financovani","order","onApprove","onReject","onWait","loading","localLoading","setLocalLoading","handleAction","action","handler","maxCena","parseFloat","max_cena_s_dph","zdrojFinancovani","financovaniDetail","financovaniData","financovani","_unused","typKod","kod_stavu","typ","typyFinancovaniMap","nazev_stavu","lp_nazvy","Array","isArray","lp","cislo_lp","Boolean","lp_kody","cislo_smlouvy","individualni_schvaleni","pojistna_udalost_cislo","zpusob_financovani","predmet","cislo_objednavky","ev_cislo","isMimoradna","mimoradna_udalost","objednatel","cele_jmeno","_enriched","objednatel_cele_jmeno","objednatel_jmeno","garant","garant_uzivatel","garant_cele_jmeno","garant_jmeno","poznamka","disabled","faSpinner","spin","faCheck","faClock","onConfirm","confirmText","cancelText","requireReason","reasonPlaceholder","variant","reason","setReason","setError","document","body","overflow","handleCancel","value","onChange","placeholder","rows","autoFocus","handleConfirm","trim","getAllMobileData","year","getFullYear","userId","isAdmin","_ordersResult$value","_invoicesResult$value","_invoicesResult$value2","_cashbookResult$value","_invoicesResult$value3","_cashbookResult$value2","currentMonth","getMonth","hierarchyConfig","hierarchyService","status","modules","orders","ordersResult","invoicesResult","cashbookResult","Promise","allSettled","listOrdersV2","rok","listInvoices25","page","per_page","cashbookAPI","getCashboxListByPeriod","faktury","ordersData","this","calculateOrdersStats","total","totalAmount","pending","count","approved","inProgress","completed","rejected","cancelled","invoicesData","calculateInvoicesStats","paid","unpaid","overdue","regular","advance","corrective","proforma","creditNote","withoutAssignment","cashbookData","calculateCashbookStats","data","balance","pokladny","success","invoices","cashbook","notifications","unread","meta","period","dataSource","hierarchy","profileName","logic","HierarchyModules","ORDERS","arguments","undefined","getOrderAmount","getOrderSystemStatus","fakturyTotal","reduce","sum","faktura","castka","fa_castka","isNaN","polozky_celkova_cena_s_dph","polozky","item","cena","cena_s_dph","isDraft","je_koncept","systemStatus","stav_workflow_kod","workflowStates","validOrders","o","isLocalConcept","prikazce_id","byStatus","acc","allOrders","ODESLANA_KE_SCHVALENI","s","SCHVALENA","maBytZverejnena","K_UVEREJNENI_DO_REGISTRU","uverejnena","UVEREJNENA","vecnaSpravnost","VECNA_SPRAVNOST","DOKONCENA","ZAMITNUTA","ZRUSENA","setHours","stats","forEach","invoice","fa_zaplacena","fa_datum_splatnosti","splatnost","getInvoiceStatus","typRaw","fa_typ","objednavka_id","smlouva_id","cashboxData","totalCount","totalBalance","pokladnyList","pokladna","pocetZaznamu","parseInt","pocet_zaznamu","koncovyStav","koncovy_stav","pocatecniStav","pocatecni_stav","celkovePrijmy","celkove_prijmy","celkoveVydaje","celkove_vydaje","prijmyPocet","prijmy_pocet","vydajePocet","vydaje_pocet","prevod","prevod_z_predchoziho","cislo_pokladny","aktivni","prijmy_castka","vydaje_castka","WidgetCard","widget","subtitle","CashbookCard","_ref2","formatCurrency","cislo","zustatek","prijmy","prijmyCastka","vydaje","vydajeCastka","_userDetail$permissio","_data$notifications","menuOpen","setMenuOpen","setLoading","setData","refreshing","setRefreshing","selectedYear","setSelectedYear","activeUsers","setActiveUsers","pendingApprovalOrders","setPendingApprovalOrders","loadingApprovals","setLoadingApprovals","showApprovalDetail","setShowApprovalDetail","approvalFilter","setApprovalFilter","approvalSearchQuery","setApprovalSearchQuery","rejectDialogOpen","setRejectDialogOpen","waitDialogOpen","setWaitDialogOpen","currentOrder","setCurrentOrder","stavyWorkflowMap","setStavyWorkflowMap","activityLogOpen","setActivityLogOpen","setActivityCount","successAnimation","setSuccessAnimation","getStavyWorkflow25","stavy","Object","keys","loadStavy","getStavObjednavky","workflowKod","stavZCiselniku","toMySQLDateTime","month","String","padStart","day","getDate","getHours","getMinutes","seconds","getSeconds","_objectSpread","jmeno_prijmeni_titul","jmeno_prijmeni","kod_role","canApprove","permissions","p","kod_opravneni","scrollToSection","sectionName","element","querySelector","extraSpace","getComputedStyle","documentElement","offsetTop","scrollTo","top","behavior","loadInitialData","loadActivityCount","loadDashboardData","loadPendingApprovals","_result$meta","result","mobileDataService","users","fetchActiveUsersWithStats","loadActiveUsers","SplashScreen","orderWidgets","_data$orders$pending","_data$orders$pending2","_data$orders$approved","_data$orders$maBytZve","_data$orders$maBytZve2","_data$orders$uverejne","_data$orders$uverejne2","_data$orders$vecnaSpr","_data$orders$complete","_data$orders$rejected","_data$orders$cancelle","getStatusIcon","category","invoiceStatusWidgets","invoiceTypeWidgets","_data$invoices$paid","_data$invoices$unpaid","_data$invoices$overdu","_data$invoices$regula","_data$invoices$advanc","_data$invoices$correc","_data$invoices$profor","_data$invoices$credit","_data$invoices$withou","faExclamationTriangle","zaznamy","MobileHeader","normal","urgent","MobileMenu","query","toLowerCase","OrderApprovalCard","getOrderV2","alert","_unused2","updateData","stav_objednavky","schvalovatel_id","dt_schvaleni","schvaleni_komentar","updateOrderV2","nazev_obj","castka_obj","handleApproveOrder","handleRejectOrder","handleWaitOrder","index","activityTime","dt_posledni_aktivita","diffSec","diffMin","timeText","statusColor","dateTimeText","toLocaleString","hour","minute","statsText","objednavky","pokladna_zustatek","background","normalniCount","mimoradneCount","totalMaxPrice","maxPrice","MobileConfirmDialog","freshOrder","_unused3","_unused4","MobileActivityLog","MobileSuccessAnimation","INVOICES","HierarchyStatus","DISABLED","IMMUNE","ACTIVE","NO_PROFILE","ERROR","getHierarchyConfig","hierarchy_logic","getHierarchyProfiles","profile","find","name","warn","logicDescription","getLogicDescription","getHierarchyConfigCached","createHierarchyHook","cachedConfig","cacheTime","forceRefresh","isHierarchyActiveForModule","module","config","getHierarchyInfoMessage","moduleName","getHierarchyBannerColor","clearHierarchyCache","keyframes","_templateObject","_taggedTemplateLiteral","fadeIn","_templateObject2","pulse","_templateObject3","SplashContainer","styled","div","_templateObject4","LogoContainer","_templateObject5","LogoImage","img","_templateObject6","Logo","_templateObject7","Subtitle","_templateObject8","SpinnerContainer","_templateObject9","Spinner","_templateObject0","LoadingText","_templateObject1","VersionText","_templateObject10","API_BASE_URL","replace","response","fetch","method","headers","operation","ok","Error","statusText","json","saveGlobalSettings","payload","group","groupEnd","getMaintenanceMessage","checkMaintenanceMode","maintenance_mode","setPreference","setMode","mediaQuery","matchMedia","updateMode","matches","addEventListener","removeEventListener","setAttribute","useCallback","pref","toggle","m","normalize","faPlay","faTruck","faShield","faFileContract","faBullseye","faPause","faArchive","getNotificationEmoji","notificationType","priority","getStatusEmoji","getPriorityEmoji"],"sourceRoot":""}