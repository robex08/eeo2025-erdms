/*! For license information please see 7023.2e0709df.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkr_app_zzs_eeo=self.webpackChunkr_app_zzs_eeo||[]).push([[7023],{4509:(e,n,t)=>{t.d(n,{T_:()=>s});var r,o,a,i=t(57528),l=t(45903);const s=l.A.div(r||(r=(0,i.A)(["\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n\n  /* Tooltip element */\n  .tooltip,\n  .cache-tooltip {\n    position: absolute;\n    top: calc(100% + 10px);\n    left: 50%;\n    transform: translateX(-50%);\n    background: rgba(0, 0, 0, 0.67);\n    color: white;\n    padding: 0.5rem 0.875rem;\n    border-radius: 8px;\n    border: 1px solid rgba(255, 255, 255, 0.4);\n    font-size: 0.85rem;\n    font-weight: 600;\n    white-space: nowrap;\n    box-shadow:\n      0 6px 20px rgba(0, 0, 0, 0.4),\n      0 2px 8px rgba(0, 0, 0, 0.25),\n      inset 0 1px 0 rgba(255, 255, 255, 0.15);\n    backdrop-filter: blur(10px);\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 0.2s ease;\n    z-index: 999999;\n    line-height: 1.6;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n\n    /* Ikonka na za\u010d\xe1tku tooltip\u016f */\n    &::before {\n      content: '\u2139\ufe0f';\n      font-size: 1rem;\n      flex-shrink: 0;\n    }\n\n    /* Varianty ikon pomoc\xed data-icon atributu */\n    &[data-icon=\"info\"]::before { content: '\u2139\ufe0f'; }\n    &[data-icon=\"success\"]::before { content: '\u2705'; }\n    &[data-icon=\"warning\"]::before { content: '\u26a0\ufe0f'; }\n    &[data-icon=\"error\"]::before { content: '\u274c'; }\n    &[data-icon=\"database\"]::before { content: '\ud83d\udcbe'; }\n    &[data-icon=\"cache\"]::before { content: '\u26a1'; }\n    &[data-icon=\"time\"]::before { content: '\u23f1\ufe0f'; }\n    &[data-icon=\"calendar\"]::before { content: '\ud83d\udcc5'; }\n    &[data-icon=\"none\"]::before { content: none; }\n\n    backdrop-filter: blur(10px);\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 0.2s ease;\n    z-index: 999999;\n    line-height: 1.6;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n\n    /* \u0160ipka nahoru */\n    &::after {\n      content: '';\n      position: absolute;\n      bottom: 100%;\n      left: 50%;\n      transform: translateX(-50%);\n      border: 8px solid transparent;\n      border-bottom-color: rgba(0, 0, 0, 0.67);\n      filter: drop-shadow(0 -1px 1px rgba(0, 0, 0, 0.3));\n    }\n  }\n\n  /* Varianty pozicov\xe1n\xed */\n  .tooltip-top,\n  .tooltip.top {\n    top: auto;\n    bottom: calc(100% + 10px);\n\n    &::after {\n      bottom: auto;\n      top: 100%;\n      border-bottom-color: transparent;\n      border-top-color: rgba(0, 0, 0, 0.67);\n    }\n  }\n\n  .tooltip-right,\n  .tooltip.right {\n    top: 50%;\n    left: calc(100% + 10px);\n    transform: translateY(-50%);\n\n    &::after {\n      top: 50%;\n      left: auto;\n      right: 100%;\n      bottom: auto;\n      transform: translateY(-50%);\n      border-bottom-color: transparent;\n      border-right-color: rgba(0, 0, 0, 0.67);\n    }\n  }\n\n  .tooltip-left,\n  .tooltip.left {\n    top: 50%;\n    left: auto;\n    right: calc(100% + 10px);\n    transform: translateY(-50%);\n\n    &::after {\n      top: 50%;\n      left: 100%;\n      right: auto;\n      bottom: auto;\n      transform: translateY(-50%);\n      border-bottom-color: transparent;\n      border-left-color: rgba(0, 0, 0, 0.67);\n    }\n  }\n\n  /* Multi-line tooltips */\n  .tooltip-multiline,\n  .tooltip.multiline {\n    white-space: normal;\n    max-width: 300px;\n    text-align: center;\n  }\n\n  /* Zobrazen\xed p\u0159i hover */\n  &:hover .tooltip,\n  &:hover .cache-tooltip {\n    opacity: 1;\n  }\n"]))),d=l.A.div(o||(o=(0,i.A)(["\n  position: absolute;\n  top: calc(100% + 10px);\n  left: 50%;\n  transform: translateX(-50%);\n  background: rgba(0, 0, 0, 0.67);\n  color: white;\n  padding: 0.5rem 0.875rem;\n  border-radius: 8px;\n  border: 1px solid rgba(255, 255, 255, 0.4);\n  font-size: 0.85rem;\n  font-weight: 600;\n  white-space: nowrap;\n  box-shadow:\n    0 6px 20px rgba(0, 0, 0, 0.4),\n    0 2px 8px rgba(0, 0, 0, 0.25),\n    inset 0 1px 0 rgba(255, 255, 255, 0.15);\n  backdrop-filter: blur(10px);\n  pointer-events: none;\n  opacity: 0;\n  transition: opacity 0.2s ease;\n  z-index: 999999;\n  line-height: 1.6;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n    border: 8px solid transparent;\n    border-bottom-color: rgba(0, 0, 0, 0.67);\n    filter: drop-shadow(0 -1px 1px rgba(0, 0, 0, 0.3));\n  }\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"])),e=>e.$visible&&"\n    opacity: 1;\n  ",e=>"top"===e.$position&&"\n    top: auto;\n    bottom: calc(100% + 10px);\n\n    &::after {\n      bottom: auto;\n      top: 100%;\n      border-bottom-color: transparent;\n      border-top-color: rgba(0, 0, 0, 0.67);\n    }\n  ",e=>"right"===e.$position&&"\n    top: 50%;\n    left: calc(100% + 10px);\n    transform: translateY(-50%);\n\n    &::after {\n      top: 50%;\n      left: auto;\n      right: 100%;\n      bottom: auto;\n      transform: translateY(-50%);\n      border-bottom-color: transparent;\n      border-right-color: rgba(0, 0, 0, 0.67);\n    }\n  ",e=>"left"===e.$position&&"\n    top: 50%;\n    left: auto;\n    right: calc(100% + 10px);\n    transform: translateY(-50%);\n\n    &::after {\n      top: 50%;\n      left: 100%;\n      right: auto;\n      bottom: auto;\n      transform: translateY(-50%);\n      border-bottom-color: transparent;\n      border-left-color: rgba(0, 0, 0, 0.67);\n    }\n  ",e=>e.$multiline&&"\n    white-space: normal;\n    max-width: 300px;\n    text-align: center;\n  ");(0,l.A)(d)(a||(a=(0,i.A)(["\n  padding: 0.375rem 0.625rem;\n  font-size: 0.8rem;\n"])))},40614:(e,n,t)=>{t.d(n,{A:()=>r});const r=(0,t(77784).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},49547:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Qi});var r=t(89379),o=t(57528),a=t(65043),i=t(97950),l=t(91357),s=t(27837),d=t(32730),c=t(54736),u=t(88720),v=t(76759),p=t(51833),h=t(200),m=t(53683),g=t(33637),f=t(44649),x=t(75949),b=t(36629);const j={NOVA:{dark:"#475569",light:"#e2e8f0"},KE_SCHVALENI:{dark:"#dc2626",light:"#fecaca"},SCHVALENA:{dark:"#ea580c",light:"#fed7aa"},ZAMITNUTA:{dark:"#7c2d12",light:"#fed7aa"},ROZPRACOVANA:{dark:"#ca8a04",light:"#fef08a"},ODESLANA:{dark:"#1d4ed8",light:"#dbeafe"},POTVRZENA:{dark:"#0891b2",light:"#a5f3fc"},K_UVEREJNENI_DO_REGISTRU:{dark:"#8b5cf6",light:"#ede9fe"},UVEREJNENA:{dark:"#7c2d12",light:"#fed7aa"},CEKA_POTVRZENI:{dark:"#7c3aed",light:"#e9d5ff"},CEKA_SE:{dark:"#92400e",light:"#fef3c7"},VECNA_SPRAVNOST:{dark:"#10b981",light:"#d1fae5"},DOKONCENA:{dark:"#16a34a",light:"#bbf7d0"},ZRUSENA:{dark:"#be185d",light:"#fce7f3"},SMAZANA:{dark:"#374151",light:"#d1d5db"},ARCHIVOVANO:{dark:"#78350f",light:"#fef3c7"},TOTAL:{dark:"#14532d",light:"#dcfce7"},COUNT:{dark:"#1e3a8a",light:"#dbeafe"},WITH_INVOICES:{dark:"#0891b2",light:"#cffafe"},WITH_ATTACHMENTS:{dark:"#7c3aed",light:"#e9d5ff"}},k=e=>{if(!e)return j.NOVA;if("string"===typeof e&&j[e])return j[e];const n=(null===e||void 0===e?void 0:e.kod)||(null===e||void 0===e?void 0:e.status_kod)||e;return n&&j[n]||j.NOVA};var _=t(74714),y=t(19439);const z=(e,n)=>{if(!n)return!0;return((e,n)=>{if(!n)return!0;const t=n.trim().match(/^(>|<|=)\s*(.+)$/);if(t){const n=t[1],r=t[2].replace(/\s/g,"").replace(/,/g,"."),o=parseFloat(r);if(isNaN(o))return!1;switch(n){case">":return e>o;case"<":return e<o;case"=":return Math.abs(e-o)<.01;default:return!1}}return(e>0?e.toLocaleString("cs-CZ"):"").includes(n)})(parseFloat(e.max_cena_s_dph||0),n)},A=(e,n,t,r)=>{if(!n)return!0;const o=n.trim();if(/^[\d|]+$/.test(o)){const n=((e,n)=>{var t,r,o,a,i,l;const s=e._enriched;switch(n){case"garant":return null!==s&&void 0!==s&&null!==(t=s.garant_uzivatel)&&void 0!==t&&t.id?String(s.garant_uzivatel.id):null!==(r=e.garant)&&void 0!==r&&r.id?String(e.garant.id):e.garant_uzivatel_id?String(e.garant_uzivatel_id):null;case"prikazce":return null!==s&&void 0!==s&&null!==(o=s.prikazce_uzivatel)&&void 0!==o&&o.id?String(s.prikazce_uzivatel.id):null!==(a=e.prikazce)&&void 0!==a&&a.id?String(e.prikazce.id):e.prikazce_id?String(e.prikazce_id):null;case"schvalovatel":return null!==s&&void 0!==s&&null!==(i=s.schvalovatel_uzivatel)&&void 0!==i&&i.id?String(s.schvalovatel_uzivatel.id):null!==(l=e.schvalovatel)&&void 0!==l&&l.id?String(e.schvalovatel.id):e.schvalovatel_id?String(e.schvalovatel_id):null;default:return null}})(e,t);if(!n)return!1;return o.split("|").map(e=>e.trim()).includes(n)}{const n=((e,n,t)=>{var r,o,a,i,l,s;const d=e._enriched||{};switch(n){case"garant":if(null!==(r=e.garant)&&void 0!==r&&r.jmeno&&null!==(o=e.garant)&&void 0!==o&&o.prijmeni){const n=e.garant,t=n.titul_pred?n.titul_pred+" ":"",r=n.titul_za?", "+n.titul_za:"";return"".concat(t).concat(n.jmeno," ").concat(n.prijmeni).concat(r).replace(/\s+/g," ").trim()}return null!==d&&void 0!==d&&d.garant_uzivatel?t(null,d.garant_uzivatel):e.garant_uzivatel_id?t(e.garant_uzivatel_id):"";case"prikazce":if(null!==(a=e.prikazce)&&void 0!==a&&a.jmeno&&null!==(i=e.prikazce)&&void 0!==i&&i.prijmeni){const n=e.prikazce,t=n.titul_pred?n.titul_pred+" ":"",r=n.titul_za?", "+n.titul_za:"";return"".concat(t).concat(n.jmeno," ").concat(n.prijmeni).concat(r).replace(/\s+/g," ").trim()}return null!==d&&void 0!==d&&d.prikazce_uzivatel?t(null,d.prikazce_uzivatel):e.prikazce_id?t(e.prikazce_id):"";case"schvalovatel":if(null!==(l=e.schvalovatel)&&void 0!==l&&l.jmeno&&null!==(s=e.schvalovatel)&&void 0!==s&&s.prijmeni){const n=e.schvalovatel,t=n.titul_pred?n.titul_pred+" ":"",r=n.titul_za?", "+n.titul_za:"";return"".concat(t).concat(n.jmeno," ").concat(n.prijmeni).concat(r).replace(/\s+/g," ").trim()}return null!==d&&void 0!==d&&d.schvalovatel?t(null,d.schvalovatel):e.schvalovatel_id?t(e.schvalovatel_id):"";default:return""}})(e,t,r);return(0,_.WL)(n.toLowerCase()).includes((0,_.WL)(o.toLowerCase()))}},w=(e,n,t,r,o)=>!!((e,n,t)=>{if(!n)return!0;const r=t(e);return!!r&&(0,y.iS)(new Date(r)).toLowerCase().includes(n.toLowerCase())})(e,n.dt_objednavky,t)&&(!!((e,n)=>!n||(0,_.WL)(e.cislo_objednavky||"").includes((0,_.WL)(n)))(e,n.cislo_objednavky)&&(!!((e,n)=>!n||(0,_.WL)(e.predmet||"").includes((0,_.WL)(n)))(e,n.predmet)&&(!!((e,n,t)=>{if(!n)return!0;const r=e._enriched||{};if(/^[\d|]+$/.test(n)){var o,a,i;let t=null;return null!==r&&void 0!==r&&null!==(o=r.uzivatel)&&void 0!==o&&o.id?t=String(r.uzivatel.id):null!==(a=e.objednatel_uzivatel)&&void 0!==a&&a.id?t=String(e.objednatel_uzivatel.id):null!==(i=e.objednatel)&&void 0!==i&&i.id?t=String(e.objednatel.id):e.uzivatel_id?t=String(e.uzivatel_id):e.objednatel_id&&(t=String(e.objednatel_id)),t?n.split("|").map(e=>e.trim()).includes(t):!1}{let r="";if(e.objednatel_uzivatel)r=e.objednatel_uzivatel.cele_jmeno?e.objednatel_uzivatel.cele_jmeno:t(null,e.objednatel_uzivatel);else if(e.objednatel){const n=e.objednatel;if(n.cele_jmeno)r=n.cele_jmeno;else if(n.jmeno&&n.prijmeni){const e=n.titul_pred?n.titul_pred+" ":"",t=n.titul_za?", "+n.titul_za:"";r="".concat(e).concat(n.jmeno," ").concat(n.prijmeni).concat(t).replace(/\s+/g," ").trim()}else n.username&&(r=n.username)}else e.objednatel_id&&(r=t(e.objednatel_id));const o=(0,_.WL)(r.toLowerCase()),a=(0,_.WL)(n.toLowerCase());return o.includes(a)}})(e,n.objednatel,o)&&(!!((e,n,t)=>!n||(0,_.WL)(t(e)).includes((0,_.WL)(n)))(e,n.stav_objednavky,r)&&(!!z(e,n.max_cena_s_dph)&&(!!((e,n)=>{if(!n)return!0;const t=[e.dodavatel_nazev||"",e.dodavatel_ico||"",e.dodavatel_ulice||"",e.dodavatel_mesto||"",e.dodavatel_psc||"",e.dodavatel_kontakt_email||"",e.dodavatel_kontakt_telefon||"",e.dodavatel_kontakt_jmeno||""].join(" ").toLowerCase(),r=(0,_.WL)(t),o=(0,_.WL)(n.toLowerCase());return r.includes(o)})(e,n.dodavatel_nazev)&&(!!A(e,n.garant,"garant",o)&&(!!A(e,n.prikazce,"prikazce",o)&&!!A(e,n.schvalovatel,"schvalovatel",o))))))))),S=(e,n)=>{const t=e._enriched||{};if(t.garant_uzivatel)return n(null,t.garant_uzivatel);if(e.garant){if(e.garant.jmeno&&e.garant.prijmeni){const n=e.garant.titul_pred?e.garant.titul_pred+" ":"",t=e.garant.titul_za?", "+e.garant.titul_za:"";return"".concat(n).concat(e.garant.jmeno," ").concat(e.garant.prijmeni).concat(t).replace(/\s+/g," ").trim()}return e.garant.username||""}return e.garant_uzivatel_id?n(e.garant_uzivatel_id):""},C=(e,n)=>{const t=e._enriched||{};if(t.schvalovatel_uzivatel)return n(null,t.schvalovatel_uzivatel);if(e.schvalovatel){if(e.schvalovatel.jmeno&&e.schvalovatel.prijmeni){const n=e.schvalovatel.titul_pred?e.schvalovatel.titul_pred+" ":"",t=e.schvalovatel.titul_za?", "+e.schvalovatel.titul_za:"";return"".concat(n).concat(e.schvalovatel.jmeno," ").concat(e.schvalovatel.prijmeni).concat(t).replace(/\s+/g," ").trim()}return e.schvalovatel.username||""}return e.schvalovatel_id?n(e.schvalovatel_id):""};var N,E,O,R,D=t(65757),I=t(83910),L=t(97929),T=t(45903),$=t(28646),P=t(63974),V=t(70579);const M=T.A.div(N||(N=(0,o.A)(["\n  position: fixed;\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15), 0 4px 12px rgba(0, 0, 0, 0.1);\n  padding: 0.5rem 0;\n  min-width: 220px;\n  z-index: 999999;\n  font-size: 0.875rem;\n  /* \ud83d\udd27 ZM\u011aNA: Animace se aktivuje a\u017e po pozicov\xe1n\xed pomoc\xed opacity v style */\n  transition: opacity 0.15s ease-out;\n"]))),F=T.A.button(E||(E=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  width: 100%;\n  padding: 0.65rem 1rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  font-size: 0.875rem;\n  color: ",";\n  transition: all 0.15s;\n  text-align: left;\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    color: #94a3b8;\n\n    &:hover {\n      background: transparent;\n      color: #94a3b8;\n    }\n  }\n\n  svg {\n    width: 16px;\n    height: 16px;\n    color: ",";\n  }\n\n  &:hover svg {\n    color: ",";\n  }\n\n  &:disabled svg {\n    color: #94a3b8;\n  }\n"])),e=>e.danger?"#dc2626":e.success?"#059669":"#0f172a",e=>e.danger?"#fee2e2":e.success?"#d1fae5":"#f1f5f9",e=>e.danger?"#991b1b":e.success?"#047857":"#0369a1",e=>e.danger?"#dc2626":e.success?"#059669":"#64748b",e=>e.danger?"#991b1b":e.success?"#047857":"#0369a1"),B=T.A.div(O||(O=(0,o.A)(["\n  height: 1px;\n  background: #e2e8f0;\n  margin: 0.5rem 0;\n"]))),W=T.A.span(R||(R=(0,o.A)(["\n  flex: 1;\n  font-weight: 500;\n"]))),Z=e=>{let{x:n,y:t,order:r,onClose:o,onAddToTodo:l,onAddAlarm:s,onEdit:d,onDelete:c,onGenerateDocx:u,onGenerateFinancialControl:v,canDelete:p=!1,selectedData:h=null}=e;const m=(0,a.useRef)(null),[g,f]=(0,a.useState)(!1),[x,b]=(0,a.useState)(null),[j,k]=(0,a.useState)({left:n,top:t}),[_,y]=(0,a.useState)(!1),z=()=>{if(!r)return!1;const e=["ROZPRACOVANA","POTVRZENA","ODESLANA","UVEREJNIT","UVEREJNENA","NEUVEREJNIT","FAKTURACE","VECNA_SPRAVNOST","DOKONCENA","ZKONTROLOVANA","CEKA_SE"];let n=[],t=null,o="";try{if(r.stav_workflow_kod&&(Array.isArray(r.stav_workflow_kod)?n=r.stav_workflow_kod:"string"===typeof r.stav_workflow_kod&&(n=JSON.parse(r.stav_workflow_kod),Array.isArray(n)||(n=[])),n.length>0)){const e=n[n.length-1];"object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?(t=e.kod_stavu||e.nazev_stavu,o=e.nazev_stavu||e.kod_stavu||""):"string"===typeof e&&(t=e,o=e)}t||(t=r.stav_id_num||r.stav_id||r.stav||r.nazev_stavu,o=r.nazev_stavu||r.status_name||t)}catch(a){t=r.stav_id_num||r.stav_id||r.nazev_stavu,o=r.nazev_stavu||"",n=[]}return n.some(n=>{let t="";return"object"===typeof n&&(n.kod_stavu||n.nazev_stavu)?t=String(n.kod_stavu||n.nazev_stavu).toUpperCase().trim():"string"===typeof n&&(t=String(n).toUpperCase().trim()),e.includes(t)})},A=()=>{if(!r)return!1;let e=[],n=null;try{if(r.stav_objednavky){const e=r.stav_objednavky.toLowerCase().trim();if("dokon\u010dena"===e||"dokoncena"===e)return!0}if(r.stav_workflow_kod&&(Array.isArray(r.stav_workflow_kod)?e=r.stav_workflow_kod:"string"===typeof r.stav_workflow_kod&&(e=JSON.parse(r.stav_workflow_kod),Array.isArray(e)||(e=[])),e.length>0)){const t=e[e.length-1];if("object"===typeof t&&(t.kod_stavu||t.nazev_stavu)?n=t.kod_stavu||t.nazev_stavu:"string"===typeof t&&(n=t),n&&"DOKONCENA"===String(n).toUpperCase().trim())return!0}}catch(t){console.error("Chyba p\u0159i kontrole stavu pro finan\u010dn\xed kontrolu:",t)}return!1};(0,a.useEffect)(()=>{if(m.current&&!_){const e=m.current.getBoundingClientRect(),r=window.innerWidth,o=window.innerHeight;let a=n,i=t;n+e.width>r&&(a=r-e.width-10),t+e.height>o&&(i=o-e.height-10),k({left:a,top:i}),y(!0)}},[n,t,_]),(0,a.useEffect)(()=>{(async()=>{try{if(navigator.clipboard&&navigator.clipboard.readText){const n=await navigator.clipboard.readText();f(n&&n.trim().length>0);try{const e=JSON.parse(n);e&&"object"===typeof e&&b(e)}catch(e){b(n)}}}catch(n){const e=localStorage.getItem("clipboard_data");if(f(!!e),e)try{b(JSON.parse(e))}catch(t){b(e)}}})()},[]);const w=async()=>{let e,n="";h&&h.value?(e=h.value,n='bu\u0148ka: "'.concat(e.substring(0,50)).concat(e.length>50?"...":"",'"')):(e=JSON.stringify(r,null,2),n="objedn\xe1vka ".concat(r.cislo_objednavky||r.id));try{const t="string"===typeof e?e:JSON.stringify(e);if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(t);else{const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}const r={data:e,description:n,type:h?"cell":"row",timestamp:Date.now()};localStorage.setItem("clipboard_data",JSON.stringify(r)),f(!0),b(e)}catch(t){}},S=async()=>{await w();const e={action:"cut",data:h||r,type:h?"cell":"row",orderId:r.id||r.cislo_objednavky,timestamp:Date.now()};localStorage.setItem("clipboard_action",JSON.stringify(e))},C=async()=>{try{let t=null;try{if(navigator.clipboard&&navigator.clipboard.readText){const e=await navigator.clipboard.readText();e&&(t={data:e,type:"external"})}}catch(e){}if(!t){const e=localStorage.getItem("clipboard_data");if(e)try{t=JSON.parse(e)}catch(n){t={data:e,type:"text"}}}t&&t.data&&alert("Vlo\u017eeno: ".concat(t.description||"data ze schr\xe1nky"))}catch(e){}};return(0,a.useEffect)(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&o()},n=e=>{if("Escape"===e.key)o();else if(e.ctrlKey||e.metaKey)switch(e.key){case"c":case"C":e.preventDefault(),w(),o();break;case"x":case"X":e.preventDefault(),S(),o();break;case"v":case"V":g&&(e.preventDefault(),C(),o())}};return setTimeout(()=>{document.addEventListener("mousedown",e),document.addEventListener("keydown",n)},50),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",n)}},[o]),i.createPortal((0,V.jsxs)(M,{ref:m,style:{left:"".concat(j.left,"px"),top:"".concat(j.top,"px"),opacity:_?1:0,pointerEvents:_?"auto":"none"},children:[(0,V.jsxs)(F,{onClick:()=>{S(),o()},title:"Vystrihnout ".concat(h?"obsah bu\u0148ky":"cel\xfd \u0159\xe1dek"," (Ctrl+X)"),children:[(0,V.jsx)(I.g,{icon:L.GC3}),(0,V.jsx)(W,{children:"Vystrihnout"})]}),(0,V.jsxs)(F,{onClick:()=>{w(),o()},title:"Kop\xedrovat ".concat(h?"obsah bu\u0148ky":"cel\xfd \u0159\xe1dek"," (Ctrl+C)"),children:[(0,V.jsx)(I.g,{icon:L.jPR}),(0,V.jsx)(W,{children:"Kop\xedrovat"})]}),(0,V.jsxs)(F,{disabled:!g,onClick:()=>{g&&(C(),o())},title:g?"Vlo\u017eit ze schr\xe1nky".concat(x?" (".concat("string"===typeof x?x.substring(0,30)+"...":"strukturovan\xe1 data",")"):""):"Schr\xe1nka je pr\xe1zdn\xe1",children:[(0,V.jsx)(I.g,{icon:L.R9T}),(0,V.jsx)(W,{children:"Vlo\u017eit"})]}),(0,V.jsx)(B,{}),(0,V.jsxs)(F,{onClick:()=>{l(r),o()},children:[(0,V.jsx)(I.g,{icon:L.YEm}),(0,V.jsx)(W,{children:"P\u0159idat do m\xe9ho TODO"})]}),(0,V.jsxs)(F,{onClick:()=>{s(r),o()},children:[(0,V.jsx)(I.g,{icon:L.z$e}),(0,V.jsx)(W,{children:"P\u0159idat upozorn\u011bn\xed - ALARM"})]}),(0,V.jsx)(B,{}),(0,V.jsxs)(F,{onClick:()=>{d(r),o()},children:[(0,V.jsx)(I.g,{icon:L.MT7}),(0,V.jsx)(W,{children:"Editace objedn\xe1vky"})]}),(0,V.jsxs)(F,{danger:!0,disabled:!p,onClick:()=>{p&&(c(r),o())},title:p?"Smazat objedn\xe1vku":"Nem\xe1te opr\xe1vn\u011bn\xed ke smaz\xe1n\xed t\xe9to objedn\xe1vky",children:[(0,V.jsx)(I.g,{icon:L.yLS}),(0,V.jsx)(W,{children:"Smazat objedn\xe1vku"})]}),(0,V.jsx)(B,{}),(0,V.jsxs)(F,{disabled:!z(),onClick:()=>{z()&&(u(r),o())},title:z()?"Generovat DOCX dokument ze \u0161ablony":"Generov\xe1n\xed DOCX je dostupn\xe9 od f\xe1ze ROZPRACOVAN\xc1 (po schv\xe1len\xed, kdy\u017e se za\u010dne vypl\u0148ovat) a\u017e do DOKON\u010cEN\xc1",children:[(0,V.jsx)(I.g,{icon:L.W1P}),(0,V.jsx)(W,{children:"Generovat DOCX"})]}),(0,V.jsxs)(F,{success:!0,disabled:!A(),onClick:()=>{A()&&v&&(v(r),o())},title:A()?"Generovat finan\u010dn\xed kontrolu (PDF/tisk)":"Finan\u010dn\xed kontrola je dostupn\xe1 pouze pro objedn\xe1vky ve stavu DOKON\u010cENA",children:[(0,V.jsx)(I.g,{icon:L.p4e}),(0,V.jsx)(W,{children:"Finan\u010dn\xed kontrola (PDF/tisk)"})]}),(0,V.jsx)(B,{}),(0,V.jsxs)(F,{onClick:()=>o(),children:[(0,V.jsx)(I.g,{icon:L.GRI}),(0,V.jsx)(W,{children:"Storno"})]})]}),document.body)};var U,K,H,G,Y,J,X,q,Q,ee,ne,te,re,oe,ae,ie,le,se,de,ce,ue,ve,pe,he,me,ge,fe,xe,be,je,ke,_e,ye,ze,Ae,we,Se,Ce,Ne,Ee,Oe,Re,De,Ie,Le,Te,$e,Pe,Ve,Me,Fe,Be,We,Ze,Ue,Ke,He,Ge,Ye,Je,Xe,qe,Qe,en,nn,tn,rn,on,an,ln,sn,dn,cn,un,vn,pn,hn,mn,gn,fn,xn,bn,jn,kn,_n,yn,zn,An,wn,Sn,Cn,Nn,En,On,Rn,Dn,In,Ln,Tn,$n,Pn,Vn,Mn,Fn,Bn,Wn,Zn,Un,Kn,Hn,Gn,Yn,Jn,Xn,qn,Qn,et,nt,tt,rt,ot,at,it,lt,st,dt,ct,ut,vt,pt,ht,mt,gt,ft,xt,bt,jt,kt,_t,yt,zt,At,wt,St,Ct,Nt,Et,Ot,Rt,Dt,It,Lt,Tt,$t,Pt,Vt,Mt,Ft,Bt,Wt,Zt,Ut,Kt,Ht,Gt,Yt,Jt,Xt,qt,Qt,er,nr,tr,rr,or,ar,ir,lr,sr,dr,cr,ur,vr,pr,hr,mr,gr,fr,xr,br,jr,kr=t(4509),_r=t(37087),yr=t(89468),zr=(t(21549),t(90087)),Ar=t(1574),wr=t(54153),Sr=t(98951),Cr=t(58931),Nr=t(47111);const Er=(0,a.lazy)(()=>Promise.all([t.e(6159),t.e(6366)]).then(t.bind(t,56366)).then(e=>({default:e.DocxGeneratorModal}))),Or=(0,a.lazy)(()=>Promise.all([t.e(9227),t.e(2221)]).then(t.bind(t,92221))),Rr=T.A.div(U||(U=(0,o.A)(["\n  position: relative;\n  padding: 1rem;\n  width: 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n  overflow: visible;\n  isolation: isolate;\n"]))),Dr=T.A.div(K||(K=(0,o.A)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  margin-bottom: 2rem;\n"]))),Ir=(T.A.h1(H||(H=(0,o.A)(["\n  margin: 0;\n  font-size: 2rem;\n  font-weight: 700;\n  color: #1e293b;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n"]))),T.A.div(G||(G=(0,o.A)(["\n  display: flex;\n  gap: 0.75rem;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  padding-bottom: 1rem;\n  border-bottom: 3px solid #e5e7eb;\n"])))),Lr=T.A.button(Y||(Y=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.35rem;\n  padding: 0.35rem 0.6rem;\n  border: 2px solid #3b82f6;\n  border-radius: 6px;\n  background: ",";\n  color: ",";\n  font-weight: 600;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ",";\n    border-color: ",";\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n"])),e=>e.$primary?"#3b82f6":"white",e=>e.$primary?"white":"#3b82f6",e=>e.$primary?"#2563eb":"#eff6ff",e=>(e.$primary,"#2563eb")),Tr=e=>({"Ke schv\xe1len\xed":"KE_SCHVALENI","Nov\xe1":"NOVA","Schv\xe1len\xe1":"SCHVALENA","Zam\xedtnut\xe1":"ZAMITNUTA","Rozpracovan\xe1":"ROZPRACOVANA","Odeslan\xe1 dodavateli":"ODESLANA","Potvrzen\xe1 dodavatelem":"POTVRZENA","M\xe1 b\xfdt zve\u0159ejn\u011bna":"K_UVEREJNENI_DO_REGISTRU","Uve\u0159ejn\u011bn\xe1":"UVEREJNENA","\u010cek\xe1 na potvrzen\xed":"CEKA_POTVRZENI","\u010cek\xe1 se":"CEKA_SE","V\u011bcn\xe1 spr\xe1vnost":"VECNA_SPRAVNOST","Dokon\u010den\xe1":"DOKONCENA","Zru\u0161en\xe1":"ZRUSENA","Smazan\xe1":"SMAZANA","Archivov\xe1no":"ARCHIVOVANO",Koncept:"NOVA"}[e]||e),$r=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")){case"nova":case"koncept":return"\ud83d\udcdd";case"ke_schvaleni":case"keschvaleni":return"\ud83d\udccb";case"schvalena":return"\ud83d\udc4d";case"zamitnuta":return"\u274c";case"rozpracovana":return"\ud83d\udd50";case"odeslana":return"\ud83d\udce4";case"potvrzena":return"\u2714\ufe0f";case"uverejnena":case"registr_zverejnena":case"registrzverejnena":return"\ud83d\udce2";case"dokoncena":return"\ud83c\udfaf";case"ceka_potvrzeni":case"cekapotvrzeni":case"ceka_se":case"cekase":return"\u23f8\ufe0f";case"zrusena":return"\ud83d\udeab";case"smazana":return"\ud83d\uddd1\ufe0f";case"ceka_kontrola":case"cekakontrola":return"\ud83d\udd0d";case"vecna_spravnost":case"vecnaspravnost":return"\u2705";case"archivovano":case"archivovana":return"\ud83d\udce6";default:return"\ud83d\udcca"}},Pr=T.A.div(J||(J=(0,o.A)(["\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 60%, #e2e8f0 100%);\n  border: 1px solid #cbd5e1;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n"]))),Vr=T.A.div(X||(X=(0,o.A)(["\n  display: grid;\n  grid-template-columns: minmax(350px, 400px) repeat(auto-fit, minmax(180px, 220px));\n  gap: clamp(0.8rem, 1.5vw, 1.65rem);\n  margin-bottom: 1.5rem;\n  align-items: start;\n  justify-content: start;\n  overflow-x: auto;\n\n  /* Lep\u0161\xed responzivita pro r\u016fzn\xe9 zoom \xfarovn\u011b */\n  @media (max-width: 1400px) {\n    grid-template-columns: minmax(320px, 350px) repeat(auto-fit, minmax(160px, 200px));\n    gap: clamp(0.7rem, 1.3vw, 1.4rem);\n  }\n\n  @media (max-width: 1200px) {\n    grid-template-columns: minmax(300px, 330px) repeat(auto-fit, minmax(150px, 180px));\n    gap: clamp(0.6rem, 1.2vw, 1.3rem);\n  }\n\n  @media (max-width: 900px) {\n    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n    gap: clamp(0.8rem, 2vw, 1.2rem);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: clamp(0.8rem, 2vw, 1.15rem);\n  }\n\n  @media (max-width: 600px) {\n    grid-template-columns: 1fr;\n    gap: clamp(0.6rem, 2vw, 0.9rem);\n  }\n\n  /* Speci\xe1ln\xed pravidla pro vysok\xfd zoom (detekce p\u0159es velk\xe9 font-size) */\n  @media (min-width: 1600px) {\n    grid-template-columns: minmax(400px, 450px) repeat(auto-fit, minmax(200px, 250px));\n    gap: clamp(1.2rem, 1.8vw, 2rem);\n  }\n"]))),Mr=T.A.div(q||(q=(0,o.A)(["\n  background: linear-gradient(145deg, #ffffff, #f9fafb);\n  border-radius: 16px;\n  padding: clamp(1.25rem, 1.5vw, 1.75rem);\n  border-left: 6px solid ",";\n  box-shadow:\n    0 4px 12px rgba(0, 0, 0, 0.08),\n    0 2px 4px rgba(0, 0, 0, 0.06);\n\n  transition: all 0.3s ease;\n  grid-row: span 2;\n  grid-column: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  min-height: fit-content;\n  height: 100%;\n  position: relative;\n  width: 100%;\n  box-sizing: border-box;\n\n  /* Hover efekt */\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow:\n      0 8px 20px rgba(0, 0, 0, 0.12),\n      0 4px 8px rgba(0, 0, 0, 0.08);\n  }\n\n  /* Responsive breakpoints */\n  @media (max-width: 1200px) {\n    grid-row: span 1;\n    grid-column: span 2;\n    min-height: clamp(140px, 15vh, 180px);\n  }\n\n  @media (max-width: 900px) {\n    grid-column: span 1;\n    min-height: clamp(120px, 14vh, 160px);\n    padding: clamp(1rem, 1.2vw, 1.5rem);\n  }\n\n  @media (max-width: 768px) {\n    min-height: clamp(110px, 13vh, 150px);\n  }\n\n  @media (max-width: 600px) {\n    min-height: clamp(100px, 12vh, 130px);\n    padding: clamp(0.8rem, 1vw, 1.25rem);\n  }\n"])),e=>e.$color||"#3b82f6"),Fr=T.A.div(Q||(Q=(0,o.A)(["\n  background: ",";\n  border-radius: 12px;\n  padding: clamp(0.8rem, 1vw, 1rem);\n  border-left: 4px solid ",";\n  box-shadow:\n    0 2px 8px rgba(0, 0, 0, 0.06),\n    0 1px 3px rgba(0, 0, 0, 0.04);\n\n  transition: all 0.25s ease;\n  min-height: clamp(90px, 10vh, 120px);\n  min-width: clamp(160px, 18vw, 220px);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  position: relative;\n  cursor: ",";\n  width: 100%;\n  box-sizing: border-box;\n\n  /* Hover efekt */\n  &:hover {\n    transform: ",";\n    box-shadow:\n      0 4px 12px rgba(0, 0, 0, 0.1),\n      0 2px 6px rgba(0, 0, 0, 0.06);\n    ","\n  }\n\n  /* Aktivn\xed stav */\n  ","\n\n  /* Responsive breakpoints pro r\u016fzn\xe9 velikosti obrazovky a zoom */\n  @media (max-width: 1400px) {\n    min-height: clamp(85px, 9vh, 110px);\n    min-width: clamp(150px, 16vw, 200px);\n  }\n\n  @media (max-width: 1200px) {\n    min-height: clamp(80px, 8vh, 105px);\n    min-width: clamp(140px, 15vw, 190px);\n  }\n\n  @media (max-width: 900px) {\n    min-height: clamp(75px, 8vh, 100px);\n    min-width: 100%;\n  }\n\n  @media (max-width: 768px) {\n    min-height: clamp(70px, 7vh, 95px);\n    padding: clamp(0.7rem, 0.8vw, 0.9rem);\n  }\n\n  @media (max-width: 600px) {\n    min-height: clamp(65px, 7vh, 85px);\n    padding: clamp(0.6rem, 0.7vw, 0.8rem);\n  }\n"])),e=>e.$isActive?"linear-gradient(145deg, ".concat(e.$color||"#3b82f6","20, ").concat(e.$color||"#3b82f6","10)"):"linear-gradient(145deg, #ffffff, #f9fafb)",e=>e.$color||"#3b82f6",e=>e.$clickable?"pointer":"default",e=>e.$clickable?"translateY(-2px)":"translateY(-1px)",e=>e.$clickable&&"\n      background: linear-gradient(145deg, ".concat(e.$color||"#3b82f6","25, ").concat(e.$color||"#3b82f6","15);\n    "),e=>e.$isActive&&"\n    border-left-width: 6px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12), 0 0 0 2px ".concat(e.$color||"#3b82f6","40;\n  ")),Br=T.A.div(ee||(ee=(0,o.A)(["\n  font-size: clamp(1.25rem, 2.5vw, 1.875rem);\n  font-weight: 700;\n  color: #1e293b;\n  line-height: 1.2;\n  text-align: left;\n\n  /* Zaji\u0161t\u011bn\xed \u010ditelnosti na r\u016fzn\xfdch zoom \xfarovn\xedch */\n  @media (max-width: 1400px) {\n    font-size: clamp(1.2rem, 2.3vw, 1.75rem);\n  }\n\n  @media (max-width: 1200px) {\n    font-size: clamp(1.15rem, 2.2vw, 1.65rem);\n  }\n\n  @media (max-width: 900px) {\n    font-size: clamp(1.1rem, 2.1vw, 1.6rem);\n  }\n\n  @media (max-width: 768px) {\n    font-size: clamp(1rem, 2vw, 1.5rem);\n  }\n\n  @media (max-width: 600px) {\n    font-size: clamp(0.95rem, 1.8vw, 1.3rem);\n  }\n"]))),Wr=T.A.div(ne||(ne=(0,o.A)(["\n  font-size: clamp(0.75rem, 1.2vw, 0.875rem);\n  color: #64748b;\n  font-weight: 500;\n  text-align: left;\n  line-height: 1.4;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  /* Responzivn\xed velikosti pro r\u016fzn\xe9 zoom \xfarovn\u011b */\n  @media (max-width: 1200px) {\n    white-space: normal;\n    line-height: 1.3;\n  }\n\n  @media (max-width: 900px) {\n    font-size: clamp(0.7rem, 1.1vw, 0.825rem);\n  }\n\n  @media (max-width: 768px) {\n    font-size: clamp(0.65rem, 1vw, 0.8rem);\n  }\n\n  @media (max-width: 600px) {\n    font-size: clamp(0.6rem, 0.9vw, 0.75rem);\n  }\n"]))),Zr=T.A.div(te||(te=(0,o.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 0.5rem;\n"]))),Ur=T.A.div(re||(re=(0,o.A)(["\n  font-size: 1.5rem;\n  opacity: 0.85;\n  line-height: 1;\n\n  /* Kdy\u017e obsahuje FontAwesome ikonu (fallback) */\n  color: ",";\n"])),e=>e.$color||"#64748b"),Kr=T.A.div(oe||(oe=(0,o.A)(["\n  font-size: clamp(1.25rem, 2.5vw, 1.75rem);\n  font-weight: 700;\n  color: #1e293b;\n  text-align: center;\n  line-height: 1.1;\n  margin-bottom: 0.5rem;\n\n  /* Responzivn\xed velikosti pro r\u016fzn\xe9 zoom \xfarovn\u011b */\n  @media (max-width: 1400px) {\n    font-size: clamp(1.15rem, 2.3vw, 1.6rem);\n  }\n\n  @media (max-width: 1200px) {\n    font-size: clamp(1.3rem, 2.6vw, 2rem);\n  }\n\n  @media (max-width: 900px) {\n    font-size: clamp(1.2rem, 2.4vw, 1.9rem);\n  }\n\n  @media (max-width: 768px) {\n    font-size: clamp(1.1rem, 2.2vw, 1.8rem);\n  }\n\n  @media (max-width: 600px) {\n    font-size: clamp(1rem, 2vw, 1.6rem);\n  }\n"]))),Hr=T.A.div(ae||(ae=(0,o.A)(["\n  font-size: 1rem;\n  color: #64748b;\n  font-weight: 600;\n  text-align: center;\n  margin-bottom: 1rem;\n\n  @media (max-width: 480px) {\n    font-size: 0.875rem;\n  }\n"]))),Gr=T.A.div(ie||(ie=(0,o.A)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n  margin-top: auto;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n"]))),Yr=T.A.div(le||(le=(0,o.A)(["\n  flex: 1;\n  padding: 0.75rem;\n  border-radius: 8px;\n  border-left: 3px solid ",";\n  background: ",";\n"])),e=>e.$color||"#d1d5db",e=>e.$bg||"rgba(0, 0, 0, 0.02)"),Jr=T.A.div(se||(se=(0,o.A)(["\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: ",";\n  margin-bottom: 0.25rem;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n"])),e=>e.$color||"#6b7280"),Xr=T.A.div(de||(de=(0,o.A)(["\n  font-size: 0.875rem;\n  font-weight: 700;\n  color: #1f2937;\n"]))),qr=T.A.div(ce||(ce=(0,o.A)(["\n  background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n  padding: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 1rem;\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n  color: white;\n  position: relative;\n  z-index: 9999;\n"]))),Qr=T.A.div(ue||(ue=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  flex-wrap: wrap;\n"]))),eo=T.A.h2(ve||(ve=(0,o.A)(["\n  font-size: calc(1.5rem + 3px);\n  font-weight: 700;\n  color: white;\n  margin: 0;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n"]))),no=(0,T.A)(kr.T_)(pe||(pe=(0,o.A)(["\n  z-index: 999999;\n"]))),to=T.A.span(he||(he=(0,o.A)(["\n  margin-left: 0.5rem;\n  color: #64748b;\n  font-size: 0.75rem;\n  font-weight: 600;\n  cursor: help;\n  display: inline-flex;\n  align-items: center;\n  gap: 0.25rem;\n  flex-wrap: wrap;\n\n  /* Styling pro <kbd> tagy podle obr\xe1zku */\n  kbd {\n    display: inline-block;\n    padding: 0.15rem 0.5rem;\n    font-size: 0.7rem;\n    font-weight: 600;\n    line-height: 1.2;\n    color: #1e40af;\n    background: #dbeafe;\n    border: 1px solid #93c5fd;\n    border-radius: 4px;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;\n    text-transform: capitalize;\n    white-space: nowrap;\n  }\n"]))),ro=T.A.div(me||(me=(0,o.A)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  background: ",";\n  color: white;\n  font-size: 0.9rem;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  cursor: help;\n  transition: all 0.2s ease;\n  position: relative;\n  z-index: 999999;\n\n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);\n  }\n\n  svg {\n    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));\n  }\n"])),e=>e.fromCache?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"),oo=T.A.label(ge||(ge=(0,o.A)(["\n  font-weight: 600;\n  font-size: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),ao=T.A.button(fe||(fe=(0,o.A)(["\n  background: ","; /* Norm\xe1ln\xed b\xedl\xe1 */\n  border: 1px solid ","; /* Norm\xe1ln\xed okraj */\n  color: ","; /* \u017dlut\xe1/b\xedl\xe1 ikona */\n  width: 42px;\n  height: 42px;\n  border-radius: 6px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.1rem;\n  transition: all 0.2s ease;\n  margin-left: 0.5rem;\n\n  &:hover {\n    background: ","; /* B\xedl\xe1 hover */\n    border-color: ","; /* B\xedl\xfd hover okraj */\n    transform: translateY(-1px);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"])),e=>e.isBackgroundActive?"rgba(255, 193, 7, 0.2)":"rgba(255, 255, 255, 0.15)",e=>e.isBackgroundActive?"rgba(255, 193, 7, 0.4)":"rgba(255, 255, 255, 0.3)",e=>e.isBackgroundActive?"#ffc107":"white",e=>e.isBackgroundActive?"rgba(255, 193, 7, 0.3)":"rgba(255, 255, 255, 0.25)",e=>e.isBackgroundActive?"rgba(255, 193, 7, 0.6)":"rgba(255, 255, 255, 0.4)"),io=T.A.span(xe||(xe=(0,o.A)(["\n  font-size: 0.75rem;\n  color: rgba(255, 255, 255, 0.8);\n  margin-left: 0.5rem;\n  white-space: nowrap;\n  font-weight: 500;\n"]))),lo=T.A.label(be||(be=(0,o.A)(["\n  font-weight: 600;\n  font-size: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-left: 1rem;\n"]))),so=(T.A.select(je||(je=(0,o.A)(["\n  padding: 0.75rem 1rem;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 6px;\n  font-size: 1rem;\n  font-weight: 600;\n  background: rgba(255, 255, 255, 0.15);\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  backdrop-filter: blur(8px);\n\n  &:focus {\n    outline: none;\n    border-color: rgba(255, 255, 255, 0.8);\n    background: rgba(255, 255, 255, 0.25);\n    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);\n  }\n\n  option {\n    background: #1e40af;\n    color: white;\n    padding: 0.5rem;\n  }\n"]))),T.A.select(ke||(ke=(0,o.A)(['\n  padding: 0.75rem 1rem;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 6px;\n  font-size: 1rem;\n  font-weight: 600;\n  background: rgba(255, 255, 255, 0.15);\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  backdrop-filter: blur(8px);\n  width: auto;\n  min-width: 240px;\n\n  /* Scrollbar styling */\n  overflow-y: auto;\n  max-height: 400px;\n\n  &::-webkit-scrollbar {\n    width: 12px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: rgba(30, 64, 175, 0.3);\n    border-radius: 6px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(96, 165, 250, 0.9));\n    border-radius: 6px;\n    border: 2px solid rgba(30, 64, 175, 0.3);\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background: linear-gradient(135deg, rgba(59, 130, 246, 1), rgba(96, 165, 250, 1));\n  }\n\n  /* Firefox scrollbar */\n  scrollbar-width: thin;\n  scrollbar-color: rgba(59, 130, 246, 0.8) rgba(30, 64, 175, 0.3);\n\n  &:focus {\n    outline: none;\n    border-color: rgba(255, 255, 255, 0.8);\n    background: rgba(255, 255, 255, 0.25);\n    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);\n  }\n\n  option {\n    background: #1e40af;\n    color: white;\n    padding: 0.5rem;\n    font-size: 0.95rem;\n\n    &:hover {\n      background: #2563eb;\n    }\n\n    &[data-separator="true"] {\n      padding: 0.5rem 1rem !important;\n      margin: 0 !important;\n      width: 100% !important;\n      height: auto !important;\n      line-height: normal !important;\n      font-size: 0.95rem !important;\n      color: white !important;\n      background: #1e40af !important;\n      border: none !important;\n      border-top: 1px solid white !important;\n      cursor: default;\n      pointer-events: none;\n      display: block;\n      box-sizing: border-box;\n    }\n\n    &[data-action="true"] {\n      font-style: normal;\n      color: white;\n      font-weight: normal;\n      padding: 0.5rem;\n      margin: 0;\n      background: #1e40af;\n\n      &:hover {\n        background: #2563eb;\n      }\n    }\n  }\n']))),T.A.div(_e||(_e=(0,o.A)(["\n  position: relative;\n  width: auto;\n  min-width: 240px;\n"])))),co=T.A.div(ye||(ye=(0,o.A)(["\n  position: relative;\n  width: auto;\n  min-width: 160px;\n"]))),uo=T.A.button(ze||(ze=(0,o.A)(["\n  padding: 0.75rem 1rem;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 6px;\n  font-size: 1rem;\n  font-weight: 600;\n  background: rgba(255, 255, 255, 0.15);\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  backdrop-filter: blur(8px);\n  width: 100%;\n  text-align: left;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  &:focus {\n    outline: none;\n    border-color: rgba(255, 255, 255, 0.8);\n    background: rgba(255, 255, 255, 0.25);\n    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);\n  }\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.25);\n  }\n"]))),vo=T.A.div(Ae||(Ae=(0,o.A)(["\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  margin-top: 0.5rem;\n  background: #1e40af;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 6px;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\n  max-height: 400px;\n  overflow-y: auto;\n  z-index: 1000;\n  backdrop-filter: blur(8px);\n\n  /* Scrollbar styling */\n  &::-webkit-scrollbar {\n    width: 12px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: rgba(30, 64, 175, 0.3);\n    border-radius: 6px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(96, 165, 250, 0.9));\n    border-radius: 6px;\n    border: 2px solid rgba(30, 64, 175, 0.3);\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background: linear-gradient(135deg, rgba(59, 130, 246, 1), rgba(96, 165, 250, 1));\n  }\n\n  /* Firefox scrollbar */\n  scrollbar-width: thin;\n  scrollbar-color: rgba(59, 130, 246, 0.8) rgba(30, 64, 175, 0.3);\n"]))),po=T.A.div(we||(we=(0,o.A)(["\n  padding: 0.75rem 1rem;\n  color: white;\n  cursor: ",";\n  font-size: 0.95rem;\n  transition: background 0.15s ease;\n  pointer-events: ",";\n\n  ","\n\n  ","\n\n  ","\n"])),e=>e.disabled?"default":"pointer",e=>e.disabled?"none":"auto",e=>e.separator&&"\n    border-top: 1px solid rgba(255, 255, 255, 0.3);\n    padding: 0.5rem 1rem;\n    text-align: center;\n    color: rgba(255, 255, 255, 0.7);\n  ",e=>e.action&&"\n    font-weight: 600;\n    color: rgba(255, 255, 255, 0.9);\n  ",e=>!e.disabled&&!e.separator&&"\n    &:hover {\n      background: #2563eb;\n    }\n  "),ho=T.A.div(Se||(Se=(0,o.A)(["\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 60%, #e2e8f0 100%);\n  border: 1px solid #cbd5e1;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 1.5rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n"]))),mo=T.A.div(Ce||(Ce=(0,o.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n"]))),go=T.A.div(Ne||(Ne=(0,o.A)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 0.6fr 0.6fr;\n  gap: clamp(1rem, 1.5vw, 1.5rem);\n  margin-top: 1.5rem;\n  margin-bottom: 1rem;\n\n  /* Prvn\xed \u0159\xe1dek: Objednatel (1), Garant (1), P\u0159\xedkazce (1), Schvalovatel (1), Stav objedn\xe1vky (0.6+0.6) */\n  /* Druh\xfd \u0159\xe1dek: Datum (2), Cena (2), Stav registru (0.6), Mimo\u0159\xe1dn\xe9 ud\xe1losti (0.6) pod Stav objedn\xe1vky */\n  \n  & > *:nth-of-type(5) {\n    grid-column: 5 / 7; /* Stav objedn\xe1vky zabere sloupce 5, 6 (\u0161\xed\u0159ka 0.6+0.6) */\n  }\n\n  & > *:nth-of-type(6) {\n    grid-column: 1 / 3; /* Datum - sloupce 1, 2 */\n  }\n\n  & > *:nth-of-type(7) {\n    grid-column: 3 / 5; /* Cena - sloupce 3, 4 */\n  }\n\n  & > *:nth-of-type(8) {\n    grid-column: 5 / 6; /* Stav registru - sloupec 5 (0.6fr) - zarovn\xe1n doleva */\n  }\n\n  & > *:nth-of-type(9) {\n    grid-column: 6 / 7; /* Mimo\u0159\xe1dn\xe9 ud\xe1losti - sloupec 6 (0.6fr) - zarovn\xe1n doprava */\n  }\n\n  /* Responzivn\xed breakpointy */\n  @media (max-width: 1400px) {\n    grid-template-columns: repeat(3, 1fr);\n\n    & > *:nth-of-type(5) {\n      grid-column: 3 / 4; /* Stav objedn\xe1vky - 1 sloupec */\n    }\n\n    /* Na st\u0159edn\xedch obrazovk\xe1ch - datum a cena na vlastn\xed \u0159\xe1dky */\n    & > *:nth-of-type(6) {\n      grid-column: 1 / -1;\n    }\n\n    & > *:nth-of-type(7) {\n      grid-column: 1 / -1;\n    }\n\n    & > *:nth-of-type(8) {\n      grid-column: 1 / 2;\n    }\n\n    & > *:nth-of-type(9) {\n      grid-column: 2 / 3;\n    }\n  }\n\n  @media (max-width: 1200px) {\n    grid-template-columns: repeat(2, 1fr);\n\n    & > *:nth-of-type(5) {\n      grid-column: 1 / -1; /* Stav objedn\xe1vky - full width */\n    }\n\n    /* Na st\u0159edn\xedch obrazovk\xe1ch - datum a cena na vlastn\xed \u0159\xe1dky */\n    & > *:nth-of-type(6) {\n      grid-column: 1 / -1;\n    }\n\n    & > *:nth-of-type(7) {\n      grid-column: 1 / -1;\n    }\n\n    & > *:nth-of-type(8) {\n      grid-column: 1 / 2;\n    }\n\n    & > *:nth-of-type(9) {\n      grid-column: 2 / 3;\n    }\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n    gap: clamp(0.8rem, 1.2vw, 1.25rem);\n\n    /* Na mobilech - v\u0161echno na jeden sloupec */\n    & > * {\n      grid-column: 1 !important;\n    }\n  }\n\n  @media (max-width: 480px) {\n    gap: clamp(0.6rem, 1vw, 1rem);\n  }\n"]))),fo=(T.A.div(Ee||(Ee=(0,o.A)(["\n  display: flex;\n  align-items: flex-end;\n  justify-content: flex-end;\n"]))),T.A.div(Oe||(Oe=(0,o.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n"])))),xo=T.A.div(Re||(Re=(0,o.A)(["\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #374151;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 0.5rem;\n  width: 100%;\n  margin-bottom: 0.5rem;\n"]))),bo=T.A.div(De||(De=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),jo=T.A.button(Ie||(Ie=(0,o.A)(["\n  background: none;\n  border: none;\n  padding: 0.25rem 0.5rem;\n  cursor: pointer;\n  color: #9ca3af;\n  font-size: 0.75rem;\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  transition: all 0.2s ease;\n  border-radius: 4px;\n  opacity: ",";\n  pointer-events: ",";\n  margin-left: auto;\n\n  &:hover {\n    color: #ef4444;\n    background: rgba(239, 68, 68, 0.1);\n  }\n\n  svg {\n    width: 12px;\n    height: 12px;\n  }\n"])),e=>e.visible?1:0,e=>e.visible?"auto":"none"),ko=T.A.div(Le||(Le=(0,o.A)(["\n  position: relative;\n  width: 100%;\n\n  > svg:first-of-type {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n"]))),_o=T.A.button(Te||(Te=(0,o.A)(["\n  position: absolute;\n  right: 0.75rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 0.25rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  z-index: 1;\n  width: 20px;\n  height: 20px;\n\n  &:hover {\n    color: #6b7280;\n  }\n\n  > svg {\n    width: 14px !important;\n    height: 14px !important;\n  }\n"]))),yo=T.A.input($e||($e=(0,o.A)(["\n  width: 100%;\n  box-sizing: border-box;\n  padding: ",";\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  background: white;\n\n  /* Pro number inputy - zarovn\xe1n\xed doprava a odstran\u011bn\xed \u0161ipek */\n  ","\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n  }\n"])),e=>e.hasIcon?"0.75rem 2.5rem 0.75rem 2.5rem":"0.75rem",e=>"number"===e.type&&"\n    text-align: right;\n    padding-right: 2.5rem; /* m\xedsto pro K\u010d symbol */\n\n    /* Odstran\u011bn\xed spinner \u0161ipek - WebKit */\n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n\n    /* Odstran\u011bn\xed spinner \u0161ipek - Firefox */\n    &[type=number] {\n      -moz-appearance: textfield;\n    }\n  "),zo=(T.A.div(Pe||(Pe=(0,o.A)(["\n  position: relative;\n  width: 100%;\n\n  > svg {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n"]))),T.A.select(Ve||(Ve=(0,o.A)(["\n  width: 100%;\n  box-sizing: border-box;\n  padding: ",";\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  background: white;\n  cursor: pointer;\n  color: #1f2937;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  appearance: none;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &:hover {\n    border-color: #3b82f6;\n  }\n\n  /* Custom dropdown arrow - stejn\xe1 jako v OrderForm25 */\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23374151' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: right 0.5rem center;\n  background-size: 16px 16px;\n\n  /* Styling pro placeholder option */\n  option[value=\"\"] {\n    color: #9ca3af;\n    font-weight: 400;\n  }\n\n  option {\n    color: #1f2937;\n    font-weight: 500;\n    padding: 0.5rem;\n  }\n"])),e=>e.hasIcon?"0.75rem 1.75rem 0.75rem 2.5rem":"0.75rem 1.75rem 0.75rem 0.75rem"),T.A.div(Me||(Me=(0,o.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n"])))),Ao=T.A.div(Fe||(Fe=(0,o.A)(["\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n"]))),wo=T.A.div(Be||(Be=(0,o.A)(["\n  flex: 1;\n  position: relative;\n\n  > svg {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n\n  /* K\u010d symbol vpravo */\n  &::after {\n    content: 'K\u010d';\n    position: absolute;\n    right: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #6b7280;\n    font-size: 0.875rem;\n    font-weight: 500;\n    pointer-events: none;\n    z-index: 2;\n  }\n"]))),So=T.A.span(We||(We=(0,o.A)(["\n  color: #6b7280;\n  font-weight: 500;\n  font-size: 0.875rem;\n  padding: 0 0.25rem;\n"]))),Co=T.A.div(Ze||(Ze=(0,o.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n"]))),No=T.A.div(Ue||(Ue=(0,o.A)(["\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n"]))),Eo=T.A.div(Ke||(Ke=(0,o.A)(["\n  flex: 1;\n  position: relative;\n\n  > svg {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n"]))),Oo=T.A.span(He||(He=(0,o.A)(["\n  color: #6b7280;\n  font-weight: 500;\n  font-size: 0.875rem;\n  padding: 0 0.25rem;\n"]))),Ro=T.A.div(Ge||(Ge=(0,o.A)(["\n  position: relative;\n  width: 100%;\n\n  > svg:first-of-type {\n    position: absolute;\n    left: 0.5rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 12px !important;\n    height: 12px !important;\n  }\n"]))),Do=T.A.button(Ye||(Ye=(0,o.A)(["\n  position: absolute;\n  right: 0.5rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 0.15rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  z-index: 1;\n  width: 16px;\n  height: 16px;\n\n  &:hover {\n    color: #6b7280;\n  }\n\n  > svg {\n    width: 10px !important;\n    height: 10px !important;\n  }\n"]))),Io=T.A.input(Je||(Je=(0,o.A)(["\n  width: 100%;\n  padding: 0.5rem 2rem 0.5rem 2rem;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  background: #f9fafb;\n  transition: all 0.2s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    background: white;\n    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n    font-size: 0.75rem;\n  }\n"]))),Lo=T.A.span(Xe||(Xe=(0,o.A)(["\n  position: absolute;\n  top: -6px;\n  right: -6px;\n  background: #dc2626;\n  color: white;\n  font-size: 10px;\n  font-weight: 700;\n  padding: 2px 5px;\n  border-radius: 10px;\n  min-width: 18px;\n  text-align: center;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n  pointer-events: none;\n  line-height: 1.2;\n  z-index: 10;\n  /* Prevence blik\xe1n\xed */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  backface-visibility: hidden;\n  transform: translateZ(0);\n"]))),To=T.A.button(qe||(qe=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border: 2px solid #d1d5db;\n  border-radius: 8px;\n  background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);\n  color: #6b7280;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  margin: 0 2px;\n  font-size: 14px;\n  position: relative;\n  overflow: visible;\n  /* Prevence blik\xe1n\xed ikon */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  backface-visibility: hidden;\n\n  /* Stabilizace ikon */\n  svg {\n    display: block;\n    pointer-events: none;\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);\n    transition: left 0.5s;\n    pointer-events: none;\n  }\n\n  &:hover {\n    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n    color: #1e40af;\n    border-color: #3b82f6;\n    transform: translateY(-2px) scale(1.05);\n    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n\n    &::before {\n      left: 100%;\n    }\n  }\n\n  &:active {\n    transform: translateY(-1px) scale(1.02);\n  }\n\n  &.active {\n    background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n    color: white;\n    border-color: #1d4ed8;\n    box-shadow:\n      0 4px 16px rgba(59, 130, 246, 0.4),\n      0 0 20px rgba(59, 130, 246, 0.3);\n    transform: scale(1.1);\n\n    &::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: linear-gradient(45deg,\n        rgba(255, 255, 255, 0.1) 0%,\n        transparent 20%,\n        transparent 80%,\n        rgba(255, 255, 255, 0.1) 100%);\n      animation: shimmer 2s infinite;\n    }\n\n    &:hover {\n      background: linear-gradient(135deg, #1d4ed8 0%, #2563eb 50%, #1e40af 100%);\n      box-shadow:\n        0 6px 20px rgba(59, 130, 246, 0.5),\n        0 0 25px rgba(59, 130, 246, 0.4);\n      transform: scale(1.12) translateY(-2px);\n    }\n  }\n\n  @keyframes shimmer {\n    0% { transform: translateX(-100%); }\n    100% { transform: translateX(100%); }\n  }\n"]))),$o=T.A.div(Qe||(Qe=(0,o.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 4rem 2rem;\n  text-align: center;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n  border-radius: 12px;\n  margin: 2rem 0;\n  border: 2px dashed #cbd5e1;\n"]))),Po=T.A.div(en||(en=(0,o.A)(["\n  font-size: 4rem;\n  color: #94a3b8;\n  margin-bottom: 1.5rem;\n  opacity: 0.7;\n"]))),Vo=T.A.h3(nn||(nn=(0,o.A)(["\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: #475569;\n  margin: 0 0 0.5rem 0;\n"]))),Mo=T.A.p(tn||(tn=(0,o.A)(["\n  font-size: 1rem;\n  color: #64748b;\n  margin: 0;\n  max-width: 500px;\n"]))),Fo=T.A.div(rn||(rn=(0,o.A)(["\n  position: relative;\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n\n  /* Shadow indik\xe1tory na okraj\xedch kdy\u017e je mo\u017en\xe9 scrollovat */\n  &::before,\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    width: 40px;\n    pointer-events: none;\n    z-index: 10;\n    transition: opacity 0.3s ease;\n  }\n\n  /* Lev\xfd shadow - kdy\u017e nen\xed na za\u010d\xe1tku */\n  &::before {\n    left: 0;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.1), transparent);\n    opacity: ",";\n    border-radius: 8px 0 0 8px;\n  }\n\n  /* Prav\xfd shadow - kdy\u017e nen\xed na konci */\n  &::after {\n    right: 0;\n    background: linear-gradient(to left, rgba(0, 0, 0, 0.1), transparent);\n    opacity: ",";\n    border-radius: 0 8px 8px 0;\n  }\n"])),e=>e.$showLeftShadow?1:0,e=>e.$showRightShadow?1:0),Bo=T.A.div(on||(on=(0,o.A)(["\n  /* Horizont\xe1ln\xed scrollov\xe1n\xed kdy\u017e se tabulka nevejde */\n  overflow-x: auto;\n  overflow-y: visible;\n  position: relative;\n\n  /* Smooth scrolling pro lep\u0161\xed UX */\n  scroll-behavior: smooth;\n\n  /* Skr\xfdt scrollbar - zabr\xe1nit blik\xe1n\xed */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  /* Firefox scrollbar - skr\xfdt */\n  scrollbar-width: none;\n  \n  /* IE a Edge - skr\xfdt */\n  -ms-overflow-style: none;\n"]))),Wo=T.A.button(an||(an=(0,o.A)(["\n  position: fixed;\n  left: 50px;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 9999;\n\n  width: 56px;\n  height: 56px;\n  border-radius: 50%;\n  border: 2px solid #e5e7eb;\n  background: ",";\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  /* Zobrazit kdy\u017e: 1) je pot\u0159eba scrollovat A 2) je hover nad tabulkou NEBO nad \u0161ipkou */\n  opacity: ",";\n  pointer-events: ",";\n  transform: translateY(-50%); /* V\u017edy stejn\xe1 velikost, \u017e\xe1dn\xfd scale */\n\n  &:hover:not(:disabled) {\n    background: rgba(248, 250, 252, 0.98);\n    border-color: #3b82f6;\n    box-shadow: 0 6px 16px rgba(59, 130, 246, 0.3);\n  }\n\n  &:active:not(:disabled) {\n    transform: translateY(-50%) scale(1.05);\n  }\n\n  &:disabled {\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  svg {\n    width: 22px;\n    height: 22px;\n    color: #3b82f6;\n  }\n"])),e=>e.$arrowHovered?"rgba(255, 255, 255, 0.98)":"rgba(255, 255, 255, 0.25)",e=>e.$visible&&(e.$tableHovered||e.$arrowHovered)?1:0,e=>e.$visible&&(e.$tableHovered||e.$arrowHovered)?"auto":"none"),Zo=(0,T.A)(Wo)(ln||(ln=(0,o.A)(["\n  left: auto;\n  right: 50px;\n"]))),Uo=T.A.table(sn||(sn=(0,o.A)(["\n  width: 100%;\n  border-collapse: collapse;\n  font-family: 'Roboto Condensed', 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;\n  font-size: 0.95rem;\n  letter-spacing: -0.01em;\n"]))),Ko=T.A.thead(dn||(dn=(0,o.A)(["\n  background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n"]))),Ho=T.A.tr(cn||(cn=(0,o.A)(["\n  /* Z\xe1kladn\xed pozad\xed \u0159\xe1dku podle priority:\n     1. KONCEPTY V EDITACI - nejvy\u0161\u0161\xed priorita - oran\u017eov\xe9 zv\xfdrazn\u011bn\xed\n     2. ZV\xddRAZ\u0147OV\xc1N\xcd PODLE STAVU - pokud je zapnuto\n     3. STRIPING - jednoduch\xe9 st\u0159\xedd\xe1n\xed b\xedl\xe9/\u0161ed\xe9 (pokud highlighting vypnuto)\n  */\n  background: ",";\n\n  /* Speci\xe1ln\xed efekty pro KONCEPTY V EDITACI - jen sv\u011btlej\u0161\xed pozad\xed */\n  ","\n\n  /* EFEKTY PODLE STAVU - pouze pokud nen\xed koncept */\n  ","\n\n  /* BLINK EFEKT p\u0159i ulo\u017een\xed - m\xe1 nejvy\u0161\u0161\xed prioritu */\n  ","\n\n  /* Jemn\xfd hover efekt pro v\u0161echny \u0159\xe1dky (krom\u011b koncept\u016f kter\xe9 maj\xed vlastn\xed) */\n  ","\n\n  /* Plynul\xe9 p\u0159echody */\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n\n  /* Cursor pro \u0159\xe1dek - pointer s kontextov\xfdm menu (double-click pro editaci) */\n  cursor: pointer;\n"])),e=>{if(e.$isDraft||e.$hasLocalChanges)return"linear-gradient(135deg, #ea580c 0%, #f97316 30%, #ea580c 70%, #dc2626 100%)";if(e.$showHighlighting&&e.$order){const n=(e=>{try{if(null!==e&&void 0!==e&&e.isDraft||null!==e&&void 0!==e&&e.je_koncept)return j.NOVA.light;let i;if(null!==e&&void 0!==e&&e.stav_objednavky)i=Tr(e.stav_objednavky);else if(null!==e&&void 0!==e&&e.stav_workflow_kod)try{const n=JSON.parse(e.stav_workflow_kod);if(Array.isArray(n)){const e=n[n.length-1];i="object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?e.kod_stavu||"NEZNAMY":"string"===typeof e?e:"NEZNAMY"}else i=e.stav_workflow_kod}catch(a){i=e.stav_workflow_kod}else{var n,t,r,o;i=null!==(n=null!==(t=null!==(r=null!==(o=null===e||void 0===e?void 0:e.stav_id_num)&&void 0!==o?o:null===e||void 0===e?void 0:e.stav_id)&&void 0!==r?r:null===e||void 0===e?void 0:e.status_id)&&void 0!==t?t:null===e||void 0===e?void 0:e.stav)&&void 0!==n?n:"NOVA"}const l=k(i);return null!==e&&void 0!==e&&e.cislo_objednavky&&e.cislo_objednavky.toString().endsWith("1"),(null===l||void 0===l?void 0:l.light)||j.NOVA.light}catch(i){return j.NOVA.light}})(e.$order);if(n&&"transparent"!==n)return"linear-gradient(135deg, ".concat(n," 0%, ").concat(n,"dd 50%, ").concat(n," 100%)")}return"white"},e=>e.$isDraft||e.$hasLocalChanges?'\n    border-left: 4px solid #ea580c;\n    position: relative;\n    z-index: 5;\n\n    /* B\xedl\xe9 p\xedsmo pro koncepty - d\u016fle\u017eit\xe9 pro \u010ditelnost */\n    color: white !important;\n    font-weight: 700;\n\n    /* V\u0161echny vno\u0159en\xe9 elementy */\n    & * {\n      color: white !important;\n      font-weight: 600 !important;\n    }\n\n    & div, & span, & sup, & sub, & small, & strong {\n      color: white !important;\n    }\n\n    /* Ikony a SVG */\n    & .fa, & svg, & [class*="fa-"] {\n      color: white !important;\n    }\n\n    /* Tla\u010d\xedtka v konceptech */\n    & button {\n      color: white !important;\n      background: rgba(255, 255, 255, 0.1) !important;\n      border-color: rgba(255, 255, 255, 0.3) !important;\n\n      &:hover {\n        background: rgba(255, 255, 255, 0.2) !important;\n        color: white !important;\n      }\n    }\n\n    /* Vstupn\xed pole v konceptech */\n    & input {\n      background: rgba(255, 255, 255, 0.1) !important;\n      color: white !important;\n      border-color: rgba(255, 255, 255, 0.3) !important;\n\n      &::placeholder {\n        color: rgba(255, 255, 255, 0.7) !important;\n      }\n    }\n\n    /* Hover efekt pro koncepty - jen sv\u011btlej\u0161\xed pozad\xed */\n    &:hover {\n      background: linear-gradient(135deg, #fed7aa 0%, #fdba74 30%, #fb923c 70%, #f97316 100%) !important;\n\n      & * {\n        color: #7c2d12 !important;\n      }\n    }\n  ':"",e=>{if(!e.$isDraft&&!e.$hasLocalChanges&&e.$showHighlighting&&e.$order){var n,t;let v;if(null!==(n=e.$order)&&void 0!==n&&n.stav_objednavky){v={"Ke schv\xe1len\xed":"KE_SCHVALENI","Nov\xe1":"NOVA","Schv\xe1len\xe1":"SCHVALENA","Zam\xedtnut\xe1":"ZAMITNUTA","Rozpracovan\xe1":"ROZPRACOVANA","Odeslan\xe1 dodavateli":"ODESLANA","Potvrzen\xe1 dodavatelem":"POTVRZENA","Uve\u0159ejn\u011bn\xe1":"UVEREJNENA","\u010cek\xe1 na potvrzen\xed":"CEKA_POTVRZENI","\u010cek\xe1 se":"CEKA_SE","Dokon\u010den\xe1":"DOKONCENA","Zru\u0161en\xe1":"ZRUSENA","Smazan\xe1":"SMAZANA",Koncept:"NOVA"}[e.$order.stav_objednavky]||e.$order.stav_objednavky}else if(null!==(t=e.$order)&&void 0!==t&&t.stav_workflow_kod)try{const n=JSON.parse(e.$order.stav_workflow_kod);v=Array.isArray(n)?n[n.length-1]:e.$order.stav_workflow_kod}catch(u){v=e.$order.stav_workflow_kod}else{var r,o,a,i,l,s,d,c;v=null!==(r=null!==(o=null!==(a=null!==(i=null===(l=e.$order)||void 0===l?void 0:l.stav_id_num)&&void 0!==i?i:null===(s=e.$order)||void 0===s?void 0:s.stav_id)&&void 0!==a?a:null===(d=e.$order)||void 0===d?void 0:d.status_id)&&void 0!==o?o:null===(c=e.$order)||void 0===c?void 0:c.stav)&&void 0!==r?r:"NOVA"}const p=k(v),h=(null===p||void 0===p?void 0:p.light)||"#f8fafc";null===p||void 0===p||p.dark;return"\n        /* Jemn\xfd 3D efekt podle stavu */\n        box-shadow:\n          0 2px 8px ".concat(h,"66,\n          inset 0 1px 0 rgba(255, 255, 255, 0.5);\n\n        /* Lep\u0161\xed \u010ditelnost textu */\n        color: #1f2937;\n        font-weight: 500;\n\n        /* Hover efekt pro \u0159\xe1dky s highlighting - jen sv\u011btlej\u0161\xed pozad\xed */\n        &:hover {\n          filter: brightness(1.1);\n          color: #1f2937 !important;\n        }\n      ")}return""},e=>e.$isHighlighted?"\n  @keyframes highlightPulse {\n    0% {\n      filter: brightness(1.4) saturate(1.3);\n      box-shadow: 0 0 30px currentColor, 0 4px 16px rgba(0, 0, 0, 0.15);\n      transform: translateY(-2px) scale(1.015);\n    }\n    15% {\n      filter: brightness(1.5) saturate(1.4);\n      box-shadow: 0 0 40px currentColor, 0 6px 20px rgba(0, 0, 0, 0.2);\n      transform: translateY(-3px) scale(1.02);\n    }\n    30% {\n      filter: brightness(1.3) saturate(1.2);\n      box-shadow: 0 0 25px currentColor, 0 3px 12px rgba(0, 0, 0, 0.12);\n      transform: translateY(-1px) scale(1.01);\n    }\n    60% {\n      filter: brightness(1.15) saturate(1.1);\n      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1), 0 2px 8px rgba(0, 0, 0, 0.08);\n      transform: translateY(0) scale(1.005);\n    }\n    80% {\n      filter: brightness(1.05) saturate(1.05);\n      box-shadow: 0 0 8px rgba(0, 0, 0, 0.06), 0 1px 4px rgba(0, 0, 0, 0.04);\n      transform: translateY(0) scale(1.002);\n    }\n    100% {\n      filter: brightness(1) saturate(1);\n      box-shadow: none;\n      transform: translateY(0) scale(1);\n    }\n  }\n\n  @keyframes gradientShift {\n    0% { background-position: 0% 50%; }\n    100% { background-position: 100% 50%; }\n  }\n\n    animation: highlightPulse 3s ease-out;\n    animation-iteration-count: 1;\n    z-index: 100 !important;\n    position: relative;\n  ":"",e=>e.$isDraft||e.$hasLocalChanges?"":"\n    &:hover {\n      ".concat(e.$showHighlighting?"filter: brightness(1.08);":"background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%) !important;","\n    }\n  ")),Go=T.A.th(un||(un=(0,o.A)(["\n  padding: 0.5rem 0.375rem;\n  text-align: center;\n  font-weight: 600;\n  color: white;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n  cursor: pointer;\n  user-select: none;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n  }\n"]))),Yo=T.A.td(vn||(vn=(0,o.A)(["\n  padding: 0.375rem;\n  border-bottom: 1px solid #f1f5f9;\n  vertical-align: middle;\n"]))),Jo=T.A.button(pn||(pn=(0,o.A)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #3b82f6;\n  font-size: 1.25rem;\n  padding: 0.25rem;\n  border-radius: 4px;\n  transition: background-color 0.2s ease;\n\n  &:hover {\n    background: #eff6ff;\n  }\n"]))),Xo=T.A.div(hn||(hn=(0,o.A)(["\n  padding: 0.75rem;\n  background: ",";\n  border-top: 2px solid ",";\n  border-bottom: 2px solid #000000;\n"])),e=>{if(e.$order&&e.$showRowHighlighting){var n,t;let v;if(null!==(n=e.$order)&&void 0!==n&&n.stav_objednavky)v=Tr(e.$order.stav_objednavky);else if(null!==(t=e.$order)&&void 0!==t&&t.stav_workflow_kod)try{const n=JSON.parse(e.$order.stav_workflow_kod);v=Array.isArray(n)?n[n.length-1]:e.$order.stav_workflow_kod}catch(u){v=e.$order.stav_workflow_kod}else{var r,o,a,i,l,s,d,c;v=null!==(r=null!==(o=null!==(a=null!==(i=null===(l=e.$order)||void 0===l?void 0:l.stav_id_num)&&void 0!==i?i:null===(s=e.$order)||void 0===s?void 0:s.stav_id)&&void 0!==a?a:null===(d=e.$order)||void 0===d?void 0:d.status_id)&&void 0!==o?o:null===(c=e.$order)||void 0===c?void 0:c.stav)&&void 0!==r?r:"NOVA"}const p=k(v);return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9;if(e.startsWith("#")){const t=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return"rgba(".concat(t,", ").concat(r,", ").concat(o,", ").concat(n,")")}return e.includes("rgba")?e.replace(/[\d\.]+\)$/g,"".concat(n,")")):e.includes("rgb")?e.replace("rgb","rgba").replace(")",", ".concat(n,")")):e}((null===p||void 0===p?void 0:p.light)||"#f8fafc",.05)}return"#f9fafb"},e=>{if(e.$order&&e.$showRowHighlighting){var n,t;let v;if(null!==(n=e.$order)&&void 0!==n&&n.stav_objednavky)v=Tr(e.$order.stav_objednavky);else if(null!==(t=e.$order)&&void 0!==t&&t.stav_workflow_kod)try{const n=JSON.parse(e.$order.stav_workflow_kod);v=Array.isArray(n)?n[n.length-1]:e.$order.stav_workflow_kod}catch(u){v=e.$order.stav_workflow_kod}else{var r,o,a,i,l,s,d,c;v=null!==(r=null!==(o=null!==(a=null!==(i=null===(l=e.$order)||void 0===l?void 0:l.stav_id_num)&&void 0!==i?i:null===(s=e.$order)||void 0===s?void 0:s.stav_id)&&void 0!==a?a:null===(d=e.$order)||void 0===d?void 0:d.status_id)&&void 0!==o?o:null===(c=e.$order)||void 0===c?void 0:c.stav)&&void 0!==r?r:"NOVA"}const p=k(v);return(null===p||void 0===p?void 0:p.dark)||"#64748b"}return"#e5e7eb"}),qo=T.A.div(mn||(mn=(0,o.A)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 1rem;\n\n  /* Prvn\xed \u0159\xe1dek: 4 karty (Z\xe1kladn\xed, Finan\u010dn\xed, Odpov\u011bdn\xe9, Workflow) */\n  /* Ka\u017ed\xe1 karta zabere 1 sloupec = 25% \u0161\xed\u0159ky */\n\n  /* Druh\xfd \u0159\xe1dek: 3 sloupce (Dodavatel, Polo\u017eky+Faktury, P\u0159\xedlohy) */\n  /* Ka\u017ed\xfd sloupec zabere 33.33% \u0161\xed\u0159ky */\n\n  @media (max-width: 1400px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n\n  @media (max-width: 1200px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n"]))),Qo=T.A.div(gn||(gn=(0,o.A)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr; /* 33/33/33 layout */\n  gap: 1rem;\n  grid-column: 1 / -1; /* Zabere celou \u0161\xed\u0159ku gridu */\n\n  @media (max-width: 1400px) {\n    grid-template-columns: 1fr 1fr;\n  }\n\n  @media (max-width: 1000px) {\n    grid-template-columns: 1fr;\n  }\n"]))),ea=T.A.div(fn||(fn=(0,o.A)(["\n  display: flex;\n  flex-direction: column;\n  \n  /* InfoCard m\xe1 zabrat celou v\xfd\u0161ku */\n  > div {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n  }\n"]))),na=T.A.div(xn||(xn=(0,o.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),ta=T.A.div(bn||(bn=(0,o.A)(["\n  display: flex;\n  flex-direction: column;\n\n  /* InfoCard m\xe1 zabrat celou v\xfd\u0161ku */\n  > div {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n\n    /* Obsah p\u0159\xedlohy rozt\xe1hnout */\n    > div:last-child {\n      flex: 1;\n      overflow-y: auto;\n    }\n  }\n"]))),ra=(T.A.div(jn||(jn=(0,o.A)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n  grid-column: 1 / -1;\n\n  @media (max-width: 1200px) {\n    grid-template-columns: 1fr;\n  }\n"]))),T.A.div(kn||(kn=(0,o.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),T.A.div(_n||(_n=(0,o.A)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n\n  > div {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n\n    > div:last-child {\n      flex: 1;\n      overflow-y: auto;\n    }\n  }\n"]))),T.A.div(yn||(yn=(0,o.A)(["\n  background: white;\n  border-radius: 8px;\n  padding: 0.625rem;\n  border-left: 4px solid ",";\n  box-shadow:\n    0 4px 6px -1px rgba(0, 0, 0, 0.1),\n    0 2px 4px -1px rgba(0, 0, 0, 0.06),\n    inset 0 1px 0 rgba(255, 255, 255, 0.6);\n\n  /* 3D efekt pro karty */\n  position: relative;\n  transform: translateZ(0);\n  transition: all 0.2s ease-in-out;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow:\n      0 10px 15px -3px rgba(0, 0, 0, 0.1),\n      0 4px 6px -2px rgba(0, 0, 0, 0.05),\n      inset 0 1px 0 rgba(255, 255, 255, 0.8);\n  }\n\n  /* Subtle gradient overlay pro 3D efekt */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 50%, rgba(0,0,0,0.02) 100%);\n    border-radius: 8px;\n    pointer-events: none;\n  }\n"])),e=>{if(e.$order&&e.$showRowHighlighting){var n,t;let v;if(null!==(n=e.$order)&&void 0!==n&&n.stav_objednavky)v=Tr(e.$order.stav_objednavky);else if(null!==(t=e.$order)&&void 0!==t&&t.stav_workflow_kod)try{const n=JSON.parse(e.$order.stav_workflow_kod);v=Array.isArray(n)?n[n.length-1]:e.$order.stav_workflow_kod}catch(u){v=e.$order.stav_workflow_kod}else{var r,o,a,i,l,s,d,c;v=null!==(r=null!==(o=null!==(a=null!==(i=null===(l=e.$order)||void 0===l?void 0:l.stav_id_num)&&void 0!==i?i:null===(s=e.$order)||void 0===s?void 0:s.stav_id)&&void 0!==a?a:null===(d=e.$order)||void 0===d?void 0:d.status_id)&&void 0!==o?o:null===(c=e.$order)||void 0===c?void 0:c.stav)&&void 0!==r?r:"NOVA"}const p=k(v);return(null===p||void 0===p?void 0:p.dark)||"#3b82f6"}return"#3b82f6"})),oa=T.A.h4(zn||(zn=(0,o.A)(["\n  margin: 0 0 0.375rem 0;\n  font-size: 0.95rem;\n  font-weight: 600;\n  color: #0a0a0a;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    color: #6b7280;\n    opacity: 0.8;\n  }\n"]))),aa=T.A.div(An||(An=(0,o.A)(["\n  padding: 10px 12px;\n  background: #f8fafc;\n  border-radius: 6px;\n  border: 1px solid #e2e8f0;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #f1f5f9;\n    border-color: #cbd5e1;\n    transform: translateX(2px);\n  }\n"]))),ia=T.A.div(wn||(wn=(0,o.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 6px;\n  gap: 12px;\n"]))),la=T.A.div(Sn||(Sn=(0,o.A)(["\n  font-weight: 600;\n  font-size: 0.95em;\n  color: #0f172a;\n  flex: 1;\n"]))),sa=T.A.span(Cn||(Cn=(0,o.A)(["\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 2px 8px;\n  border-radius: 4px;\n  font-size: 0.75em;\n  font-weight: 600;\n  text-transform: uppercase;\n  white-space: nowrap;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n\n  svg {\n    color: #6b7280;\n    opacity: 0.8;\n  }\n"])),e=>e.$success?"#dcfce7":e.$warning?"#fef3c7":"#dbeafe",e=>e.$success?"#166534":e.$warning?"#854d0e":"#1e40af",e=>e.$success?"#86efac":e.$warning?"#fde047":"#93c5fd"),da=T.A.div(Nn||(Nn=(0,o.A)(["\n  display: flex;\n  gap: 12px;\n  flex-wrap: wrap;\n  font-size: 0.85em;\n  color: #64748b;\n"]))),ca=T.A.span(En||(En=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  gap: 4px;\n"]))),ua=(T.A.div(On||(On=(0,o.A)(["\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px dashed #e2e8f0;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]))),T.A.div(Rn||(Rn=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 4px 8px;\n  background: white;\n  border-radius: 4px;\n  font-size: 0.85em;\n\n  &:hover {\n    background: #f8fafc;\n  }\n"])))),va=T.A.span(Dn||(Dn=(0,o.A)(["\n  flex: 1;\n  color: #475569;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),pa=T.A.span(In||(In=(0,o.A)(["\n  color: #94a3b8;\n  font-size: 0.9em;\n  margin-left: 8px;\n"]))),ha=(T.A.div(Ln||(Ln=(0,o.A)(["\n  width: 100%;\n  height: 8px;\n  background: #e2e8f0;\n  border-radius: 4px;\n  overflow: hidden;\n  margin: 8px 0;\n"]))),T.A.div(Tn||(Tn=(0,o.A)(["\n  height: 100%;\n  background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);\n  border-radius: 4px;\n  transition: width 0.3s ease;\n  width: ","%;\n"])),e=>e.$progress||0),T.A.div($n||($n=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 0.9em;\n  margin-bottom: 4px;\n\n  .phase-name {\n    font-weight: 500;\n    color: #1e293b;\n  }\n\n  .phase-percent {\n    font-weight: 600;\n    color: #3b82f6;\n  }\n"]))),T.A.div(Pn||(Pn=(0,o.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 1.5rem;\n  padding: 0.225rem 0;\n  border-bottom: 1px dashed #e5e7eb;\n\n  &:last-child {\n    border-bottom: none;\n  }\n"])))),ma=T.A.span(Vn||(Vn=(0,o.A)(["\n  font-weight: 600;\n  color: #0a0a0a;\n  flex-shrink: 0;\n  white-space: nowrap;\n  max-width: 45%;\n"]))),ga=T.A.span(Mn||(Mn=(0,o.A)(["\n  color: #0a0a0a;\n  text-align: right;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  flex: 1;\n  min-width: 0;\n  line-height: 1.3;\n"]))),fa=T.A.div(Fn||(Fn=(0,o.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: #f8fafc;\n  border-top: 1px solid #e5e7eb;\n"]))),xa=T.A.div(Bn||(Bn=(0,o.A)(["\n  font-size: 0.875rem;\n  color: #64748b;\n"]))),ba=T.A.div(Wn||(Wn=(0,o.A)(["\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n"]))),ja=T.A.button(Zn||(Zn=(0,o.A)(["\n  padding: 0.5rem 1rem;\n  border: 1px solid #e5e7eb;\n  background: white;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: #f3f4f6;\n    border-color: #3b82f6;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  &.active {\n    background: #3b82f6;\n    color: white;\n    border-color: #3b82f6;\n  }\n"]))),ka=T.A.select(Un||(Un=(0,o.A)(["\n  padding: 0.5rem;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  background: white;\n  font-size: 0.875rem;\n  cursor: pointer;\n"]))),_a=T.A.span(Kn||(Kn=(0,o.A)(["\n  display: inline-flex;\n  align-items: flex-start;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  border-radius: 8px;\n  font-size: 0.75rem;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 0.025em;\n  border: 2px solid;\n  background: ",";\n  color: ",";\n  border-color: ",";\n  box-shadow: ",";\n"])),e=>{if(e.$isInEditRow)return"transparent";const n=k(e.$status);return(null===n||void 0===n?void 0:n.light)||j.NOVA.light},e=>{if(e.$isInEditRow){const n=k(e.$status);return(null===n||void 0===n?void 0:n.dark)||j.NOVA.dark}const n=k(e.$status);return(null===n||void 0===n?void 0:n.dark)||j.NOVA.dark},e=>{if(e.$isInEditRow)return"#dc2626";const n=k(e.$status);return(null===n||void 0===n?void 0:n.dark)||j.NOVA.dark},e=>e.$isInEditRow?"0 1px 3px rgba(0, 0, 0, 0.2)":"none"),ya=T.A.div(Hn||(Hn=(0,o.A)(["\n  display: flex;\n  gap: 0.12rem;\n  justify-content: center;\n  align-items: center;\n"]))),za=T.A.button(Gn||(Gn=(0,o.A)(["\n  padding: 0.375rem;\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  border-radius: 4px;\n  color: #64748b;\n  font-size: 0.8rem;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 28px;\n  min-height: 28px;\n\n  /* Prevence blik\xe1n\xed ikon */\n  svg {\n    display: block;\n    pointer-events: none;\n  }\n\n  &:hover:not(:disabled):not([disabled]) {\n    background: #f1f5f9;\n    color: #1e293b;\n  }\n\n  &.edit:hover:not(:disabled):not([disabled]) {\n    color: #3b82f6;\n    background: #eff6ff;\n  }\n\n  &.export-document:hover:not(:disabled):not([disabled]) {\n    color: #059669;\n    background: #ecfdf5;\n  }\n\n  &.delete:hover:not(:disabled):not([disabled]) {\n    color: #dc2626;\n    background: #fef2f2;\n  }\n\n  &.create-invoice:hover:not(:disabled):not([disabled]) {\n    color: #0891b2;\n    background: #ecfeff;\n  }\n\n  &.financial-control:hover:not(:disabled):not([disabled]) {\n    color: #7c3aed;\n    background: #f5f3ff;\n  }\n\n  /* Disabled stav */\n  &:disabled,\n  &[disabled] {\n    opacity: 0.7;\n    cursor: not-allowed !important;\n    color: #94a3b8;\n    pointer-events: auto;\n    \n    &:hover {\n      background: transparent;\n      color: #94a3b8;\n    }\n  }\n"]))),Aa=T.A.div(Yn||(Yn=(0,o.A)(["\n  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);\n  border: 2px solid #0ea5e9;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  color: white;\n  font-family: 'Courier New', monospace;\n  box-shadow: 0 8px 32px rgba(14, 165, 233, 0.3);\n"]))),wa=T.A.div(Jn||(Jn=(0,o.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  padding-bottom: 0.75rem;\n  border-bottom: 2px solid rgba(14, 165, 233, 0.3);\n"]))),Sa=T.A.h3(Xn||(Xn=(0,o.A)(["\n  margin: 0;\n  color: #0ea5e9;\n  font-size: 1.25rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),Ca=T.A.div(qn||(qn=(0,o.A)(["\n  max-height: 400px;\n  overflow-y: auto;\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 8px;\n  padding: 1rem;\n  border: 1px solid rgba(14, 165, 233, 0.2);\n"]))),Na=T.A.div(Qn||(Qn=(0,o.A)(["\n  margin-bottom: 1rem;\n  &:last-child { margin-bottom: 0; }\n"]))),Ea=T.A.div(et||(et=(0,o.A)(["\n  color: #0ea5e9;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  font-size: 0.875rem;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n"]))),Oa=T.A.pre(nt||(nt=(0,o.A)(["\n  margin: 0;\n  color: #e2e8f0;\n  font-size: 0.75rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-all;\n  background: rgba(0, 0, 0, 0.2);\n  padding: 0.75rem;\n  border-radius: 6px;\n  border-left: 3px solid #0ea5e9;\n"]))),Ra=T.A.div(tt||(tt=(0,o.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(248, 250, 252, 0.95);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 99999;\n  opacity: ",";\n  transition: opacity 0.5s ease-in-out;\n  pointer-events: ",";\n\n  @media (max-width: 768px) {\n    padding: 1rem;\n  }\n"])),e=>e.$visible?1:0,e=>e.$visible?"auto":"none"),Da=T.A.div(rt||(rt=(0,o.A)(["\n  width: 64px;\n  height: 64px;\n  border: 4px solid #e2e8f0;\n  border-top: 4px solid #f59e0b;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 1.5rem;\n  transform: scale(",");\n  transition: transform 0.5s ease-in-out;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg) scale(1); }\n    100% { transform: rotate(360deg) scale(1); }\n  }\n"])),e=>e.$visible?1:.8),Ia=T.A.div(ot||(ot=(0,o.A)(["\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #374151;\n  text-align: center;\n  margin-bottom: 0.5rem;\n  transform: translateY(",");\n  opacity: ",";\n  transition: transform 0.5s ease-in-out 0.1s, opacity 0.5s ease-in-out 0.1s;\n"])),e=>e.$visible?"0":"10px",e=>e.$visible?1:0),La=T.A.div(at||(at=(0,o.A)(["\n  font-size: 0.875rem;\n  color: #6b7280;\n  text-align: center;\n  transform: translateY(",");\n  opacity: ",";\n  transition: transform 0.5s ease-in-out 0.15s, opacity 0.5s ease-in-out 0.15s;\n"])),e=>e.$visible?"0":"10px",e=>e.$visible?1:0),Ta=T.A.div(it||(it=(0,o.A)(["\n  position: relative;\n  filter: blur(",");\n  opacity: ",";\n  transition: filter 0.5s ease-in-out, opacity 0.5s ease-in-out;\n  pointer-events: ",";\n  will-change: ",";\n  isolation: isolate;\n"])),e=>e.$blurred?"5px":"0px",e=>e.$blurred?.6:1,e=>e.$blurred?"none":"auto",e=>e.$blurred?"filter, opacity":"auto"),$a=T.A.div(lt||(lt=(0,o.A)(["\n  padding: 1rem;\n  background: #f8fafc;\n  border-left: 4px solid #3b82f6;\n  border-radius: 4px;\n  margin: 1rem 0;\n  font-size: 1.1rem;\n"]))),Pa=T.A.p(st||(st=(0,o.A)(["\n  margin: 0.75rem 0;\n  color: #64748b;\n  line-height: 1.6;\n"]))),Va=T.A.p(dt||(dt=(0,o.A)(["\n  margin: 0.75rem 0;\n  color: #dc2626;\n  font-weight: 600;\n  line-height: 1.6;\n"]))),Ma=T.A.div(ct||(ct=(0,o.A)(["\n  margin: 1rem 0;\n  padding: 1rem;\n  background: #f0f9ff;\n  border: 1px solid #bfdbfe;\n  border-radius: 8px;\n"]))),Fa=T.A.div(ut||(ut=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.5rem 0;\n  color: #1e40af;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid #e0e7ff;\n  }\n\n  svg {\n    color: #3b82f6;\n    width: 18px;\n    height: 18px;\n  }\n\n  a {\n    color: #1e40af;\n    text-decoration: none;\n    font-weight: 500;\n    transition: all 0.2s ease;\n\n    &:hover {\n      color: #1e3a8a;\n      text-decoration: underline;\n    }\n  }\n"]))),Ba=T.A.span(vt||(vt=(0,o.A)(["\n  font-weight: 600;\n  min-width: 80px;\n  color: #64748b;\n"]))),Wa=T.A.div(pt||(pt=(0,o.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(8px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 999999;\n  animation: fadeIn 0.2s ease;\n  padding: 2rem;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n"]))),Za=T.A.div(ht||(ht=(0,o.A)(["\n  background: white;\n  border-radius: 16px;\n  max-width: 1200px;\n  width: 100%;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\n  animation: slideUp 0.3s ease;\n\n  @keyframes slideUp {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n"]))),Ua=T.A.div(mt||(mt=(0,o.A)(["\n  padding: 1.5rem 2rem;\n  border-bottom: 2px solid #e5e7eb;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 16px 16px 0 0;\n"]))),Ka=T.A.h2(gt||(gt=(0,o.A)(["\n  margin: 0;\n  font-size: 1.5rem;\n  color: white;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n\n  svg {\n    font-size: 1.75rem;\n  }\n"]))),Ha=T.A.button(ft||(ft=(0,o.A)(["\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  border-radius: 8px;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: white;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.3);\n    transform: scale(1.05);\n  }\n\n  svg {\n    font-size: 1.25rem;\n  }\n"]))),Ga=T.A.div(xt||(xt=(0,o.A)(["\n  padding: 2rem;\n  overflow-y: auto;\n  flex: 1;\n"]))),Ya=T.A.div(bt||(bt=(0,o.A)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: 0.75rem;\n  margin-bottom: 1.5rem;\n"]))),Ja=T.A.div(jt||(jt=(0,o.A)(["\n  padding: 0.75rem;\n  background: linear-gradient(135deg, #f6f8fb 0%, #eef2f7 100%);\n  border-radius: 8px;\n  border: 1px solid #e5e7eb;\n"]))),Xa=T.A.div(kt||(kt=(0,o.A)(["\n  font-size: 0.65rem;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  color: #6b7280;\n  font-weight: 600;\n  margin-bottom: 0.375rem;\n"]))),qa=T.A.div(_t||(_t=(0,o.A)(["\n  font-size: 1.125rem;\n  font-weight: 700;\n  color: #1f2937;\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n\n  svg {\n    font-size: 1rem;\n    color: #667eea;\n  }\n"]))),Qa=T.A.div(yt||(yt=(0,o.A)(["\n  border: 2px solid #e5e7eb;\n  border-radius: 12px;\n  overflow: hidden;\n  margin-bottom: 1.5rem;\n  width: fit-content;\n  min-width: 100%;\n"]))),ei=T.A.div(zt||(zt=(0,o.A)(["\n  display: flex;\n  background: #f9fafb;\n  border-bottom: 2px solid #e5e7eb;\n  font-weight: 600;\n  font-size: 0.875rem;\n  color: #374151;\n"]))),ni=T.A.div(At||(At=(0,o.A)(["\n  padding: 0.75rem 1rem;\n  border-right: 1px solid #e5e7eb;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  flex-shrink: 0;\n  \n  &:last-child {\n    border-right: none;\n  }\n"]))),ti=T.A.div(wt||(wt=(0,o.A)(["\n  display: flex;\n  border-bottom: 1px solid #e5e7eb;\n  \n  &:last-child {\n    border-bottom: none;\n  }\n\n  &:nth-of-type(even) {\n    background: #f9fafb;\n  }\n\n  &:hover {\n    background: #f3f4f6;\n  }\n"]))),ri=T.A.div(St||(St=(0,o.A)(["\n  padding: 0.75rem 1rem;\n  font-size: 0.875rem;\n  color: #1f2937;\n  border-right: 1px solid #e5e7eb;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  flex-shrink: 0;\n  \n  &:last-child {\n    border-right: none;\n  }\n"]))),oi=T.A.div(Ct||(Ct=(0,o.A)(["\n  padding: 1.5rem 2rem;\n  border-top: 2px solid #e5e7eb;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n  background: #f9fafb;\n  border-radius: 0 0 16px 16px;\n"]))),ai=T.A.div(Nt||(Nt=(0,o.A)(["\n  font-size: 0.875rem;\n  color: #6b7280;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    color: #3b82f6;\n  }\n"]))),ii=T.A.div(Et||(Et=(0,o.A)(["\n  display: flex;\n  gap: 1rem;\n"]))),li=T.A.button(Ot||(Ot=(0,o.A)(["\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  border: none;\n\n  ","\n\n  ","\n\n  svg {\n    font-size: 1rem;\n  }\n"])),e=>"cancel"===e.$variant&&"\n    background: white;\n    color: #6b7280;\n    border: 2px solid #e5e7eb;\n\n    &:hover {\n      background: #f9fafb;\n      border-color: #d1d5db;\n    }\n  ",e=>"confirm"===e.$variant&&"\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n\n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 10px 25px -5px rgba(102, 126, 234, 0.5);\n    }\n  "),si=T.A.div(Rt||(Rt=(0,o.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(8px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 999999;\n  animation: fadeIn 0.2s ease;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n"]))),di=T.A.div(Dt||(Dt=(0,o.A)(["\n  background: white;\n  border-radius: 16px;\n  max-width: 900px;\n  width: 95%;\n  max-height: 90vh;\n  box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n  animation: slideUp 0.3s ease;\n\n  @keyframes slideUp {\n    from { transform: translateY(50px); opacity: 0; }\n    to { transform: translateY(0); opacity: 1; }\n  }\n"]))),ci=T.A.div(It||(It=(0,o.A)(["\n  background: linear-gradient(135deg, #0891b2 0%, #06b6d4 100%);\n  padding: 1.5rem 2rem;\n  color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),ui=T.A.h2(Lt||(Lt=(0,o.A)(["\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n"]))),vi=T.A.div(Tt||(Tt=(0,o.A)(["\n  padding: 2rem;\n  max-height: calc(90vh - 200px);\n  overflow-y: auto;\n"]))),pi=T.A.div($t||($t=(0,o.A)(["\n  background: #f8fafc;\n  border: 2px solid #e2e8f0;\n  border-radius: 12px;\n  padding: 1.25rem;\n  margin-bottom: 1rem;\n  transition: all 0.2s ease;\n\n  &:hover {\n    border-color: #0891b2;\n    box-shadow: 0 4px 12px rgba(8, 145, 178, 0.1);\n  }\n"]))),hi=T.A.div(Pt||(Pt=(0,o.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n"]))),mi=T.A.div(Vt||(Vt=(0,o.A)(["\n  font-weight: 700;\n  font-size: 1.1rem;\n  color: #1e293b;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),gi=T.A.div(Mt||(Mt=(0,o.A)(["\n  font-size: 0.9rem;\n  color: #64748b;\n  line-height: 1.6;\n  margin-bottom: 0.75rem;\n"]))),fi=T.A.div(Ft||(Ft=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-top: 0.75rem;\n"]))),xi=T.A.label(Bt||(Bt=(0,o.A)(["\n  font-weight: 600;\n  color: #475569;\n  min-width: 120px;\n"]))),bi=T.A.div(Wt||(Wt=(0,o.A)(["\n  background: #f8fafc;\n  padding: 1.5rem 2rem;\n  border-top: 2px solid #e2e8f0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n"]))),ji=T.A.div(Zt||(Zt=(0,o.A)(["\n  font-size: 1rem;\n  color: #475569;\n  font-weight: 600;\n"]))),ki=T.A.div(Ut||(Ut=(0,o.A)(["\n  display: flex;\n  gap: 0.75rem;\n"]))),_i=T.A.button(Kt||(Kt=(0,o.A)(["\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border: 2px solid;\n\n  &.primary {\n    background: linear-gradient(135deg, #0891b2 0%, #06b6d4 100%);\n    color: white;\n    border-color: #0891b2;\n\n    &:hover {\n      background: linear-gradient(135deg, #0e7490 0%, #0891b2 100%);\n      transform: translateY(-1px);\n      box-shadow: 0 4px 12px rgba(8, 145, 178, 0.3);\n    }\n  }\n\n  &.secondary {\n    background: white;\n    color: #64748b;\n    border-color: #cbd5e1;\n\n    &:hover {\n      background: #f8fafc;\n      border-color: #94a3b8;\n    }\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n"]))),yi=T.A.div(Ht||(Ht=(0,o.A)(["\n  margin: 0.75rem 0;\n  padding: 0.75rem;\n  background: #fef3c7;\n  border-left: 4px solid #f59e0b;\n  border-radius: 4px;\n  font-size: 0.875rem;\n  color: #92400e;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    color: #f59e0b;\n    width: 16px;\n    height: 16px;\n  }\n"]))),zi=T.A.div(Gt||(Gt=(0,o.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.75);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  animation: fadeIn 0.2s ease;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n"]))),Ai=T.A.div(Yt||(Yt=(0,o.A)(["\n  background: white;\n  border-radius: 16px;\n  max-width: 500px;\n  width: 90%;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);\n  overflow: hidden;\n  animation: slideUp 0.3s ease;\n\n  @keyframes slideUp {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n"]))),wi=T.A.div(Jt||(Jt=(0,o.A)(["\n  background: linear-gradient(135deg, #fca5a5, #ef4444, #dc2626);\n  padding: 1.5rem;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  border-bottom: 3px solid #b91c1c;\n"]))),Si=T.A.div(Xt||(Xt=(0,o.A)(["\n  font-size: 2.5rem;\n  animation: pulse 2s ease-in-out infinite;\n  filter: drop-shadow(0 2px 8px rgba(185, 28, 28, 0.5));\n\n  @keyframes pulse {\n    0%, 100% {\n      transform: scale(1);\n      opacity: 1;\n    }\n    50% {\n      transform: scale(1.1);\n      opacity: 0.8;\n    }\n  }\n"]))),Ci=T.A.h3(qt||(qt=(0,o.A)(["\n  margin: 0;\n  color: white;\n  font-size: 1.25rem;\n  font-weight: 800;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  flex: 1;\n"]))),Ni=T.A.div(Qt||(Qt=(0,o.A)(["\n  padding: 1.5rem;\n"]))),Ei=T.A.div(er||(er=(0,o.A)(["\n  margin-bottom: 1.25rem;\n  line-height: 1.6;\n  color: #374151;\n\n  strong {\n    color: #dc2626;\n    font-weight: 700;\n  }\n\n  p {\n    margin: 0 0 0.75rem 0;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n"]))),Oi=T.A.div(nr||(nr=(0,o.A)(["\n  background: linear-gradient(135deg, #fef2f2, #fee2e2);\n  border: 2px solid #fecaca;\n  border-radius: 12px;\n  padding: 1rem;\n  margin-top: 1rem;\n"]))),Ri=T.A.div(tr||(tr=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  margin-bottom: 0.75rem;\n  font-size: 0.9375rem;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  svg {\n    color: #dc2626;\n    flex-shrink: 0;\n  }\n"]))),Di=T.A.span(rr||(rr=(0,o.A)(["\n  font-weight: 700;\n  color: #7f1d1d;\n  min-width: 120px;\n"]))),Ii=T.A.span(or||(or=(0,o.A)(["\n  color: #991b1b;\n  flex: 1;\n"]))),Li=T.A.div(ar||(ar=(0,o.A)(["\n  display: flex;\n  gap: 0.75rem;\n  justify-content: flex-end;\n  margin-top: 1.5rem;\n  padding-top: 1.5rem;\n  border-top: 2px solid #f3f4f6;\n"]))),Ti=T.A.button(ir||(ir=(0,o.A)(["\n  padding: 0.75rem 1.5rem;\n  border: 2px solid;\n  border-radius: 10px;\n  font-weight: 700;\n  font-size: 0.9375rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  ","\n"])),e=>e.$primary?"\n    background: linear-gradient(135deg, #dc2626, #b91c1c);\n    color: white;\n    border-color: transparent;\n    box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);\n\n    &:hover {\n      background: linear-gradient(135deg, #b91c1c, #991b1b);\n      box-shadow: 0 6px 16px rgba(220, 38, 38, 0.4);\n      transform: translateY(-2px);\n    }\n\n    &:active {\n      transform: translateY(0);\n    }\n  ":"\n    background: white;\n    color: #6b7280;\n    border-color: #d1d5db;\n\n    &:hover {\n      background: #f9fafb;\n      border-color: #9ca3af;\n      color: #374151;\n    }\n  "),$i=e=>{let{field:n,value:t,onChange:r,options:o,placeholder:i,icon:l}=e;const[s,d]=a.useState(!1),[c,u]=a.useState(""),v=a.useRef(null),p=a.useRef(null);a.useEffect(()=>{const e=e=>{v.current&&!v.current.contains(e.target)&&(d(!1),u(""))};if(s)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s]),a.useEffect(()=>{s&&p.current&&requestAnimationFrame(()=>{var e;null===(e=p.current)||void 0===e||e.focus()})},[s]);const h=a.useMemo(()=>{const e=Array.isArray(t)?t:[];return new Set(e.map(e=>String(e)))},[t]),m=a.useMemo(()=>{if(!c.trim())return o;const e=c.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return o.filter(n=>(n.displayName||n.nazev_stavu||n.nazev||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e))},[o,c]),g=a.useCallback(()=>{if(!t||0===t.length)return i||"Vyberte...";if(1===t.length){const e=null===o||void 0===o?void 0:o.find(e=>String(e.id)===String(t[0]));return e&&(e.displayName||e.nazev_stavu||e.nazev)||t[0]}return"Vybr\xe1no: ".concat(t.length)},[t,o,i]),f=a.useCallback(e=>{const n=Array.isArray(t)?t:[],o={target:{options:(n.includes(e)?n.filter(n=>n!==e):[...n,e]).map(e=>({value:e,selected:!0}))}};r(o)},[t,r,n]),x=a.useCallback(e=>{e.stopPropagation(),d(e=>!e)},[]),b=a.useCallback((e,n)=>{e.stopPropagation(),f(n)},[f]);return o&&0!==o.length?(0,V.jsxs)("div",{ref:v,style:{position:"relative",width:"100%"},children:[(0,V.jsxs)("div",{onClick:x,style:{width:"100%",padding:"0.75rem 2.5rem 0.75rem 2.5rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.875rem",background:"#ffffff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",color:t&&0!==t.length?"#1f2937":"#9ca3af",fontWeight:t&&t.length>0?"600":"400"},children:[(0,V.jsx)("span",{children:g()}),(0,V.jsx)("svg",{style:{position:"absolute",right:"0.5rem",width:"16px",height:"16px",transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease",pointerEvents:"none"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"#374151",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,V.jsx)("polyline",{points:"6 9 12 15 18 9"})})]}),s&&(0,V.jsxs)("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"4px",background:"#ffffff",border:"2px solid #3b82f6",borderRadius:"8px",zIndex:9999,boxShadow:"0 4px 6px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",maxHeight:"400px"},children:[(0,V.jsx)("div",{style:{padding:"0.75rem",borderBottom:"2px solid #e5e7eb",position:"sticky",top:0,background:"#ffffff",zIndex:1},children:(0,V.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,V.jsx)(I.g,{icon:L.MjD,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",width:"12px",height:"12px",pointerEvents:"none",zIndex:1}}),(0,V.jsx)("input",{ref:p,type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Hledat...",style:{width:"100%",padding:"0.5rem 0.75rem 0.5rem 2rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem",outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#d1d5db",onClick:e=>e.stopPropagation()})]})}),(0,V.jsx)("div",{style:{overflowY:"auto",maxHeight:"300px"},children:0===m.length?(0,V.jsx)("div",{style:{padding:"1rem",textAlign:"center",color:"#9ca3af",fontSize:"0.875rem"},children:"\u017d\xe1dn\xe9 v\xfdsledky"}):m.map((e,n)=>{const t=String(e.id||""),r=e.displayName||e.nazev_stavu||e.nazev||"Bez n\xe1zvu",o=h.has(t);return t?(0,V.jsxs)("div",{onClick:e=>b(e,t),style:{padding:"0.75rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",background:o?"#eff6ff":"#ffffff",borderBottom:"1px solid #f3f4f6",fontSize:"0.875rem",transition:"background 0.15s"},onMouseEnter:e=>{o||(e.currentTarget.style.background="#f9fafb")},onMouseLeave:e=>{o||(e.currentTarget.style.background="#ffffff")},children:[(0,V.jsx)("input",{type:"checkbox",checked:o,readOnly:!0,style:{cursor:"pointer",width:"16px",height:"16px",accentColor:"#3b82f6",pointerEvents:"none"}}),(0,V.jsx)("span",{style:{fontWeight:o?"600":"400",color:o?"#1f2937":"#4b5563"},children:r})]},t):null})})]}),l&&(0,V.jsx)("div",{style:{position:"absolute",left:"0.75rem",bottom:"0.75rem",color:"#9ca3af",pointerEvents:"none",fontSize:"14px"},children:l})]}):(0,V.jsx)("div",{style:{padding:"0.75rem 2.5rem",border:"2px solid #e5e7eb",borderRadius:"8px",color:"#9ca3af",fontSize:"0.875rem"},children:"Na\u010d\xedt\xe1n\xed..."})},Pi=e=>{let{value:n,onChange:t,placeholder:r="Vyberte datum"}=e;const[o,i]=(0,a.useState)(!1),[l,s]=(0,a.useState)(new Date),[d,c]=(0,a.useState)(!1),u=(0,a.useRef)(null),v=n?new Date(n):null;(0,a.useEffect)(()=>{if(n){const e=new Date(n);isNaN(e.getTime())||s(e)}},[n]),(0,a.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&i(!1)};if(o)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[o]),(0,a.useEffect)(()=>{if(o&&u.current){(()=>{if(!u.current)return;const e=u.current.getBoundingClientRect(),n=window.innerHeight-e.bottom-54-20,t=e.top-20;c(n<300||n<380&&t>n+50)})()}},[o]);const p=e=>{t((e=>{const n=new Date(e),t=n.getFullYear(),r=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(o)})(e)),i(!1)},h=e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),p(new Date)},m=e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),t(""),i(!1)},g=new Date,f=(()=>{const e=l.getFullYear(),n=l.getMonth(),t=new Date(e,n,1),r=new Date(e,n+1,0),o=[];for(let i=(0===t.getDay()?6:t.getDay()-1)-1;i>=0;i--){const t=new Date(e,n,-i);o.push({date:t,isOtherMonth:!0})}for(let i=1;i<=r.getDate();i++){const t=new Date(e,n,i);o.push({date:t,isOtherMonth:!1})}const a=42-o.length;for(let i=1;i<=a;i++){const t=new Date(e,n+1,i);o.push({date:t,isOtherMonth:!0})}return o})(),x=n?(e=>{if(!e)return"";try{const n=new Date(e);return isNaN(n.getTime())?"":n.toLocaleDateString("cs-CZ",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(n){return""}})(n):r;return(0,V.jsxs)(Vi,{ref:u,children:[(0,V.jsxs)(Mi,{hasIcon:!0,children:[(0,V.jsx)($.A,{size:18,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",pointerEvents:"none"}}),(0,V.jsx)(Fi,{type:"button",onClick:()=>i(!o),hasValue:!!n,children:x}),n&&(0,V.jsx)(Bi,{type:"button",onClick:m,title:"Smazat datum",children:"\u2715"}),(0,V.jsx)(Wi,{type:"button",onClick:h,title:"Nastavit dne\u0161n\xed datum",children:"\ud83d\udcc5"})]}),o&&(0,V.jsxs)(Zi,{openUpwards:d,children:[(0,V.jsxs)(Ui,{children:[(0,V.jsx)(Ki,{onClick:e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),s(new Date(l.getFullYear(),l.getMonth()-1))},children:"\u25c0"}),(0,V.jsxs)(Hi,{children:[(0,V.jsx)("span",{children:l.toLocaleDateString("cs-CZ",{month:"long"})}),(0,V.jsx)("span",{children:l.getFullYear()})]}),(0,V.jsx)(Ki,{onClick:e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),s(new Date(l.getFullYear(),l.getMonth()+1))},children:"\u25b6"})]}),(0,V.jsxs)(Gi,{children:[["Po","\xdat","St","\u010ct","P\xe1","So","Ne"].map(e=>(0,V.jsx)(Yi,{children:e},e)),f.map((e,n)=>{const t=e.date.toDateString()===g.toDateString(),r=v&&e.date.toDateString()===v.toDateString();return(0,V.jsx)(Ji,{onClick:()=>p(e.date),isToday:t,isSelected:r,isOtherMonth:e.isOtherMonth,children:e.date.getDate()},n)})]}),(0,V.jsxs)(Xi,{children:[(0,V.jsx)(qi,{className:"today",onClick:h,children:"Dnes"}),(0,V.jsx)(qi,{className:"clear",onClick:m,children:"Smazat"})]})]})]})},Vi=T.A.div(lr||(lr=(0,o.A)(["\n  position: relative;\n  width: 100%;\n"]))),Mi=T.A.div(sr||(sr=(0,o.A)(["\n  position: relative;\n  width: 100%;\n"]))),Fi=T.A.button(dr||(dr=(0,o.A)(["\n  width: 100%;\n  display: block;\n  padding: 0.75rem;\n  padding-left: 2.75rem;\n  padding-right: ",";\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  background: white;\n  color: ",";\n  font-size: 0.875rem;\n  font-weight: ",";\n  cursor: pointer;\n  transition: all 0.2s ease;\n  text-align: left;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  min-height: 42px;\n  &:hover {\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n"])),e=>e.hasValue?"4.5rem":"3rem",e=>e.hasValue?"#1f2937":"#9ca3af",e=>e.hasValue?"600":"400"),Bi=T.A.button(cr||(cr=(0,o.A)(["\n  position: absolute;\n  right: 36px;\n  top: 50%;\n  transform: translateY(-50%);\n  background: #ef4444;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: bold;\n  transition: all 0.2s ease;\n  z-index: 1;\n  &:hover {\n    background: #dc2626;\n    transform: translateY(-50%) scale(1.1);\n  }\n"]))),Wi=T.A.button(ur||(ur=(0,o.A)(["\n  position: absolute;\n  right: 8px;\n  top: 50%;\n  transform: translateY(-50%);\n  background: white;\n  color: #374151;\n  border: 1px solid #e5e7eb;\n  border-radius: 4px;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 11px;\n  font-weight: bold;\n  transition: all 0.2s ease;\n  z-index: 1;\n  &:hover {\n    background: #f3f4f6;\n    transform: translateY(-50%) scale(1.1);\n  }\n"]))),Zi=T.A.div(vr||(vr=(0,o.A)(["\n  position: absolute;\n  ","\n  left: 0;\n  right: 0;\n  z-index: 10001;\n  background: white;\n  border: 2px solid #3b82f6;\n  border-radius: 8px;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  padding: 0.5rem;\n"])),e=>e.openUpwards?"bottom: calc(100% + 4px); top: auto;":"top: calc(100% + 4px); bottom: auto;"),Ui=T.A.div(pr||(pr=(0,o.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n  padding-bottom: 0.35rem;\n  border-bottom: 1px solid #e5e7eb;\n"]))),Ki=T.A.button(hr||(hr=(0,o.A)(["\n  background: #f3f4f6;\n  border: none;\n  border-radius: 4px;\n  width: 28px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: #374151;\n  font-weight: 600;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  &:hover {\n    background: #3b82f6;\n    color: white;\n    transform: scale(1.1);\n  }\n"]))),Hi=T.A.div(mr||(mr=(0,o.A)(["\n  font-weight: 600;\n  font-size: 0.85rem;\n  color: #111827;\n  display: flex;\n  gap: 0.35rem;\n"]))),Gi=T.A.div(gr||(gr=(0,o.A)(["\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 1px;\n"]))),Yi=T.A.div(fr||(fr=(0,o.A)(["\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.65rem;\n  font-weight: 600;\n  color: #6b7280;\n  padding: 0.15rem;\n"]))),Ji=T.A.button(xr||(xr=(0,o.A)(["\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75rem;\n  border: none;\n  border-radius: 4px;\n  background: ",";\n  color: ",";\n  font-weight: ",";\n  cursor: pointer;\n  transition: all 0.2s ease;\n  &:hover {\n    background: ",";\n    transform: scale(1.1);\n    color: ",";\n  }\n"])),e=>e.isSelected?"#3b82f6":"transparent",e=>e.isSelected?"white":e.isOtherMonth?"#9ca3af":"#374151",e=>e.isSelected?"600":"400",e=>e.isSelected?"#2563eb":"#f3f4f6",e=>e.isSelected?"white":"#111827"),Xi=T.A.div(br||(br=(0,o.A)(["\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 0.5rem;\n  padding-top: 0.5rem;\n  border-top: 2px solid #e5e7eb;\n"]))),qi=T.A.button(jr||(jr=(0,o.A)(["\n  flex: 1;\n  padding: 0.5rem;\n  border: none;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  &.today {\n    background: #dbeafe;\n    color: #1e40af;\n    &:hover {\n      background: #bfdbfe;\n    }\n  }\n  &.clear {\n    background: #fee2e2;\n    color: #991b1b;\n    &:hover {\n      background: #fecaca;\n    }\n  }\n"]))),Qi=()=>{var e,n,o,z,A,N,E,O,R,T,$;const M=(0,l.Zp)(),F=(0,l.zy)(),{user:B,token:W,username:U,hasPermission:K,hasAdminRole:H,user_id:G,userDetail:Y,userPermissions:J,expandedPermissions:X}=(0,a.useContext)(s.cy),{setProgress:q}=(0,a.useContext)(d.z)||{},{setDebugInfo:Q}=(0,a.useContext)(c.B)||{},{showToast:ee}=(0,a.useContext)(u.$o)||{},[ne,te]=(0,a.useState)(null),re=(0,a.useMemo)(()=>parseInt(G,10),[G]),oe=e=>"".concat(e,"_user_").concat(re||"anon"),ae=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const t=localStorage.getItem(oe(e));return null!==t?JSON.parse(t):n}catch(t){return n}},ie=(e,n)=>{try{localStorage.setItem(oe(e),JSON.stringify(n))}catch(t){}},le=(0,m.M4)(),se=(0,a.useMemo)(()=>{if(!K)return{canViewAll:!1,hasOnlyOwn:!1};const e=K("ORDER_MANAGE")||K("ORDER_READ_ALL")||K("ORDER_VIEW_ALL")||K("ORDER_EDIT_ALL")||K("ORDER_DELETE_ALL");return{canViewAll:e,hasOnlyOwn:!e&&(K("ORDER_READ_OWN")||K("ORDER_VIEW_OWN")||K("ORDER_EDIT_OWN")||K("ORDER_DELETE_OWN"))}},[K]),de=(0,a.useRef)(se);(0,a.useEffect)(()=>{de.current=se},[se]),(0,a.useEffect)(()=>{(async()=>{if(W&&U)try{const{getHierarchyConfig:e}=await t.e(4795).then(t.bind(t,34795)),n=await e(W,U);te(n),console.log("\ud83c\udfe2 [Orders25List] Hierarchie na\u010dtena:",{status:n.status,enabled:n.enabled,profileId:n.profileId,profileName:n.profileName})}catch(he){console.error("\u274c [Orders25List] Chyba p\u0159i na\u010d\xedt\xe1n\xed hierarchie:",he),te({status:"error",enabled:!1,profileId:null,profileName:null,error:he.message})}else te(null)})()},[W,U]);const[ce,ue]=(0,a.useState)([]),[ve,pe]=(0,a.useState)(!0),[he,me]=(0,a.useState)(null),[ge,fe]=(0,a.useState)({}),xe=(0,a.useRef)(ge);(0,a.useEffect)(()=>{xe.current=ge},[ge]);const[be,je]=(0,a.useState)(null),[ke,_e]=(0,a.useState)(!1),[ye,ze]=(0,a.useState)(!1),[Ae,we]=(0,a.useState)(!1),[Se,Ce]=(0,a.useState)(!1),[Ne,Ee]=(0,a.useState)(!1),[Oe,Re]=(0,a.useState)(!1),De=(0,a.useRef)(null),Ie=(0,a.useRef)(null),Le=(0,a.useCallback)(e=>{if(Ie.current=e,e){const n=()=>{Ee(!0)},t=()=>{Ee(!1)};return e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",t),()=>{e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",t)}}},[]),Te=(0,a.useCallback)(e=>{if(De.current=e,e){const n=()=>{const n=e.scrollLeft,t=e.scrollWidth-e.clientWidth,r=n<t-5;_e(n>5),ze(r),we(n>1),Ce(n<t-1)};setTimeout(n,100);let t=null;const r=()=>{t||(t=requestAnimationFrame(()=>{n(),t=null}))};return e.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",n),()=>{t&&cancelAnimationFrame(t),e.removeEventListener("scroll",r),window.removeEventListener("resize",n)}}},[]),[$e,Pe]=(0,a.useState)(!1),[Ve,Me]=(0,a.useState)(!0),[Fe,Be]=(0,a.useState)(null),[We,Ze]=(0,a.useState)(null),[Ue,Ke]=(0,a.useState)(null),[He,Ge]=(0,a.useState)(!1),[Ye,Je]=(0,a.useState)(null),[Xe,qe]=(0,a.useState)([]),[Qe,en]=(0,a.useState)([]),[nn,tn]=(0,a.useState)([]),[rn,on]=(0,a.useState)([]),[an,ln]=(0,a.useState)([]),[sn,dn]=(0,a.useState)([]),[cn,un]=(0,a.useState)([]),[vn,pn]=(0,a.useState)([]),[hn,mn]=(0,a.useState)([]),[gn,fn]=(0,a.useState)(!1),[xn,bn]=(0,a.useState)(null),[jn,kn]=(0,a.useState)(null),[_n,yn]=(0,a.useState)(!1),[zn,An]=(0,a.useState)(null),[wn,Sn]=(0,a.useState)(!1),[Cn,Nn]=(0,a.useState)(!1),[En,On]=(0,a.useState)(!1),[Rn,Dn]=(0,a.useState)(null),[In,Ln]=(0,a.useState)(!1),[Tn,$n]=(0,a.useState)(null),[Pn,Vn]=(0,a.useState)(!1),[Mn,Fn]=(0,a.useState)([]),[Bn,Wn]=(0,a.useState)(()=>ae("bulkDocxSigners",{})),[Zn,Un]=(0,a.useState)(()=>ae("bulkDocxTemplates",{})),[Kn,Hn]=(0,a.useState)(!1),[Gn,Yn]=(0,a.useState)([]),[Jn,Xn]=(0,a.useState)(!1),[qn,Qn]=(0,a.useState)([]),[et,nt]=(0,a.useState)("soft"),[tt,rt]=(0,a.useState)([]),[ot,at]=(0,a.useState)(()=>ae("orders25List_showDashboard",!0)),[it,lt]=(0,a.useState)(!1),[st,dt]=(0,a.useState)(null),[ct,ut]=(0,a.useState)(!1),[vt,pt]=(0,a.useState)(()=>ae("orders25List_showFiltersPanel",!0)),[ht,mt]=(0,a.useState)(()=>ae("orders25List_showFilters",!1)),[gt,ft]=(0,a.useState)(()=>ae("orders25List_showDebug",!1)),xt=(0,a.useMemo)(()=>re?(0,v.loadSettingsFromLocalStorage)(re):null,[re]),bt=(0,a.useMemo)(()=>(null===xt||void 0===xt?void 0:xt.viditelne_dlazdice)&&Object.keys(xt.viditelne_dlazdice).length>0,[xt]),[jt,kt]=(0,a.useState)(()=>ae("orders25List_dashboardCompact",!0)),[_t,yt]=(0,a.useState)(()=>ae("orders25List_dashboardMode","standard")),[zt,At]=(0,a.useState)(()=>ae("orders25List_activeStatusFilter",null)),[wt,St]=(0,a.useState)(null),[Ct,Nt]=(0,a.useState)(!0),[Et,Ot]=(0,a.useState)(()=>ae("orders25List_globalFilter","")),[Rt,Dt]=(0,a.useState)(()=>{const e=ae("orders25List_statusFilter",null);if(null!==e){return Array.isArray(e)?e:e?[e]:[]}try{const e=(0,v.loadSettingsFromLocalStorage)(parseInt(G,10));if(null!==e&&void 0!==e&&e.vychozi_filtry_stavu_objednavek&&Array.isArray(e.vychozi_filtry_stavu_objednavek))return e.vychozi_filtry_stavu_objednavek}catch(n){console.warn("Nelze na\u010d\xedst nastaven\xed filtr\u016f stav\u016f:",n)}return[]}),[It,Lt]=(0,a.useState)(()=>ae("orders25List_userFilter","")),[Tt,$t]=(0,a.useState)(()=>{const e=ae("orders25List_selectedObjednatel",[]);return Array.isArray(e)?e:e?[e]:[]}),[Pt,Vt]=(0,a.useState)(()=>{const e=ae("orders25List_selectedGarant",[]);return Array.isArray(e)?e:e?[e]:[]}),[Mt,Ft]=(0,a.useState)(()=>{const e=ae("orders25List_selectedSchvalovatel",[]);return Array.isArray(e)?e:e?[e]:[]}),[Bt,Wt]=(0,a.useState)(()=>{const e=ae("orders25List_selectedPrikazce",[]);return Array.isArray(e)?e:e?[e]:[]}),[Zt,Ut]=(0,a.useState)(""),[Kt,Ht]=(0,a.useState)(""),[Gt,Yt]=(0,a.useState)(()=>ae("orders25List_amountFrom","")),[Jt,Xt]=(0,a.useState)(()=>ae("orders25List_amountTo","")),[qt,Qt]=(0,a.useState)(()=>ae("orders25List_filterMaBytZverejneno",!1)),[er,nr]=(0,a.useState)(()=>ae("orders25List_filterByloZverejneno",!1)),[tr,rr]=(0,a.useState)(()=>ae("orders25List_filterMimoradneObjednavky",!1)),[or,ar]=(0,a.useState)(!1),[ir,lr]=(0,a.useState)(!1),[sr,dr]=(0,a.useState)(()=>ae("orders25List_rowSelection",{}));(0,a.useEffect)(()=>{ie("orders25List_rowSelection",sr)},[sr]);const[cr,ur]=(0,a.useState)(null),[vr,pr]=(0,a.useState)(()=>ae("orders25List_columnFilters",{dt_objednavky:"",cislo_objednavky:"",predmet:"",objednatel:"",stav_objednavky:"",max_cena_s_dph:"",garant:"",prikazce:"",schvalovatel:""})),[hr,mr]=(0,a.useState)({objednatel:"",garant:"",prikazce:"",schvalovatel:""}),[gr,fr]=(0,a.useState)(()=>ae("orders25List_showRowHighlighting",!0)),[xr,br]=(0,a.useState)(()=>{const e=ae("orders25List_selectedYear",null);if(null!==e)return e;try{const e=(0,v.loadSettingsFromLocalStorage)(parseInt(G,10));if(null!==e&&void 0!==e&&e.vychozi_rok)return"current"===e.vychozi_rok?(new Date).getFullYear():"all"===e.vychozi_rok?"all":e.vychozi_rok}catch(n){console.warn("Nelze na\u010d\xedst nastaven\xed roku:",n)}return(new Date).getFullYear()}),[jr,kr]=(0,a.useState)(()=>{const e=ae("orders25List_selectedMonth",null);if(null!==e)return e;try{const e=(0,v.loadSettingsFromLocalStorage)(parseInt(G,10));if(null!==e&&void 0!==e&&e.vychozi_obdobi)return e.vychozi_obdobi}catch(n){console.warn("Nelze na\u010d\xedst nastaven\xed obdob\xed:",n)}return"all"}),[Vi,Mi]=(0,a.useState)(()=>{const e=ae("orders25List_selectedMonth","all");return e&&!["all","last-month","last-quarter","last-half"].includes(e)}),[Fi,Bi]=(0,a.useState)(()=>ae("orders25List_showArchived",!1)),[Wi,Zi]=(0,a.useState)(()=>ae("orders25List_showOnlyMyOrders",!1)),[Ui,Ki]=(0,a.useState)(!1),[Hi,Gi]=(0,a.useState)(null),Yi=(0,a.useRef)(null),Ji=(0,a.useRef)(null),[Xi,qi]=(0,a.useState)(!1),[Qi,el]=(0,a.useState)(!1),[nl,tl]=(0,a.useState)({}),[rl,ol]=(0,a.useState)({}),[al,il]=(0,a.useState)(new Set),[ll,sl]=(0,a.useState)(!1),[dl,cl]=(0,a.useState)(null),[ul,vl]=(0,a.useState)(!1),[pl,hl]=(0,a.useState)(null),[ml,gl]=(0,a.useState)(!1),[fl,xl]=(0,a.useState)(null),bl=(0,a.useMemo)(()=>{const e=[...rn].map(e=>{const n=e.id||e.uzivatel_id||e.user_id;return(0,r.A)((0,r.A)({},e),{},{id:n})}).sort((e,n)=>{const t=e.displayName||"",r=n.displayName||"";return t.localeCompare(r)});return e},[rn]),jl=(0,a.useMemo)(()=>[...an].map(e=>{const n=e.id||e.user_id||e.uzivatel_id;return(0,r.A)((0,r.A)({},e),{},{id:n,displayName:e.displayName||e.jmeno_prijmeni||"".concat(e.jmeno||""," ").concat(e.prijmeni||"").trim()||"User ".concat(n)})}).sort((e,n)=>{const t=e.displayName||"",r=n.displayName||"";return t.localeCompare(r)}),[an]),kl=(0,a.useMemo)(()=>Fi?jl:jl.filter(e=>void 0!==e.aktivni&&null!==e.aktivni?1===e.aktivni||"1"===e.aktivni||!0===e.aktivni:void 0===e.deaktivovan||null===e.deaktivovan||(0===e.deaktivovan||"0"===e.deaktivovan||!1===e.deaktivovan)),[jl,Fi]),_l=(0,a.useMemo)(()=>Fi?bl:bl.filter(e=>void 0!==e.aktivni&&null!==e.aktivni?1===e.aktivni||"1"===e.aktivni||!0===e.aktivni:void 0===e.deaktivovan||null===e.deaktivovan||(0===e.deaktivovan||"0"===e.deaktivovan||!1===e.deaktivovan)),[bl,Fi]),yl=(0,a.useMemo)(()=>[...sn].map(e=>{const n=e.nazev_stavu||e.nazev||e.kod_stavu||e.id;return(0,r.A)((0,r.A)({},e),{},{id:n,kod_stavu:e.kod_stavu||e.id})}),[sn]);(0,a.useEffect)(()=>{const e=e=>{const{dateFrom:n,dateTo:t,userId:r}=e.detail||{};r===(G||"anon")&&(n&&Ut(n||""),void 0!==t&&Ht(t||""))};return window.addEventListener("orders25_date_filter_changed",e),()=>{window.removeEventListener("orders25_date_filter_changed",e)}},[G]),(0,a.useEffect)(()=>{if(!G)return;const e=G||"anon",n="orders25_dateFrom_".concat(e),t="orders25_dateTo_".concat(e);try{const e=localStorage.getItem(n),r=localStorage.getItem(t);e&&!Zt&&Ut(e||""),r&&!Kt&&Ht(r||"")}catch(r){}},[G]);const[zl,Al]=(0,a.useState)(()=>{const e=localStorage.getItem("orders25List_pageSize");return e?parseInt(e,10):25}),[wl,Sl]=(0,a.useState)(()=>{const e=localStorage.getItem("orders25List_pageIndex");return e?parseInt(e,10):0}),[Cl,Nl]=(0,a.useState)(()=>ae("orders25List_sorting",[])),[El,Ol]=(0,a.useState)({}),Rl=(0,a.useRef)(null),Dl=(0,a.useCallback)(e=>{G&&(Rl.current&&clearTimeout(Rl.current),Rl.current=setTimeout(()=>{ie("orders25List_columnFilters",e)},3e3))},[G,ie]);(0,a.useEffect)(()=>{if(!G)return;const e={orders25List_globalFilter:Et,orders25List_statusFilter:Rt,orders25List_userFilter:It,orders25List_selectedObjednatel:Tt,orders25List_selectedGarant:Pt,orders25List_selectedSchvalovatel:Mt,orders25List_selectedPrikazce:Bt,orders25List_amountFrom:Gt,orders25List_amountTo:Jt,orders25List_filterMaBytZverejneno:qt,orders25List_filterByloZverejneno:er,orders25List_activeStatusFilter:zt,orders25List_sorting:Cl};if(Object.entries(e).forEach(e=>{let[n,t]=e;ie(n,t)}),Zt)ie("orders25_dateFrom",Zt);else{const e=oe("orders25_dateFrom");localStorage.removeItem(e)}if(Kt)ie("orders25_dateTo",Kt);else{const e=oe("orders25_dateTo");localStorage.removeItem(e)}},[Et,Rt,It,Tt,Pt,Mt,Bt,Zt,Kt,Gt,Jt,qt,er,zt,Cl,G]),(0,a.useEffect)(()=>{Dl(vr)},[vr,Dl]),(0,a.useEffect)(()=>()=>{Rl.current&&clearTimeout(Rl.current)},[]);const Il=a.useRef(!1),Ll=a.useRef(!0),Tl=a.useRef(null),$l=a.useRef(null),Pl=a.useRef([]),Vl=a.useRef(wl),Ml=a.useRef(zl),Fl=a.useRef(El);a.useEffect(()=>{Vl.current=wl,Ml.current=zl,Fl.current=El},[wl,zl,El]);const Bl=a.useRef({dataLoaded:!1,paginationRestored:!1,expandedRestored:!1,scrollRestored:!1});(0,a.useEffect)(()=>{if(Il.current)return;if(!G)return;if(ve)return;if(0===ce.length)return Bl.current.dataLoaded=!0,Bl.current.paginationRestored=!0,Bl.current.expandedRestored=!0,Bl.current.scrollRestored=!0,void(Il.current=!0);const e=D.A.getScrollState(G,(0,r.A)((0,r.A)({},"all"!==xr&&{rok:xr}),{},{mesic:jr}),ce.length);if(e&&e.page&&e.rowsPerPage){const n=e.page-1,t=Math.ceil(ce.length/e.rowsPerPage)-1;n>=0&&n<=t&&Sl(n),e.rowsPerPage!==zl&&(Al(e.rowsPerPage),localStorage.setItem("orders25List_pageSize",e.rowsPerPage)),Bl.current.paginationRestored=!0,e.expandedOrderIds&&e.expandedOrderIds.length>0?$l.current=e.expandedOrderIds:Bl.current.expandedRestored=!0,Bl.current.scrollRestored=!0}else Bl.current.paginationRestored=!0,Bl.current.expandedRestored=!0,Bl.current.scrollRestored=!0;Il.current=!0},[ce.length,ve,G,xr,jr,zl]);const Wl=(0,a.useCallback)(()=>{if(!G||!Il.current||0===ce.length)return;const e=Vl.current,n=Ml.current,t=Fl.current,o=Object.keys(t).filter(e=>t[e]).map(e=>{const n=Pl.current[parseInt(e)];return null===n||void 0===n?void 0:n.id}).filter(Boolean);D.A.saveScrollState(G,(0,r.A)((0,r.A)({},"all"!==xr&&{rok:xr}),{},{mesic:jr}),{page:e+1,rowsPerPage:n,scrollY:0,totalRows:ce.length,expandedOrderIds:o})},[G,xr,jr,ce.length]);(0,a.useEffect)(()=>{Il.current&&Wl()},[wl,zl,El,Wl]),(0,a.useEffect)(()=>{if(Ll.current)return Ll.current=!1,void(Tl.current={year:xr,month:jr,status:Rt,user:It,global:Et,objednatel:Tt,garant:Pt,schvalovatel:Mt,dateFrom:Zt,dateTo:Kt,amountFrom:Gt,amountTo:Jt,activeStatus:zt});if(!G||!Tl.current)return;const e={year:xr,month:jr,status:Rt,user:It,global:Et,objednatel:Tt,garant:Pt,schvalovatel:Mt,dateFrom:Zt,dateTo:Kt,amountFrom:Gt,amountTo:Jt,activeStatus:zt};JSON.stringify(Tl.current)!==JSON.stringify(e)&&(Tl.current=e,D.A.clearScrollState(G,(0,r.A)((0,r.A)({},"all"!==xr&&{rok:xr}),{},{mesic:jr})),Il.current=!1,Ol({}),Sl(0),window.scrollTo({top:0,behavior:"smooth"}))},[xr,jr,Rt,It,Et,Tt,Pt,Mt,Zt,Kt,Gt,Jt,zt]),(0,a.useEffect)(()=>{const e=async e=>{const{orderId:n,orderNumber:t,notificationType:r}=e.detail;if(n&&W&&U)try{const e=await(0,f.Hj)(n,W,U,!0);if(e&&e.data){const t=e.data;ue(e=>e.some(e=>String(e.id)===String(n))?e.map(e=>String(e.id)===String(n)?t:e):[t,...e].sort((e,n)=>n.id-e.id))}}catch(he){console.warn("Auto-refresh objedn\xe1vky selhal:",he)}};return window.addEventListener("orderStatusChanged",e),()=>{window.removeEventListener("orderStatusChanged",e)}},[W,U]),a.useEffect(()=>{ce.length},[gr,ce]);(0,a.useCallback)(e=>{tl(n=>{const t=Object.keys(n).reduce((e,n)=>(e[n]=!1,e),{});return t[e]=!n[e],t})},[]),(0,a.useCallback)((e,n,t)=>{if(!n)return e;const r=n.toLowerCase();return e.filter(e=>Zl(e,t).toLowerCase().includes(r))},[]);const Zl=(0,a.useCallback)((e,n)=>{if(!e)return"";switch(n){case"statusFilter":return e.nazev_stavu||e.nazev||e.popis||e.kod_stavu||e.kod||String(e);case"selectedObjednatel":case"selectedGarant":return e.displayName||"".concat(e.jmeno||""," ").concat(e.prijmeni||"").trim()||"Bez jm\xe9na";case"selectedSchvalovatel":return e.displayName||e.jmeno_prijmeni||"".concat(e.jmeno||""," ").concat(e.prijmeni||"").trim()||"Bez jm\xe9na";case"pageSize":return e.label||String(e.value||e);case"zpusob_financovani":case"druh_objednavky_kod":return e.nazev||e.label||("string"===typeof e?e:"Nezn\xe1m\xfd");case"lp_kod":return"".concat(e.kod||e.id||e," - ").concat(e.nazev||e.label||"Bez n\xe1zvu");default:return String(e)}},[]);(0,a.useEffect)(()=>{const e=e=>{e.target.closest("[data-custom-select]")||tl({})};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const Ul=(0,a.useCallback)(e=>{const n=new Set,t=new Set,r=new Set;e.forEach(e=>{const o=e.objednatel_id||e.uzivatel_id;o&&ge[o]&&n.add(o),e.garant_uzivatel_id&&ge[e.garant_uzivatel_id]&&t.add(e.garant_uzivatel_id),e.schvalovatel_id&&ge[e.schvalovatel_id]&&r.add(e.schvalovatel_id)});const o=(e,n)=>{const t=("object"===typeof ge[e]?ge[e].displayName:ge[e])||"",r=("object"===typeof ge[n]?ge[n].displayName:ge[n])||"";return t.localeCompare(r)},a=Array.from(n).sort(o),i=Array.from(t).sort(o),l=Array.from(r).sort(o);qe(a),en(i),tn(l)},[ge]);(0,a.useEffect)(()=>{ce.length>0&&Object.keys(ge).length>0&&Ul(ce)},[ce,ge]);const Kl=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!W||null===B||void 0===B||!B.username)return;const n=performance.now();try{let a;pe(!0),me(null),null===q||void 0===q||q(5),null===q||void 0===q||q(20);const i=$s(),l=de.current,s=l.canViewAll,d=(l.hasOnlyOwn,async()=>{const e=(0,r.A)((0,r.A)({},i),Fi&&{archivovano:1});dt(n=>(0,r.A)((0,r.A)({},n),{},{requestFilters:e,requestTimestamp:(new Date).toISOString()}));const n=await(0,f.cn)(e,W,U,!0,!0);return null!==n&&void 0!==n&&n.meta&&je(n.meta),dt(e=>{var t,o;return(0,r.A)((0,r.A)({},e),{},{apiResponse:null===n||void 0===n?void 0:n.data,apiResponseCount:(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.length)||0,archivedInResponse:(null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.filter(e=>"ARCHIVOVANO"===e.stav_objednavky).length)||0,responseTimestamp:(new Date).toISOString()})}),(null===n||void 0===n?void 0:n.data)||[]}),c=e?await D.A.forceRefresh(G,d,(0,r.A)((0,r.A)({},i),{},{viewAll:s,showArchived:Fi})):await D.A.getOrders(G,d,(0,r.A)((0,r.A)({},i),{},{viewAll:s,showArchived:Fi}));a=c.data,a&&Array.isArray(a)&&(a=a.filter(e=>{const n=parseInt(e.id);return!isNaN(n)&&n>1}));const u=performance.now(),v=Math.round(u-n);Be(c.source),Ze(new Date),Ke(v),null===q||void 0===q||q(60);try{const e=await(0,x.Ym)({token:W,username:U}),n={0:{id:"0",jmeno:"SYSTEM",prijmeni:"",titul_pred:"",titul_za:"",username:"system",displayName:"SYSTEM"}};e.forEach((e,t)=>{const r=e.id||e.user_id||e.uzivatel_id,o=e.titul_pred?e.titul_pred+" ":"",a=e.jmeno||"",i=e.prijmeni||"",l=e.titul_za?", "+e.titul_za:"",s="".concat(o).concat(a," ").concat(i).concat(l).replace(/\s+/g," ").trim()||e.username||e.uzivatelske_jmeno||"User ".concat(r);r&&(n[r]={id:r,jmeno:e.jmeno||"",prijmeni:e.prijmeni||"",titul_pred:e.titul_pred||"",titul_za:e.titul_za||"",username:e.username||e.uzivatelske_jmeno||"",displayName:s})}),fe(n);const t=[];try{zr.default.setCurrentUser(G);const e=await zr.default.loadDraft();if(e){const n=(0,yr.V5)(e),r=(0,yr.NN)(e);if(n&&!r){const n=e.formData||e,r=(0,yr.Ng)(G);let o=n.garant_uzivatel_id;"object"===typeof o&&null!==o&&(o=o.id||o.user_id||o.uzivatel_id);let a=n.objednatel_id||G;"object"===typeof a&&null!==a&&(a=a.id||a.user_id||a.uzivatel_id);const i={id:"draft_".concat(r),cislo_objednavky:n.ev_cislo||"\u2605 KONCEPT \u2605",predmet:n.predmet||"Nov\xe1 objedn\xe1vka (koncept)",popis_pozadavku:n.popis_pozadavku||"",stav_objednavky:"Koncept",stav_workflow_kod:'["NOVA"]',max_cena_s_dph:n.max_cena_s_dph||0,poznamky:n.poznamky||"",dodavatel_nazev:n.dodavatel_nazev||"",dodavatel_kontakt_jmeno:n.dodavatel_kontakt_jmeno||"",dodavatel_kontakt_telefon:n.dodavatel_kontakt_telefon||"",dodavatel_kontakt_email:n.dodavatel_kontakt_email||"",garant_uzivatel_id:o||"",objednatel_id:a||"",prikazce_id:n.prikazce_id||"",uzivatel_id:a||G,strediska_kod:n.strediska_kod||[],dt_vytvoreni:e.timestamp||(new Date).toISOString(),temp_datum_objednavky:e.firstAutoSaveDate?e.firstAutoSaveDate.split("T")[0]:n.temp_datum_objednavky||(new Date).toISOString().split("T")[0],vytvoril_uzivatel:U,isDraft:!0,je_koncept:!0,_originalKey:r,_originalData:e,_formData:n};t.push(i)}}}catch(o){}t.length>0&&(a=[...t,...a||[]]);const r=e.map(e=>{const n=e.id||e.user_id||e.uzivatel_id,t=e.titul_pred?e.titul_pred+" ":"",r=e.jmeno||"",o=e.prijmeni||"",a=e.titul_za?", "+e.titul_za:"",i="".concat(t).concat(r," ").concat(o).concat(a).replace(/\s+/g," ").trim()||e.username||e.uzivatelske_jmeno||"User ".concat(n);return{id:n,jmeno:e.jmeno||"",prijmeni:e.prijmeni||"",titul_pred:e.titul_pred||"",titul_za:e.titul_za||"",username:e.username||e.uzivatelske_jmeno||"",email:e.email||"",deaktivovan:void 0!==e.deaktivovan?e.deaktivovan:0,aktivni:void 0!==e.aktivni?e.aktivni:1,displayName:i}});r.unshift({id:"0",jmeno:"SYSTEM",prijmeni:"",titul_pred:"",titul_za:"",username:"system",email:"",deaktivovan:0,aktivni:1,displayName:"SYSTEM"}),on(r),null===q||void 0===q||q(70)}catch(o){}try{const e=(await(0,x.lF)({token:W,username:B.username})||[]).map(e=>{if(e.displayName)return e;const n=e.titul_pred?e.titul_pred+" ":"",t=e.jmeno||"",o=e.prijmeni||"",a=e.titul_za?", "+e.titul_za:"",i="".concat(n).concat(t," ").concat(o).concat(a).replace(/\s+/g," ").trim()||e.jmeno_prijmeni||e.username||e.uzivatelske_jmeno||"User ".concat(e.user_id||e.uzivatel_id);return(0,r.A)((0,r.A)({},e),{},{displayName:i})});e.unshift({id:"0",user_id:"0",uzivatel_id:"0",jmeno:"SYSTEM",prijmeni:"",titul_pred:"",titul_za:"",username:"system",deaktivovan:0,aktivni:1,displayName:"SYSTEM"}),ln(e),null===q||void 0===q||q(75)}catch(o){}try{const e=(await(0,x.En)({token:W,username:B.username,typ:"OBJEDNAVKA"})||[]).sort((e,n)=>{const t=(e.nazev_stavu||e.nazev||"").toLowerCase(),r=(n.nazev_stavu||n.nazev||"").toLowerCase();return t.localeCompare(r,"cs")});dn(e),null===q||void 0===q||q(80)}catch(o){}try{const e=await(0,b.Dv)({token:W,username:B.username,aktivni:1}),n=((null===e||void 0===e?void 0:e.data)||[]||[]).sort((e,n)=>{const t=(e.nazev||e.kod||"").toLowerCase(),r=(n.nazev||n.kod||"").toLowerCase();return t.localeCompare(r,"cs")});rt(n)}catch(o){console.warn("\u274c Nepoda\u0159ilo se na\u010d\xedst DOCX \u0161ablony:",o),rt([])}try{const e=await(0,x.Hy)({token:W,username:B.username});un(e||[])}catch(o){}try{const e=await(0,g.je)({token:W,username:B.username});pn(e||[])}catch(o){console.warn("\u274c Nepoda\u0159ilo se na\u010d\xedst druhy objedn\xe1vek:",o),pn([])}try{const e=await(0,g.CR)({token:W,username:B.username});mn(e||[])}catch(o){console.warn("\u274c Nepoda\u0159ilo se na\u010d\xedst st\u0159ediska:",o),mn([])}let p=a||[];zr.default.setCurrentUser(G);if(await zr.default.hasDraft())try{const e=await zr.default.loadDraft();if((0,yr.NN)(e)){var t;const n=(null===(t=e.formData)||void 0===t?void 0:t.id)||e.savedOrderId;if(n){let e=!1;p=p.map(t=>String(t.id)!==String(n)||t.isDraft?t:(e=!0,(0,r.A)((0,r.A)({},t),{},{hasLocalDraftChanges:!0})))}}}catch(o){}p=p.map(e=>{if("ARCHIVOVANO"===e.stav_objednavky){const n=(0,r.A)({},e);return n.prikazce_id&&""!==n.prikazce_id&&null!==n.prikazce_id||(n.prikazce_id="0"),n.schvalovatel_id&&""!==n.schvalovatel_id&&null!==n.schvalovatel_id||(n.schvalovatel_id="0"),n}return e}),ue(p),St({timestamp:(new Date).toISOString(),ordersCount:p.length,allFields:p.length>0?Object.keys(p[0]):[],firstOrder:p[0]||null,rawData:p});try{const e={};p.forEach(n=>{if(n.isDraft||n.isLocalConcept)return;let t,r,o,a=n.dt_objednavky||n.datum_objednavky||n.created_at||n.dt_vytvoreni;if(!a)return;const i=a.match(/(\d{4})-(\d{2})-(\d{2})/);if(i)t=i[1],r=i[2],o=i[3];else{const e=a.match(/(\d{2})\.(\d{2})\.(\d{4})/);if(!e)return;o=e[1],r=e[2],t=e[3]}const l="".concat(t,"-").concat(r,"-").concat(o);e[l]||(e[l]={total:0,pending:0}),e[l].total+=1;let s="UNKNOWN";if(n.isDraft||n.je_koncept)s="NOVA";else if(n.stav_objednavky)s=Tr(n.stav_objednavky);else if(n.stav_workflow_kod)try{const e=JSON.parse(n.stav_workflow_kod);s=Array.isArray(e)?e[e.length-1]:n.stav_workflow_kod}catch(d){s=n.stav_workflow_kod}"KE_SCHVALENI"===s&&(e[l].pending+=1)}),localStorage.setItem("calendar_order_counts",JSON.stringify(e)),localStorage.setItem("calendar_order_counts_updated",Date.now()),window.dispatchEvent(new CustomEvent("calendar_order_counts_updated"))}catch(o){}null===q||void 0===q||q(100),Bl.current.dataLoaded=!0}catch(o){const e=(0,wr.E)(o.message||"Chyba p\u0159i na\u010d\xedt\xe1n\xed objedn\xe1vek");me(e),Bl.current.dataLoaded=!0,Bl.current.paginationRestored=!0,Bl.current.expandedRestored=!0,Bl.current.scrollRestored=!0}finally{pe(!1),Nt(!1),setTimeout(()=>null===q||void 0===q?void 0:q(0),500)}},[W,null===B||void 0===B?void 0:B.username,G,xr,jr,Fi]);(0,a.useEffect)(()=>{var e;const n=!0===(null===(e=F.state)||void 0===e?void 0:e.forceReload);Kl(n)},[Kl,null===(e=F.state)||void 0===e?void 0:e.forceReload]),(0,a.useEffect)(()=>{let e=null,n=0;const t=(0,Ar.t$)(t=>{const r=Date.now();r-n<100||(n=r,t.type!==Ar.iZ.ORDER_SAVED&&t.type!==Ar.iZ.DRAFT_DELETED||(e&&clearTimeout(e),e=setTimeout(()=>{Kl(),e=null},1e3)))});return()=>{e&&clearTimeout(e),t()}},[Kl]),(0,a.useEffect)(()=>{if(null===le||void 0===le||!le.registerGetCurrentFiltersCallback)return;return le.registerGetCurrentFiltersCallback(()=>{const e=(()=>{if("all"!==xr){const e=parseInt(xr);if(!jr)return{datum_od:"".concat(e,"-01-01"),datum_do:"".concat(e,"-12-31")};{const n=jr.match(/^(\d+)(?:-(\d+))?$/);if(n){const t=parseInt(n[1]),r=n[2]?parseInt(n[2]):t,o="".concat(e,"-").concat(String(t).padStart(2,"0"),"-01"),a=new Date(e,r,0).getDate();return{datum_od:o,datum_do:"".concat(e,"-").concat(String(r).padStart(2,"0"),"-").concat(String(a).padStart(2,"0"))}}}}return{}})(),n=(0,r.A)({},e);return Fi&&(n.archivovano=1),n}),()=>{var e;null===(e=le.registerGetCurrentFiltersCallback)||void 0===e||e.call(le,null)}},[le,xr,jr,Fi]),(0,a.useEffect)(()=>{var e;if(!le)return;return null===(e=le.registerOrdersRefreshCallback)||void 0===e||e.call(le,e=>{var n;if(!e||!Array.isArray(e))return;if(ce.length>0&&0===e.length)return;if(e.length>0&&(null===(n=e[0])||void 0===n||!n.id))return;const t=e.filter(e=>{const n=parseInt(e.id);return!isNaN(n)&&n>1});Ge(!0),Je(new Date),ue(t),St({timestamp:(new Date).toISOString(),ordersCount:t.length,allFields:t.length>0?Object.keys(t[0]):[],firstOrder:t[0]||null,rawData:t}),null===ee||void 0===ee||ee("Seznam objedn\xe1vek aktualizov\xe1n (".concat(t.length," obj)"),{type:"info",duration:3e3})}),()=>{var e;null===(e=le.registerOrdersRefreshCallback)||void 0===e||e.call(le,null)}},[le,ee,ce.length]),(0,a.useEffect)(()=>{if(null===le||void 0===le||!le.registerNewNotificationsCallback)return;return le.registerNewNotificationsCallback((e,n)=>{if(!e||0===e.length)return;const t=e.filter(e=>"order_unlock_forced"===e.type&&!1===e.is_read);if(t.length>0){const e=t[0],n=e.data||{};$n({orderNumber:n.cislo_objednavky||"N/A",lockedBy:n.forced_by_name||n.forced_by_username||"N/A",lockedByEmail:n.forced_by_email||null,lockedByPhone:n.forced_by_telefon||null,lockedAt:n.forced_at||(new Date).toISOString(),notificationId:e.id}),Ln(!0)}}),()=>{var e;null===(e=le.registerNewNotificationsCallback)||void 0===e||e.call(le,null)}},[le]),(0,a.useEffect)(()=>{if(!G)return;const e=zr.default.getUIState(),n=null===e||void 0===e?void 0:e.highlightOrderId;if(n){ur(n),zr.default.saveUIState({highlightOrderId:null});const e=()=>{const e=document.querySelector('[data-order-id="'.concat(n,'"]'));if(e){const n=e.getBoundingClientRect(),r=window.innerHeight,o=(n.height,e.offsetTop<r/2),a=o?"start":"center";try{e.scrollIntoView({behavior:"smooth",block:a,inline:"nearest"})}catch(t){e.scrollIntoView(o)}return!0}return!1};setTimeout(()=>{e()||setTimeout(()=>{e()},800)},300),setTimeout(()=>{ur(null)},5e3)}},[ce,G]);const Hl=(0,a.useCallback)(e=>{if(e.stav_objednavky)return e.stav_objednavky;if(e.stav_workflow_kod)try{const n=JSON.parse(e.stav_workflow_kod);if(Array.isArray(n)){const e=n[n.length-1];return"object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?e.kod_stavu||"NEZNAMY_STAV":"string"===typeof e?e:"NEZNAMY_STAV"}return e.stav_workflow_kod}catch(n){return e.stav_workflow_kod}return"DRAFT"},[]),Gl=(0,a.useCallback)(e=>{if(e.isDraft||e.je_koncept)return"NOVA";let n;if(e.stav_objednavky)n=Tr(e.stav_objednavky);else if(e.stav_workflow_kod)try{const t=JSON.parse(e.stav_workflow_kod);n=Array.isArray(t)?t[t.length-1]:e.stav_workflow_kod}catch(t){n=e.stav_workflow_kod}else n="DRAFT";return e.registr_smluv&&e.registr_smluv.ma_byt_zverejnena&&!e.registr_smluv.registr_iddt?"K_UVEREJNENI_DO_REGISTRU":n},[]),Yl=(0,a.useCallback)(e=>{if(!e)return null;if(e.stav_workflow_kod)try{let n=[];if(Array.isArray(e.stav_workflow_kod)?n=e.stav_workflow_kod:"string"===typeof e.stav_workflow_kod&&(n=JSON.parse(e.stav_workflow_kod),Array.isArray(n)||(n=[])),n.length>0){const e=n[n.length-1];if("object"===typeof e&&e.kod_stavu)return e.kod_stavu;if("string"===typeof e)return e}}catch(n){}return e.stav_workflow&&"object"===typeof e.stav_workflow&&e.stav_workflow.kod_stavu?e.stav_workflow.kod_stavu:null},[]),Jl=(0,a.useCallback)(e=>{if(null!=e.polozky_celkova_cena_s_dph&&""!==e.polozky_celkova_cena_s_dph){const n=parseFloat(e.polozky_celkova_cena_s_dph);if(!isNaN(n))return n}if(e.polozky&&Array.isArray(e.polozky)&&e.polozky.length>0){return e.polozky.reduce((e,n)=>{const t=parseFloat(n.cena_s_dph||0);return e+(isNaN(t)?0:t)},0)}return 0},[ce]),Xl=(0,a.useMemo)(()=>{const e=Fi?ce:ce.filter(e=>"ARCHIVOVANO"!==Gl(e)),n=e.length,t=e.reduce((e,n)=>{const t=Gl(n);Hl(n);return e[t]=(e[t]||0)+1,e._debug<5&&(e._debug=(e._debug||0)+1),e},{}),r=e.reduce((e,n)=>{const t=Jl(n);return e+(isNaN(t)?0:t)},0),o=e.reduce((e,n)=>{const t=Gl(n);if(["DOKONCENA","VYRIZENA","COMPLETED"].includes(t)){const t=Jl(n);return e+(isNaN(t)?0:t)}return e},0),a=e.reduce((e,n)=>{const t=Gl(n),r=["STORNOVA","ZAMITNUTA","ZRUSENA","CANCELLED","SMAZANA"].includes(t),o=["DOKONCENA","VYRIZENA","COMPLETED"].includes(t);if(!r&&!o){const t=Jl(n);return e+(isNaN(t)?0:t)}return e},0),i=e.reduce((e,n)=>{const t=n.faktury||[];return(n.faktury_count||t.length||0)>0?e+1:e},0),l=e.reduce((e,n)=>{const t=n.prilohy||[];return(n.prilohy_count||t.length||0)>0?e+1:e},0),s=e.reduce((e,n)=>n.mimoradna_udalost?e+1:e,0);return{total:n,nova:t.NOVA||0,ke_schvaleni:t.KE_SCHVALENI||0,schvalena:t.SCHVALENA||0,zamitnuta:t.ZAMITNUTA||0,ceka_se:t.CEKA_SE||0,rozpracovana:t.ROZPRACOVANA||0,odeslana:t.ODESLANA||0,potvrzena:t.POTVRZENA||0,uverejnena:t.UVEREJNENA||0,vecna_spravnost:t.VECNA_SPRAVNOST||0,dokoncena:t.DOKONCENA||0,vyrizena:t.VYRIZENA||0,zrusena:t.ZRUSENA||0,stornova:t.STORNOVA||0,smazana:t.SMAZANA||0,archivovano:t.ARCHIVOVANO||0,k_uverejneni_do_registru:t.K_UVEREJNENI_DO_REGISTRU||0,ceka_potvrzeni:t.CEKA_POTVRZENI||0,draft:t.DRAFT||0,approved:t.APPROVED||0,completed:t.COMPLETED||0,cancelled:t.CANCELLED||0,totalAmount:r,completedAmount:o,incompleteAmount:a,withInvoices:i,withAttachments:l,mimoradneUdalosti:s}},[ce,Fi,Gl,Hl,Jl]),ql=(0,a.useCallback)(e=>{if(e.isDraft){var n;if(null!==(n=e._originalData)&&void 0!==n&&n.firstAutoSaveDate&&"string"===typeof e._originalData.firstAutoSaveDate)return e._originalData.firstAutoSaveDate;if(e.dt_vytvoreni&&"string"===typeof e.dt_vytvoreni)return e.dt_vytvoreni}return e.dt_objednavky&&"string"===typeof e.dt_objednavky?e.dt_objednavky:null},[]),Ql=(0,a.useCallback)(e=>{const n=ql(e);return n&&"string"===typeof n?n.split("T")[0]:null},[ql]),es=(0,a.useCallback)((e,n)=>{if(!e||!n||"string"!==typeof e)return e;const t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),r=n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),o=t.indexOf(r);if(-1===o)return e;const a=e.substring(0,o),i=e.substring(o,o+n.length),l=e.substring(o+n.length);return(0,V.jsxs)(V.Fragment,{children:[a,(0,V.jsx)("mark",{style:{backgroundColor:"#ffeb3b",padding:"0 2px",borderRadius:"2px"},children:i}),l]})},[]),ns=(0,a.useRef)({}),ts=(0,a.useCallback)(e=>{var n,t,r,o,a,i;const l=e.target.closest("button[data-action]");if(!l)return;const s=l.dataset.action,d=parseInt(l.dataset.orderIndex,10),c=(parseInt(l.dataset.orderId,10),Pl.current[d]);if(!c)return;const u=ns.current;switch(s){case"edit":null===(n=u.handleEdit)||void 0===n||n.call(u,c);break;case"view":null===(t=u.handleView)||void 0===t||t.call(u,c);break;case"export":null===(r=u.handleExportDocument)||void 0===r||r.call(u,c);break;case"financial-control":null===(o=u.handleFinancialControl)||void 0===o||o.call(u,c);break;case"create-invoice":null===(a=u.handleCreateInvoice)||void 0===a||a.call(u,c);break;case"delete":null===(i=u.handleDelete)||void 0===i||i.call(u,c)}},[]),rs=(0,a.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n){const{titul_pred:e,jmeno:t,prijmeni:r,titul_za:o}=n,a=t||"",i=r||"",l=o?", "+o:"";return"".concat(e?e+" ":"").concat(a," ").concat(i).concat(l).replace(/\s+/g," ").trim()}const t=xe.current;if(e&&t[e]){if("object"===typeof t[e]&&t[e].displayName)return t[e].displayName;if("string"===typeof t[e])return t[e]}return"Nezn\xe1m\xfd"},[]),os=(0,a.useCallback)(e=>{if(!e)return"---";const n=vn.find(n=>n.kod===e);return(null===n||void 0===n?void 0:n.nazev)||e},[vn]),as=(0,a.useCallback)(e=>{var n,t;if(!e)return"---";const r=String(e),o=hn.find(e=>{var n,t;return String(e.value||e.kod_stavu||e.kod||(null===(n=e.raw)||void 0===n?void 0:n.kod_stavu)||(null===(t=e.raw)||void 0===t?void 0:t.kod))===r});return(null===o||void 0===o?void 0:o.label)||(null===o||void 0===o?void 0:o.nazev_stavu)||(null===o||void 0===o?void 0:o.nazev)||(null===o||void 0===o||null===(n=o.raw)||void 0===n?void 0:n.nazev_stavu)||(null===o||void 0===o||null===(t=o.raw)||void 0===t?void 0:t.nazev)||"St\u0159edisko (k\xf3d ".concat(e,")")},[hn]),is=(0,a.useMemo)(()=>[{id:"select",header:"",cell:e=>{let{row:n}=e;return(0,V.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,V.jsx)("input",{type:"checkbox",checked:n.getIsSelected(),onChange:n.getToggleSelectedHandler(),style:{cursor:"pointer",width:"18px",height:"18px"}})})},size:50,meta:{align:"center"}},{id:"expander",header:"",cell:e=>{let{row:n}=e;return(0,V.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,V.jsx)(Jo,{onClick:e=>{if(n.getToggleExpandedHandler()(e),!n.getIsExpanded()){var t,r,o,a,i,l,s;const e=n.original;!e.prikazce_id||null!==(t=e.prikazce)&&void 0!==t&&t.email||null!==(r=e.prikazce_uzivatel)&&void 0!==r&&r.email||qs(e.id,"prikazce",e.prikazce_id),!e.uzivatel_id||null!==(o=e.objednatel)&&void 0!==o&&o.email||null!==(a=e.uzivatel)&&void 0!==a&&a.email||qs(e.id,"objednatel",e.uzivatel_id),!e.garant_uzivatel_id||null!==(i=e.garant)&&void 0!==i&&i.email||null!==(l=e.garant_uzivatel)&&void 0!==l&&l.email||qs(e.id,"garant",e.garant_uzivatel_id),!e.schvalovatel_id||null!==(s=e.schvalovatel)&&void 0!==s&&s.email||qs(e.id,"schvalovatel",e.schvalovatel_id)}},title:n.getIsExpanded()?"Sbalit":"Rozbalit",children:(0,V.jsx)(I.g,{icon:n.getIsExpanded()?L.EZy:L.QLR})})})},size:50,meta:{align:"center"}},{accessorKey:"dt_objednavky",header:"Datum objedn\xe1vky",sortingFn:(e,n)=>{const t=ql(e.original),r=ql(n.original);if(!t&&!r)return 0;if(!t)return 1;if(!r)return-1;return new Date(t).getTime()-new Date(r).getTime()},filterFn:(e,n,t)=>{if(!t)return!0;const r=ql(e.original);if(!r)return!1;const o=new Date(r),a=(0,y.iS)(o),i=o.toLocaleTimeString("cs-CZ",{hour:"2-digit",minute:"2-digit"}),l="".concat(a," ").concat(i),s=(0,_.WL)(l.toLowerCase()),d=(0,_.WL)(t.toLowerCase());return s.includes(d)},cell:e=>{let{row:n}=e;const t=ql(n.original);if(!t)return(0,V.jsx)("div",{style:{textAlign:"center"},children:"---"});const r=new Date(t),o=(0,y.iS)(r),a=r.toLocaleTimeString("cs-CZ",{hour:"2-digit",minute:"2-digit"});return(0,V.jsxs)("div",{style:{textAlign:"center",lineHeight:"1.2"},children:[(0,V.jsx)("div",{children:o}),(0,V.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:a})]})},size:120},{accessorKey:"cislo_objednavky",header:"Eviden\u010dn\xed \u010d\xedslo",sortingFn:(e,n)=>{const t=e.original.cislo_objednavky||"",r=n.original.cislo_objednavky||"";return t||r?t?r?t.localeCompare(r,"cs",{numeric:!0,sensitivity:"base"}):-1:1:0},filterFn:(e,n,t)=>{if(!t)return!0;const r=e.original.cislo_objednavky||"",o=(0,_.WL)(r.toLowerCase()),a=(0,_.WL)(t.toLowerCase());return o.includes(a)},cell:e=>{let{row:n}=e;return(0,V.jsxs)("div",{style:{fontWeight:600,color:"#1e293b",fontFamily:"monospace",textAlign:"left",whiteSpace:"nowrap",overflow:"visible",position:"relative"},children:[n.original.mimoradna_udalost&&(0,V.jsx)(_r.z,{content:"Mimo\u0159\xe1dn\xe1 objedn\xe1vka (krize/hav\xe1rie)",children:(0,V.jsx)("span",{style:{color:"#dc2626",fontWeight:"bold",marginRight:"4px",fontSize:"1.1em"},children:(0,V.jsx)(I.g,{icon:L.b6I})})}),"ARCHIVOVANO"===n.original.stav_objednavky&&(0,V.jsx)("span",{style:{color:"#dc2626",fontWeight:"bold",marginRight:"4px",fontSize:"1.1em"},children:"\u26a0"}),Et?es(n.original.cislo_objednavky||"---",Et):n.original.cislo_objednavky||"---",n.original.id&&!n.original.isDraft&&!n.original.je_koncept&&(0,V.jsxs)("sup",{style:{fontSize:"0.6rem",color:"#9ca3af",fontWeight:"normal",marginLeft:"2px"},children:["#",n.original.id]})]})},size:100},{accessorKey:"predmet",header:"P\u0159edm\u011bt",sortingFn:(e,n)=>{const t=e.original.predmet||"",r=n.original.predmet||"";return t||r?t?r?t.localeCompare(r,"cs",{sensitivity:"base"}):-1:1:0},filterFn:(e,n,t)=>{if(!t)return!0;const r=e.original.predmet||"",o=(0,_.WL)(r.toLowerCase()),a=(0,_.WL)(t.toLowerCase());return o.includes(a)},cell:e=>{let{row:n}=e;return(0,V.jsx)("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis"},children:Et?es(n.original.predmet||"---",Et):n.original.predmet||"---"})}},{accessorKey:"objednatel_garant",header:"Objednatel / Garant",sortingFn:(e,n)=>{const t=e=>{if(e.objednatel_uzivatel)return e.objednatel_uzivatel.cele_jmeno?e.objednatel_uzivatel.cele_jmeno:rs(null,e.objednatel_uzivatel);if(e.objednatel){const n=e.objednatel;if(n.cele_jmeno)return n.cele_jmeno;if(n.jmeno&&n.prijmeni){const e=n.titul_pred?n.titul_pred+" ":"",t=n.titul_za?", "+n.titul_za:"";return"".concat(e).concat(n.jmeno," ").concat(n.prijmeni).concat(t).replace(/\s+/g," ").trim()}if(n.username)return n.username}return e.objednatel_id?rs(e.objednatel_id):"---"},r=t(e.original),o=t(n.original);return"---"===r&&"---"===o?0:"---"===r?1:"---"===o?-1:r.localeCompare(o,"cs",{sensitivity:"base"})},filterFn:(e,n,t)=>{if(!t)return!0;const r=e.original;let o="---",a="---";if(r.objednatel_uzivatel)o=r.objednatel_uzivatel.cele_jmeno?r.objednatel_uzivatel.cele_jmeno:rs(null,r.objednatel_uzivatel);else if(r.objednatel){const e=r.objednatel;if(e.cele_jmeno)o=e.cele_jmeno;else if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";o="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username&&(o=e.username)}else r.objednatel_id&&(o=rs(r.objednatel_id));if(r.garant_uzivatel)a=r.garant_uzivatel.cele_jmeno?r.garant_uzivatel.cele_jmeno:rs(null,r.garant_uzivatel);else if(r.garant){const e=r.garant;if(e.cele_jmeno)a=e.cele_jmeno;else if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";a="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username&&(a=e.username)}else r.garant_uzivatel_id&&(a=rs(r.garant_uzivatel_id));const i=(0,_.WL)(o.toLowerCase()),l=(0,_.WL)(a.toLowerCase()),s=(0,_.WL)(t.toLowerCase());return i.includes(s)||l.includes(s)},cell:e=>{let{row:n}=e;const t=n.original;let r="---",o="---";if(t.objednatel_uzivatel)r=t.objednatel_uzivatel.cele_jmeno?t.objednatel_uzivatel.cele_jmeno:rs(null,t.objednatel_uzivatel);else if(t.objednatel){const e=t.objednatel;if(e.cele_jmeno)r=e.cele_jmeno;else if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";r="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username&&(r=e.username)}else t.objednatel_id&&(r=rs(t.objednatel_id));if(t.garant_uzivatel)o=t.garant_uzivatel.cele_jmeno?t.garant_uzivatel.cele_jmeno:rs(null,t.garant_uzivatel);else if(t.garant){const e=t.garant;if(e.cele_jmeno)o=e.cele_jmeno;else if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";o="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username&&(o=e.username)}else t.garant_uzivatel_id&&(o=rs(t.garant_uzivatel_id));return(0,V.jsxs)("div",{style:{lineHeight:"1.3"},title:"Objednatel: ".concat(r,"\nGarant: ").concat(o),children:[(0,V.jsx)("div",{style:{fontWeight:500},children:r}),(0,V.jsx)("div",{style:{fontSize:"0.85em",color:"#6b7280"},children:o})]})},size:180},{accessorKey:"prikazce_schvalovatel",header:"P\u0159\xedkazce / Schvalovatel",sortingFn:(e,n)=>{const t=e=>{if(e.prikazce_uzivatel)return rs(null,e.prikazce_uzivatel);if(e.prikazce){const n=e.prikazce;if(n.jmeno&&n.prijmeni){const e=n.titul_pred?n.titul_pred+" ":"",t=n.titul_za?", "+n.titul_za:"";return"".concat(e).concat(n.jmeno," ").concat(n.prijmeni).concat(t).replace(/\s+/g," ").trim()}if(n.username)return n.username;if(n.cele_jmeno)return n.cele_jmeno}return e.prikazce_id?rs(e.prikazce_id):"---"},r=t(e.original),o=t(n.original);return"---"===r&&"---"===o?0:"---"===r?1:"---"===o?-1:r.localeCompare(o,"cs",{sensitivity:"base"})},filterFn:(e,n,t)=>{if(!t)return!0;const r=e.original;let o="---",a="---";if(r.prikazce_uzivatel)o=rs(null,r.prikazce_uzivatel);else if(r.prikazce){const e=r.prikazce;if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";o="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username?o=e.username:e.cele_jmeno&&(o=e.cele_jmeno)}else r.prikazce_id&&(o=rs(r.prikazce_id));if(r.schvalovatel_uzivatel)a=rs(null,r.schvalovatel_uzivatel);else if(r.schvalovatel){const e=r.schvalovatel;if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";a="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username?a=e.username:e.cele_jmeno&&(a=e.cele_jmeno)}else r.schvalovatel_id&&(a=rs(r.schvalovatel_id));const i=(0,_.WL)(o.toLowerCase()),l=(0,_.WL)(a.toLowerCase()),s=(0,_.WL)(t.toLowerCase());return i.includes(s)||l.includes(s)},cell:e=>{let{row:n}=e;const t=n.original;let r="---",o="---";if(t.prikazce_uzivatel)r=rs(null,t.prikazce_uzivatel);else if(t.prikazce){const e=t.prikazce;if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";r="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username?r=e.username:e.cele_jmeno&&(r=e.cele_jmeno)}else t.prikazce_id&&(r=rs(t.prikazce_id));if(t.schvalovatel_uzivatel)o=rs(null,t.schvalovatel_uzivatel);else if(t.schvalovatel){const e=t.schvalovatel;if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";o="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username?o=e.username:e.cele_jmeno&&(o=e.cele_jmeno)}else t.schvalovatel_id&&(o=rs(t.schvalovatel_id));return(0,V.jsxs)("div",{style:{lineHeight:"1.3"},title:"P\u0159\xedkazce: ".concat(r,"\nSchvalovatel: ").concat(o),children:[(0,V.jsx)("div",{style:{fontWeight:500},children:r}),(0,V.jsx)("div",{style:{fontSize:"0.85em",color:"#6b7280"},children:o})]})},size:180},{accessorKey:"dodavatel_nazev",header:"Dodavatel",sortingFn:(e,n)=>{const t=e.original.dodavatel_nazev||"---",r=n.original.dodavatel_nazev||"---";return"---"===t&&"---"===r?0:"---"===t?1:"---"===r?-1:t.localeCompare(r,"cs",{sensitivity:"base"})},filterFn:(e,n,t)=>{if(!t)return!0;const r=e.original,o=[r.dodavatel_nazev||"",r.dodavatel_ico||"",r.dodavatel_ulice||"",r.dodavatel_mesto||"",r.dodavatel_psc||"",r.dodavatel_kontakt_email||"",r.dodavatel_kontakt_telefon||"",r.dodavatel_kontakt_jmeno||""].join(" ").toLowerCase(),a=(0,_.WL)(o),i=(0,_.WL)(t.toLowerCase());return a.includes(i)},cell:e=>{let{row:n}=e;const t=n.original;if(!t.dodavatel_nazev)return(0,V.jsx)("div",{style:{color:"#9ca3af"},children:"---"});const r=[];t.dodavatel_kontakt_email&&r.push(t.dodavatel_kontakt_email),t.dodavatel_kontakt_telefon&&r.push(t.dodavatel_kontakt_telefon);const o=r.join(" | "),a=t.dodavatel_adresa||"";return(0,V.jsxs)("div",{style:{lineHeight:"1.4",whiteSpace:"nowrap"},children:[(0,V.jsx)("div",{style:{fontWeight:500},children:t.dodavatel_nazev}),a&&(0,V.jsx)("div",{style:{fontSize:"0.85em",color:"#6b7280"},children:a}),t.dodavatel_ico&&(0,V.jsxs)("div",{style:{fontSize:"0.85em",color:"#6b7280"},children:["I\u010cO: ",t.dodavatel_ico]}),o&&(0,V.jsx)("div",{style:{fontSize:"0.85em",color:"#6b7280"},children:o})]})},size:220},{accessorKey:"stav_objednavky",header:"Stav",sortingFn:(e,n)=>{const t=e=>{const n=Hl(e);return e.isDraft||e.je_koncept?"Nova / koncept":e.stav_workflow?"object"===typeof e.stav_workflow?e.stav_workflow.nazev_stavu?e.stav_workflow.nazev_stavu:e.stav_workflow.nazev?e.stav_workflow.nazev:"Nezn\xe1m\xfd stav":(null===(t=e.stav_workflow)||void 0===t?void 0:t.nazev_stavu)||(null===(r=e.stav_workflow)||void 0===r?void 0:r.nazev)||String(e.stav_workflow)||"Nezn\xe1m\xfd stav":n;var t,r},r=t(e.original),o=t(n.original);return r||o?r?o?r.localeCompare(o,"cs",{sensitivity:"base"}):-1:1:0},filterFn:(e,n,t)=>{if(!t)return!0;const r=e.original;let o=Hl(r);if(r.isDraft||r.je_koncept)o="Nova / koncept";else if(r.stav_workflow){var a,i;if("object"===typeof r.stav_workflow)o=r.stav_workflow.nazev_stavu?r.stav_workflow.nazev_stavu:r.stav_workflow.nazev?r.stav_workflow.nazev:"Nezn\xe1m\xfd stav";else o=(null===(a=r.stav_workflow)||void 0===a?void 0:a.nazev_stavu)||(null===(i=r.stav_workflow)||void 0===i?void 0:i.nazev)||String(r.stav_workflow)||"Nezn\xe1m\xfd stav"}const l=(0,_.WL)(o.toLowerCase()),s=(0,_.WL)(t.toLowerCase());return l.includes(s)},cell:e=>{let{row:n}=e;const t=n.original,r=Gl(t);let o=Hl(t);if(t.isDraft||t.je_koncept)o="Nova / koncept";else if(t.stav_workflow){var a,i;if("object"===typeof t.stav_workflow)o=t.stav_workflow.nazev_stavu?t.stav_workflow.nazev_stavu:t.stav_workflow.nazev?t.stav_workflow.nazev:"Nezn\xe1m\xfd stav";else o=(null===(a=t.stav_workflow)||void 0===a?void 0:a.nazev_stavu)||(null===(i=t.stav_workflow)||void 0===i?void 0:i.nazev)||String(t.stav_workflow)||"Nezn\xe1m\xfd stav"}return(0,V.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%"},children:(0,V.jsxs)(_a,{$status:r,$isInEditRow:n.original.isDraft||n.original.hasLocalDraftChanges||!1,children:[(0,V.jsx)(I.g,{icon:"NOVA"===r?L.ROs:"KE_SCHVALENI"===r?L.a$:"SCHVALENA"===r?L.V2x:"POTVRZENA"===r?L.SGM:"UVEREJNENA"===r?L.IJd:"DOKONCENA"===r?L.raf:"ZRUSENA"===r?L.Jyw:L.s4k,style:{alignSelf:"flex-start",marginTop:"2px",fontSize:"12px"}}),(0,V.jsx)("span",{style:{lineHeight:"1.2"},children:o})]})})}},{accessorKey:"stav_registru",header:"Stav registru",sortingFn:(e,n)=>{const t=e=>{const n=e.registr_smluv,t=Yl(e);if(n){if(n.dt_zverejneni&&n.registr_iddt)return"Zve\u0159ejn\u011bno";if("UVEREJNIT"===t||"ANO"===n.zverejnit)return"M\xe1 b\xfdt zve\u0159ejn\u011bno"}return"UVEREJNIT"===t?"M\xe1 b\xfdt zve\u0159ejn\u011bno":""},r=t(e.original),o=t(n.original);return r||o?r?o?r.localeCompare(o,"cs",{sensitivity:"base"}):1:-1:0},filterFn:(e,n,t)=>{if(!t)return!0;const r=e.original,o=r.registr_smluv,a=Yl(r);let i="";if(o?o.dt_zverejneni&&o.registr_iddt?i="Zve\u0159ejn\u011bno":"UVEREJNIT"!==a&&"ANO"!==o.zverejnit||(i="M\xe1 b\xfdt zve\u0159ejn\u011bno"):"UVEREJNIT"===a&&(i="M\xe1 b\xfdt zve\u0159ejn\u011bno"),!i){const e=(0,_.WL)(t.toLowerCase());return"---"===e||""===e}const l=(0,_.WL)(i.toLowerCase()),s=(0,_.WL)(t.toLowerCase());return l.includes(s)},cell:e=>{let{row:n}=e;const t=n.original,r=t.registr_smluv,o=Yl(t);let a="",i=null,l="EMPTY";return r?r.dt_zverejneni&&r.registr_iddt?(a="Zve\u0159ejn\u011bno",i=L.SGM,l="UVEREJNENA"):"UVEREJNIT"!==o&&"ANO"!==r.zverejnit||(a="M\xe1 b\xfdt zve\u0159ejn\u011bno",i=L.a$,l="KE_SCHVALENI"):"UVEREJNIT"===o&&(a="M\xe1 b\xfdt zve\u0159ejn\u011bno",i=L.a$,l="KE_SCHVALENI"),a?(0,V.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%"},children:(0,V.jsxs)(_a,{$status:l,$isInEditRow:!1,title:(null===r||void 0===r?void 0:r.registr_iddt)||"",children:[(0,V.jsx)(I.g,{icon:i,style:{alignSelf:"flex-start",marginTop:"2px",fontSize:"12px"}}),(0,V.jsx)("span",{style:{lineHeight:"1.2"},children:a})]})}):(0,V.jsx)("div",{style:{textAlign:"left",color:"#94a3b8",fontSize:"0.9em"},children:"---"})},size:150},{accessorKey:"cena_s_dph",header:"Cena s DPH",sortingFn:(e,n)=>{const t=Jl(e.original),r=Jl(n.original);return(!isNaN(t)&&t>0?t:-1/0)-(!isNaN(r)&&r>0?r:-1/0)},filterFn:(e,n,t)=>{if(!t)return!0;const r=Jl(e.original),o=t.trim();if(o.match(/^[=<>]/)){const e=o[0],n=o.substring(1).trim().replace(/\s/g,"").replace(/,/g,""),t=parseFloat(n);if(!isNaN(t)&&!isNaN(r)){if("="===e)return Math.abs(r-t)<.01;if("<"===e)return r<t;if(">"===e)return r>t}return!1}if(!isNaN(r)){if(r>0){const e=r.toLocaleString("cs-CZ").toLowerCase(),n=t.toLowerCase();return e.includes(n)}return"0"===t||"---"===t||""===t}return"---"===t||""===t},cell:e=>{let{row:n}=e;const t=Jl(n.original);return(0,V.jsx)("div",{style:{textAlign:"right",fontWeight:600,fontFamily:"monospace",whiteSpace:"nowrap"},children:!isNaN(t)&&t>0?(0,V.jsxs)(V.Fragment,{children:[t.toLocaleString("cs-CZ"),"\xa0K\u010d"]}):"---"})}},{accessorKey:"max_cena_s_dph",header:"Max. cena s DPH",sortingFn:(e,n)=>{const t=parseFloat(e.original.max_cena_s_dph||0),r=parseFloat(n.original.max_cena_s_dph||0);return(!isNaN(t)&&t>0?t:-1/0)-(!isNaN(r)&&r>0?r:-1/0)},filterFn:(e,n,t)=>{if(!t)return!0;const r=parseFloat(e.original.max_cena_s_dph||0),o=t.trim();if(o.match(/^[=<>]/)){const e=o[0],n=o.substring(1).trim().replace(/\s/g,"").replace(/,/g,""),t=parseFloat(n);if(!isNaN(t)&&!isNaN(r)){if("="===e)return Math.abs(r-t)<.01;if("<"===e)return r<t;if(">"===e)return r>t}return!1}if(!isNaN(r)){if(r>0){const e=r.toLocaleString("cs-CZ").toLowerCase(),n=t.toLowerCase();return e.includes(n)}return"0"===t||"---"===t||""===t}return"---"===t||""===t},cell:e=>{let{row:n}=e;const t=parseFloat(n.original.max_cena_s_dph||0);return(0,V.jsx)("div",{style:{textAlign:"right",fontWeight:600,fontFamily:"monospace",whiteSpace:"nowrap"},children:!isNaN(t)&&t>0?(0,V.jsxs)(V.Fragment,{children:[t.toLocaleString("cs-CZ"),"\xa0K\u010d"]}):"---"})}},{id:"actions",header:()=>(0,V.jsx)("div",{style:{textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:(0,V.jsx)(I.g,{icon:L.zm_,style:{color:"#eab308",fontSize:"16px"}})}),cell:e=>{let{row:n}=e;const t=n.index,r=n.original.id;return(0,V.jsxs)(ya,{onClick:ts,children:[(0,V.jsx)(za,{className:"edit","data-action":"edit","data-order-index":t,"data-order-id":r,title:n.original.isDraft?"Vr\xe1tit se ke konceptu objedn\xe1vky":n.original.hasLocalDraftChanges?"Pokra\u010dovat v editaci":"Editovat",disabled:!vs(n.original),children:(0,V.jsx)(I.g,{icon:L.MT7})}),(0,V.jsx)(za,{className:"create-invoice","data-action":"create-invoice","data-order-index":t,"data-order-id":r,title:n.original.hasLocalDraftChanges?"Objedn\xe1vka je pr\xe1v\u011b otev\u0159en\xe1 na formul\xe1\u0159i - zav\u0159ete ji pro evidov\xe1n\xed faktury":ms(n.original)?"Evidovat fakturu k t\xe9to objedn\xe1vce":"Evidov\xe1n\xed faktury je dostupn\xe9 pouze pro objedn\xe1vky od stavu ROZPRACOVAN\xc1",disabled:n.original.hasLocalDraftChanges||!ms(n.original),children:(0,V.jsx)(I.g,{icon:L.p4e})}),(0,V.jsx)(za,{className:"export-document","data-action":"export","data-order-index":t,"data-order-id":r,title:n.original.hasLocalDraftChanges?"Objedn\xe1vka je pr\xe1v\u011b otev\u0159en\xe1 na formul\xe1\u0159i - zav\u0159ete ji pro generov\xe1n\xed DOCX":hs(n.original)?"Generovat DOCX":"Generov\xe1n\xed DOCX je dostupn\xe9 pouze pro objedn\xe1vky od stavu ROZPRACOVAN\xc1",disabled:n.original.hasLocalDraftChanges||!hs(n.original),children:(0,V.jsx)(I.g,{icon:L.W1P})}),(0,V.jsx)(za,{className:"financial-control","data-action":"financial-control","data-order-index":t,"data-order-id":r,title:"DOKONCENA"!==Gl(n.original)?"Finan\u010dn\xed kontrola je dostupn\xe1 pouze pro objedn\xe1vky ve stavu DOKON\u010cENA":"Generovat finan\u010dn\xed kontrolu (PDF/tisk)",disabled:"DOKONCENA"!==Gl(n.original),children:(0,V.jsx)(I.g,{icon:L.UNK})}),(0,V.jsx)(za,{className:"delete","data-action":"delete","data-order-index":t,"data-order-id":r,title:"Smazat",disabled:!ps(n.original),children:(0,V.jsx)(I.g,{icon:L.yLS})})]})},size:120,minSize:120,maxSize:140}],[Ql,Yl,Gl,Et,es,ts,rs]),ls=(0,a.useCallback)((e,n)=>{if(!e||!n||"string"!==typeof e)return e;const t=String(e),r=(0,_.WL)(n.toLowerCase());if(!r)return t;const o=(0,_.WL)(t.toLowerCase()),a=[];let i=0,l=o.indexOf(r);for(;-1!==l;)l>i&&a.push((0,V.jsx)("span",{children:t.substring(i,l)},"text-".concat(i))),a.push((0,V.jsx)("mark",{style:{backgroundColor:"#fef08a",color:"#854d0e",fontWeight:600,padding:"1px 2px",borderRadius:"2px",boxShadow:"0 0 0 1px rgba(133, 77, 14, 0.1)"},children:t.substring(l,l+r.length)},"highlight-".concat(l))),i=l+r.length,l=o.indexOf(r,i);return i<t.length&&a.push((0,V.jsx)("span",{children:t.substring(i)},"text-".concat(i))),a.length>0?(0,V.jsx)(V.Fragment,{children:a}):t},[]),ss=(0,a.useMemo)(()=>{const e=ce.filter(e=>{if(!((e,n,t,r)=>{if(!n||null===t||void 0===t||!t.roles)return!0;if(!t.roles.some(e=>"SUPERADMIN"===e.kod_role||"ADMINISTRATOR"===e.kod_role))return!0;const o=e.objednatel_id===r||e.uzivatel_id===r,a=e.garant_uzivatel_id===r,i=e.schvalovatel_id===r,l=e.prikazce_id===r;return o||a||i||l})(e,Wi,Y,re))return!1;if(!w(e,vr,Ql,Hl,rs))return!1;if(!w(e,hr,Ql,Hl,rs))return!1;if(!((e,n,t,r)=>{var o,a,i,l,s,d,c,u,v;if(!n)return!0;const p=e._enriched||{};return(0,_.WL)([e.cislo_objednavky,e.predmet,e.dodavatel_nazev,e.dodavatel_ico,e.dodavatel_adresa,e.dodavatel_kontakt_jmeno,e.dodavatel_kontakt_email,e.dodavatel_kontakt_telefon,e.poznamka,p.uzivatel?t(null,p.uzivatel):"",S(e,t),C(e,t),t(e.uzivatel_id),t(e.objednatel_id),e.stav_objednavky,null===(o=p.stav_workflow)||void 0===o?void 0:o.nazev_stavu,null===(a=p.stav_workflow)||void 0===a?void 0:a.nazev,r(e),(()=>{var n,t;if(null!==(n=p.druh_objednavky)&&void 0!==n&&n.nazev)try{if("string"===typeof p.druh_objednavky.nazev&&p.druh_objednavky.nazev.startsWith("{")){const e=JSON.parse(p.druh_objednavky.nazev);return e.nazev_stavu||e.nazev||p.druh_objednavky.nazev}return p.druh_objednavky.nazev}catch(r){return p.druh_objednavky.nazev}if(null!==(t=p.druh_objednavky)&&void 0!==t&&t.nazev_stavu)return p.druh_objednavky.nazev_stavu;if(e.druh_objednavky_kod)try{if("string"===typeof e.druh_objednavky_kod&&e.druh_objednavky_kod.startsWith("{")){const n=JSON.parse(e.druh_objednavky_kod);return n.nazev_stavu||n.nazev||""}return"object"===typeof e.druh_objednavky_kod&&e.druh_objednavky_kod.nazev_stavu?e.druh_objednavky_kod.nazev_stavu:e.druh_objednavky_kod}catch(r){return""}return""})(),p.strediska?p.strediska.map(e=>"".concat(e.kod," ").concat(e.nazev)).join(" "):"",e.strediska_kod?Array.isArray(e.strediska_kod)?e.strediska_kod.join(" "):e.strediska_kod:"",null===(i=e.financovani)||void 0===i?void 0:i.typ_nazev,null===(l=e.financovani)||void 0===l?void 0:l.typ,null!==(s=e.financovani)&&void 0!==s&&s.lp_kody?e.financovani.lp_kody.join(" "):"",null!==(d=e.financovani)&&void 0!==d&&d.lp_nazvy?e.financovani.lp_nazvy.map(e=>"".concat(e.cislo_lp||e.kod||""," ").concat(e.nazev||"")).join(" "):"",null===(c=e.financovani)||void 0===c?void 0:c.poznamka,null===(u=e.financovani)||void 0===u?void 0:u.cislo_smlouvy,null===(v=e.financovani)||void 0===v?void 0:v.poznamka_smlouvy,...e.polozky&&Array.isArray(e.polozky)?e.polozky.flatMap(e=>[[e.nazev_polozky,e.popis,e.poznamka,e.poznamka_umisteni,e.katalog_cislo,e.dodavatel_kod,e.usek_kod,e.budova_kod,e.mistnost_kod].filter(Boolean).join(" "),...e.podradky&&Array.isArray(e.podradky)?e.podradky.map(e=>[e.nazev_polozky,e.popis,e.poznamka,e.poznamka_umisteni,e.katalog_cislo,e.dodavatel_kod,e.usek_kod,e.budova_kod,e.mistnost_kod].filter(Boolean).join(" ")):[]]):[],...e.faktury&&Array.isArray(e.faktury)?e.faktury.flatMap(e=>[[e.fa_cislo_vema,e.cislo_faktury,e.fa_poznamka,e.fa_strediska_kod?Array.isArray(e.fa_strediska_kod)?e.fa_strediska_kod.join(" "):e.fa_strediska_kod:""].filter(Boolean).join(" "),...e.polozky&&Array.isArray(e.polozky)?e.polozky.map(e=>[e.nazev_polozky,e.popis,e.poznamka,e.katalog_cislo].filter(Boolean).join(" ")):[]]):[],...e.prilohy&&Array.isArray(e.prilohy)?e.prilohy.map(e=>[e.nazev_souboru,e.nazev,e.popis].filter(Boolean).join(" ")):[],...e.dodatecne_dokumenty&&Array.isArray(e.dodatecne_dokumenty)?e.dodatecne_dokumenty.map(e=>[e.nazev_souboru,e.nazev,e.popis].filter(Boolean).join(" ")):[],...e.faktury&&Array.isArray(e.faktury)?e.faktury.flatMap(e=>e.prilohy&&Array.isArray(e.prilohy)?e.prilohy.map(e=>[e.nazev_souboru,e.nazev,e.popis].filter(Boolean).join(" ")):[]):[]].filter(Boolean).join(" ")).includes((0,_.WL)(n))})(e,Et,rs,Hl))return!1;if(!((e,n)=>{if(!n||!Array.isArray(n)||0===n.length)return!0;const t=e.stav_objednavky;if(!t)return n.includes("Nov\xe1")||n.includes("Koncept")||n.includes("NOVA")||n.includes("DRAFT");const r=e=>String(e).toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," "),o=r(t);return n.some(e=>r(e)===o)})(e,Rt))return!1;if(!((e,n,t)=>!!n||"ARCHIVOVANO"!==t(e))(e,Fi,Gl))return!1;if(!((e,n)=>{if(!n)return!0;const t=parseInt(n),r=e.uzivatel_id===t,o=e.objednatel_id===t;return r||o})(e,It))return!1;if(!((e,n,t,r)=>{if(!n&&!t)return!0;const o=r(e),a=e.datum_obj_do?e.datum_obj_do.split("T")[0]:null;if(!o&&!a)return!0;let i=!1;if(o){const e=new Date(o),r=n?new Date(n):null,a=t?new Date(t):null;a&&a.setHours(23,59,59,999),(!r||e>=r)&&(!a||e<=a)&&(i=!0)}if(!i&&a){const e=new Date(a),r=n?new Date(n):null,o=t?new Date(t):null;o&&o.setHours(23,59,59,999),(!r||e>=r)&&(!o||e<=o)&&(i=!0)}return i})(e,Zt,Kt,Ql))return!1;if(!((e,n,t)=>{const r=parseFloat(e.max_cena_s_dph||0);return!(n&&r<parseFloat(n))&&!(t&&r>parseFloat(t))})(e,Gt,Jt))return!1;if(!((e,n,t,r)=>{if(!n&&!t)return!0;const o=e.registr_smluv,a="UVEREJNIT"===r(e)||"ANO"===(null===o||void 0===o?void 0:o.zverejnit),i=(null===o||void 0===o?void 0:o.dt_zverejneni)&&(null===o||void 0===o?void 0:o.registr_iddt);return n&&t?a&&!i||i:n?a&&!i:!t||i})(e,qt,er,Yl))return!1;if(tr&&!e.mimoradna_udalost)return!1;if(or){const n=e.faktury||[];if(0===(e.faktury_count||n.length||0))return!1}if(ir){const n=e.prilohy||[];if(0===(e.prilohy_count||n.length||0))return!1}return!0});return e.sort((e,n)=>{const t=e.isDraft||e.je_koncept||!1,r=n.isDraft||n.je_koncept||!1;return t&&!r?-1:!t&&r?1:0})},[ce,vr,hr,Et,Rt,It,Zt,Kt,Gt,Jt,qt,er,tr,or,ir,Ql,rs,Hl,Gl,Fi,Wi,Y,re,Yl]);(0,a.useEffect)(()=>{dt(e=>{var n;return(0,r.A)((0,r.A)({},e),{},{filteredData:ss,filteredCount:ss.length,archivedInFiltered:ss.filter(e=>"ARCHIVOVANO"===Gl(e)).length,nonArchivedInFiltered:ss.filter(e=>"ARCHIVOVANO"!==Gl(e)).length,filterState:{showArchived:Fi,selectedYear:xr,selectedMonth:jr,canViewAllOrders:null===(n=de.current)||void 0===n?void 0:n.canViewAll,currentUserId:re}})})},[ss,Fi,xr,jr,re,Gl]),(0,a.useEffect)(()=>{Pl.current=ss,$l.current&&0!==ss.length&&setTimeout(()=>{if(!$l.current||!Array.isArray($l.current))return;const e={};$l.current.forEach(n=>{const t=ss.findIndex(e=>e.id===n);t>=0&&(e[t]=!0)}),Object.keys(e).length>0?(Ol(e),Bl.current.expandedRestored=!0,Bl.current.scrollRestored=!0):(Bl.current.expandedRestored=!0,Bl.current.scrollRestored=!0),$l.current=null},100)},[ss]),(0,a.useEffect)(()=>{const e=Bl.current,n=setInterval(()=>{e.dataLoaded&&e.paginationRestored&&e.expandedRestored&&e.scrollRestored&&(Me(!1),setTimeout(()=>{Pe(!0)},200),clearInterval(n))},100);return()=>clearInterval(n)},[]),(0,a.useEffect)(()=>{(Et||Array.isArray(Rt)&&Rt.length>0||It||Zt||Kt||Gt||Jt||Object.values(vr).some(e=>e))&&ce.length>0&&ss.length},[ss.length,ce.length,Et,Rt,It,Zt,Kt,Gt,Jt,vr]);const ds=()=>{const e=cs.getIsSomeRowsExpanded();cs.toggleAllRowsExpanded(!e)},cs=(0,Cr.N4)({data:ss,columns:is,getCoreRowModel:(0,Nr.HT)(),getExpandedRowModel:(0,Nr.D0)(),getSortedRowModel:(0,Nr.h5)(),getFilteredRowModel:(0,Nr.hM)(),getPaginationRowModel:(0,Nr.kW)(),enableExpanding:!0,getRowCanExpand:()=>!0,enableRowSelection:!0,manualPagination:!1,state:{sorting:Cl,expanded:El,rowSelection:sr,pagination:{pageSize:zl,pageIndex:wl}},onSortingChange:Nl,onExpandedChange:Ol,onRowSelectionChange:dr}),us=Math.max(1,Math.ceil(ss.length/zl));(0,a.useEffect)(()=>{const e=us-1;wl>e&&e>=0&&(Sl(0),ie("orders25List_pageIndex",0))},[us,wl,zl]);const vs=e=>!!K&&(e.isDraft||e.je_koncept?K("ORDER_EDIT_ALL")||K("ORDER_EDIT_OWN"):!(!K("ORDER_EDIT_ALL")&&!K("ORDER_MANAGE"))||!(!K("ORDER_EDIT_OWN")&&!K("ORDER_2025"))&&(e.objednatel_id===re||e.uzivatel_id===re||e.garant_uzivatel_id===re||e.schvalovatel_id===re)),ps=e=>!!K&&(!(e.isDraft||e.je_koncept||e.hasLocalDraftChanges)&&("ARCHIVOVANO"===e.stav_objednavky?K("ORDER_MANAGE")||K("ORDER_DELETE_ALL"):!(!K("ORDER_DELETE_ALL")&&!K("ORDER_MANAGE"))||!(!K("ORDER_DELETE_OWN")&&!K("ORDER_2025"))&&(e.objednatel_id===re||e.uzivatel_id===re||e.garant_uzivatel_id===re||e.schvalovatel_id===re))),hs=e=>{if(!e)return!1;const n=["ROZPRACOVANA","POTVRZENA","ODESLANA","UVEREJNIT","UVEREJNENA","NEUVEREJNIT","FAKTURACE","VECNA_SPRAVNOST","DOKONCENA","ZKONTROLOVANA","CEKA_SE"];let t=[],r=null,o="";try{if(e.stav_workflow_kod&&(Array.isArray(e.stav_workflow_kod)?t=e.stav_workflow_kod:"string"===typeof e.stav_workflow_kod&&(t=JSON.parse(e.stav_workflow_kod),Array.isArray(t)||(t=[])),t.length>0)){const e=t[t.length-1];"object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?(r=e.kod_stavu||e.nazev_stavu,o=e.nazev_stavu||e.kod_stavu||""):"string"===typeof e&&(r=e,o=e)}r||(r=e.stav_id_num||e.stav_id||e.stav||e.nazev_stavu,o=e.nazev_stavu||e.status_name||r)}catch(he){r=e.stav_id_num||e.stav_id||e.nazev_stavu,o=e.nazev_stavu||"",t=[]}return t.some(e=>{let t="";return"object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?t=String(e.kod_stavu||e.nazev_stavu).toUpperCase().trim():"string"===typeof e&&(t=String(e).toUpperCase().trim()),n.includes(t)})},ms=e=>{if(!e)return!1;const n=["ROZPRACOVANA","ODESLANA","ODESLANO","POTVRZENA","UVEREJNIT","NEUVEREJNIT","UVEREJNENA","FAKTURACE","VECNA_SPRAVNOST","ZKONTROLOVANA","DOKONCENA","CEKA_SE"],t=["STORNOVANA","ZAMITNUTA"];let r=[];try{e.stav_workflow_kod&&(Array.isArray(e.stav_workflow_kod)?r=e.stav_workflow_kod:"string"===typeof e.stav_workflow_kod&&(r=JSON.parse(e.stav_workflow_kod),Array.isArray(r)||(r=[])))}catch(he){r=[]}if(r.some(e=>{let n="";return"object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?n=String(e.kod_stavu||e.nazev_stavu).toUpperCase().trim():"string"===typeof e&&(n=String(e).toUpperCase().trim()),t.includes(n)}))return!1;return r.some(e=>{let t="";return"object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?t=String(e.kod_stavu||e.nazev_stavu).toUpperCase().trim():"string"===typeof e&&(t=String(e).toUpperCase().trim()),n.includes(t)})},gs=e=>{if(!e)return[];if(!tt||0===tt.length)return console.warn("\u26a0\ufe0f [DOCX] \u0160ablony nejsou na\u010dten\xe9 pro order:",e.cislo_objednavky),[];return tt.map(e=>({value:e.kod||e.id,label:e.nazev||e.kod||"Bez n\xe1zvu"}))},fs=async e=>{try{hl(e),vl(!0)}catch(he){console.error("\u274c [Orders25List] Chyba p\u0159i otev\xedr\xe1n\xed DOCX dialogu:",he),null===ee||void 0===ee||ee("Chyba p\u0159i otev\xedr\xe1n\xed DOCX gener\xe1toru: ".concat(he.message),{type:"error"})}},xs=async e=>{if(e.isDraft&&!e.objednavka_id)return console.log("\ud83d\udd0d [ORDERS25LIST DEBUG] Navigate to concept:",{orderId:e.id,isDraft:e.isDraft,url:"/order-form-25?mode=concept",reason:"Continuing draft (not in DB yet)"}),void M("/order-form-25?mode=concept");if(e.hasLocalDraftChanges&&e.objednavka_id){try{zr.default.setCurrentUser(G),zr.default.saveUIState({highlightOrderId:e.objednavka_id,editOrderId:e.objednavka_id})}catch(p){console.error("\u274c Chyba p\u0159i ukl\xe1d\xe1n\xed highlightOrderId:",p)}return console.log("\ud83d\udd0d [ORDERS25LIST DEBUG] Navigate to edit (with draft):",{orderId:e.objednavka_id,hasLocalDraftChanges:e.hasLocalDraftChanges,url:"/order-form-25?edit=".concat(e.objednavka_id),reason:"Continuing edit with local changes"}),void M("/order-form-25?edit=".concat(e.objednavka_id))}const n=e.id||e.objednavka_id;try{var t;const d=await(0,f.Hj)(n,W,U,!0);if(!d)return void ee("Nepoda\u0159ilo se na\u010d\xedst objedn\xe1vku z datab\xe1ze",{type:"error"});if(!0===(null===(t=d.lock_info)||void 0===t?void 0:t.locked)){var r,o,a;const t=d.lock_info,i=t.locked_by_user_fullname||"u\u017eivatel #".concat(t.locked_by_user_id),l=null===Y||void 0===Y||null===(r=Y.roles)||void 0===r?void 0:r.some(e=>"SUPERADMIN"===e.kod_role||"ADMINISTRATOR"===e.kod_role);return Dn({lockedByUserName:i,lockedByUserEmail:t.locked_by_user_email||null,lockedByUserTelefon:t.locked_by_user_telefon||null,lockedAt:t.locked_at||null,lockAgeMinutes:t.lock_age_minutes||null,canForceUnlock:l,orderId:n,userRoleName:(null===Y||void 0===Y||null===(o=Y.roles)||void 0===o||null===(a=o.find(e=>"SUPERADMIN"===e.kod_role||"ADMINISTRATOR"===e.kod_role))||void 0===a?void 0:a.nazev_role)||"administr\xe1tor"}),bn(e),void On(!0)}var i,l,s;!0===(null===(i=d.lock_info)||void 0===i?void 0:i.is_owned_by_me)||"unlocked"===(null===(l=d.lock_info)||void 0===l?void 0:l.lock_status)||null===(s=d.lock_info)||void 0===s||s.lock_status}catch(he){return void ee("Chyba p\u0159i kontrole dostupnosti objedn\xe1vky",{type:"error"})}zr.default.setCurrentUser(G);let d=!1,c=null,u=!1;if(await zr.default.hasDraft())try{var v;const n=await zr.default.loadDraft(),t=n.savedOrderId||(null===(v=n.formData)||void 0===v?void 0:v.id),r=e.id;if(t&&r&&String(t)===String(r))d=!1,u=!0;else{const e=(0,yr.V5)(n),t=(0,yr.NN)(n);d=e||t,d&&(c=n)}}catch(he){d=!1}if(u){try{zr.default.setCurrentUser(G),zr.default.saveUIState({highlightOrderId:e.id,editOrderId:e.id})}catch(p){console.error("\u274c Chyba p\u0159i ukl\xe1d\xe1n\xed highlightOrderId:",p)}return console.log("\ud83d\udd0d [ORDERS25LIST DEBUG] Navigate from row (draft matches):",{orderId:e.id,isDraftForThisOrder:!0,url:"/order-form-25?edit=".concat(e.id),reason:"Draft belongs to this order - no reload needed"}),void M("/order-form-25?edit=".concat(e.id))}return"ARCHIVOVANO"===e.stav_objednavky&&d?(kn(c),bn(e),void Nn(!0)):"ARCHIVOVANO"===e.stav_objednavky?(bn(e),void Sn(!0)):void(d?(kn(c),bn(e),fn(!0)):bs(e))},bs=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=xn;if(e&&e.id&&!e.type&&(n=e),n){try{const e=n.id||n.objednavka_id;if(!e)return void ee("Chyba: Nelze ur\u010dit ID objedn\xe1vky",{type:"error"});const i=await(0,f.Hj)(e,W,U,!0);if(!i)return void ee("Nepoda\u0159ilo se na\u010d\xedst objedn\xe1vku z datab\xe1ze",{type:"error"});try{(await(0,g.ro)({token:W,username:U,orderId:e})).success}catch(o){}let l=null;if(i.objednatel_id)try{const{getUserDetailApi2:e}=await Promise.resolve().then(t.bind(t,75949));l=await e(U,W,i.objednatel_id)}catch(he){l=null}let s=[];for(let n=localStorage.length-1;n>=0;n--){const e=localStorage.key(n);e&&(e.startsWith("orderForm25_")||e.startsWith("order25_draft_")||e.startsWith("order25-draft-")||e.startsWith("orderForm25-")||e.includes("draft")&&e.includes("order"))&&(localStorage.removeItem(e),s.push(e))}const d=i.id;let c={objednatel_id:i.objednatel_id||G,jmeno:"Neuvedeno",email:"",telefon:""};if(l){const e="".concat(l.titul_pred?l.titul_pred+" ":"").concat(l.jmeno||""," ").concat(l.prijmeni||"").concat(l.titul_za?", "+l.titul_za:"").replace(/\s+/g," ").trim();c={objednatel_id:i.objednatel_id,jmeno:e||"Neuvedeno",email:l.email||"",telefon:l.telefon||""}}else i.objednatel_id;const u=(e,n)=>{if(!e)return!1;try{if("string"===typeof e&&e.startsWith("[")){const t=JSON.parse(e);return Array.isArray(t)&&t.includes(n)}return String(e).includes(n)}catch(t){return String(e).includes(n)}},v=u(i.stav_workflow_kod,"SCHVALENA"),p=u(i.stav_workflow_kod,"ODESLANA"),h=u(i.stav_workflow_kod,"ZRUSENA"),m=u(i.stav_workflow_kod,"ZAMITNUTA"),x=u(i.stav_workflow_kod,"CEKA_SE");let b=i.stav_schvaleni||"";v?b="schvaleno":m?b="neschvaleno":x&&(b="ceka_se");const j=i.cislo_objednavky||i.ev_cislo||"CHYBA: Chyb\xed \u010d\xedslo v DB!",k={formData:(0,r.A)((0,r.A)({},i),{},{uzivatel_id:G,ev_cislo:i.cislo_objednavky||i.ev_cislo||"CHYBA: Chyb\xed \u010d\xedslo v DB!",stav_schvaleni:b,stav_odeslano:p,stav_stornovano:h},c&&{objednatel_id:c.objednatel_id,jmeno:c.jmeno,email:c.email,telefon:c.telefon}),timestamp:Date.now(),version:"1.4",isConceptSaved:!0,isChanged:!1,isOrderSavedToDB:!0,savedOrderId:d,attachments:[]};ie("order25-draft",k),(0,Ar.C5)(G,k),window.dispatchEvent(new CustomEvent("orderDraftChange",{detail:{hasDraft:!0,isEditMode:!0,orderId:d,orderNumber:j,isLoading:!1}}));try{zr.default.setCurrentUser(G),zr.default.saveUIState({highlightOrderId:d,editOrderId:d})}catch(a){console.error("\u274c Chyba p\u0159i ukl\xe1d\xe1n\xed highlightOrderId:",a)}M("/order-form-25?edit=".concat(d,"&archivovano=1"))}catch(he){ee("Chyba p\u0159i na\u010d\xedt\xe1n\xed objedn\xe1vky z datab\xe1ze",{type:"error"})}fn(!1),bn(null)}},js=()=>{On(!1),Dn(null),fn(!1),bn(null)},ks=()=>{Ln(!1),$n(null)},_s=(0,a.useCallback)(function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.preventDefault();let r=null;const o=e.target;if(t)r=t;else if(o&&o.closest("td")){var a;const e=o.closest("td");r={value:(null===(a=e.textContent)||void 0===a?void 0:a.trim())||"",element:e}}cl({x:e.clientX,y:e.clientY,order:n,selectedData:r})},[]),ys=(0,a.useCallback)(e=>{const n=e.target.closest("tr[data-order-index]");if(!n)return;const t=parseInt(n.dataset.orderIndex,10),r=Pl.current[t];r&&_s(e,r)},[_s]),zs=(0,a.useCallback)(()=>{cl(null)},[]),As=(0,a.useCallback)(e=>{ee('\ud83c\udfaf Funkce "P\u0159idat do TODO" bude brzy implementov\xe1na pro objedn\xe1vku '.concat(e.cislo_objednavky),{type:"info"})},[ee]),ws=(0,a.useCallback)(e=>{ee('\u23f0 Funkce "P\u0159idat alarm" bude brzy implementov\xe1na pro objedn\xe1vku '.concat(e.cislo_objednavky),{type:"info"})},[ee]),Ss=(0,a.useCallback)(e=>{xs(e)},[xs]),Cs=(0,a.useCallback)(e=>{Rs(e)},[]),Ns=(0,a.useCallback)(e=>{fs(e)},[fs]),Es=(0,a.useCallback)(e=>{xl(e),gl(!0)},[]),Os=(0,a.useCallback)(()=>{vl(!1),hl(null)},[]),Rs=(0,a.useCallback)(e=>{ps(e)?(An(e),yn(!0)):ee("Nem\xe1te opr\xe1vn\u011bn\xed smazat tuto objedn\xe1vku",{type:"warning"})},[ps,ee]),Ds=(0,a.useCallback)(e=>{ms(e)?M("/invoice-evidence/".concat(e.id)):ee("Evidov\xe1n\xed faktury je dostupn\xe9 pouze pro objedn\xe1vky od stavu ROZPRACOVAN\xc1",{type:"warning"})},[M,ee]);ns.current={handleEdit:xs,handleView:e=>{},handleExportDocument:fs,handleFinancialControl:async e=>{try{if("DOKONCENA"!==Gl(e))return void(null===ee||void 0===ee||ee("Finan\u010dn\xed kontrola je dostupn\xe1 pouze pro dokon\u010den\xe9 objedn\xe1vky",{type:"warning"}));xl(e),gl(!0)}catch(he){console.error("\u274c [Orders25List] Chyba p\u0159i otev\xedr\xe1n\xed finan\u010dn\xed kontroly:",he),null===ee||void 0===ee||ee("Chyba p\u0159i otev\xedr\xe1n\xed finan\u010dn\xed kontroly: ".concat(he.message),{type:"error"})}},handleCreateInvoice:Ds,handleDelete:Rs};const Is=async e=>{if(zn)try{ue(e=>e.filter(e=>e.id!==zn.id)),"hard"===e?(0,f.kg)(zn.id,W,U).then(()=>{ee&&ee("Objedn\xe1vka byla \xfapln\u011b smaz\xe1na v\u010detn\u011b v\u0161ech p\u0159\xedloh.",{type:"success"})}).catch(e=>{ue(e=>[...e,zn].sort((e,n)=>n.id-e.id));const n=(0,wr.g)(e.message);ee&&ee("Chyba p\u0159i maz\xe1n\xed: ".concat(n),{type:"error"})}):(0,f.kg)(zn.id,W,U).then(()=>{ee&&ee("Objedn\xe1vka byla ozna\u010dena jako neaktivn\xed.",{type:"success"})}).catch(e=>{ue(e=>[...e,zn].sort((e,n)=>n.id-e.id));const n=(0,wr.g)(e.message);ee&&ee("Chyba p\u0159i maz\xe1n\xed: ".concat(n),{type:"error"})}),(0,Ar.aO)(G)}catch(he){const n=(0,wr.g)(he.message);ee&&ee("Chyba p\u0159i maz\xe1n\xed objedn\xe1vky: ".concat(n),{type:"error"})}finally{yn(!1),An(null)}},Ls=async()=>{if(W&&null!==B&&void 0!==B&&B.username){Ge(!1),Je(new Date);try{D.A.invalidate(G),D.A.clearScrollState(G),pe(!0),await Kl(!0),null!==le&&void 0!==le&&le.triggerNotificationsRefresh&&le.triggerNotificationsRefresh(),ee&&ee("Seznam objedn\xe1vek byl obnoven z datab\xe1ze",{type:"success"})}catch(he){ee&&ee("Chyba p\u0159i obnoven\xed dat: "+he.message,{type:"error"})}finally{pe(!1)}}};(0,a.useEffect)(()=>{if(!Qi)return;const e=e=>{Ji.current&&!Ji.current.contains(e.target)&&el(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[Qi]);const Ts=e=>{"show-more"!==e?"show-less"!==e?(kr(e),ie("orders25List_selectedMonth",e),qi(!1)):Mi(!1):Mi(!0)};(0,a.useEffect)(()=>{if(!Xi)return;const e=e=>{Yi.current&&!Yi.current.contains(e.target)&&qi(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[Xi]);const $s=()=>{const e=new Date,n=e.getFullYear(),t=e.getMonth(),r=e.getDate(),o="all"!==xr?parseInt(xr):n;switch(jr){case"all":return"all"!==xr?{datum_od:"".concat(o,"-01-01"),datum_do:"".concat(o,"-12-31")}:{};case"current-month":return{datum_od:"".concat(n,"-").concat(String(t+1).padStart(2,"0"),"-01"),datum_do:"".concat(n,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(r).padStart(2,"0"))};case"last-month":{const e=t-1,o=e<0?11:e;return{datum_od:"".concat(e<0?n-1:n,"-").concat(String(o+1).padStart(2,"0"),"-01"),datum_do:"".concat(n,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(r).padStart(2,"0"))}}case"last-quarter":{const e=t-3,o=e<0?12+e:e;return{datum_od:"".concat(e<0?n-1:n,"-").concat(String(o+1).padStart(2,"0"),"-01"),datum_do:"".concat(n,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(r).padStart(2,"0"))}}case"last-half":{const e=t-6,o=e<0?12+e:e;return{datum_od:"".concat(e<0?n-1:n,"-").concat(String(o+1).padStart(2,"0"),"-01"),datum_do:"".concat(n,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(r).padStart(2,"0"))}}case"last-year":{const e=t-12,o=e<0?12+e:e;return{datum_od:"".concat(e<0?n-1:n,"-").concat(String(o+1).padStart(2,"0"),"-01"),datum_do:"".concat(n,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(r).padStart(2,"0"))}}default:{if("all"===xr)return{};const e=jr.match(/^(\d+)(?:-(\d+))?$/);if(e){const n=parseInt(e[1]),t=e[2]?parseInt(e[2]):n,r=new Date(o,t,0).getDate();return{datum_od:"".concat(o,"-").concat(String(n).padStart(2,"0"),"-01"),datum_do:"".concat(o,"-").concat(String(t).padStart(2,"0"),"-").concat(String(r).padStart(2,"0"))}}return{}}}},Ps=e=>{if(!e)return"";const n=e.toString().replace(/[^\d]/g,"");return n?n.replace(/\B(?=(\d{3})+(?!\d))/g," "):""},Vs=e=>e?e.toString().replace(/\s/g,""):"",Ms=()=>{pr({dt_objednavky:"",cislo_objednavky:"",predmet:"",objednatel:"",stav_objednavky:"",max_cena_s_dph:"",garant:"",prikazce:"",schvalovatel:""}),$t([]),Vt([]),Wt([]),Ft([]),Dt([]),ie("orders25List_selectedObjednatel",[]),ie("orders25List_selectedGarant",[]),ie("orders25List_selectedPrikazce",[]),ie("orders25List_selectedSchvalovatel",[]),ie("orders25List_statusFilter",[])},Fs=()=>{const e=!gr;fr(e),ie("orders25List_showRowHighlighting",e)},Bs=e=>{if(zt===e)At(null),Dt([]),ie("orders25List_statusFilter",[]),ar(!1),lr(!1);else{const n={ke_schvaleni:"Ke schv\xe1len\xed",schvalena:"Schv\xe1len\xe1",rozpracovana:"Rozpracovan\xe1",odeslana:"Odeslan\xe1 dodavateli",potvrzena:"Potvrzen\xe1 dodavatelem",k_uverejneni_do_registru:"M\xe1 b\xfdt zve\u0159ejn\u011bna",uverejnena:"Uve\u0159ejn\u011bn\xe1",vecna_spravnost:"V\u011bcn\xe1 spr\xe1vnost",dokoncena:"Dokon\u010den\xe1",nova:"Nov\xe1",zamitnuta:"Zam\xedtnut\xe1",zrusena:"Zru\u0161en\xe1",ceka_potvrzeni:"\u010cek\xe1 na potvrzen\xed",ceka_se:"\u010cek\xe1 se",smazana:"Smazan\xe1",archivovano:"Archivov\xe1no"};ar(!1),lr(!1),At(e);const t=n[e]||e;Dt([t]),ie("orders25List_statusFilter",[t])}},Ws=()=>{or?(ar(!1),At(null),Dt([]),ie("orders25List_statusFilter",[]),lr(!1)):(At(null),Dt([]),ie("orders25List_statusFilter",[]),lr(!1),ar(!0))},Zs=()=>{ir?(lr(!1),At(null),Dt([]),ie("orders25List_statusFilter",[]),ar(!1)):(At(null),Dt([]),ie("orders25List_statusFilter",[]),ar(!1),lr(!0))},Us=()=>{const e=!tr;rr(e),ie("orders25List_filterMimoradneObjednavky",e),e&&(At(null),Dt([]),ie("orders25List_statusFilter",[]),ar(!1),lr(!1))},Ks=()=>{const e=!ot;at(e),ie("orders25List_showDashboard",e)},Hs=(0,a.useCallback)(e=>"custom"!==_t||null===xt||void 0===xt||!xt.viditelne_dlazdice||!0===xt.viditelne_dlazdice[e],[_t,xt]),Gs=()=>{const e=!Wi;Zi(e),ie("orders25List_showOnlyMyOrders",e)},Ys=async(e,n)=>{const t=e.originalni_nazev_souboru||e.nazev||"priloha_".concat(e.id);if("IMPORT"===e.typ_prilohy&&e.originalni_nazev_souboru){const n="".concat("https://erdms.zachranka.cz/prilohy/").concat(e.originalni_nazev_souboru),t=document.createElement("a");return t.href=n,t.download=e.originalni_nazev_souboru,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),void(null===ee||void 0===ee||ee('P\u0159\xedloha "'.concat(e.originalni_nazev_souboru,'" se stahuje ze star\xe9ho syst\xe9mu'),{type:"info"}))}if(e.id&&n&&W&&U)try{let r;if(e.typ_prilohy&&e.typ_prilohy.startsWith("FAKTURA")){const n=e.faktura_id||e.invoice_id;if(!n)return void(null===ee||void 0===ee||ee("Nelze st\xe1hnout p\u0159\xedlohu faktury - chyb\xed ID faktury",{type:"error"}));r=await(0,f.TD)(n,e.id,U,W)}else r=await(0,f.downloadOrderAttachment)(n,e.id,U,W);(0,g.createDownloadLink25)(r,t),null===ee||void 0===ee||ee("P\u0159\xedloha sta\u017eena",{type:"success"})}catch(he){null===ee||void 0===ee||ee(he.message||"P\u0159\xedlohu nelze st\xe1hnout",{type:"error"})}else null===ee||void 0===ee||ee("Nelze st\xe1hnout p\u0159\xedlohu - chyb\xed pot\u0159ebn\xe9 \xfadaje",{type:"error"})},[Js,Xs]=(0,a.useState)({}),qs=async(e,n,o)=>{const a="".concat(e,"_").concat(n);if(!Js[a])try{const{getUserDetailApi2:e}=await Promise.resolve().then(t.bind(t,75949)),n=await e(U,W,o);if(n){const e={jmeno:n.jmeno,prijmeni:n.prijmeni,titul_pred:n.titul_pred,titul_za:n.titul_za,email:n.email};Xs(n=>(0,r.A)((0,r.A)({},n),{},{[a]:e}))}}catch(he){}},Qs=e=>{var n,t,o,a,i,l,s,d,c;const u=e.polozky||[],v=Array.isArray(u)&&u.length>0,p=e.faktury||[],h=Array.isArray(p)&&p.length>0,m=e.prilohy||[],g=Array.isArray(m)&&m.length>0,f=e.dodatecne_dokumenty||[],x=Array.isArray(f)&&f.length>0,b=e.strediska_kod||e.strediska||[],_=Array.isArray(b)&&b.length>0;return(0,V.jsx)(Xo,{$order:e,$showRowHighlighting:gr,children:(0,V.jsxs)(qo,{children:[(0,V.jsxs)(ra,{$order:e,$showRowHighlighting:gr,children:[(0,V.jsxs)(oa,{children:[(0,V.jsx)(I.g,{icon:L.iW_}),"Z\xe1kladn\xed \xfadaje objedn\xe1vky"]}),(0,V.jsxs)("div",{style:{width:"100%",marginBottom:"0.75rem",padding:"0.5rem",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[(0,V.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",marginBottom:"0.25rem",fontWeight:500,textTransform:"uppercase",letterSpacing:"0.05em"},children:"\u010c\xedslo objedn\xe1vky"}),(0,V.jsxs)("div",{style:{fontFamily:"monospace",fontWeight:700,fontSize:"1.15em",color:"#0f172a",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[e.cislo_objednavky||"---",(0,V.jsxs)("sup",{style:{fontSize:"0.6em",color:"#94a3b8",fontWeight:400,marginLeft:"0.3em"},children:["#",e.id||"?"]})]})]}),(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"P\u0159edm\u011bt:"}),(0,V.jsx)(ga,{style:{fontWeight:500},children:e.predmet||"---"})]}),(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Stav:"}),(0,V.jsx)(ga,{children:(0,V.jsx)("span",{style:{fontWeight:600,color:(()=>{const n=e.stav_objednavky?Tr(e.stav_objednavky):"NOVA",t=k(n);return(null===t||void 0===t?void 0:t.dark)||j.NOVA.dark})()},children:e.stav_objednavky||Hl(e)||"---"})})]}),(0,V.jsx)("div",{style:{borderBottom:"1px solid #e5e7eb",margin:"0.75rem 0"}}),(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Datum vytvo\u0159en\xed:"}),(0,V.jsx)(ga,{children:e.dt_vytvoreni?(0,y.fn)(e.dt_vytvoreni):"---"})]}),e.dt_schvaleni&&(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Datum schv\xe1len\xed:"}),(0,V.jsx)(ga,{style:{color:"#059669",fontWeight:500},children:(0,y.fn)(e.dt_schvaleni)})]}),e.dt_predpokladany_termin_dodani&&(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Term\xedn dod\xe1n\xed:"}),(0,V.jsx)(ga,{style:{fontWeight:500},children:(0,y.iS)(e.dt_predpokladany_termin_dodani)})]}),e.dt_potvrzeni_vecne_spravnosti&&(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Potvrzen\xed v\u011bc. spr\xe1vnosti:"}),(0,V.jsx)(ga,{style:{color:"#0891b2",fontWeight:500},children:(0,y.fn)(e.dt_potvrzeni_vecne_spravnosti)})]}),"            ",e.dt_dokonceni&&(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Datum dokon\u010den\xed:"}),(0,V.jsx)(ga,{style:{color:"#16a34a",fontWeight:600},children:(0,y.fn)(e.dt_dokonceni)})]}),(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Posledn\xed zm\u011bna:"}),(0,V.jsx)(ga,{children:e.dt_aktualizace?(0,y.fn)(e.dt_aktualizace):"---"})]}),(0,V.jsx)("div",{style:{borderTop:"1px solid #d1d5db",margin:"0.75rem 0"}}),((n,t,r,o)=>{if(null!==(n=e.registr_smluv)&&void 0!==n&&n.dt_zverejneni&&null!==(t=e.registr_smluv)&&void 0!==t&&t.registr_iddt)return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Uve\u0159ejn\u011bno v registru:"}),(0,V.jsxs)(ga,{style:{fontWeight:600,color:"#059669",display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"0.5rem"},children:[(0,V.jsx)(I.g,{icon:L.SGM,style:{fontSize:"0.9em"}}),(0,V.jsx)("span",{children:"Ano"})]})]}),(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Datum zve\u0159ejn\u011bn\xed:"}),(0,V.jsx)(ga,{style:{fontWeight:500,color:"#059669"},children:(0,y.iS)(e.registr_smluv.dt_zverejneni)})]}),(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"K\xf3d IDDS:"}),(0,V.jsx)(ga,{style:{fontFamily:"monospace",fontWeight:600,fontSize:"0.95em",color:"#0891b2"},children:e.registr_smluv.registr_iddt})]})]});let a=null;if(e.stav_workflow_kod)try{const n="string"===typeof e.stav_workflow_kod?JSON.parse(e.stav_workflow_kod):e.stav_workflow_kod;a=Array.isArray(n)?n[n.length-1]:n}catch(i){a=e.stav_workflow_kod}return"UVEREJNIT"===a||"ANO"===(null===(r=e.registr_smluv)||void 0===r?void 0:r.zverejnit)||null!==(o=e.registr_smluv)&&void 0!==o&&o.ma_byt_zverejnena?(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Uve\u0159ejn\u011bno v registru:"}),(0,V.jsxs)(ga,{style:{fontWeight:600,color:"#f59e0b",display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"0.5rem"},children:[(0,V.jsx)(I.g,{icon:L.TuH,style:{fontSize:"0.9em"}}),(0,V.jsx)("span",{children:"\u010cek\xe1 se"})]})]}):(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Uve\u0159ejn\u011bno v registru:"}),(0,V.jsxs)(ga,{style:{fontWeight:500,color:"#6b7280",display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"0.5rem"},children:[(0,V.jsx)(I.g,{icon:L.s0Q,style:{fontSize:"0.9em"}}),(0,V.jsx)("span",{children:"Ne"})]})]})})()]}),(0,V.jsxs)(ra,{$order:e,$showRowHighlighting:gr,children:[(0,V.jsxs)(oa,{children:[(0,V.jsx)(I.g,{icon:L.ymQ}),"Finan\u010dn\xed \xfadaje"]}),_&&(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"St\u0159ediska:"}),(0,V.jsx)(ga,{style:{fontSize:"0.9em",fontWeight:500,display:"flex",flexDirection:"column",gap:"4px",alignItems:"flex-end"},children:Array.isArray(b)?b.map((e,n)=>{let t;return t="string"===typeof e||"number"===typeof e?as(String(e)):e.nazev_stavu?e.nazev_stavu:e.nazev?e.nazev:e.kod_stavu?as(String(e.kod_stavu)):e.kod?as(String(e.kod)):"St\u0159edisko ".concat(n+1),(0,V.jsx)("div",{children:ls(t,Et)},n)}):(0,V.jsx)("div",{children:ls(as(String(b)),Et)})})]}),e.financovani&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Zp\u016fsob financov\xe1n\xed:"}),(0,V.jsx)(ga,{style:{fontWeight:600,color:"#7c3aed"},children:ls(e.financovani.typ_nazev||e.financovani.typ||"---",Et)})]}),(null===(n=e.financovani)||void 0===n?void 0:n.lp_nazvy)&&Array.isArray(e.financovani.lp_nazvy)&&e.financovani.lp_nazvy.length>0&&(0,V.jsxs)("div",{style:{marginTop:"0.5rem",marginBottom:"0.5rem"},children:[(0,V.jsx)(ma,{style:{marginBottom:"0.5rem",display:"block"},children:"LP \xfa\u010dty:"}),e.financovani.lp_nazvy.map((e,n)=>(0,V.jsxs)("div",{style:{fontSize:"0.9em",marginBottom:"0.25rem",paddingLeft:"0.5rem",borderLeft:"3px solid #7c3aed",backgroundColor:"#faf5ff",padding:"0.4rem 0.5rem",borderRadius:"0 4px 4px 0"},children:[(0,V.jsx)("span",{style:{fontWeight:600,color:"#7c3aed"},children:ls(e.cislo_lp||e.kod||"---",Et)}),e.nazev&&(0,V.jsxs)("span",{style:{color:"#64748b",marginLeft:"0.5rem"},children:["\u2013 ",ls(e.nazev,Et)]})]},n))]}),(!(null!==(t=e.financovani)&&void 0!==t&&t.lp_nazvy)||0===e.financovani.lp_nazvy.length)&&(null===(o=e.financovani)||void 0===o?void 0:o.lp_kody)&&Array.isArray(e.financovani.lp_kody)&&e.financovani.lp_kody.length>0&&(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"LP k\xf3dy:"}),(0,V.jsx)(ga,{style:{fontSize:"0.9em"},children:ls(e.financovani.lp_kody.join(", "),Et)})]}),e.financovani&&"object"===typeof e.financovani&&(()=>{const n=e.financovani,t=["typ","typ_nazev","nazev","lp_kody","lp_nazvy","kod_stavu","nazev_stavu","label"];return Object.keys(n).filter(e=>!t.includes(e)&&null!=n[e]).map(e=>{const t=n[e],r=Array.isArray(t)?t.join(", "):String(t),o={cislo:"\u010c\xedslo",poznamka:"Pozn\xe1mka",cislo_smlouvy:"\u010c\xedslo smlouvy",smlouva_cislo:"\u010c\xedslo smlouvy",poznamka_smlouvy:"Pozn\xe1mka smlouvy",cislo_pojistne_udalosti:"\u010c\xedslo pojistn\xe9 ud\xe1losti",poznamka_pojistne_udalosti:"Pozn\xe1mka",individualni_schvaleni:"\u010c\xedslo schv\xe1len\xed",individualni_poznamka:"Pozn\xe1mka",individualni_schvaleni_poznamka:"Pozn\xe1mka",pokladna_cislo:"\u010c\xedslo",pokladna_poznamka:"Pozn\xe1mka",castka:"\u010c\xe1stka",datum:"Datum",schvalovaci_osoba:"Schvaluj\xedc\xed osoba"}[e]||e.replace(/_/g," ").replace(/^\w/,e=>e.toUpperCase());return(0,V.jsxs)(ha,{children:[(0,V.jsxs)(ma,{children:[o,":"]}),(0,V.jsx)(ga,{style:{fontSize:"0.9em"},children:ls(r,Et)})]},e)})})()]}),(_||e.financovani)&&(0,V.jsx)("div",{style:{borderBottom:"2px solid #e2e8f0",margin:"0.75rem 0",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"}}),(0,V.jsx)("div",{style:{borderBottom:"1px solid #e5e7eb",margin:"0.75rem 0"}}),(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Max. cena s DPH:"}),(0,V.jsx)(ga,{style:{fontWeight:700,color:"#059669",fontSize:"1.1em",whiteSpace:"nowrap"},children:e.max_cena_s_dph?(0,V.jsxs)(V.Fragment,{children:[parseFloat(e.max_cena_s_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]}):"---"})]}),(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Druh objedn\xe1vky:"}),(0,V.jsx)(ga,{style:{fontWeight:500,fontSize:"0.9em"},children:null!==(z=e.druh_objednavky)&&void 0!==z&&z.nazev?e.druh_objednavky.nazev:e.druh_objednavky_nazev?e.druh_objednavky_nazev:e.druh_objednavky_kod?os(e.druh_objednavky_kod):"string"===typeof e.druh_objednavky?os(e.druh_objednavky):"---"})]}),v&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Po\u010det polo\u017eek:"}),(0,V.jsxs)(ga,{style:{fontWeight:500},children:[e.polozky_count||u.length," ks"]})]}),e.polozky_celkova_cena_s_dph&&parseFloat(e.polozky_celkova_cena_s_dph)>0&&(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Polo\u017eky (s DPH):"}),(0,V.jsxs)(ga,{style:{fontWeight:600,color:"#3b82f6",whiteSpace:"nowrap"},children:[parseFloat(e.polozky_celkova_cena_s_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]})]}),(0,V.jsx)("div",{style:{borderBottom:"1px solid #e5e7eb",margin:"0.75rem 0"}}),h&&(0,V.jsxs)(V.Fragment,{children:[e.faktury_celkova_castka_s_dph&&parseFloat(e.faktury_celkova_castka_s_dph)>0&&(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Faktury (s DPH):"}),(0,V.jsxs)(ga,{style:{fontWeight:600,color:"#7c3aed",whiteSpace:"nowrap"},children:[parseFloat(e.faktury_celkova_castka_s_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Po\u010det faktur:"}),(0,V.jsxs)(ga,{style:{fontWeight:500},children:[e.faktury_count||p.length," ks"]})]})]})]}),(0,V.jsxs)(ra,{$order:e,$showRowHighlighting:gr,children:[(0,V.jsxs)(oa,{children:[(0,V.jsx)(I.g,{icon:L.gdJ}),"Odpov\u011bdn\xe9 osoby"]}),(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Objednatel:"}),(0,V.jsx)(ga,{children:(0,V.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"flex-end"},children:(0,V.jsx)("span",{style:{fontWeight:500},children:(null===(a=e.objednatel)||void 0===a?void 0:a.cele_jmeno)||(null===(i=e.uzivatel)||void 0===i?void 0:i.cele_jmeno)||rs(e.uzivatel_id)||"---"})})})]}),((null===(l=e.objednatel)||void 0===l?void 0:l.email)||(null===(s=e.uzivatel)||void 0===s?void 0:s.email))&&(0,V.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",paddingRight:"0",wordBreak:"break-all"},children:(null===(d=e.objednatel)||void 0===d?void 0:d.email)||(null===(c=e.uzivatel)||void 0===c?void 0:c.email)}),e.garant_uzivatel&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Garant:"}),(0,V.jsx)(ga,{children:(0,V.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"flex-end"},children:(0,V.jsx)("span",{style:{fontWeight:500},children:e.garant_uzivatel.cele_jmeno||rs(e.garant_uzivatel.id)||"---"})})})]}),e.garant_uzivatel.email&&(0,V.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.garant_uzivatel.email})]}),e.prikazce&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"P\u0159\xedkazce:"}),(0,V.jsx)(ga,{children:(0,V.jsx)("span",{style:{fontWeight:500},children:e.prikazce.cele_jmeno||rs(e.prikazce.id)||"---"})})]}),e.prikazce.email&&(0,V.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.prikazce.email})]}),e.schvalovatel&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Schvalovatel:"}),(0,V.jsx)(ga,{children:(0,V.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"flex-end"},children:(0,V.jsx)("span",{style:{fontWeight:500},children:e.schvalovatel.cele_jmeno||rs(e.schvalovatel.id)||"---"})})})]}),e.schvalovatel.email&&(0,V.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.schvalovatel.email})]}),e.odesilatel&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Odes\xedlatel:"}),(0,V.jsx)(ga,{style:{fontWeight:500,color:"#0891b2"},children:e.odesilatel.cele_jmeno||"---"})]}),e.odesilatel.email&&(0,V.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.odesilatel.email})]}),e.dodavatel_potvrdil&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Dodavatel potvrdil:"}),(0,V.jsx)(ga,{style:{fontWeight:500,color:"#0891b2"},children:e.dodavatel_potvrdil.cele_jmeno||"---"})]}),e.dodavatel_potvrdil.email&&(0,V.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.dodavatel_potvrdil.email})]}),e.zverejnil&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Zve\u0159ejnil:"}),(0,V.jsx)(ga,{style:{fontWeight:500,color:"#0891b2"},children:e.zverejnil.cele_jmeno||"---"})]}),e.zverejnil.email&&(0,V.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.zverejnil.email})]}),e.fakturant&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Fakturant:"}),(0,V.jsx)(ga,{style:{fontWeight:500,color:"#7c3aed"},children:e.fakturant.cele_jmeno||"---"})]}),e.fakturant.email&&(0,V.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.fakturant.email})]}),e.potvrdil_vecnou_spravnost&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Potvrdil v\u011bcnou spr\xe1vnost:"}),(0,V.jsx)(ga,{style:{fontWeight:500,color:"#0891b2"},children:e.potvrdil_vecnou_spravnost.cele_jmeno||"---"})]}),e.potvrdil_vecnou_spravnost.email&&(0,V.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.potvrdil_vecnou_spravnost.email})]}),e.dokoncil&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Dokon\u010dil objedn\xe1vku:"}),(0,V.jsx)(ga,{style:{fontWeight:600,color:"#16a34a"},children:e.dokoncil.cele_jmeno||"---"})]}),e.dokoncil.email&&(0,V.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.dokoncil.email})]})]}),(0,V.jsxs)(ra,{$order:e,$showRowHighlighting:gr,children:[(0,V.jsxs)(oa,{children:[(0,V.jsx)(I.g,{icon:L.UNK}),"Workflow kroky"]}),e.uzivatel&&(0,V.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,V.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#3b82f6"},children:"1. Vytvo\u0159il"}),(0,V.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.uzivatel.cele_jmeno})]}),e.uzivatel.datum&&(0,V.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.fn)(e.uzivatel.datum)})]}),e.schvalovatel&&(0,V.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,V.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#059669"},children:"2. Schv\xe1lil"}),(0,V.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.schvalovatel.cele_jmeno})]}),e.schvalovatel.datum&&(0,V.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.fn)(e.schvalovatel.datum)})]}),e.odesilatel&&(0,V.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,V.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#0891b2"},children:"3. Odeslal dodavateli"}),(0,V.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.odesilatel.cele_jmeno})]}),e.odesilatel.datum&&(0,V.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.fn)(e.odesilatel.datum)})]}),e.dodavatel_potvrdil&&(0,V.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,V.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#7c3aed"},children:"4. Dodavatel potvrdil"}),(0,V.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.dodavatel_potvrdil.cele_jmeno})]}),e.dodavatel_potvrdil.datum&&(0,V.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.iS)(e.dodavatel_potvrdil.datum)})]}),e.zverejnil&&(0,V.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,V.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#f59e0b"},children:"5. Zve\u0159ejnil"}),(0,V.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.zverejnil.cele_jmeno})]}),e.zverejnil.datum&&(0,V.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.iS)(e.zverejnil.datum)})]}),e.fakturant&&e.faktury&&e.faktury.length>0&&(()=>{const n=e.faktury.filter(e=>e.dt_vytvoreni).sort((e,n)=>new Date(n.dt_vytvoreni)-new Date(e.dt_vytvoreni))[0];return n?(0,V.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,V.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#ea580c"},children:"6. P\u0159idal fakturu"}),(0,V.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.fakturant.cele_jmeno})]}),(0,V.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.fn)(n.dt_vytvoreni)})]}):null})(),e.potvrdil_vecnou_spravnost&&(0,V.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,V.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#0891b2"},children:"7. Potvrdil v\u011bcnou spr\xe1vnost"}),(0,V.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.potvrdil_vecnou_spravnost.cele_jmeno})]}),e.potvrdil_vecnou_spravnost.datum&&(0,V.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.fn)(e.potvrdil_vecnou_spravnost.datum)})]}),e.dokoncil&&(0,V.jsxs)("div",{style:{marginBottom:"0"},children:[(0,V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,V.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#16a34a"},children:"8. Dokon\u010dil objedn\xe1vku"}),(0,V.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.dokoncil.cele_jmeno})]}),e.dokoncil.datum&&(0,V.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.fn)(e.dokoncil.datum)})]}),e.uzivatel_akt&&(0,V.jsx)("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"2px solid #e2e8f0"},children:(0,V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"8px"},children:[(0,V.jsxs)("div",{style:{flex:1},children:[(0,V.jsx)("div",{style:{fontWeight:600,fontSize:"0.75em",color:"#94a3b8",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Posledn\xed zm\u011bna"}),(0,V.jsx)("div",{style:{fontSize:"0.85em",color:"#64748b"},children:e.uzivatel_akt.cele_jmeno})]}),e.uzivatel_akt.datum&&(0,V.jsx)("div",{style:{fontSize:"0.75em",color:"#94a3b8",textAlign:"right",whiteSpace:"nowrap"},children:(0,y.fn)(e.uzivatel_akt.datum)})]})})]}),(0,V.jsxs)(Qo,{children:[(0,V.jsx)(ea,{children:(0,V.jsxs)(ra,{$order:e,$showRowHighlighting:gr,children:[(0,V.jsxs)(oa,{children:[(0,V.jsx)(I.g,{icon:L.URI}),"Dodavatel"]}),(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"N\xe1zev:"}),(0,V.jsx)(ga,{style:{fontWeight:600},children:ls(e.dodavatel_nazev||"---",Et)})]}),(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"I\u010cO:"}),(0,V.jsx)(ga,{style:{fontFamily:"monospace",fontSize:"0.95em"},children:ls(e.dodavatel_ico||"---",Et)})]}),e.dodavatel_adresa&&(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Adresa:"}),(0,V.jsx)(ga,{children:ls(e.dodavatel_adresa,Et)})]}),e.dodavatel_zastoupeny&&(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Z\xe1stupce firmy:"}),(0,V.jsx)(ga,{style:{fontWeight:500},children:ls(e.dodavatel_zastoupeny,Et)})]}),(e.dodavatel_kontakt_jmeno||e.dodavatel_kontakt_email||e.dodavatel_kontakt_telefon)&&(0,V.jsx)("div",{style:{margin:"0.75rem 0",borderTop:"1px solid #e5e7eb"}}),e.dodavatel_kontakt_jmeno&&(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Kontakt:"}),(0,V.jsx)(ga,{style:{fontWeight:500},children:ls(e.dodavatel_kontakt_jmeno,Et)})]}),e.dodavatel_kontakt_email&&(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"E-mail:"}),(0,V.jsx)(ga,{style:{wordBreak:"break-all"},children:ls(e.dodavatel_kontakt_email,Et)})]}),e.dodavatel_kontakt_telefon&&(0,V.jsxs)(ha,{children:[(0,V.jsx)(ma,{children:"Telefon:"}),(0,V.jsx)(ga,{children:ls(e.dodavatel_kontakt_telefon,Et)})]})]})}),(0,V.jsxs)(na,{children:[(0,V.jsxs)(ra,{$order:e,$showRowHighlighting:gr,children:[(0,V.jsxs)(oa,{children:[(0,V.jsx)(I.g,{icon:L.ITF}),"Polo\u017eky objedn\xe1vky (",e.polozky_count||u.length,")"]}),v?(0,V.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"8px"},children:[u.slice(0,10).map((e,n)=>(0,V.jsxs)(aa,{children:[(0,V.jsxs)(ia,{children:[(0,V.jsxs)(la,{children:[ls(e.popis||e.nazev||"Polo\u017eka ".concat(n+1),Et),e.id&&(0,V.jsxs)("sup",{style:{fontSize:"0.6em",color:"#94a3b8",fontWeight:400,marginLeft:"4px"},children:["#",e.id]})]}),e.cena_s_dph&&(0,V.jsxs)("div",{style:{fontWeight:700,fontSize:"1em",color:"#059669",whiteSpace:"nowrap"},children:[parseFloat(e.cena_s_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),(e.mistnost_kod||e.budova_kod||e.usek_kod||e.poznamka_umisteni)&&(0,V.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",marginBottom:"8px"},children:[e.usek_kod&&(0,V.jsxs)("span",{style:{display:"inline-block",padding:"3px 8px",fontSize:"0.75em",fontWeight:500,backgroundColor:"#f3e8ff",color:"#6b21a8",borderRadius:"4px",border:"1px solid #d8b4fe"},children:["\xdasek: ",ls(e.usek_kod,Et)]}),e.budova_kod&&(0,V.jsxs)("span",{style:{display:"inline-block",padding:"3px 8px",fontSize:"0.75em",fontWeight:500,backgroundColor:"#dbeafe",color:"#1e40af",borderRadius:"4px",border:"1px solid #93c5fd"},children:["Budova: ",ls(e.budova_kod,Et)]}),e.mistnost_kod&&(0,V.jsxs)("span",{style:{display:"inline-block",padding:"3px 8px",fontSize:"0.75em",fontWeight:500,backgroundColor:"#dbeafe",color:"#1e40af",borderRadius:"4px",border:"1px solid #93c5fd"},children:["M\xedstnost: ",ls(e.mistnost_kod,Et)]}),e.poznamka_umisteni&&(0,V.jsx)("span",{style:{display:"inline-block",padding:"3px 8px",fontSize:"0.75em",fontStyle:"italic",backgroundColor:"#fef3c7",color:"#92400e",borderRadius:"4px",border:"1px solid #fde68a"},children:ls(e.poznamka_umisteni,Et)})]}),(0,V.jsxs)(da,{children:[e.pocet&&(0,V.jsxs)(ca,{children:[(0,V.jsx)("span",{style:{fontWeight:500},children:"Po\u010det:"}),(0,V.jsxs)("span",{children:[e.pocet," ",e.jednotka||"ks"]})]}),e.jednotkova_cena_bez_dph&&(0,V.jsxs)(ca,{children:[(0,V.jsx)("span",{style:{fontWeight:500},children:"Jedn. bez DPH:"}),(0,V.jsxs)("span",{children:[parseFloat(e.jednotkova_cena_bez_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),e.jednotkova_cena_s_dph&&(0,V.jsxs)(ca,{children:[(0,V.jsx)("span",{style:{fontWeight:500},children:"Jedn. s DPH:"}),(0,V.jsxs)("span",{children:[parseFloat(e.jednotkova_cena_s_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),e.cena_bez_dph&&(0,V.jsxs)(ca,{children:[(0,V.jsx)("span",{style:{fontWeight:500},children:"Bez DPH:"}),(0,V.jsxs)("span",{style:{color:"#64748b"},children:[parseFloat(e.cena_bez_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),e.dph_procento&&(0,V.jsxs)(ca,{children:[(0,V.jsx)("span",{style:{fontWeight:500},children:"DPH:"}),(0,V.jsxs)("span",{children:[e.dph_procento,"%"]})]}),e.dph_castka&&(0,V.jsxs)(ca,{children:[(0,V.jsx)("span",{style:{fontWeight:500},children:"DPH \u010d\xe1stka:"}),(0,V.jsxs)("span",{children:[parseFloat(e.dph_castka).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]})]})]},n)),u.length>10&&(0,V.jsxs)("div",{style:{fontSize:"0.85em",color:"#6b7280",fontStyle:"italic",textAlign:"center",padding:"8px"},children:["... a dal\u0161\xedch ",u.length-10," polo\u017eek"]}),e.poznamka&&(0,V.jsxs)("div",{style:{marginTop:"12px",padding:"10px 12px",backgroundColor:"#fffbeb",border:"1px solid #fde68a",borderRadius:"6px",fontSize:"0.9em",color:"#92400e",fontStyle:"italic"},children:[(0,V.jsx)("strong",{style:{fontStyle:"normal",fontWeight:600},children:"Pozn\xe1mka k polo\u017ek\xe1m:"}),(0,V.jsx)("div",{style:{marginTop:"4px"},children:ls(e.poznamka,Et)})]})]}):(0,V.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",color:"#94a3b8",fontSize:"0.9em"},children:[(0,V.jsx)(I.g,{icon:L.ITF,style:{fontSize:"3em",marginBottom:"1rem",opacity:.3}}),(0,V.jsx)("div",{children:"\u017d\xe1dn\xe9 polo\u017eky"})]})]}),(0,V.jsxs)(ra,{$order:e,$showRowHighlighting:gr,children:[(0,V.jsxs)(oa,{children:[(0,V.jsx)(I.g,{icon:L.Mf0}),"Faktury (",e.faktury_count||p.length,")"]}),h?(0,V.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"8px"},children:p.map((e,n)=>(0,V.jsxs)(aa,{children:[(0,V.jsxs)("div",{style:{fontSize:"1.1em",fontWeight:700,color:"#059669",marginBottom:"8px"},children:["Faktura ",n+1," - ",ls(e.fa_cislo_vema||e.cislo_faktury||"".concat(n+1),Et)]}),(0,V.jsxs)(ia,{style:{marginTop:"8px"},children:[(0,V.jsxs)(la,{style:{fontSize:"0.9em",color:"#64748b"},children:["\u010c\xedslo faktury: ",ls(e.fa_cislo_vema||e.cislo_faktury||"Faktura ".concat(n+1),Et)]}),e.stav&&(0,V.jsxs)(sa,{$success:"ZAPLACENA"===e.stav,$warning:"NEZAPLACENA"===e.stav,children:["ZAPLACENA"===e.stav&&(0,V.jsx)(I.g,{icon:L.SGM}),"NEZAPLACENA"===e.stav&&(0,V.jsx)(I.g,{icon:L.TuH}),e.stav]})]}),(0,V.jsxs)(da,{children:[e.fa_cislo_vema&&(0,V.jsx)(ca,{children:(0,V.jsxs)("span",{style:{fontWeight:500},children:["\u010c\xedslo faktury: ",ls(e.fa_cislo_vema,Et)]})}),(e.fa_datum_vystaveni||e.dt_vystaveni)&&(0,V.jsx)(ca,{children:(0,V.jsxs)("span",{children:["Vystavena: ",(0,y.iS)(e.fa_datum_vystaveni||e.dt_vystaveni)]})}),e.fa_datum_doruceni&&(0,V.jsx)(ca,{children:(0,V.jsxs)("span",{children:["Doru\u010dena: ",(0,y.iS)(e.fa_datum_doruceni)]})}),(e.fa_datum_splatnosti||e.dt_splatnosti)&&(0,V.jsx)(ca,{children:(0,V.jsxs)("span",{children:["Splatnost: ",(0,y.iS)(e.fa_datum_splatnosti||e.dt_splatnosti)]})}),e.castka_bez_dph&&parseFloat(e.castka_bez_dph)>0&&(0,V.jsxs)(ca,{children:[(0,V.jsx)("span",{style:{fontWeight:500},children:"Bez DPH:"}),(0,V.jsxs)("span",{style:{color:"#64748b"},children:[parseFloat(e.castka_bez_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),e.dph_castka&&parseFloat(e.dph_castka)>0&&(0,V.jsxs)(ca,{children:[(0,V.jsx)("span",{style:{fontWeight:500},children:"DPH:"}),(0,V.jsxs)("span",{style:{color:"#f59e0b"},children:[parseFloat(e.dph_castka).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),e.castka_s_dph&&parseFloat(e.castka_s_dph)>0&&(0,V.jsx)(ca,{children:(0,V.jsxs)("span",{style:{fontWeight:700,color:"#059669",fontSize:"1.05em"},children:[parseFloat(e.castka_s_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})})]}),e.fa_strediska_kod&&Array.isArray(e.fa_strediska_kod)&&e.fa_strediska_kod.length>0&&(0,V.jsxs)("div",{style:{marginTop:"6px",fontSize:"0.85em",color:"#475569",paddingTop:"6px",borderTop:"1px dashed #e2e8f0"},children:[(0,V.jsx)("span",{style:{fontWeight:500},children:"St\u0159ediska:"})," ",ls(e.fa_strediska_kod.map(e=>as(String(e))).join(", "),Et)]}),e.fa_poznamka&&(0,V.jsxs)("div",{style:{marginTop:"8px",padding:"8px 10px",backgroundColor:"#fef9e7",border:"1px solid #fde68a",borderRadius:"4px",fontSize:"0.85em",color:"#92400e",whiteSpace:"pre-wrap",lineHeight:"1.4"},children:[(0,V.jsx)("div",{style:{fontWeight:600,marginBottom:"4px"},children:"Pozn\xe1mka:"}),ls(e.fa_poznamka,Et)]})]},n))}):(0,V.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",color:"#94a3b8",fontSize:"0.9em"},children:[(0,V.jsx)(I.g,{icon:L.Mf0,style:{fontSize:"3em",marginBottom:"1rem",opacity:.3}}),(0,V.jsx)("div",{children:"\u017d\xe1dn\xe9 faktury"})]})]})]}),(0,V.jsx)(ta,{children:(0,V.jsxs)(ra,{$order:e,$showRowHighlighting:gr,children:[(0,V.jsxs)(oa,{children:[(0,V.jsx)(I.g,{icon:L.WMI}),"P\u0159\xedlohy (",(e.prilohy_count||m.length)+f.length+p.reduce((e,n)=>e+(n.prilohy&&n.prilohy.length||0),0),")"]}),(0,V.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginTop:"8px"},children:[g&&(0,V.jsxs)("div",{children:[(0,V.jsxs)("div",{style:{fontWeight:600,fontSize:"0.95em",color:"#1e40af",marginBottom:"8px",paddingBottom:"4px",borderBottom:"2px solid #dbeafe"},children:["P\u0159\xedlohy objedn\xe1vky (",e.prilohy_count||m.length,")"]}),(0,V.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[m.slice(0,10).map((n,t)=>(0,V.jsxs)(ua,{children:[(0,V.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"2px"},children:[(0,V.jsx)(va,{style:{fontWeight:500},children:ls(n.nazev_souboru||n.nazev||"P\u0159\xedloha ".concat(t+1),Et)}),(0,V.jsxs)("div",{style:{fontSize:"0.8em",color:"#94a3b8"},children:[n.dt_nahrano&&(0,y.iS)(n.dt_nahrano),n.popis&&(0,V.jsxs)(V.Fragment,{children:[" \u2022 ",ls(n.popis,Et)]})]})]}),n.velikost&&(0,V.jsxs)(pa,{children:["(",Math.round(n.velikost/1024)," KB)"]}),(0,V.jsx)(I.g,{icon:L.cbP,style:{color:"#3b82f6",cursor:"pointer",marginLeft:"8px"},title:"St\xe1hnout p\u0159\xedlohu",onClick:()=>Ys(n,e.id)})]},t)),m.length>10&&(0,V.jsxs)("div",{style:{fontSize:"0.85em",color:"#6b7280",fontStyle:"italic",textAlign:"center",padding:"8px"},children:["... a dal\u0161\xedch ",m.length-10," p\u0159\xedloh"]})]})]}),x&&(0,V.jsxs)("div",{children:[(0,V.jsxs)("div",{style:{fontWeight:600,fontSize:"0.95em",color:"#7c3aed",marginBottom:"8px",paddingBottom:"4px",borderBottom:"2px solid #ede9fe"},children:["Dodate\u010dn\xe9 dokumenty (",f.length,")"]}),(0,V.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:f.map((n,t)=>(0,V.jsxs)(ua,{children:[(0,V.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"2px"},children:[(0,V.jsx)(va,{style:{fontWeight:500},children:ls(n.nazev_souboru||n.nazev||"Dokument ".concat(t+1),Et)}),(0,V.jsxs)("div",{style:{fontSize:"0.8em",color:"#94a3b8"},children:[n.dt_nahrano&&(0,y.iS)(n.dt_nahrano),n.popis&&(0,V.jsxs)(V.Fragment,{children:[" \u2022 ",ls(n.popis,Et)]})]})]}),n.velikost&&(0,V.jsxs)(pa,{children:["(",Math.round(n.velikost/1024)," KB)"]}),(0,V.jsx)(I.g,{icon:L.cbP,style:{color:"#7c3aed",cursor:"pointer",marginLeft:"8px"},title:"St\xe1hnout dokument",onClick:()=>Ys(n,e.id)})]},t))})]}),h&&p.some(e=>e.prilohy&&e.prilohy.length>0)&&(0,V.jsxs)("div",{children:[(0,V.jsxs)("div",{style:{fontWeight:600,fontSize:"0.95em",color:"#059669",marginBottom:"8px",paddingBottom:"4px",borderBottom:"2px solid #d1fae5"},children:["P\u0159\xedlohy faktur (",p.reduce((e,n)=>e+(n.prilohy&&n.prilohy.length||0),0),")"]}),(0,V.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:p.map((n,t)=>{const o=n.prilohy||[];return o.length?o.map((o,a)=>{const i=(0,r.A)((0,r.A)({},o),{},{faktura_id:n.id});return(0,V.jsxs)(ua,{children:[(0,V.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"2px"},children:[(0,V.jsxs)(va,{style:{fontWeight:500},children:[ls(o.originalni_nazev_souboru||o.nazev_souboru||o.nazev||"Dokument",Et),(0,V.jsxs)("span",{style:{color:"#047857",fontWeight:600,marginLeft:"6px"},children:["[",n.cislo_faktury||"Faktura ".concat(t+1),"]"]})]}),o.popis&&(0,V.jsx)("div",{style:{fontSize:"0.8em",color:"#94a3b8"},children:ls(o.popis,Et)})]}),o.velikost_souboru_b&&(0,V.jsxs)(pa,{children:["(",Math.round(o.velikost_souboru_b/1024)," KB)"]}),(0,V.jsx)(I.g,{icon:L.cbP,style:{color:"#059669",cursor:"pointer",marginLeft:"8px"},title:"St\xe1hnout p\u0159\xedlohu",onClick:()=>Ys(i,e.id)})]},"".concat(t,"-").concat(a))}):null})})]}),!g&&!x&&!(h&&p.some(e=>e.prilohy&&e.prilohy.length>0))&&(0,V.jsxs)("div",{style:{padding:"2rem",textAlign:"center",color:"#9ca3af",fontSize:"0.95em"},children:[(0,V.jsx)(I.g,{icon:L.WMI,style:{fontSize:"2em",marginBottom:"0.5rem",opacity:.3}}),(0,V.jsx)("div",{children:"\u017d\xe1dn\xe9 p\u0159\xedlohy"})]})]})]})})]})]})});var z};if(ve||!$e)return(0,V.jsxs)(Ra,{$visible:!0,children:[(0,V.jsx)(Da,{$visible:!0}),(0,V.jsx)(Ia,{$visible:!0,children:$e?"Na\u010d\xedt\xe1n\xed dat z datab\xe1ze...":"Inicializace p\u0159ehledu objedn\xe1vek"}),(0,V.jsxs)(La,{$visible:!0,children:[!$e&&!Bl.current.dataLoaded&&"Na\u010d\xedt\xe1n\xed dat z datab\xe1ze...",!$e&&Bl.current.dataLoaded&&!Bl.current.paginationRestored&&"Obnoven\xed str\xe1nkov\xe1n\xed...",!$e&&Bl.current.paginationRestored&&!Bl.current.expandedRestored&&"Rozbalov\xe1n\xed objedn\xe1vek...",!$e&&Bl.current.expandedRestored&&!Bl.current.scrollRestored&&"Obnoven\xed pozice...",$e&&ve&&"Pros\xedm \u010dekejte..."]})]});if(he)return(0,V.jsx)(Rr,{children:(0,V.jsxs)("div",{style:{textAlign:"center",padding:"3rem"},children:[(0,V.jsx)(I.g,{icon:L.zpE,size:"2x",style:{color:"#dc2626"}}),(0,V.jsx)("div",{style:{marginTop:"1rem",fontSize:"1.25rem",color:"#dc2626"},children:"Chyba p\u0159i na\u010d\xedt\xe1n\xed"}),(0,V.jsx)("div",{style:{marginTop:"0.5rem",color:"#64748b"},children:he}),(0,V.jsxs)("div",{style:{marginTop:"1rem",display:"flex",gap:"1rem",justifyContent:"center"},children:[(0,V.jsxs)(Lr,{onClick:Ls,$primary:!0,children:[(0,V.jsx)(I.g,{icon:L.OtC}),"Zkusit znovu"]}),(0,V.jsxs)(Lr,{onClick:()=>{},children:[(0,V.jsx)(I.g,{icon:L.zm_}),"Debug info"]})]})]})});return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(Ra,{$visible:ve,children:[(0,V.jsx)(Da,{$visible:ve}),(0,V.jsx)(Ia,{$visible:ve,children:"Na\u010d\xedt\xe1n\xed dat z datab\xe1ze..."}),(0,V.jsx)(La,{$visible:ve,children:"Pros\xedm \u010dekejte"})]}),(0,V.jsx)(Rr,{children:(0,V.jsxs)(Ta,{$blurred:ve,children:[(0,V.jsxs)(qr,{children:[(0,V.jsxs)(Qr,{children:[(0,V.jsxs)(oo,{children:[(0,V.jsx)(I.g,{icon:L.BEE}),"Rok:"]}),(0,V.jsxs)(co,{ref:Ji,children:[(0,V.jsxs)(uo,{onClick:()=>{el(e=>!e)},children:[(0,V.jsx)("span",{children:"all"===xr?"V\u0161echny roky":xr}),(0,V.jsx)(I.g,{icon:Qi?L.w2A:L.Jt$})]}),Qi&&(0,V.jsx)(vo,{children:(()=>{const e=(new Date).getFullYear(),n=[];for(let t=2016;t<=e;t++)n.push(t);e<2016&&n.push(e);return[...n.sort((e,n)=>n-e),"all"]})().map(e=>(0,V.jsx)(po,{onClick:()=>{return br(n=e),ie("orders25List_selectedYear",n),void el(!1);var n},children:"all"===e?"V\u0161echny roky":e},e))})]}),(0,V.jsxs)(lo,{children:[(0,V.jsx)(I.g,{icon:L.BEE}),"Obdob\xed:"]}),(0,V.jsxs)(so,{ref:Yi,children:[(0,V.jsxs)(uo,{onClick:()=>{qi(e=>!e)},children:[(0,V.jsx)("span",{children:(ed=jr,{all:"V\u0161echny m\u011bs\xedce","current-month":"Aktu\xe1ln\xed m\u011bs\xedc","last-month":"Posledn\xed m\u011bs\xedc","last-quarter":"Posledn\xed kvart\xe1l","last-half":"Posledn\xed p\u016flrok","last-year":"Posledn\xed rok",1:"Leden",2:"\xdanor",3:"B\u0159ezen",4:"Duben",5:"Kv\u011bten",6:"\u010cerven",7:"\u010cervenec",8:"Srpen",9:"Z\xe1\u0159\xed",10:"\u0158\xedjen",11:"Listopad",12:"Prosinec","1-3":"Q1 (Leden-B\u0159ezen)","4-6":"Q2 (Duben-\u010cerven)","7-9":"Q3 (\u010cervenec-Z\xe1\u0159\xed)","10-12":"Q4 (\u0158\xedjen-Prosinec)"}[ed]||ed)}),(0,V.jsx)(I.g,{icon:Xi?L.w2A:L.Jt$})]}),Xi&&(0,V.jsxs)(vo,{children:[(0,V.jsx)(po,{onClick:()=>Ts("all"),children:"V\u0161echny m\u011bs\xedce"}),(0,V.jsx)(po,{onClick:()=>Ts("current-month"),children:"Aktu\xe1ln\xed m\u011bs\xedc"}),(0,V.jsx)(po,{onClick:()=>Ts("last-month"),children:"Posledn\xed m\u011bs\xedc"}),(0,V.jsx)(po,{onClick:()=>Ts("last-quarter"),children:"Posledn\xed kvart\xe1l"}),(0,V.jsx)(po,{onClick:()=>Ts("last-half"),children:"Posledn\xed p\u016flrok"}),(0,V.jsx)(po,{onClick:()=>Ts("last-year"),children:"Posledn\xed rok"}),Vi?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(po,{separator:!0,disabled:!0,children:"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"}),(0,V.jsx)(po,{onClick:()=>Ts("1"),children:"Leden"}),(0,V.jsx)(po,{onClick:()=>Ts("2"),children:"\xdanor"}),(0,V.jsx)(po,{onClick:()=>Ts("3"),children:"B\u0159ezen"}),(0,V.jsx)(po,{onClick:()=>Ts("4"),children:"Duben"}),(0,V.jsx)(po,{onClick:()=>Ts("5"),children:"Kv\u011bten"}),(0,V.jsx)(po,{onClick:()=>Ts("6"),children:"\u010cerven"}),(0,V.jsx)(po,{onClick:()=>Ts("7"),children:"\u010cervenec"}),(0,V.jsx)(po,{onClick:()=>Ts("8"),children:"Srpen"}),(0,V.jsx)(po,{onClick:()=>Ts("9"),children:"Z\xe1\u0159\xed"}),(0,V.jsx)(po,{onClick:()=>Ts("10"),children:"\u0158\xedjen"}),(0,V.jsx)(po,{onClick:()=>Ts("11"),children:"Listopad"}),(0,V.jsx)(po,{onClick:()=>Ts("12"),children:"Prosinec"}),(0,V.jsx)(po,{separator:!0,disabled:!0,children:"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"}),(0,V.jsx)(po,{onClick:()=>Ts("1-3"),children:"Q1 (Leden-B\u0159ezen)"}),(0,V.jsx)(po,{onClick:()=>Ts("4-6"),children:"Q2 (Duben-\u010cerven)"}),(0,V.jsx)(po,{onClick:()=>Ts("7-9"),children:"Q3 (\u010cervenec-Z\xe1\u0159\xed)"}),(0,V.jsx)(po,{onClick:()=>Ts("10-12"),children:"Q4 (\u0158\xedjen-Prosinec)"}),(0,V.jsx)(po,{separator:!0,disabled:!0,children:"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"}),(0,V.jsx)(po,{action:!0,onClick:()=>Ts("show-less"),children:"\u2796 Zobrazit m\xe9n\u011b"})]}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(po,{separator:!0,disabled:!0,children:"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"}),(0,V.jsx)(po,{action:!0,onClick:()=>Ts("show-more"),children:"\u2795 Zobrazit dal\u0161\xed..."})]})]})]}),(0,V.jsx)("div",{style:{position:"relative",minWidth:"180px",marginLeft:"1rem"},children:(0,V.jsxs)(uo,{as:"label",htmlFor:"showArchived",style:{padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"0.75rem"},children:[(0,V.jsx)("input",{type:"checkbox",id:"showArchived",checked:Fi,onChange:e=>{var n;const t="checkbox"===(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.type)?e.target.checked:!Fi;Bi(t),ie("orders25List_showArchived",t)},style:{width:"20px",height:"20px",cursor:"pointer",accentColor:"rgba(255, 255, 255, 0.9)",margin:0,flexShrink:0}}),(0,V.jsx)("span",{style:{flex:1,fontWeight:600,fontSize:"1rem",textAlign:"center"},children:"ARCHIV"}),(0,V.jsx)(I.g,{icon:L.Oh6,style:{fontSize:"1.1rem",flexShrink:0}})]})}),(0,V.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,V.jsx)(_r.z,{text:"Obnovit seznam objedn\xe1vek (force reload z datab\xe1ze)",icon:"warning",preferredPosition:"bottom",children:(0,V.jsx)(ao,{onClick:Ls,isBackgroundActive:He,children:(0,V.jsx)(I.g,{icon:L.OtC})})}),Ye&&(0,V.jsx)(io,{children:Ye.toLocaleTimeString("cs-CZ",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]}),(0,V.jsxs)(eo,{children:[Fe&&(0,V.jsxs)(no,{children:[(0,V.jsx)(ro,{fromCache:"memory"===Fe||"cache"===Fe,children:(0,V.jsx)(I.g,{icon:"memory"===Fe||"cache"===Fe?L.b6I:L.hem})}),(0,V.jsxs)("div",{className:"tooltip","data-icon":"none",children:["memory"===Fe||"cache"===Fe?"\u26a1 Na\u010dteno z cache (pam\u011bti) - rychl\xe9 zobrazen\xed bez dotazu na datab\xe1zi":"\ud83d\udcbe Na\u010dteno z datab\xe1ze - aktu\xe1ln\xed data p\u0159\xedmo ze serveru",We&&(0,V.jsxs)("div",{style:{fontSize:"0.75rem",marginTop:"0.25rem",opacity:.8},children:["\ud83d\udcc5 ",new Date(We).toLocaleTimeString("cs-CZ"),null!==Ue&&(0,V.jsxs)("span",{style:{marginLeft:"0.5rem"},children:["\u23f1\ufe0f ",Ue,"ms"]})]})]})]}),(0,V.jsxs)("span",{children:["P\u0159ehled objedn\xe1vek",(null===be||void 0===be||null===(n=be.admin_analysis)||void 0===n?void 0:n.total_without_permission_filters)&&(0,V.jsx)("sup",{style:{fontSize:"0.5em",marginLeft:"0.1rem",opacity:.6,fontWeight:"normal"},children:be.admin_analysis.total_without_permission_filters})]}),(0,V.jsx)(I.g,{icon:L.p4e,style:{marginLeft:"0.5rem"}})]})]}),(0,V.jsx)(Dr,{children:(0,V.jsxs)(Ir,{children:[(0,V.jsx)(_r.z,{text:"Vytvo\u0159it novou objedn\xe1vku",icon:"success",preferredPosition:"bottom",children:(0,V.jsxs)(Lr,{onClick:async()=>{zr.default.setCurrentUser(G);let e=!1,n=null;if(await zr.default.hasDraft())try{const t=await zr.default.loadDraft(),r=(0,yr.V5)(t),o=(0,yr.NN)(t);e=r||o,e&&(n=t)}catch(he){e=!1}e?(kn(n),bn(null),fn(!0)):(console.log("\ud83d\udd0d [ORDERS25LIST DEBUG] Navigate to new order (direct):",{url:"/order-form-25",reason:"No existing draft - creating new order"}),M("/order-form-25"))},style:{background:"#166534",color:"white",fontWeight:600},children:[(0,V.jsx)(I.g,{icon:L.QLR}),"Nov\xe1 objedn\xe1vka"]})}),!ot&&(0,V.jsx)(_r.z,{text:"Zobrazit p\u0159ehledov\xfd dashboard s grafy",icon:"info",preferredPosition:"bottom",children:(0,V.jsxs)(Lr,{onClick:Ks,children:[(0,V.jsx)(I.g,{icon:L.uGS}),"Dashboard"]})}),!vt&&(0,V.jsx)(_r.z,{text:"Zobrazit pokro\u010dil\xe9 filtry",icon:"info",preferredPosition:"bottom",children:(0,V.jsxs)(Lr,{onClick:()=>{pt(!0),ie("orders25List_showFiltersPanel",!0)},children:[(0,V.jsx)(I.g,{icon:L.mRM}),"Filtr"]})}),(0,V.jsx)(_r.z,{text:"Export aktu\xe1ln\xedho seznamu do CSV souboru",icon:"success",preferredPosition:"bottom",children:(0,V.jsxs)(Lr,{onClick:()=>{const e=(null===xt||void 0===xt?void 0:xt.export_csv_sloupce)||{},n={pipe:"|",comma:",",semicolon:";",custom:(null===xt||void 0===xt?void 0:xt.exportCsvListCustomDelimiter)||"|"}[(null===xt||void 0===xt?void 0:xt.exportCsvListDelimiter)||"pipe"]||"|",t=function(e){return null!==e&&void 0!==e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""},r=e=>{if(!e)return"";const n=e.titul_pred?e.titul_pred+" ":"",t=e.jmeno||"",r=e.prijmeni||"",o=e.titul_za?", "+e.titul_za:"";return"".concat(n).concat(t," ").concat(r).concat(o).trim().replace(/\s+/g," ")},o=ss.map(o=>{var a,i,l,s,d,c;const u=o._enriched||{},v={},p={SMLOUVA:"Smlouva",INDIVIDUALNI_SCHVALENI:"Individu\xe1ln\xed schv\xe1len\xed",POKLADNA:"Pokladna",LP:"Limitovan\xfd p\u0159\xedslib",POJISTNA_UDALOST:"Pojistn\xe1 ud\xe1lost"};let h="",m=null;if(o.financovani_parsed&&"object"===typeof o.financovani_parsed)m=o.financovani_parsed;else if(o.financovani&&"string"===typeof o.financovani)try{m=JSON.parse(o.financovani)}catch(b){h=o.financovani}else if(o.zpusob_financovani)if("string"===typeof o.zpusob_financovani)try{m=JSON.parse(o.zpusob_financovani)}catch(j){h=o.zpusob_financovani}else"object"===typeof o.zpusob_financovani&&(m=o.zpusob_financovani);var g,f,x;(m&&"object"===typeof m&&(h=m.nazev_stavu||(m.kod_stavu?p[m.kod_stavu]:null)||m.nazev||m.label||""),e.id&&(v.ID=t(o.id)),e.cislo_objednavky&&(v["\u010c\xedslo objedn\xe1vky"]=t(o.cislo_objednavky)),e.predmet&&(v["P\u0159edm\u011bt"]=t(o.predmet)),e.poznamka&&(v["Pozn\xe1mka"]=t(o.poznamka)),e.stav_objednavky&&(v["Stav objedn\xe1vky"]=t(o.stav_objednavky)||Hl(o)),e.stav_workflow&&(v["Workflow stavy"]=u.stav_workflow?Array.isArray(u.stav_workflow)?u.stav_workflow.map(e=>e.nazev_stavu||e.nazev||"").filter(Boolean).join(n):u.stav_workflow.nazev_stavu||u.stav_workflow.nazev||"":""),e.stav_komentar&&(v["Koment\xe1\u0159 ke stavu"]=t(o.stav_komentar)),e.dt_objednavky&&(v["Datum objedn\xe1vky"]=Ql(o)?(0,y.iS)(Ql(o)):""),e.dt_vytvoreni&&(v["Datum vytvo\u0159en\xed"]=o.dt_vytvoreni?(0,y.iS)(o.dt_vytvoreni):""),e.dt_schvaleni&&(v["Datum schv\xe1len\xed"]=o.dt_schvaleni?(0,y.iS)(o.dt_schvaleni):""),e.dt_odeslani&&(v["Datum odesl\xe1n\xed"]=o.dt_odeslani?(0,y.iS)(o.dt_odeslani):""),e.dt_akceptace&&(v["Datum akceptace"]=o.dt_akceptace?(0,y.iS)(o.dt_akceptace):""),e.dt_zverejneni&&(v["Datum zve\u0159ejn\u011bn\xed"]=o.dt_zverejneni?(0,y.iS)(o.dt_zverejneni):""),e.dt_predpokladany_termin_dodani&&(v["P\u0159edpokl. term\xedn dod\xe1n\xed"]=o.predpokladany_termin_dodani?(0,y.iS)(o.predpokladany_termin_dodani):""),e.dt_aktualizace&&(v["Datum aktualizace"]=o.dt_aktualizace?(0,y.iS)(o.dt_aktualizace):""),e.max_cena_s_dph&&(v["Max. cena s DPH"]=parseFloat(o.max_cena_s_dph)||0),e.celkova_cena_bez_dph&&(v["Celkov\xe1 cena bez DPH"]=parseFloat(o.celkova_cena_bez_dph)||0),e.celkova_cena_s_dph&&(v["Celkov\xe1 cena s DPH"]=Jl(o)),e.financovani_typ&&(v["Typ financov\xe1n\xed"]=t(null===(a=m)||void 0===a?void 0:a.typ)),e.financovani_typ_nazev&&(v["N\xe1zev typu financov\xe1n\xed"]=h),e.financovani_lp_kody)&&(v["LP k\xf3dy"]=null!==(g=m)&&void 0!==g&&g.lp_kody?Array.isArray(m.lp_kody)?m.lp_kody.join(n):String(m.lp_kody):"");e.financovani_lp_nazvy&&(v["LP n\xe1zvy"]=null!==(f=m)&&void 0!==f&&f.lp_nazvy&&Array.isArray(m.lp_nazvy)?m.lp_nazvy.map(e=>e.nazev||"").filter(Boolean).join(n):"");e.financovani_lp_cisla&&(v["LP \u010d\xedsla"]=null!==(x=m)&&void 0!==x&&x.lp_nazvy&&Array.isArray(m.lp_nazvy)?m.lp_nazvy.map(e=>e.cislo_lp||"").filter(Boolean).join(n):"");if(e.objednatel&&(v.Objednatel=u.uzivatel?r(u.uzivatel):rs(o.uzivatel_id)),e.objednatel_email&&(v["Objednatel email"]=t(null===(i=u.uzivatel)||void 0===i?void 0:i.email)),e.objednatel_telefon&&(v["Objednatel telefon"]=t(null===(l=u.uzivatel)||void 0===l?void 0:l.telefon)),e.garant&&(v.Garant=u.garant_uzivatel?r(u.garant_uzivatel):""),e.garant_email&&(v["Garant email"]=t(null===(s=u.garant_uzivatel)||void 0===s?void 0:s.email)),e.garant_telefon&&(v["Garant telefon"]=t(null===(d=u.garant_uzivatel)||void 0===d?void 0:d.telefon)),e.prikazce&&(v["P\u0159\xedkazce"]=u.prikazce_po?r(u.prikazce_po):""),e.schvalovatel&&(v.Schvalovatel=u.schvalovatel?r(u.schvalovatel):""),e.vytvoril_uzivatel&&(v["Vytvo\u0159il"]=u.vytvoril_uzivatel?r(u.vytvoril_uzivatel):""),e.dodavatel_nazev&&(v.Dodavatel=t(o.dodavatel_nazev)),e.dodavatel_ico&&(v["Dodavatel I\u010cO"]=t(o.dodavatel_ico)),e.dodavatel_dic&&(v["Dodavatel DI\u010c"]=t(o.dodavatel_dic)),e.dodavatel_adresa&&(v["Dodavatel adresa"]=t(o.dodavatel_adresa)),e.dodavatel_zastoupeny&&(v["Dodavatel zastoupen\xfd"]=t(o.dodavatel_zastoupeny)),e.dodavatel_kontakt_jmeno&&(v["Dodavatel kontakt jm\xe9no"]=t(o.dodavatel_kontakt_jmeno)),e.dodavatel_kontakt_email&&(v["Dodavatel kontakt email"]=t(o.dodavatel_kontakt_email)),e.dodavatel_kontakt_telefon&&(v["Dodavatel kontakt telefon"]=t(o.dodavatel_kontakt_telefon)),e.strediska&&(v["St\u0159ediska"]=u.strediska&&Array.isArray(u.strediska)&&u.strediska.length>0?u.strediska.map(e=>e.nazev||e.kod||"").filter(Boolean).join(n):Array.isArray(o.strediska_kod)?o.strediska_kod.map(e=>as(e)||e).filter(Boolean).join(n):t(o.strediska_kod)),e.strediska_nazvy&&(v["St\u0159ediska n\xe1zvy"]=u.strediska&&Array.isArray(u.strediska)&&u.strediska.length>0?u.strediska.map(e=>e.nazev||e.kod||"").filter(Boolean).join(n):Array.isArray(o.strediska_kod)?o.strediska_kod.map(e=>as(e)||e).filter(Boolean).join(n):""),e.druh_objednavky_kod&&(v["Druh objedn\xe1vky"]=t((null===(c=u.druh_objednavky)||void 0===c?void 0:c.nazev)||o.druh_objednavky)),e.stav_workflow_kod&&(v["Stav workflow k\xf3d"]=t(o.stav_workflow_kod)),e.pocet_polozek&&(v["Po\u010det polo\u017eek"]=o.polozky&&Array.isArray(o.polozky)?o.polozky.length:0),e.polozky_celkova_cena_s_dph&&(v["Polo\u017eky celkov\xe1 cena s DPH"]=Jl(o)),e.polozky_popis&&(v["Polo\u017eky popis"]=o.polozky&&Array.isArray(o.polozky)?o.polozky.map(e=>t(e.popis)).filter(Boolean).join(n):""),e.polozky_cena_bez_dph&&(v["Polo\u017eky cena bez DPH"]=o.polozky&&Array.isArray(o.polozky)?o.polozky.map(e=>parseFloat(e.cena_bez_dph)||0).join(n):""),e.polozky_sazba_dph&&(v["Polo\u017eky sazba DPH"]=o.polozky&&Array.isArray(o.polozky)?o.polozky.map(e=>(e.sazba_dph||0)+"%").join(n):""),e.polozky_cena_s_dph&&(v["Polo\u017eky cena s DPH"]=o.polozky&&Array.isArray(o.polozky)?o.polozky.map(e=>parseFloat(e.cena_s_dph)||0).join(n):""),e.prilohy_count&&(v["Po\u010det p\u0159\xedloh"]=o.prilohy&&Array.isArray(o.prilohy)?o.prilohy.length:0),e.prilohy_nazvy&&(v["P\u0159\xedlohy n\xe1zvy"]=o.prilohy&&Array.isArray(o.prilohy)?o.prilohy.map(e=>t(e.nazev||e.originalni_nazev)).filter(Boolean).join(n):""),e.faktury_count&&(v["Po\u010det faktur"]=o.faktury&&Array.isArray(o.faktury)?o.faktury.length:0),e.faktury_celkova_castka_s_dph){const e=o.faktury&&Array.isArray(o.faktury)?o.faktury.reduce((e,n)=>e+(parseFloat(n.fa_castka)||0),0):0;v["Faktury celkov\xe1 \u010d\xe1stka"]=e}return e.faktury_cisla_vema&&(v["Faktury \u010d\xedsla VEMA"]=o.faktury&&Array.isArray(o.faktury)?o.faktury.map(e=>t(e.fa_cislo_vema)).filter(Boolean).join(n):""),e.stav_odeslano&&(v["Stav odesl\xe1n\xed"]=1===o.stav_odeslano||"1"===o.stav_odeslano||!0===o.stav_odeslano?"Ano":"Ne"),e.potvrzeno_dodavatelem&&(v["Potvrzeno dodavatelem"]=1===o.potvrzeno_dodavatelem||!0===o.potvrzeno_dodavatelem?"Ano":"Ne"),e.zpusob_potvrzeni&&(v["Zp\u016fsob potvrzen\xed"]=t(o.zpusob_potvrzeni)),e.zpusob_platby&&(v["Zp\u016fsob platby"]=t(o.zpusob_platby)),e.zverejnit_registr_smluv&&(v["Zve\u0159ejnit v registru"]=1===o.zverejnit_registr_smluv||!0===o.zverejnit_registr_smluv?"Ano":"Ne"),e.registr_iddt&&(v["Registr IDDT"]=t(o.registr_iddt)),e.zaruka&&(v["Z\xe1ruka"]=t(o.zaruka)),e.misto_dodani&&(v["M\xedsto dod\xe1n\xed"]=t(o.misto_dodani)),v}),a={semicolon:";",tab:"\t",pipe:"|",custom:(null===xt||void 0===xt?void 0:xt.exportCsvCustomDelimiter)||";"}[(null===xt||void 0===xt?void 0:xt.exportCsvDelimiter)||"semicolon"]||";",i=Object.keys(o[0]||{}).length,l="tab"===(null===xt||void 0===xt?void 0:xt.exportCsvDelimiter)?"Tabul\xe1tor":"pipe"===(null===xt||void 0===xt?void 0:xt.exportCsvDelimiter)?"Svisl\xedtko (|)":"custom"===(null===xt||void 0===xt?void 0:xt.exportCsvDelimiter)?"Vlastn\xed (".concat((null===xt||void 0===xt?void 0:xt.exportCsvCustomDelimiter)||";",")"):"St\u0159edn\xedk (;)",s=n,d="comma"===(null===xt||void 0===xt?void 0:xt.exportCsvListDelimiter)?"\u010c\xe1rka (,)":"semicolon"===(null===xt||void 0===xt?void 0:xt.exportCsvListDelimiter)?"St\u0159edn\xedk (;)":"custom"===(null===xt||void 0===xt?void 0:xt.exportCsvListDelimiter)?"Vlastn\xed (".concat((null===xt||void 0===xt?void 0:xt.exportCsvListCustomDelimiter)||"|",")"):"Svisl\xedtko (|)";Gi({data:o,separator:a,separatorName:l,multilineSeparator:s,multilineSeparatorName:d,columnCount:i,rowCount:o.length}),Ki(!0)},children:[(0,V.jsx)(I.g,{icon:L.o1d}),"Export"]})})]})}),gt&&wt&&(0,V.jsxs)(Aa,{children:[(0,V.jsxs)(wa,{children:[(0,V.jsxs)(Sa,{children:[(0,V.jsx)(I.g,{icon:L.zm_}),"\ud83d\udd0d DEBUG - Surov\xe1 data z datab\xe1ze"]}),(0,V.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,V.jsxs)(Lr,{onClick:()=>window.open("/test-notifications","_blank"),style:{background:"#1e40af",borderColor:"#60a5fa"},children:[(0,V.jsx)(I.g,{icon:L.z$e}),"Test Notifikac\xed"]}),(0,V.jsxs)(Lr,{onClick:()=>ut(!0),style:{background:"#8b5cf6",borderColor:"#a78bfa"},children:[(0,V.jsx)(I.g,{icon:L.fyG}),"N\xe1vrhy Styl\u016f Mod\xe1l\u016f"]}),(0,V.jsxs)(Lr,{onClick:()=>{const e=!gt;ft(e),ie("orders25List_showDebug",e)},children:[(0,V.jsx)(I.g,{icon:L.GRI}),"Skr\xfdt debug"]})]})]}),(0,V.jsxs)(Ca,{children:[(0,V.jsxs)(Na,{children:[(0,V.jsx)(Ea,{children:"\ud83d\udcca Z\xe1kladn\xed info:"}),(0,V.jsx)(Oa,{children:"Na\u010dteno: ".concat(wt.timestamp,"\nPo\u010det z\xe1znam\u016f: ").concat(wt.ordersCount,"\nDostupn\xe1 pole: ").concat(wt.allFields.join(", "))})]}),wt.firstOrder&&(0,V.jsxs)(Na,{children:[(0,V.jsx)(Ea,{children:"\ud83d\udcdd Prvn\xed z\xe1znam (struktura):"}),(0,V.jsx)(Oa,{children:JSON.stringify(wt.firstOrder,null,2)})]}),(0,V.jsxs)(Na,{children:[(0,V.jsx)(Ea,{children:"\ud83d\uddc2\ufe0f V\u0161echna data (JSON):"}),(0,V.jsx)(Oa,{children:JSON.stringify(wt.rawData,null,2)})]})]})]}),it&&(0,V.jsxs)(Aa,{children:[(0,V.jsxs)(wa,{children:[(0,V.jsxs)(Sa,{children:[(0,V.jsx)(I.g,{icon:L.zm_}),"\ud83e\uddea ORDER V2 API TEST PANEL"]}),(0,V.jsxs)(Lr,{onClick:()=>lt(!1),children:[(0,V.jsx)(I.g,{icon:L.GRI}),"Zav\u0159\xedt"]})]}),(0,V.jsx)(Ca,{children:st?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(Na,{children:[(0,V.jsx)(Ea,{children:"\ud83c\udf9b\ufe0f Stav filtr\u016f:"}),(0,V.jsx)(Oa,{children:JSON.stringify({showArchived:null===(o=st.filterState)||void 0===o?void 0:o.showArchived,selectedYear:null===(z=st.filterState)||void 0===z?void 0:z.selectedYear,selectedMonth:null===(A=st.filterState)||void 0===A?void 0:A.selectedMonth,canViewAllOrders:null===(N=st.filterState)||void 0===N?void 0:N.canViewAllOrders,currentUserId:null===(E=st.filterState)||void 0===E?void 0:E.currentUserId},null,2)})]}),(0,V.jsxs)(Na,{children:[(0,V.jsx)(Ea,{children:"\ud83d\udce1 API Request (co se pos\xedl\xe1):"}),(0,V.jsx)(Oa,{children:JSON.stringify({endpoint:"/order-v2/list-enriched",filters:st.requestFilters,timestamp:st.requestTimestamp},null,2)})]}),(0,V.jsxs)(Na,{children:[(0,V.jsx)(Ea,{children:"\ud83d\udce5 API Response (co p\u0159i\u0161lo z BE):"}),(0,V.jsx)(Oa,{children:"Celkem objedn\xe1vek: ".concat(st.apiResponseCount||0,"\nArchivovan\xe9: ").concat(st.archivedInResponse||0,"\nNearchivovan\xe9: ").concat((st.apiResponseCount||0)-(st.archivedInResponse||0),"\nTimestamp: ").concat(st.responseTimestamp||"N/A")})]}),(0,V.jsxs)(Na,{children:[(0,V.jsx)(Ea,{children:"\ud83d\udd0d Po frontend filtraci (co se zobrazuje):"}),(0,V.jsx)(Oa,{children:"Zobrazeno objedn\xe1vek: ".concat(st.filteredCount||0,"\nArchivovan\xe9: ").concat(st.archivedInFiltered||0,"\nNearchivovan\xe9: ").concat(st.nonArchivedInFiltered||0)})]}),st.apiResponse&&st.apiResponse.length>0&&(0,V.jsxs)(Na,{children:[(0,V.jsx)(Ea,{children:"\ud83d\udcdd Uk\xe1zka prvn\xedch 3 objedn\xe1vek z API:"}),(0,V.jsx)(Oa,{children:JSON.stringify(st.apiResponse.slice(0,3).map(e=>({id:e.id,cislo_objednavky:e.cislo_objednavky,stav_objednavky:e.stav_objednavky,uzivatel_id:e.uzivatel_id,garant_uzivatel_id:e.garant_uzivatel_id,dt_objednavky:e.dt_objednavky,datum_obj_od:e.datum_obj_od,datum_obj_do:e.datum_obj_do})),null,2)})]}),(0,V.jsxs)(Na,{children:[(0,V.jsx)(Ea,{children:"\ud83d\uddc2\ufe0f Kompletn\xed API Response (JSON):"}),(0,V.jsx)(Oa,{style:{maxHeight:"400px",overflow:"auto"},children:JSON.stringify(st.apiResponse,null,2)})]})]}):(0,V.jsxs)(Na,{children:[(0,V.jsx)(Ea,{children:"\u23f3 \u010cek\xe1m na data..."}),(0,V.jsx)(Oa,{children:"Zm\u011b\u0148 filtr (rok, m\u011bs\xedc, archiv checkbox) nebo klikni na Obnovit pro na\u010dten\xed dat."})]})})]}),ct&&(0,i.createPortal)((0,V.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(8px)",zIndex:10001,overflow:"auto",padding:"2rem"},children:(0,V.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto",background:"#1e293b",borderRadius:"16px",padding:"2rem",color:"white"},children:[(0,V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",borderBottom:"2px solid #334155",paddingBottom:"1rem"},children:[(0,V.jsxs)("h2",{style:{margin:0,display:"flex",alignItems:"center",gap:"1rem",fontSize:"1.75rem",fontWeight:800},children:[(0,V.jsx)(I.g,{icon:L.fyG,style:{color:"#a78bfa"}}),"\ud83c\udfa8 N\xe1vrhy Styl\u016f Mod\xe1ln\xedch Dialog\u016f"]}),(0,V.jsxs)("button",{onClick:()=>ut(!1),style:{padding:"0.75rem 1.5rem",background:"#ef4444",color:"white",border:"none",borderRadius:"8px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:[(0,V.jsx)(I.g,{icon:L.GRI})," Zav\u0159\xedt"]})]}),(0,V.jsxs)("div",{style:{background:"#334155",padding:"1.5rem",borderRadius:"12px",marginBottom:"2rem",border:"2px solid #475569"},children:[(0,V.jsxs)("p",{style:{margin:"0 0 0.75rem 0",fontSize:"1.1rem"},children:[(0,V.jsx)("strong",{children:"\ud83d\udccb Instrukce:"})," N\xed\u017ee vid\xedte r\u016fzn\xe9 n\xe1vrhy styl\u016f pro mod\xe1ln\xed confirming dialogy."]}),(0,V.jsxs)("p",{style:{margin:0,color:"#cbd5e1"},children:["Ka\u017ed\xfd n\xe1vrh m\xe1 ",(0,V.jsx)("strong",{children:"jednozna\u010dn\xfd n\xe1zev"})," - vyber si styl, kter\xfd se ti l\xedb\xed, a \u0159ekni mi n\xe1zev. Pak jej pou\u017eijeme jako z\xe1klad pro jednotn\xfd modal syst\xe9m v cel\xe9 aplikaci."]})]}),(0,V.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"2rem"},children:[(0,V.jsxs)("div",{style:{background:"#0f172a",borderRadius:"12px",padding:"1.5rem",border:"2px solid #1e40af"},children:[(0,V.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#60a5fa",fontSize:"1.25rem",fontWeight:700,borderBottom:"2px solid #1e40af",paddingBottom:"0.5rem"},children:"CURRENT-STYLE (Sou\u010dasn\xfd)"}),(0,V.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"2rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.3)",border:"1px solid #e5e7eb"},children:[(0,V.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[(0,V.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#fecaca",display:"flex",alignItems:"center",justifyContent:"center",color:"#dc2626",fontSize:"1.5rem"},children:(0,V.jsx)(I.g,{icon:L.zpE})}),(0,V.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:700,color:"#1e293b",margin:0},children:"Potvrzen\xed akce"})]}),(0,V.jsx)("div",{style:{marginBottom:"2rem",lineHeight:"1.6",color:"#475569"},children:(0,V.jsx)("p",{style:{margin:0},children:"Toto je uk\xe1zka sou\u010dasn\xe9ho stylu mod\xe1ln\xedho dialogu. Design pou\u017e\xedv\xe1 kulat\xe9 ikonky, sv\u011btl\xe9 pozad\xed a jemn\xe9 st\xedny."})}),(0,V.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[(0,V.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid #d1d5db",borderRadius:"8px",fontWeight:600,background:"white",color:"#6b7280",cursor:"pointer"},children:"Zru\u0161it"}),(0,V.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid #dc2626",borderRadius:"8px",fontWeight:600,background:"#dc2626",color:"white",cursor:"pointer"},children:"Potvrdit"})]})]})]}),(0,V.jsxs)("div",{style:{background:"#0f172a",borderRadius:"12px",padding:"1.5rem",border:"2px solid #8b5cf6"},children:[(0,V.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#a78bfa",fontSize:"1.25rem",fontWeight:700,borderBottom:"2px solid #8b5cf6",paddingBottom:"0.5rem"},children:"GRADIENT-MODERN (Modern\xed gradient)"}),(0,V.jsxs)("div",{style:{background:"white",borderRadius:"16px",overflow:"hidden",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.4)"},children:[(0,V.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"1.5rem",display:"flex",alignItems:"center",gap:"1rem",borderBottom:"3px solid #553c9a"},children:[(0,V.jsx)("div",{style:{fontSize:"2rem",color:"white",filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"},children:(0,V.jsx)(I.g,{icon:L.zpE})}),(0,V.jsx)("h3",{style:{margin:0,color:"white",fontSize:"1.25rem",fontWeight:800,textShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:"Potvrzen\xed akce"})]}),(0,V.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,V.jsx)("p",{style:{margin:"0 0 1.5rem 0",color:"#374151",lineHeight:"1.6"},children:"Modern\xed design s barevn\xfdm gradientov\xfdm headerem. \u010cist\xe9, profesion\xe1ln\xed a vizu\xe1ln\u011b zaj\xedmav\xe9."}),(0,V.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end",borderTop:"2px solid #f3f4f6",paddingTop:"1.5rem"},children:[(0,V.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid #d1d5db",borderRadius:"10px",fontWeight:700,background:"white",color:"#6b7280",cursor:"pointer"},children:"Zru\u0161it"}),(0,V.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:"10px",fontWeight:700,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",cursor:"pointer",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.4)"},children:"Potvrdit"})]})]})]})]}),(0,V.jsxs)("div",{style:{background:"#0f172a",borderRadius:"12px",padding:"1.5rem",border:"2px solid #10b981"},children:[(0,V.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#34d399",fontSize:"1.25rem",fontWeight:700,borderBottom:"2px solid #10b981",paddingBottom:"0.5rem"},children:"MINIMAL-CLEAN (Minimalistick\xfd \u010dist\xfd)"}),(0,V.jsxs)("div",{style:{background:"white",borderRadius:"8px",padding:"2rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"},children:[(0,V.jsx)("div",{style:{borderLeft:"4px solid #dc2626",paddingLeft:"1rem",marginBottom:"1.5rem"},children:(0,V.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:600,color:"#111827",margin:0},children:"Potvrzen\xed akce"})}),(0,V.jsx)("p",{style:{margin:"0 0 2rem 0",color:"#6b7280",lineHeight:"1.6",fontSize:"0.9375rem"},children:"Jednoduch\xfd, minimalistick\xfd design bez zbyte\u010dn\xfdch dekorac\xed. Soust\u0159ed\u011bn\xed na obsah a \u010ditelnost."}),(0,V.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[(0,V.jsx)("button",{style:{padding:"0.5rem 1.25rem",border:"none",borderRadius:"6px",fontWeight:500,background:"#f3f4f6",color:"#374151",cursor:"pointer",fontSize:"0.875rem"},children:"Zru\u0161it"}),(0,V.jsx)("button",{style:{padding:"0.5rem 1.25rem",border:"none",borderRadius:"6px",fontWeight:500,background:"#dc2626",color:"white",cursor:"pointer",fontSize:"0.875rem"},children:"Potvrdit"})]})]})]}),(0,V.jsxs)("div",{style:{background:"#0f172a",borderRadius:"12px",padding:"1.5rem",border:"2px solid #f59e0b"},children:[(0,V.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#fbbf24",fontSize:"1.25rem",fontWeight:700,borderBottom:"2px solid #f59e0b",paddingBottom:"0.5rem"},children:"CARD-ELEVATED (Kartov\xfd zv\xfd\u0161en\xfd)"}),(0,V.jsxs)("div",{style:{background:"white",borderRadius:"20px",padding:"0",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"none",overflow:"hidden"},children:[(0,V.jsx)("div",{style:{background:"#f8fafc",padding:"1.5rem 2rem",borderBottom:"1px solid #e2e8f0"},children:(0,V.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,V.jsx)("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#d97706",fontSize:"1.75rem",boxShadow:"0 4px 6px -1px rgba(217, 119, 6, 0.1)"},children:(0,V.jsx)(I.g,{icon:L.zpE})}),(0,V.jsxs)("div",{children:[(0,V.jsx)("h3",{style:{fontSize:"1.375rem",fontWeight:700,color:"#0f172a",margin:0},children:"Potvrzen\xed akce"}),(0,V.jsx)("p",{style:{fontSize:"0.875rem",color:"#64748b",margin:"0.25rem 0 0 0"},children:"D\u016fle\u017eit\xe9 rozhodnut\xed"})]})]})}),(0,V.jsxs)("div",{style:{padding:"2rem"},children:[(0,V.jsx)("p",{style:{margin:"0 0 2rem 0",color:"#475569",lineHeight:"1.7",fontSize:"1rem"},children:"Elegantn\xed kartov\xfd design s v\xfdrazn\xfdm st\xednem a detailn\xedm headerem. Premium pocit a profesion\xe1ln\xed vzhled."}),(0,V.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[(0,V.jsx)("button",{style:{padding:"0.875rem 1.75rem",border:"2px solid #e2e8f0",borderRadius:"12px",fontWeight:600,background:"white",color:"#475569",cursor:"pointer",fontSize:"0.9375rem"},children:"Zru\u0161it"}),(0,V.jsx)("button",{style:{padding:"0.875rem 1.75rem",border:"none",borderRadius:"12px",fontWeight:600,background:"#dc2626",color:"white",cursor:"pointer",fontSize:"0.9375rem",boxShadow:"0 4px 6px -1px rgba(220, 38, 38, 0.25)"},children:"Potvrdit"})]})]})]})]}),(0,V.jsxs)("div",{style:{background:"#0f172a",borderRadius:"12px",padding:"1.5rem",border:"2px solid #ec4899"},children:[(0,V.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#f9a8d4",fontSize:"1.25rem",fontWeight:700,borderBottom:"2px solid #ec4899",paddingBottom:"0.5rem"},children:"DARK-CONTRAST (Tmav\xfd kontrastn\xed)"}),(0,V.jsxs)("div",{style:{background:"#1e293b",borderRadius:"12px",padding:"2rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.5)",border:"1px solid #334155"},children:[(0,V.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[(0,V.jsx)("div",{style:{width:"52px",height:"52px",borderRadius:"50%",background:"rgba(239, 68, 68, 0.2)",border:"2px solid #ef4444",display:"flex",alignItems:"center",justifyContent:"center",color:"#f87171",fontSize:"1.5rem"},children:(0,V.jsx)(I.g,{icon:L.zpE})}),(0,V.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:700,color:"#f1f5f9",margin:0},children:"Potvrzen\xed akce"})]}),(0,V.jsx)("p",{style:{margin:"0 0 2rem 0",color:"#cbd5e1",lineHeight:"1.6"},children:"Tmav\xfd re\u017eim s vysok\xfdm kontrastem. Ide\xe1ln\xed pro aplikace s dark mode nebo pro no\u010dn\xed pou\u017eit\xed."}),(0,V.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[(0,V.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid #475569",borderRadius:"8px",fontWeight:600,background:"#0f172a",color:"#cbd5e1",cursor:"pointer"},children:"Zru\u0161it"}),(0,V.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid #ef4444",borderRadius:"8px",fontWeight:600,background:"#ef4444",color:"white",cursor:"pointer"},children:"Potvrdit"})]})]})]}),(0,V.jsxs)("div",{style:{background:"#0f172a",borderRadius:"12px",padding:"1.5rem",border:"2px solid #06b6d4"},children:[(0,V.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#22d3ee",fontSize:"1.25rem",fontWeight:700,borderBottom:"2px solid #06b6d4",paddingBottom:"0.5rem"},children:"GLASS-MORPHISM (Sklen\u011bn\xfd morfismus)"}),(0,V.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"16px",padding:"2rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[(0,V.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[(0,V.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"rgba(220, 38, 38, 0.1)",backdropFilter:"blur(10px)",border:"2px solid rgba(220, 38, 38, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",color:"#dc2626",fontSize:"1.5rem"},children:(0,V.jsx)(I.g,{icon:L.zpE})}),(0,V.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:700,color:"#1e293b",margin:0},children:"Potvrzen\xed akce"})]}),(0,V.jsx)("p",{style:{margin:"0 0 2rem 0",color:"#475569",lineHeight:"1.6"},children:"Modern\xed glassmorphism efekt s pr\u016fhlednost\xed a rozmaz\xe1n\xedm. Trendy design s hloubkou a vrstven\xedm."}),(0,V.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[(0,V.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid rgba(209, 213, 219, 0.5)",borderRadius:"8px",fontWeight:600,background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",color:"#6b7280",cursor:"pointer"},children:"Zru\u0161it"}),(0,V.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid rgba(220, 38, 38, 0.5)",borderRadius:"8px",fontWeight:600,background:"rgba(220, 38, 38, 0.9)",backdropFilter:"blur(10px)",color:"white",cursor:"pointer"},children:"Potvrdit"})]})]})]})]}),(0,V.jsxs)("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#334155",borderRadius:"12px",border:"2px solid #475569"},children:[(0,V.jsx)("h4",{style:{margin:"0 0 1rem 0",color:"#f1f5f9"},children:"\ud83d\udca1 Tip pro v\xfdb\u011br:"}),(0,V.jsxs)("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#cbd5e1",lineHeight:"1.8"},children:[(0,V.jsxs)("li",{children:[(0,V.jsx)("strong",{children:"CURRENT-STYLE:"})," Zachov\xe1me sou\u010dasn\xfd vzhled, jen jej zrefaktorujeme"]}),(0,V.jsxs)("li",{children:[(0,V.jsx)("strong",{children:"GRADIENT-MODERN:"})," Barevn\xfd, \u017eiv\xfd, modern\xed - hod\xed se pro mlad\u0161\xed publikum"]}),(0,V.jsxs)("li",{children:[(0,V.jsx)("strong",{children:"MINIMAL-CLEAN:"})," Nejjednodu\u0161\u0161\xed, bez dekorac\xed - rychl\xe9 na\u010d\xedt\xe1n\xed, univerz\xe1ln\xed"]}),(0,V.jsxs)("li",{children:[(0,V.jsx)("strong",{children:"CARD-ELEVATED:"})," Premium, elegantn\xed - pro business aplikace"]}),(0,V.jsxs)("li",{children:[(0,V.jsx)("strong",{children:"DARK-CONTRAST:"})," Pro dark mode nebo ve\u010dern\xed pr\xe1ci"]}),(0,V.jsxs)("li",{children:[(0,V.jsx)("strong",{children:"GLASS-MORPHISM:"})," Trendy, modern\xed - efektn\xed ale m\u016f\u017ee b\xfdt n\xe1ro\u010dn\u011bj\u0161\xed na v\xfdkon"]})]})]})]})}),document.body),ot&&(0,V.jsxs)(Pr,{children:[(0,V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,V.jsxs)("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,V.jsx)(I.g,{icon:L.uGS,style:{color:"#3b82f6"}}),"Dashboard objedn\xe1vek ","custom"===_t?"(vlastn\xed rozlo\u017een\xed)":jt?"(kompaktn\xed)":"(pln\xfd)"]}),(0,V.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[bt&&(0,V.jsx)(_r.z,{text:"Zobrazit dla\u017edice podle nastaven\xed v profilu",icon:"info",preferredPosition:"bottom",children:(0,V.jsxs)(Lr,{onClick:()=>{const e="custom"===_t?"standard":"custom";yt(e),ie("orders25List_dashboardMode",e)},style:{background:"custom"===_t?"#3b82f6":void 0,color:"custom"===_t?"white":void 0,fontWeight:"custom"===_t?"600":void 0},children:[(0,V.jsx)(I.g,{icon:L.ITF}),"Vlastn\xed"]})}),(0,V.jsx)(_r.z,{text:jt?"Zobrazit pln\xfd dashboard se v\u0161emi statistikami":"Zobrazit kompaktn\xed dashboard (pouze celkov\xe1 hodnota)",icon:"info",preferredPosition:"bottom",children:(0,V.jsxs)(Lr,{onClick:()=>{const e=!jt;kt(e),ie("orders25List_dashboardCompact",e),"custom"===_t&&(yt("standard"),ie("orders25List_dashboardMode","standard"))},children:[(0,V.jsx)(I.g,{icon:jt?L.fq7:L.p4e}),jt?"Pln\xfd":"Kompaktn\xed"]})}),(0,V.jsx)(_r.z,{text:"Skr\xfdt dashboard a zobrazit pouze tabulku objedn\xe1vek",icon:"info",preferredPosition:"bottom",children:(0,V.jsxs)(Lr,{onClick:Ks,children:[(0,V.jsx)(I.g,{icon:L.GRI}),"Skr\xfdt"]})})]})]}),(0,V.jsx)(Vr,{children:"custom"===_t?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(Mr,{$color:j.TOTAL.dark,children:[(0,V.jsxs)("div",{children:[(0,V.jsxs)(Kr,{children:[Math.round(Xl.totalAmount).toLocaleString("cs-CZ"),"\xa0K\u010d"]}),(0,V.jsxs)(Hr,{children:["Celkov\xe1 cena s DPH za obdob\xed (",Xl.total,")"]}),(()=>{if((Et||Array.isArray(Rt)&&Rt.length>0||It||Zt||Kt||Gt||Jt||Object.values(vr).some(e=>e))&&ss.length<ce.length){const e=ss.reduce((e,n)=>{const t=Jl(n);return e+(isNaN(t)?0:t)},0);return(0,V.jsxs)("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid rgba(100, 116, 139, 0.2)"},children:[(0,V.jsxs)("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#f59e0b",textAlign:"center",marginBottom:"0.25rem"},children:[Math.round(e).toLocaleString("cs-CZ"),"\xa0K\u010d"]}),(0,V.jsxs)("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#f59e0b",textAlign:"center",paddingBottom:"0.75rem",borderBottom:"1px solid rgba(100, 116, 139, 0.2)"},children:["Celkov\xe1 cena s DPH za vybran\xe9 (",ss.length,")"]})]})}return null})()]}),(0,V.jsxs)(Gr,{children:[(0,V.jsxs)(Yr,{$color:"#d97706",$bg:"rgba(217, 119, 6, 0.08)",children:[(0,V.jsx)(Jr,{$color:"#92400e",children:"Rozpracovan\xe9"}),(0,V.jsxs)(Xr,{children:[Math.round(ss.reduce((e,n)=>{const t=Gl(n),r=["STORNOVA","ZAMITNUTA","ZRUSENA","CANCELLED","SMAZANA"].includes(t),o=["DOKONCENA","VYRIZENA","COMPLETED"].includes(t);if(!r&&!o){const t=Jl(n);return e+(isNaN(t)?0:t)}return e},0)).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),(0,V.jsxs)(Yr,{$color:"#059669",$bg:"rgba(5, 150, 105, 0.08)",children:[(0,V.jsx)(Jr,{$color:"#065f46",children:"Dokon\u010den\xe9"}),(0,V.jsxs)(Xr,{children:[Math.round(ss.reduce((e,n)=>{const t=Gl(n);if(["DOKONCENA","VYRIZENA","COMPLETED"].includes(t)){const t=Jl(n);return e+(isNaN(t)?0:t)}return e},0)).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]})]})]}),(0,V.jsxs)(Fr,{$color:"#2196f3",children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:ss.filter(e=>!e.isDraft&&!e.isLocalConcept).length}),(0,V.jsx)(Ur,{$color:"#2196f3",children:(0,V.jsx)(I.g,{icon:L.h8M})})]}),(0,V.jsx)(Wr,{children:"Po\u010det objedn\xe1vek"})]}),Hs("nova")&&(0,V.jsxs)(Fr,{$color:j.NOVA.dark,$clickable:!0,$isActive:"nova"===zt,onClick:()=>Bs("nova"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.nova}),(0,V.jsx)(Ur,{children:$r("nova")})]}),(0,V.jsx)(Wr,{children:"Nov\xe1 / Koncept"})]}),Hs("ke_schvaleni")&&(0,V.jsxs)(Fr,{$color:j.KE_SCHVALENI.dark,$clickable:!0,$isActive:"ke_schvaleni"===zt,onClick:()=>Bs("ke_schvaleni"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.ke_schvaleni}),(0,V.jsx)(Ur,{children:$r("ke_schvaleni")})]}),(0,V.jsx)(Wr,{children:"Ke schv\xe1len\xed"})]}),Hs("schvalena")&&(0,V.jsxs)(Fr,{$color:j.SCHVALENA.dark,$clickable:!0,$isActive:"schvalena"===zt,onClick:()=>Bs("schvalena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.schvalena}),(0,V.jsx)(Ur,{children:$r("schvalena")})]}),(0,V.jsx)(Wr,{children:"Schv\xe1len\xe1"})]}),Hs("zamitnuta")&&(0,V.jsxs)(Fr,{$color:j.ZAMITNUTA.dark,$clickable:!0,$isActive:"zamitnuta"===zt,onClick:()=>Bs("zamitnuta"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.zamitnuta}),(0,V.jsx)(Ur,{children:$r("zamitnuta")})]}),(0,V.jsx)(Wr,{children:"Zam\xedtnut\xe1"})]}),Hs("rozpracovana")&&(0,V.jsxs)(Fr,{$color:j.ROZPRACOVANA.dark,$clickable:!0,$isActive:"rozpracovana"===zt,onClick:()=>Bs("rozpracovana"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.rozpracovana}),(0,V.jsx)(Ur,{children:$r("rozpracovana")})]}),(0,V.jsx)(Wr,{children:"Rozpracovan\xe1"})]}),Hs("odeslana_dodavateli")&&(0,V.jsxs)(Fr,{$color:j.ODESLANA.dark,$clickable:!0,$isActive:"odeslana"===zt,onClick:()=>Bs("odeslana"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.odeslana}),(0,V.jsx)(Ur,{children:$r("odeslana")})]}),(0,V.jsx)(Wr,{children:"Odeslan\xe1 dodavateli"})]}),Hs("potvrzena_dodavatelem")&&(0,V.jsxs)(Fr,{$color:j.POTVRZENA.dark,$clickable:!0,$isActive:"potvrzena"===zt,onClick:()=>Bs("potvrzena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.potvrzena}),(0,V.jsx)(Ur,{children:$r("potvrzena")})]}),(0,V.jsx)(Wr,{children:"Potvrzen\xe1 dodavatelem"})]}),Hs("k_uverejneni_do_registru")&&(0,V.jsxs)(Fr,{$color:j.K_UVEREJNENI_DO_REGISTRU.dark,$clickable:!0,$isActive:"k_uverejneni_do_registru"===zt,onClick:()=>Bs("k_uverejneni_do_registru"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.k_uverejneni_do_registru}),(0,V.jsx)(Ur,{children:$r("k_uverejneni_do_registru")})]}),(0,V.jsx)(Wr,{children:"M\xe1 b\xfdt zve\u0159ejn\u011bna"})]}),Hs("uverejnena")&&(0,V.jsxs)(Fr,{$color:j.UVEREJNENA.dark,$clickable:!0,$isActive:"uverejnena"===zt,onClick:()=>Bs("uverejnena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.uverejnena}),(0,V.jsx)(Ur,{children:$r("uverejnena")})]}),(0,V.jsx)(Wr,{children:"Uve\u0159ejn\u011bn\xe1"})]}),Hs("ceka_na_potvrzeni")&&(0,V.jsxs)(Fr,{$color:j.CEKA_POTVRZENI.dark,$clickable:!0,$isActive:"ceka_potvrzeni"===zt,onClick:()=>Bs("ceka_potvrzeni"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.ceka_potvrzeni}),(0,V.jsx)(Ur,{children:$r("ceka_potvrzeni")})]}),(0,V.jsx)(Wr,{children:"\u010cek\xe1 na potvrzen\xed"})]}),Hs("ceka_se")&&(0,V.jsxs)(Fr,{$color:j.CEKA_SE.dark,$clickable:!0,$isActive:"ceka_se"===zt,onClick:()=>Bs("ceka_se"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.ceka_se}),(0,V.jsx)(Ur,{children:$r("ceka_se")})]}),(0,V.jsx)(Wr,{children:"\u010cek\xe1 se"})]}),Hs("vecna_spravnost")&&(0,V.jsxs)(Fr,{$color:j.VECNA_SPRAVNOST.dark,$clickable:!0,$isActive:"vecna_spravnost"===zt,onClick:()=>Bs("vecna_spravnost"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.vecna_spravnost}),(0,V.jsx)(Ur,{children:$r("vecna_spravnost")})]}),(0,V.jsx)(Wr,{children:"V\u011bcn\xe1 spr\xe1vnost"})]}),Hs("dokoncena")&&(0,V.jsxs)(Fr,{$color:j.DOKONCENA.dark,$clickable:!0,$isActive:"dokoncena"===zt,onClick:()=>Bs("dokoncena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.dokoncena}),(0,V.jsx)(Ur,{children:$r("dokoncena")})]}),(0,V.jsx)(Wr,{children:"Dokon\u010den\xe1"})]}),Hs("zrusena")&&(0,V.jsxs)(Fr,{$color:j.ZRUSENA.dark,$clickable:!0,$isActive:"zrusena"===zt,onClick:()=>Bs("zrusena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.zrusena}),(0,V.jsx)(Ur,{children:$r("zrusena")})]}),(0,V.jsx)(Wr,{children:"Zru\u0161en\xe1"})]}),Hs("smazana")&&(0,V.jsxs)(Fr,{$color:j.SMAZANA.dark,$clickable:!0,$isActive:"smazana"===zt,onClick:()=>Bs("smazana"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.smazana}),(0,V.jsx)(Ur,{children:$r("smazana")})]}),(0,V.jsx)(Wr,{children:"Smazan\xe1"})]}),Hs("archivovano")&&(0,V.jsxs)(Fr,{$color:j.ARCHIVOVANO.dark,$clickable:!0,$isActive:"archivovano"===zt,onClick:()=>Bs("archivovano"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.archivovano}),(0,V.jsx)(Ur,{children:$r("archivovano")})]}),(0,V.jsx)(Wr,{children:"Archivov\xe1no / Import"})]}),Hs("s_fakturou")&&(0,V.jsxs)(Fr,{$color:j.WITH_INVOICES.dark,$clickable:!0,$isActive:or,onClick:Ws,children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.withInvoices}),(0,V.jsx)(Ur,{children:"\ud83d\udcc4"})]}),(0,V.jsx)(Wr,{children:"S fakturou"})]}),Hs("s_prilohami")&&(0,V.jsxs)(Fr,{$color:j.WITH_ATTACHMENTS.dark,$clickable:!0,$isActive:ir,onClick:Zs,children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.withAttachments}),(0,V.jsx)(Ur,{children:"\ud83d\udcce"})]}),(0,V.jsx)(Wr,{children:"S p\u0159\xedlohami"})]}),Hs("mimoradne_udalosti")&&(0,V.jsxs)(Fr,{$color:"#dc2626",$clickable:!0,$isActive:tr,onClick:Us,children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.mimoradneUdalosti}),(0,V.jsx)(Ur,{$color:"#dc2626",children:(0,V.jsx)(I.g,{icon:L.b6I})})]}),(0,V.jsx)(Wr,{children:"Mimo\u0159\xe1dn\xe9 ud\xe1losti"})]}),Hs("moje_objednavky")&&(null===Y||void 0===Y||null===(O=Y.roles)||void 0===O?void 0:O.some(e=>"SUPERADMIN"===e.kod_role||"ADMINISTRATOR"===e.kod_role))&&(()=>{const e=parseInt(G,10),n=ss.filter(n=>{const t=n.uzivatel_id===e,r=n.garant_uzivatel_id===e,o=n.schvalovatel_id===e,a=n.prikazce_id===e;return t||r||o||a}).length;return(0,V.jsxs)(Fr,{$color:"#7c3aed",$clickable:!0,$isActive:Wi,onClick:Gs,children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:n}),(0,V.jsx)(Ur,{$color:"#7c3aed",children:(0,V.jsx)(I.g,{icon:L.X46})})]}),(0,V.jsx)(Wr,{children:"Moje objedn\xe1vky"})]})})(),Hs("dodatecne_dokumenty")&&(()=>{let e=0;return ss.forEach(n=>{var t,r,o;null!==(t=n._enriched)&&void 0!==t&&t.dodatecne_dokumenty&&Array.isArray(n._enriched.dodatecne_dokumenty)&&(e+=n._enriched.dodatecne_dokumenty.length),null!==(r=n._enriched)&&void 0!==r&&r.dodatecne_dokumenty||null===(o=n._enriched)||void 0===o||!o.dodatecne_dokumenty_count||(e+=n._enriched.dodatecne_dokumenty_count)}),e>0?(0,V.jsxs)(Fr,{$color:"#06b6d4",children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:e}),(0,V.jsx)(Ur,{$color:"#06b6d4",children:(0,V.jsx)(I.g,{icon:L.h8M})})]}),(0,V.jsx)(Wr,{children:"Dodat. dokumenty"})]}):null})(),Hs("vecna_kontrola")&&(()=>{let e=0,n=0;return ss.forEach(t=>{var r;null!==(r=t._enriched)&&void 0!==r&&r.vecna_kontrola&&(e++,"OK"!==t._enriched.vecna_kontrola.stav&&"SCHVALENO"!==t._enriched.vecna_kontrola.stav&&!0!==t._enriched.vecna_kontrola.provedena||n++),!0!==t.vecna_kontrola&&!0!==t.vecna_spravnost||(e++,n++)}),e>0?(0,V.jsxs)(Fr,{$color:"#10b981",title:"Schv\xe1leno: ".concat(n," z ").concat(e),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsxs)(Br,{children:[n,"/",e]}),(0,V.jsx)(Ur,{$color:"#10b981",children:(0,V.jsx)(I.g,{icon:L.SGM})})]}),(0,V.jsx)(Wr,{children:"V\u011bcn\xe1 kontrola"})]}):null})(),Hs("registr_smluv")&&(()=>{let e=0,n=0;return ss.forEach(t=>{var r,o;null!==(r=t._enriched)&&void 0!==r&&r.registr_smluv&&(e++,"AKTIVNI"!==t._enriched.registr_smluv.stav&&!0!==t._enriched.registr_smluv.aktivni||n++),(t.cislo_smlouvy||null!==(o=t._enriched)&&void 0!==o&&o.cislo_smlouvy)&&(e++,n++)}),e>0?(0,V.jsxs)(Fr,{$color:"#0ea5e9",title:"Aktivn\xedch: ".concat(n," z ").concat(e),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:e}),(0,V.jsx)(Ur,{$color:"#0ea5e9",children:(0,V.jsx)(I.g,{icon:L.IJd})})]}),(0,V.jsx)(Wr,{children:"Registr smluv"})]}):null})(),Hs("faze_dokonceni")&&(()=>{let e=0,n=0;return ss.forEach(t=>{var r,o,a;(null!==(r=t._enriched)&&void 0!==r&&r.faze_dokonceni||t.dokonceno)&&(e++,1!==t.dokonceno&&"DOKONCENO"!==(null===(o=t._enriched)||void 0===o||null===(a=o.faze_dokonceni)||void 0===a?void 0:a.stav)||n++)}),e>0?(0,V.jsxs)(Fr,{$color:"#ec4899",title:"Dokon\u010deno: ".concat(n," z ").concat(e),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsxs)(Br,{children:[n,"/",e]}),(0,V.jsx)(Ur,{$color:"#ec4899",children:(0,V.jsx)(I.g,{icon:L.KMJ})})]}),(0,V.jsx)(Wr,{children:"F\xe1ze dokon\u010den\xed"})]}):null})()]}):jt?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(Fr,{$color:j.TOTAL.dark,children:(0,V.jsxs)("div",{style:{width:"100%"},children:[(0,V.jsxs)(Br,{style:{textAlign:"left"},children:[Math.round(Xl.totalAmount).toLocaleString("cs-CZ"),"\xa0K\u010d"]}),(0,V.jsxs)(Wr,{style:{textAlign:"left"},children:["Celkov\xe1 cena s DPH za obdob\xed (",Xl.total,")"]}),(()=>{if((Et||Array.isArray(Rt)&&Rt.length>0||It||Zt||Kt||Gt||Jt||Object.values(vr).some(e=>e))&&ss.length<ce.length){const e=ss.reduce((e,n)=>{const t=parseFloat(n.polozky_celkova_cena_s_dph||0);return e+(isNaN(t)?0:t)},0);return(0,V.jsxs)("div",{style:{marginTop:"0.5rem",paddingTop:"0.5rem",borderTop:"1px solid rgba(100, 116, 139, 0.2)"},children:[(0,V.jsxs)("div",{style:{fontSize:"1rem",fontWeight:"700",color:"#f59e0b",textAlign:"left",marginBottom:"0.125rem"},children:[Math.round(e).toLocaleString("cs-CZ"),"\xa0K\u010d"]}),(0,V.jsxs)("div",{style:{fontSize:"0.65rem",fontWeight:"600",color:"#f59e0b",textAlign:"left",paddingBottom:"0.5rem",borderBottom:"1px solid rgba(100, 116, 139, 0.2)"},children:["Celkov\xe1 cena s DPH za vybran\xe9 (",ss.filter(e=>!e.isDraft&&!e.isLocalConcept).length,")"]})]})}return null})()]})}),(0,V.jsxs)(Fr,{$color:"#2196f3",children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:ss.filter(e=>!e.isDraft&&!e.isLocalConcept).length}),(0,V.jsx)(Ur,{$color:"#2196f3",children:(0,V.jsx)(I.g,{icon:L.h8M})})]}),(0,V.jsx)(Wr,{children:"Po\u010det objedn\xe1vek"})]}),Xl.ke_schvaleni>0&&(0,V.jsxs)(Fr,{$color:j.KE_SCHVALENI.dark,$clickable:!0,$isActive:"ke_schvaleni"===zt,onClick:()=>Bs("ke_schvaleni"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.ke_schvaleni}),(0,V.jsx)(Ur,{$color:j.KE_SCHVALENI.dark,children:(0,V.jsx)(I.g,{icon:(0,Sr.cR)("ke_schvaleni")})})]}),(0,V.jsx)(Wr,{children:"Ke schv\xe1len\xed"})]}),Xl.schvalena>0&&(0,V.jsxs)(Fr,{$color:j.SCHVALENA.dark,$clickable:!0,$isActive:"schvalena"===zt,onClick:()=>Bs("schvalena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.schvalena}),(0,V.jsx)(Ur,{$color:j.SCHVALENA.dark,children:(0,V.jsx)(I.g,{icon:(0,Sr.cR)("schvalena")})})]}),(0,V.jsx)(Wr,{children:"Schv\xe1len\xe1"})]}),Xl.rozpracovana>0&&(0,V.jsxs)(Fr,{$color:j.ROZPRACOVANA.dark,$clickable:!0,$isActive:"rozpracovana"===zt,onClick:()=>Bs("rozpracovana"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.rozpracovana}),(0,V.jsx)(Ur,{$color:j.ROZPRACOVANA.dark,children:(0,V.jsx)(I.g,{icon:(0,Sr.cR)("rozpracovana")})})]}),(0,V.jsx)(Wr,{children:"Rozpracovan\xe1"})]}),Xl.odeslana>0&&(0,V.jsxs)(Fr,{$color:j.ODESLANA.dark,$clickable:!0,$isActive:"odeslana"===zt,onClick:()=>Bs("odeslana"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.odeslana}),(0,V.jsx)(Ur,{$color:j.ODESLANA.dark,children:(0,V.jsx)(I.g,{icon:(0,Sr.cR)("odeslana")})})]}),(0,V.jsx)(Wr,{children:"Odeslan\xe1 dodavateli"})]}),Xl.potvrzena>0&&(0,V.jsxs)(Fr,{$color:j.POTVRZENA.dark,$clickable:!0,$isActive:"potvrzena"===zt,onClick:()=>Bs("potvrzena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.potvrzena}),(0,V.jsx)(Ur,{$color:j.POTVRZENA.dark,children:(0,V.jsx)(I.g,{icon:(0,Sr.cR)("potvrzena")})})]}),(0,V.jsx)(Wr,{children:"Potvrzen\xe1 dodavatelem"})]}),Xl.k_uverejneni_do_registru>0&&(0,V.jsxs)(Fr,{$color:j.K_UVEREJNENI_DO_REGISTRU.dark,$clickable:!0,$isActive:"k_uverejneni_do_registru"===zt,onClick:()=>Bs("k_uverejneni_do_registru"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.k_uverejneni_do_registru}),(0,V.jsx)(Ur,{$color:j.K_UVEREJNENI_DO_REGISTRU.dark,children:(0,V.jsx)(I.g,{icon:(0,Sr.cR)("k_uverejneni_do_registru")})})]}),(0,V.jsx)(Wr,{children:"M\xe1 b\xfdt zve\u0159ejn\u011bna"})]}),Xl.uverejnena>0&&(0,V.jsxs)(Fr,{$color:j.UVEREJNENA.dark,$clickable:!0,$isActive:"uverejnena"===zt,onClick:()=>Bs("uverejnena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.uverejnena}),(0,V.jsx)(Ur,{$color:j.UVEREJNENA.dark,children:(0,V.jsx)(I.g,{icon:(0,Sr.cR)("uverejnena")})})]}),(0,V.jsx)(Wr,{children:"Uve\u0159ejn\u011bn\xe1"})]}),Xl.vecna_spravnost>0&&(0,V.jsxs)(Fr,{$color:j.VECNA_SPRAVNOST.dark,$clickable:!0,$isActive:"vecna_spravnost"===zt,onClick:()=>Bs("vecna_spravnost"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.vecna_spravnost}),(0,V.jsx)(Ur,{$color:j.VECNA_SPRAVNOST.dark,children:(0,V.jsx)(I.g,{icon:(0,Sr.cR)("vecna_spravnost")})})]}),(0,V.jsx)(Wr,{children:"V\u011bcn\xe1 spr\xe1vnost"})]}),Xl.dokoncena>0&&(0,V.jsxs)(Fr,{$color:j.DOKONCENA.dark,$clickable:!0,$isActive:"dokoncena"===zt,onClick:()=>Bs("dokoncena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.dokoncena}),(0,V.jsx)(Ur,{$color:j.DOKONCENA.dark,children:"\ud83c\udfaf"})]}),(0,V.jsx)(Wr,{children:"Dokon\u010den\xe1"})]}),Xl.withInvoices>0&&(0,V.jsxs)(Fr,{$color:j.WITH_INVOICES.dark,$clickable:!0,$isActive:or,onClick:Ws,children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.withInvoices}),(0,V.jsx)(Ur,{$color:j.WITH_INVOICES.dark,children:(0,V.jsx)(I.g,{icon:L.p4e})})]}),(0,V.jsx)(Wr,{children:"S fakturou"})]}),Xl.withAttachments>0&&(0,V.jsxs)(Fr,{$color:j.WITH_ATTACHMENTS.dark,$clickable:!0,$isActive:ir,onClick:Zs,children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.withAttachments}),(0,V.jsx)(Ur,{$color:j.WITH_ATTACHMENTS.dark,children:(0,V.jsx)(I.g,{icon:L.WMI})})]}),(0,V.jsx)(Wr,{children:"S p\u0159\xedlohami"})]}),Xl.mimoradneUdalosti>0&&(0,V.jsxs)(Fr,{$color:"#dc2626",$clickable:!0,$isActive:tr,onClick:Us,children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.mimoradneUdalosti}),(0,V.jsx)(Ur,{$color:"#dc2626",children:(0,V.jsx)(I.g,{icon:L.b6I})})]}),(0,V.jsx)(Wr,{children:"Mimo\u0159\xe1dn\xe9 ud\xe1losti"})]}),(null===Y||void 0===Y||null===(R=Y.roles)||void 0===R?void 0:R.some(e=>"SUPERADMIN"===e.kod_role||"ADMINISTRATOR"===e.kod_role))&&(()=>{const e=parseInt(G,10),n=ss.filter(n=>{const t=n.uzivatel_id===e,r=n.garant_uzivatel_id===e,o=n.schvalovatel_id===e,a=n.prikazce_id===e;return t||r||o||a}).length;return(0,V.jsxs)(Fr,{$color:"#7c3aed",$clickable:!0,$isActive:Wi,onClick:Gs,children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:n}),(0,V.jsx)(Ur,{$color:"#7c3aed",children:(0,V.jsx)(I.g,{icon:L.X46})})]}),(0,V.jsx)(Wr,{children:"Moje objedn\xe1vky"})]})})()]}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(Mr,{$color:j.TOTAL.dark,children:[(0,V.jsxs)("div",{children:[(0,V.jsxs)(Kr,{children:[Math.round(Xl.totalAmount).toLocaleString("cs-CZ"),"\xa0K\u010d"]}),(0,V.jsxs)(Hr,{children:["Celkov\xe1 cena s DPH za obdob\xed (",Xl.total,")"]}),(()=>{if((Et||Array.isArray(Rt)&&Rt.length>0||It||Zt||Kt||Gt||Jt||Object.values(vr).some(e=>e))&&ss.length<ce.length){const e=ss.reduce((e,n)=>{const t=Jl(n);return e+(isNaN(t)?0:t)},0);return(0,V.jsxs)("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid rgba(100, 116, 139, 0.2)"},children:[(0,V.jsxs)("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#f59e0b",textAlign:"center",marginBottom:"0.25rem"},children:[Math.round(e).toLocaleString("cs-CZ"),"\xa0K\u010d"]}),(0,V.jsxs)("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#f59e0b",textAlign:"center",paddingBottom:"0.75rem",borderBottom:"1px solid rgba(100, 116, 139, 0.2)"},children:["Celkov\xe1 cena s DPH za vybran\xe9 (",ss.length,")"]})]})}return null})()]}),(0,V.jsxs)(Gr,{children:[(0,V.jsxs)(Yr,{$color:"#d97706",$bg:"rgba(217, 119, 6, 0.08)",children:[(0,V.jsx)(Jr,{$color:"#92400e",children:"Rozpracovan\xe9"}),(0,V.jsxs)(Xr,{children:[Math.round(ss.reduce((e,n)=>{const t=Gl(n),r=["STORNOVA","ZAMITNUTA","ZRUSENA","CANCELLED","SMAZANA"].includes(t),o=["DOKONCENA","VYRIZENA","COMPLETED"].includes(t);if(!r&&!o){const t=Jl(n);return e+(isNaN(t)?0:t)}return e},0)).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),(0,V.jsxs)(Yr,{$color:"#059669",$bg:"rgba(5, 150, 105, 0.08)",children:[(0,V.jsx)(Jr,{$color:"#065f46",children:"Dokon\u010den\xe9"}),(0,V.jsxs)(Xr,{children:[Math.round(ss.reduce((e,n)=>{const t=Gl(n);if(["DOKONCENA","VYRIZENA","COMPLETED"].includes(t)){const t=Jl(n);return e+(isNaN(t)?0:t)}return e},0)).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]})]})]}),(0,V.jsxs)(Fr,{$color:"#2196f3",children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:ss.filter(e=>!e.isDraft&&!e.isLocalConcept).length}),(0,V.jsx)(Ur,{$color:"#2196f3",children:(0,V.jsx)(I.g,{icon:L.h8M})})]}),(0,V.jsx)(Wr,{children:"Po\u010det objedn\xe1vek"})]}),Hs("nova")&&(0,V.jsxs)(Fr,{$color:j.NOVA.dark,$clickable:!0,$isActive:"nova"===zt,onClick:()=>Bs("nova"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.nova}),(0,V.jsx)(Ur,{children:$r("nova")})]}),(0,V.jsx)(Wr,{children:"Nov\xe1 / Koncept"})]}),Hs("ke_schvaleni")&&(0,V.jsxs)(Fr,{$color:j.KE_SCHVALENI.dark,$clickable:!0,$isActive:"ke_schvaleni"===zt,onClick:()=>Bs("ke_schvaleni"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.ke_schvaleni}),(0,V.jsx)(Ur,{children:$r("ke_schvaleni")})]}),(0,V.jsx)(Wr,{children:"Ke schv\xe1len\xed"})]}),Hs("schvalena")&&(0,V.jsxs)(Fr,{$color:j.SCHVALENA.dark,$clickable:!0,$isActive:"schvalena"===zt,onClick:()=>Bs("schvalena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.schvalena}),(0,V.jsx)(Ur,{children:$r("schvalena")})]}),(0,V.jsx)(Wr,{children:"Schv\xe1len\xe1"})]}),Hs("zamitnuta")&&(0,V.jsxs)(Fr,{$color:j.ZAMITNUTA.dark,$clickable:!0,$isActive:"zamitnuta"===zt,onClick:()=>Bs("zamitnuta"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.zamitnuta}),(0,V.jsx)(Ur,{children:$r("zamitnuta")})]}),(0,V.jsx)(Wr,{children:"Zam\xedtnut\xe1"})]}),Hs("rozpracovana")&&(0,V.jsxs)(Fr,{$color:j.ROZPRACOVANA.dark,$clickable:!0,$isActive:"rozpracovana"===zt,onClick:()=>Bs("rozpracovana"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.rozpracovana}),(0,V.jsx)(Ur,{children:$r("rozpracovana")})]}),(0,V.jsx)(Wr,{children:"Rozpracovan\xe1"})]}),Hs("odeslana_dodavateli")&&(0,V.jsxs)(Fr,{$color:j.ODESLANA.dark,$clickable:!0,$isActive:"odeslana"===zt,onClick:()=>Bs("odeslana"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.odeslana}),(0,V.jsx)(Ur,{children:$r("odeslana")})]}),(0,V.jsx)(Wr,{children:"Odeslan\xe1 dodavateli"})]}),Hs("potvrzena_dodavatelem")&&(0,V.jsxs)(Fr,{$color:j.POTVRZENA.dark,$clickable:!0,$isActive:"potvrzena"===zt,onClick:()=>Bs("potvrzena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.potvrzena}),(0,V.jsx)(Ur,{children:$r("potvrzena")})]}),(0,V.jsx)(Wr,{children:"Potvrzen\xe1 dodavatelem"})]}),Hs("k_uverejneni_do_registru")&&(0,V.jsxs)(Fr,{$color:j.K_UVEREJNENI_DO_REGISTRU.dark,$clickable:!0,$isActive:"k_uverejneni_do_registru"===zt,onClick:()=>Bs("k_uverejneni_do_registru"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.k_uverejneni_do_registru}),(0,V.jsx)(Ur,{children:$r("k_uverejneni_do_registru")})]}),(0,V.jsx)(Wr,{children:"M\xe1 b\xfdt zve\u0159ejn\u011bna"})]}),Hs("uverejnena")&&(0,V.jsxs)(Fr,{$color:j.UVEREJNENA.dark,$clickable:!0,$isActive:"uverejnena"===zt,onClick:()=>Bs("uverejnena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.uverejnena}),(0,V.jsx)(Ur,{children:$r("uverejnena")})]}),(0,V.jsx)(Wr,{children:"Uve\u0159ejn\u011bn\xe1"})]}),Hs("ceka_na_potvrzeni")&&(0,V.jsxs)(Fr,{$color:j.CEKA_POTVRZENI.dark,$clickable:!0,$isActive:"ceka_potvrzeni"===zt,onClick:()=>Bs("ceka_potvrzeni"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.ceka_potvrzeni}),(0,V.jsx)(Ur,{children:$r("ceka_potvrzeni")})]}),(0,V.jsx)(Wr,{children:"\u010cek\xe1 na potvrzen\xed"})]}),Hs("ceka_se")&&(0,V.jsxs)(Fr,{$color:j.CEKA_SE.dark,$clickable:!0,$isActive:"ceka_se"===zt,onClick:()=>Bs("ceka_se"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.ceka_se}),(0,V.jsx)(Ur,{children:$r("ceka_se")})]}),(0,V.jsx)(Wr,{children:"\u010cek\xe1 se"})]}),Hs("vecna_spravnost")&&(0,V.jsxs)(Fr,{$color:j.VECNA_SPRAVNOST.dark,$clickable:!0,$isActive:"vecna_spravnost"===zt,onClick:()=>Bs("vecna_spravnost"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.vecna_spravnost}),(0,V.jsx)(Ur,{children:$r("vecna_spravnost")})]}),(0,V.jsx)(Wr,{children:"V\u011bcn\xe1 spr\xe1vnost"})]}),Hs("dokoncena")&&(0,V.jsxs)(Fr,{$color:j.DOKONCENA.dark,$clickable:!0,$isActive:"dokoncena"===zt,onClick:()=>Bs("dokoncena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.dokoncena}),(0,V.jsx)(Ur,{children:$r("dokoncena")})]}),(0,V.jsx)(Wr,{children:"Dokon\u010den\xe1"})]}),Hs("zrusena")&&(0,V.jsxs)(Fr,{$color:j.ZRUSENA.dark,$clickable:!0,$isActive:"zrusena"===zt,onClick:()=>Bs("zrusena"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.zrusena}),(0,V.jsx)(Ur,{children:$r("zrusena")})]}),(0,V.jsx)(Wr,{children:"Zru\u0161en\xe1"})]}),Hs("smazana")&&(0,V.jsxs)(Fr,{$color:j.SMAZANA.dark,$clickable:!0,$isActive:"smazana"===zt,onClick:()=>Bs("smazana"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.smazana}),(0,V.jsx)(Ur,{children:$r("smazana")})]}),(0,V.jsx)(Wr,{children:"Smazan\xe1"})]}),Hs("archivovano")&&(0,V.jsxs)(Fr,{$color:j.ARCHIVOVANO.dark,$clickable:!0,$isActive:"archivovano"===zt,onClick:()=>Bs("archivovano"),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.archivovano}),(0,V.jsx)(Ur,{children:$r("archivovano")})]}),(0,V.jsx)(Wr,{children:"Archivov\xe1no / Import"})]}),Hs("s_fakturou")&&(0,V.jsxs)(Fr,{$color:j.WITH_INVOICES.dark,$clickable:!0,$isActive:or,onClick:Ws,children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.withInvoices}),(0,V.jsx)(Ur,{children:"\ud83d\udcc4"})]}),(0,V.jsx)(Wr,{children:"S fakturou"})]}),Hs("s_prilohami")&&(0,V.jsxs)(Fr,{$color:j.WITH_ATTACHMENTS.dark,$clickable:!0,$isActive:ir,onClick:Zs,children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.withAttachments}),(0,V.jsx)(Ur,{children:"\ud83d\udcce"})]}),(0,V.jsx)(Wr,{children:"S p\u0159\xedlohami"})]}),Hs("mimoradne_udalosti")&&(0,V.jsxs)(Fr,{$color:"#dc2626",$clickable:!0,$isActive:tr,onClick:Us,children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:Xl.mimoradneUdalosti}),(0,V.jsx)(Ur,{$color:"#dc2626",children:(0,V.jsx)(I.g,{icon:L.b6I})})]}),(0,V.jsx)(Wr,{children:"Mimo\u0159\xe1dn\xe9 ud\xe1losti"})]}),Hs("moje_objednavky")&&(null===Y||void 0===Y||null===(T=Y.roles)||void 0===T?void 0:T.some(e=>"SUPERADMIN"===e.kod_role||"ADMINISTRATOR"===e.kod_role))&&(()=>{const e=parseInt(G,10),n=ss.filter(n=>{const t=n.uzivatel_id===e,r=n.garant_uzivatel_id===e,o=n.schvalovatel_id===e,a=n.prikazce_id===e;return t||r||o||a}).length;return(0,V.jsxs)(Fr,{$color:"#7c3aed",$clickable:!0,$isActive:Wi,onClick:Gs,children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:n}),(0,V.jsx)(Ur,{$color:"#7c3aed",children:(0,V.jsx)(I.g,{icon:L.X46})})]}),(0,V.jsx)(Wr,{children:"Moje objedn\xe1vky"})]})})(),Hs("dodatecne_dokumenty")&&(()=>{let e=0;return ss.forEach(n=>{var t,r,o;null!==(t=n._enriched)&&void 0!==t&&t.dodatecne_dokumenty&&Array.isArray(n._enriched.dodatecne_dokumenty)&&(e+=n._enriched.dodatecne_dokumenty.length),null!==(r=n._enriched)&&void 0!==r&&r.dodatecne_dokumenty||null===(o=n._enriched)||void 0===o||!o.dodatecne_dokumenty_count||(e+=n._enriched.dodatecne_dokumenty_count)}),e>0?(0,V.jsxs)(Fr,{$color:"#06b6d4",children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:e}),(0,V.jsx)(Ur,{$color:"#06b6d4",children:(0,V.jsx)(I.g,{icon:L.h8M})})]}),(0,V.jsx)(Wr,{children:"Dodat. dokumenty"})]}):null})(),Hs("vecna_kontrola")&&(()=>{let e=0,n=0;return ss.forEach(t=>{var r;null!==(r=t._enriched)&&void 0!==r&&r.vecna_kontrola&&(e++,"OK"!==t._enriched.vecna_kontrola.stav&&"SCHVALENO"!==t._enriched.vecna_kontrola.stav&&!0!==t._enriched.vecna_kontrola.provedena||n++),!0!==t.vecna_kontrola&&!0!==t.vecna_spravnost||(e++,n++)}),e>0?(0,V.jsxs)(Fr,{$color:"#10b981",title:"Schv\xe1leno: ".concat(n," z ").concat(e),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsxs)(Br,{children:[n,"/",e]}),(0,V.jsx)(Ur,{$color:"#10b981",children:(0,V.jsx)(I.g,{icon:L.SGM})})]}),(0,V.jsx)(Wr,{children:"V\u011bcn\xe1 kontrola"})]}):null})(),Hs("registr_smluv")&&(()=>{let e=0,n=0;return ss.forEach(t=>{var r,o;null!==(r=t._enriched)&&void 0!==r&&r.registr_smluv&&(e++,"AKTIVNI"!==t._enriched.registr_smluv.stav&&!0!==t._enriched.registr_smluv.aktivni||n++),(t.cislo_smlouvy||null!==(o=t._enriched)&&void 0!==o&&o.cislo_smlouvy)&&(e++,n++)}),e>0?(0,V.jsxs)(Fr,{$color:"#0ea5e9",title:"Aktivn\xedch: ".concat(n," z ").concat(e),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsx)(Br,{children:e}),(0,V.jsx)(Ur,{$color:"#0ea5e9",children:(0,V.jsx)(I.g,{icon:L.IJd})})]}),(0,V.jsx)(Wr,{children:"Registr smluv"})]}):null})(),Hs("faze_dokonceni")&&(()=>{let e=0,n=0;return ss.forEach(t=>{var r,o,a;(null!==(r=t._enriched)&&void 0!==r&&r.faze_dokonceni||t.dokonceno)&&(e++,1!==t.dokonceno&&"DOKONCENO"!==(null===(o=t._enriched)||void 0===o||null===(a=o.faze_dokonceni)||void 0===a?void 0:a.stav)||n++)}),e>0?(0,V.jsxs)(Fr,{$color:"#ec4899",title:"Dokon\u010deno: ".concat(n," z ").concat(e),children:[(0,V.jsxs)(Zr,{children:[(0,V.jsxs)(Br,{children:[n,"/",e]}),(0,V.jsx)(Ur,{$color:"#ec4899",children:(0,V.jsx)(I.g,{icon:L.KMJ})})]}),(0,V.jsx)(Wr,{children:"F\xe1ze dokon\u010den\xed"})]}):null})()]})})]}),vt&&(0,V.jsxs)(ho,{children:[(0,V.jsxs)(mo,{children:[(0,V.jsxs)("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,V.jsx)(I.g,{icon:L.mRM,style:{color:"#3b82f6"}}),"Filtry a vyhled\xe1v\xe1n\xed"]}),(0,V.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,V.jsx)(_r.z,{text:"Vymazat v\u0161echny filtry a zobrazit v\u0161echny objedn\xe1vky",icon:"warning",preferredPosition:"bottom",children:(0,V.jsxs)(Lr,{onClick:()=>{Ot(""),Dt([]),Lt(""),$t([]),Vt([]),Ft([]),Ut(""),Ht(""),Yt(""),Xt(""),At(null),pr({dt_objednavky:"",cislo_objednavky:"",predmet:"",objednatel:"",stav_objednavky:"",max_cena_s_dph:"",garant:"",schvalovatel:""});const e=G||"anon";localStorage.removeItem("orders25List_globalFilter"),localStorage.removeItem("orders25List_statusFilter"),localStorage.removeItem("orders25List_userFilter"),localStorage.removeItem("orders25List_selectedObjednatel"),localStorage.removeItem("orders25List_selectedGarant"),localStorage.removeItem("orders25List_selectedSchvalovatel"),localStorage.removeItem("orders25_dateFrom_".concat(e)),localStorage.removeItem("orders25_dateTo_".concat(e)),localStorage.removeItem("orders25List_amountFrom"),localStorage.removeItem("orders25List_amountTo"),localStorage.removeItem("orders25List_activeStatusFilter")},style:{backgroundColor:"#dc2626",borderColor:"#dc2626",color:"white"},children:[(0,V.jsx)(I.g,{icon:L.IP$}),"Vymazat filtry"]})}),(0,V.jsx)(_r.z,{text:"Na\u010d\xedst vlastn\xed filtr stav\u016f z va\u0161ich nastaven\xed (Profil \u2192 Nastaven\xed \u2192 V\xfdchoz\xed filtry stav\u016f objedn\xe1vek)",icon:"info",preferredPosition:"bottom",children:(0,V.jsxs)(Lr,{onClick:()=>{try{const e=oe("orders25List_statusFilter");localStorage.removeItem(e);const n=(0,v.loadSettingsFromLocalStorage)(parseInt(G,10));if(null!==n&&void 0!==n&&n.vychozi_filtry_stavu_objednavek&&Array.isArray(n.vychozi_filtry_stavu_objednavek)){const e=n.vychozi_filtry_stavu_objednavek;Dt(e),ie("orders25List_statusFilter",e),ee&&ee("Na\u010dten vlastn\xed filtr stav\u016f (".concat(e.length," ").concat(1===e.length?"stav":e.length<5?"stavy":"stav\u016f",")"),"success")}else ee&&ee("Vlastn\xed filtr stav\u016f nen\xed nastaven. Nastavte ho v Profilu \u2192 Nastaven\xed.","info")}catch(e){console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed vlastn\xedho filtru:",e),ee&&ee("Chyba p\u0159i na\u010d\xedt\xe1n\xed vlastn\xedho filtru stav\u016f","error")}},style:{backgroundColor:(()=>{try{const e=(0,v.loadSettingsFromLocalStorage)(parseInt(G,10)),n=null===e||void 0===e?void 0:e.vychozi_filtry_stavu_objednavek;if(n&&Array.isArray(n)&&n.length>0&&Rt.length===n.length&&Rt.every(e=>n.includes(e)))return"#3b82f6"}catch(e){}return"transparent"})(),borderColor:"#3b82f6",color:(()=>{try{const e=(0,v.loadSettingsFromLocalStorage)(parseInt(G,10)),n=null===e||void 0===e?void 0:e.vychozi_filtry_stavu_objednavek;if(n&&Array.isArray(n)&&n.length>0&&Rt.length===n.length&&Rt.every(e=>n.includes(e)))return"white"}catch(e){}return"#3b82f6"})()},children:[(0,V.jsx)(I.g,{icon:L.mRM}),"Vlastn\xed"]})}),(0,V.jsx)(_r.z,{text:ht?"Skr\xfdt roz\u0161\xed\u0159en\xe9 filtry (zobrazit pouze z\xe1kladn\xed vyhled\xe1v\xe1n\xed)":"Zobrazit roz\u0161\xed\u0159en\xe9 filtry (stav, fakturace, u\u017eivatel\xe9, lokality...)",icon:"info",preferredPosition:"bottom",children:(0,V.jsxs)(Lr,{onClick:()=>{const e=!ht;mt(e),ie("orders25List_showFilters",e)},children:[(0,V.jsx)(I.g,{icon:ht?L.w2A:L.Jt$}),ht?"Skr\xfdt filtry":"Roz\u0161\xed\u0159en\xfd filtr"]})}),(0,V.jsx)(_r.z,{text:"Skr\xfdt cel\xfd panel filtr\u016f a vyhled\xe1v\xe1n\xed",icon:"info",preferredPosition:"bottom",children:(0,V.jsxs)(Lr,{onClick:()=>{pt(!1),ie("orders25List_showFiltersPanel",!1)},children:[(0,V.jsx)(I.g,{icon:L.GRI}),"Skr\xfdt"]})})]})]}),(0,V.jsxs)(fo,{children:[(0,V.jsxs)(xo,{children:[(0,V.jsx)(I.g,{icon:L.MjD}),"Fulltext vyhled\xe1v\xe1n\xed",(0,V.jsxs)(to,{title:"Vyhled\xe1v\xe1n\xed bez diakritiky a bez rozli\u0161en\xed velikosti p\xedsmen. \ud83d\udca1 Tip: SHIFT+Enter rozbal\xed/zabal\xed v\u0161echny \u0159\xe1dky se shodou vyhled\xe1v\xe1n\xed",children:["\ud83d\udca1 Bez diakritiky \u2022 ",(0,V.jsx)("kbd",{children:"Shift"})," + ",(0,V.jsx)("kbd",{children:"Enter"})," rozbal\xed \u0159\xe1dky se shodou vyhled\xe1v\xe1n\xed"]})]}),(0,V.jsxs)(ko,{children:[(0,V.jsx)(I.g,{icon:L.MjD}),(0,V.jsx)(yo,{type:"text",placeholder:"Hledat v eviden\u010dn\xedm \u010d\xedsle, p\u0159edm\u011btu, objednateli...",value:Et,onChange:e=>Ot(e.target.value),onKeyDown:e=>{if("Enter"===e.key&&e.shiftKey&&(e.preventDefault(),ss&&ss.length>0)){if(ss.every((e,n)=>El[n]))Ol({}),null===ee||void 0===ee||ee("Zabaleno ".concat(ss.length," ").concat(1===ss.length?"objedn\xe1vka":ss.length<5?"objedn\xe1vky":"objedn\xe1vek"),{type:"info",duration:2e3});else{const e={};ss.forEach((n,t)=>{e[t]=!0}),Ol(e),null===ee||void 0===ee||ee("Rozbaleno ".concat(ss.length," ").concat(1===ss.length?"objedn\xe1vka":ss.length<5?"objedn\xe1vky":"objedn\xe1vek"),{type:"success",duration:2e3})}}},hasIcon:!0,title:"Fulltextov\xe9 vyhled\xe1v\xe1n\xed bez diakritiky a bez rozli\u0161en\xed velikosti p\xedsmen.\n\ud83d\udca1 Tip: SHIFT+Enter pro rozbalen\xed/zabalen\xed v\u0161ech v\xfdsledk\u016f"}),Et&&(0,V.jsx)(_o,{onClick:()=>Ot(""),title:"Vymazat",children:(0,V.jsx)(I.g,{icon:L.GRI})})]})]}),ht&&(0,V.jsxs)(go,{children:[(0,V.jsxs)(fo,{children:[(0,V.jsxs)(xo,{children:[(0,V.jsxs)(bo,{children:[(0,V.jsx)(I.g,{icon:L.X46}),"Objednatel"]}),(0,V.jsx)(jo,{type:"button",visible:Tt.length>0,onClick:()=>{$t([]),mr(e=>(0,r.A)((0,r.A)({},e),{},{objednatel:""})),ie("orders25List_selectedObjednatel",[])},title:"Vymazat filtr",children:(0,V.jsx)(I.g,{icon:L.GRI})})]}),(0,V.jsx)(P.y,{children:(0,V.jsx)($i,{field:"selectedObjednatel",value:Tt,onChange:e=>{const n=e.target.options,t=[];for(let r=0;r<n.length;r++)n[r].selected&&n[r].value&&t.push(n[r].value);if($t(t),ie("orders25List_selectedObjednatel",t),0===t.length)mr(e=>(0,r.A)((0,r.A)({},e),{},{objednatel:""}));else{const e=t.join("|");mr(n=>(0,r.A)((0,r.A)({},n),{},{objednatel:e}))}},options:_l,placeholder:"Vyberte objednatele...",icon:(0,V.jsx)(I.g,{icon:L.X46})})})]}),(0,V.jsxs)(fo,{children:[(0,V.jsxs)(xo,{children:[(0,V.jsxs)(bo,{children:[(0,V.jsx)(I.g,{icon:L.X46}),"Garant"]}),(0,V.jsx)(jo,{type:"button",visible:Pt.length>0,onClick:()=>{Vt([]),mr(e=>(0,r.A)((0,r.A)({},e),{},{garant:""})),ie("orders25List_selectedGarant",[])},title:"Vymazat filtr",children:(0,V.jsx)(I.g,{icon:L.GRI})})]}),(0,V.jsx)(P.y,{children:(0,V.jsx)($i,{field:"selectedGarant",value:Pt,onChange:e=>{const n=e.target.options,t=[];for(let r=0;r<n.length;r++)n[r].selected&&n[r].value&&t.push(n[r].value);if(Vt(t),ie("orders25List_selectedGarant",t),0===t.length)mr(e=>(0,r.A)((0,r.A)({},e),{},{garant:""}));else{const e=t.join("|");mr(n=>(0,r.A)((0,r.A)({},n),{},{garant:e}))}},options:_l,placeholder:"Vyberte garanty...",icon:(0,V.jsx)(I.g,{icon:L.X46})})})]}),(0,V.jsxs)(fo,{children:[(0,V.jsxs)(xo,{children:[(0,V.jsxs)(bo,{children:[(0,V.jsx)(I.g,{icon:L.X46}),"P\u0159\xedkazce"]}),(0,V.jsx)(jo,{type:"button",visible:Bt.length>0,onClick:()=>{Wt([]),mr(e=>(0,r.A)((0,r.A)({},e),{},{prikazce:""})),ie("orders25List_selectedPrikazce",[])},title:"Vymazat filtr",children:(0,V.jsx)(I.g,{icon:L.GRI})})]}),(0,V.jsx)(P.y,{children:(0,V.jsx)($i,{field:"selectedPrikazce",value:Bt,onChange:e=>{const n=e.target.options,t=[];for(let r=0;r<n.length;r++)n[r].selected&&n[r].value&&t.push(n[r].value);if(Wt(t),ie("orders25List_selectedPrikazce",t),0===t.length)mr(e=>(0,r.A)((0,r.A)({},e),{},{prikazce:""}));else{const e=t.join("|");mr(n=>(0,r.A)((0,r.A)({},n),{},{prikazce:e}))}},options:kl,placeholder:"Vyberte p\u0159\xedkazce...",icon:(0,V.jsx)(I.g,{icon:L.X46})})})]}),(0,V.jsxs)(fo,{children:[(0,V.jsxs)(xo,{children:[(0,V.jsxs)(bo,{children:[(0,V.jsx)(I.g,{icon:L.V2x}),"Schvalovatel"]}),(0,V.jsx)(jo,{type:"button",visible:Mt.length>0,onClick:()=>{Ft([]),mr(e=>(0,r.A)((0,r.A)({},e),{},{schvalovatel:""})),ie("orders25List_selectedSchvalovatel",[])},title:"Vymazat filtr",children:(0,V.jsx)(I.g,{icon:L.GRI})})]}),(0,V.jsx)(P.y,{children:(0,V.jsx)($i,{field:"selectedSchvalovatel",value:Mt,onChange:e=>{const n=e.target.options,t=[];for(let r=0;r<n.length;r++)n[r].selected&&n[r].value&&t.push(n[r].value);if(Ft(t),ie("orders25List_selectedSchvalovatel",t),0===t.length)mr(e=>(0,r.A)((0,r.A)({},e),{},{schvalovatel:""}));else{const e=t.join("|");mr(n=>(0,r.A)((0,r.A)({},n),{},{schvalovatel:e}))}},options:kl,placeholder:"Vyberte schvalovatele...",icon:(0,V.jsx)(I.g,{icon:L.V2x})})})]}),(0,V.jsxs)(fo,{children:[(0,V.jsxs)(xo,{children:[(0,V.jsxs)(bo,{children:[(0,V.jsx)(I.g,{icon:L.ITF}),"Stav objedn\xe1vky"]}),(0,V.jsx)(jo,{type:"button",visible:Rt.length>0,onClick:()=>{Dt([]),ie("orders25List_statusFilter",[])},title:"Vymazat filtr",children:(0,V.jsx)(I.g,{icon:L.GRI})})]}),(0,V.jsx)(P.y,{children:(0,V.jsx)($i,{field:"statusFilter",value:Rt,onChange:e=>{const n=e.target.options,t=[];for(let r=0;r<n.length;r++)n[r].selected&&n[r].value&&t.push(n[r].value);Dt(t),ie("orders25List_statusFilter",t)},options:yl,placeholder:"Vyberte stavy...",icon:(0,V.jsx)(I.g,{icon:L.ITF})})})]}),(0,V.jsxs)(Co,{children:[(0,V.jsxs)(xo,{children:[(0,V.jsxs)(bo,{children:[(0,V.jsx)(I.g,{icon:L.BEE}),"Datum od - do"]}),(0,V.jsx)(jo,{type:"button",visible:Zt||Kt,onClick:()=>{Ut(""),Ht("");const e=G||"anon";localStorage.removeItem("orders25_dateFrom_".concat(e)),localStorage.removeItem("orders25_dateTo_".concat(e))},title:"Vymazat filtr",children:(0,V.jsx)(I.g,{icon:L.GRI})})]}),(0,V.jsxs)(No,{children:[(0,V.jsx)(Eo,{children:(0,V.jsx)(Pi,{value:Zt||"",onChange:e=>Ut(e||""),placeholder:"Datum od"})}),(0,V.jsx)(Oo,{children:"\u2014"}),(0,V.jsx)(Eo,{children:(0,V.jsx)(Pi,{value:Kt||"",onChange:e=>Ht(e||""),placeholder:"Datum do"})})]})]}),(0,V.jsxs)(zo,{children:[(0,V.jsxs)(xo,{children:[(0,V.jsxs)(bo,{children:[(0,V.jsx)(I.g,{icon:L.ymQ}),"Cena od - do (K\u010d)"]}),(0,V.jsx)(jo,{type:"button",visible:Gt||Jt,onClick:()=>{Yt(""),Xt("")},title:"Vymazat filtr",children:(0,V.jsx)(I.g,{icon:L.GRI})})]}),(0,V.jsxs)(Ao,{children:[(0,V.jsxs)(wo,{children:[(0,V.jsx)(I.g,{icon:L.ymQ}),(0,V.jsx)(yo,{type:"text",placeholder:"0",value:Ps(Gt),onChange:e=>{const n=e.target.value,t=Vs(n);Yt(t)},hasIcon:!0,style:{textAlign:"right",paddingRight:"2.5rem"}})]}),(0,V.jsx)(So,{children:"\u2014"}),(0,V.jsxs)(wo,{children:[(0,V.jsx)(I.g,{icon:L.ymQ}),(0,V.jsx)(yo,{type:"text",placeholder:"\u221e",value:Ps(Jt),onChange:e=>{const n=e.target.value,t=Vs(n);Xt(t)},hasIcon:!0,style:{textAlign:"right",paddingRight:"2.5rem"}})]})]})]}),(0,V.jsxs)(fo,{children:[(0,V.jsx)(xo,{children:(0,V.jsxs)(bo,{children:[(0,V.jsx)(I.g,{icon:L.IJd}),"Stav registru"]})}),(0,V.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,V.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:qt?"600":"400",color:qt?"#f59e0b":"#4b5563"},children:[(0,V.jsx)("input",{type:"checkbox",checked:qt,onChange:e=>{Qt(e.target.checked),ie("orders25List_filterMaBytZverejneno",e.target.checked)},style:{cursor:"pointer",width:"16px",height:"16px",accentColor:"#f59e0b"}}),(0,V.jsx)("span",{children:"M\xe1 b\xfdt zve\u0159ejn\u011bno"})]}),(0,V.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:er?"600":"400",color:er?"#10b981":"#4b5563"},children:[(0,V.jsx)("input",{type:"checkbox",checked:er,onChange:e=>{nr(e.target.checked),ie("orders25List_filterByloZverejneno",e.target.checked)},style:{cursor:"pointer",width:"16px",height:"16px",accentColor:"#10b981"}}),(0,V.jsx)("span",{children:"Bylo ji\u017e zve\u0159ejn\u011bno"})]})]})]}),(0,V.jsxs)(fo,{children:[(0,V.jsx)(xo,{children:(0,V.jsxs)(bo,{children:[(0,V.jsx)(I.g,{icon:L.b6I}),"Mimo\u0159\xe1dn\xe9 ud\xe1losti"]})}),(0,V.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:(0,V.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:tr?"600":"400",color:tr?"#dc2626":"#4b5563"},children:[(0,V.jsx)("input",{type:"checkbox",checked:tr,onChange:e=>{rr(e.target.checked),ie("orders25List_filterMimoradneObjednavky",e.target.checked)},style:{cursor:"pointer",width:"16px",height:"16px",accentColor:"#dc2626"}}),(0,V.jsx)("span",{style:{display:"flex",alignItems:"center",gap:"0.35rem"},children:"Krize / Hav\xe1rie"})]})})]})]})]}),(0,V.jsx)(Fo,{ref:Le,$showLeftShadow:Ae,$showRightShadow:Se,children:(0,V.jsxs)(Bo,{ref:Te,children:[(0,V.jsxs)(Uo,{children:[(0,V.jsxs)(Ko,{children:[cs.getHeaderGroups().map(e=>(0,V.jsx)("tr",{children:e.headers.map(e=>(0,V.jsx)(Go,{onClick:e.column.getCanSort()?e.column.getToggleSortingHandler():void 0,style:{cursor:e.column.getCanSort()?"pointer":"default",width:e.getSize()},children:(0,V.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,Cr.Kv)(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&e.column.getIsSorted()&&(0,V.jsx)(I.g,{icon:"asc"===e.column.getIsSorted()?L.w2A:L.Jt$})]})},e.id))},e.id)),(0,V.jsx)("tr",{children:null===($=cs.getHeaderGroups()[0])||void 0===$?void 0:$.headers.map(e=>(0,V.jsx)(Go,{style:{padding:"0.5rem",backgroundColor:"#f8f9fa",borderTop:"1px solid #e5e7eb"},children:"select"===e.id?(0,V.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"32px"},children:(0,V.jsx)("input",{type:"checkbox",checked:cs.getIsAllRowsSelected(),ref:e=>{e&&(e.indeterminate=cs.getIsSomeRowsSelected()&&!cs.getIsAllRowsSelected())},onChange:cs.getToggleAllRowsSelectedHandler(),style:{cursor:"pointer",width:"18px",height:"18px"},title:cs.getIsAllRowsSelected()?"Zru\u0161it v\xfdb\u011br v\u0161ech":"Vybrat v\u0161e"})}):"expander"===e.id?(0,V.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"32px"},children:(0,V.jsx)(To,{onClick:ds,title:cs.getIsSomeRowsExpanded()?"Sbalit v\u0161echny \u0159\xe1dky":"Rozbalit v\u0161echny \u0159\xe1dky",children:(0,V.jsx)(I.g,{icon:cs.getIsSomeRowsExpanded()?L.EZy:L.QLR})})}):"actions"===e.id?(0,V.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"3px",height:"32px"},children:[(()=>{const e=cs.getSelectedRowModel().rows.length;if(e>0){const n=cs.getSelectedRowModel().rows.map(e=>e.original),t=n.filter(e=>"Ke schv\xe1len\xed"===e.stav_objednavky).length,r=n.filter(e=>hs(e)).length;return(0,V.jsxs)(V.Fragment,{children:[t>0&&(K("ADMIN")||K("ORDER_APPROVE"))&&(0,V.jsxs)(To,{onClick:()=>{const e=n.filter(e=>"Ke schv\xe1len\xed"===e.stav_objednavky);Yn(e),Hn(!0)},title:"Schv\xe1lit ".concat(t," vybran\xfdch objedn\xe1vek (stav Ke schv\xe1len\xed)"),style:{color:"#059669"},children:[(0,V.jsx)(I.g,{icon:L.SGM}),(0,V.jsx)(Lo,{children:t})]}),r>0&&(0,V.jsxs)(To,{onClick:()=>{const e=n.filter(e=>hs(e));Fn(e);const t={},r={};e.forEach(e=>{t[e.id]=e.schvalovatel_id||e.schvalovatel||null;const n=gs(e);n.length>0&&(r[e.id]=n[0].value)}),Wn(t),Un(r),Vn(!0)},title:"Generovat DOCX pro ".concat(r," vybran\xfdch objedn\xe1vek (f\xe1ze Rozpracovan\xe1+)"),style:{color:"#0891b2"},children:[(0,V.jsx)(I.g,{icon:L.W1P}),(0,V.jsx)(Lo,{children:r})]}),(0,V.jsxs)(To,{onClick:()=>{Qn(n),Xn(!0)},title:"Smazat ".concat(e," vybran\xfdch objedn\xe1vek"),style:{color:"#dc2626"},children:[(0,V.jsx)(I.g,{icon:L.yLS}),(0,V.jsx)(Lo,{children:e})]})]})}return null})(),(0,V.jsx)(To,{onClick:Ms,title:"Vymazat filtry sloupc\u016f",children:(0,V.jsx)(I.g,{icon:L.IP$})}),(0,V.jsx)(To,{onClick:Fs,title:gr?"Vypnout zv\xfdraz\u0148ov\xe1n\xed \u0159\xe1dk\u016f podle stavu objedn\xe1vky\n(koncepty z\u016fstanou v\u017edy zv\xfdrazn\u011bn\xe9)":"Zapnout zv\xfdraz\u0148ov\xe1n\xed \u0159\xe1dk\u016f podle stavu objedn\xe1vky\n(ka\u017ed\xfd stav m\xe1 svou barvu)",className:gr?"active":"",children:(0,V.jsx)(I.g,{icon:L.fyG})})]}):(0,V.jsxs)(Ro,{children:[(0,V.jsx)(I.g,{icon:L.MjD}),(0,V.jsx)(Io,{type:"text",placeholder:"Hledat ".concat(e.column.columnDef.header,"..."),value:vr[e.column.columnDef.accessorKey]||"",onChange:n=>{const t=(0,r.A)({},vr);t[e.column.columnDef.accessorKey]=n.target.value,pr(t)}}),vr[e.column.columnDef.accessorKey]&&(0,V.jsx)(Do,{onClick:()=>{const n=(0,r.A)({},vr);delete n[e.column.columnDef.accessorKey],pr(n)},title:"Vymazat",children:(0,V.jsx)(I.g,{icon:L.GRI})})]})},"filter-".concat(e.id)))})]}),(0,V.jsx)("tbody",{children:0===ce.length?(0,V.jsx)("tr",{children:(0,V.jsx)("td",{colSpan:is.length,style:{padding:0},children:(0,V.jsxs)($o,{children:[(0,V.jsx)(Po,{children:(0,V.jsx)(I.g,{icon:L.HoF})}),(0,V.jsx)(Vo,{children:"Zat\xedm nem\xe1te \u017e\xe1dnou objedn\xe1vku"}),(0,V.jsx)(Mo,{children:'Vytvo\u0159te svou prvn\xed objedn\xe1vku kliknut\xedm na tla\u010d\xedtko "Nov\xe1 objedn\xe1vka" v\xfd\u0161e.'})]})})}):0===cs.getRowModel().rows.length?(0,V.jsx)("tr",{children:(0,V.jsxs)("td",{colSpan:is.length,style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:[(0,V.jsx)(I.g,{icon:L.mRM,style:{fontSize:"2rem",marginBottom:"1rem",opacity:.5}}),(0,V.jsx)("div",{children:"\u017d\xe1dn\xe9 objedn\xe1vky nevyhovuj\xed nastaven\xfdm filtr\u016fm"})]})}):cs.getRowModel().rows.map((e,n)=>(0,V.jsxs)(a.Fragment,{children:[(0,V.jsx)(Ho,{$order:e.original,$isDraft:e.original.isDraft||!1,$hasLocalChanges:e.original.hasLocalDraftChanges||!1,$showHighlighting:gr,$isHighlighted:cr&&(e.original.id===cr||e.original.cislo_objednavky===cr),onContextMenu:ys,onDoubleClick:()=>xs(e.original),"data-order-id":e.original.cislo_objednavky||e.original.id,"data-order-index":n+wl*zl,children:e.getVisibleCells().map(e=>(0,V.jsx)(Yo,{children:(0,Cr.Kv)(e.column.columnDef.cell,e.getContext())},e.id))}),e.getIsExpanded()&&(0,V.jsx)(Ho,{$order:e.original,$showHighlighting:gr,children:(0,V.jsx)(Yo,{colSpan:is.length,style:{padding:0,borderBottom:"1px solid #000"},children:Qs(e.original)})})]},e.id))})]}),(0,V.jsxs)(fa,{children:[(0,V.jsxs)(xa,{children:["Zobrazeno ",cs.getRowModel().rows.length," z ",ss.length," objedn\xe1vek",ss.length!==ce.length&&(0,V.jsxs)("span",{children:[" (filtrov\xe1no z ",ce.length,")"]})]}),(0,V.jsxs)(ba,{children:[(0,V.jsx)("span",{style:{fontSize:"0.875rem",color:"#64748b",marginRight:"1rem"},children:"Zobrazit:"}),(0,V.jsxs)(ka,{value:zl,onChange:e=>{const n=parseInt(e.target.value);Al(n),ie("orders25List_pageSize",n),Sl(0),ie("orders25List_pageIndex",0)},children:[(0,V.jsx)("option",{value:10,children:"10"}),(0,V.jsx)("option",{value:25,children:"25"}),(0,V.jsx)("option",{value:50,children:"50"}),(0,V.jsx)("option",{value:100,children:"100"}),(0,V.jsx)("option",{value:250,children:"250"})]}),(0,V.jsx)(ja,{onClick:()=>{Wl(),Sl(0),ie("orders25List_pageIndex",0)},disabled:!cs.getCanPreviousPage(),children:"\xab\xab"}),(0,V.jsx)(ja,{onClick:()=>{Wl();const e=Math.max(0,wl-1);Sl(e),ie("orders25List_pageIndex",e)},disabled:!cs.getCanPreviousPage(),children:"\u2039"}),(0,V.jsxs)("span",{style:{fontSize:"0.875rem",color:"#64748b",margin:"0 1rem"},children:["Str\xe1nka ",cs.getState().pagination.pageIndex+1," z ",cs.getPageCount()]}),(0,V.jsx)(ja,{onClick:()=>{Wl();const e=Math.min(us-1,wl+1);Sl(e),ie("orders25List_pageIndex",e)},disabled:!cs.getCanNextPage(),children:"\u203a"}),(0,V.jsx)(ja,{onClick:()=>{Wl();const e=us-1;Sl(e),ie("orders25List_pageIndex",e)},disabled:!cs.getCanNextPage(),children:"\xbb\xbb"})]})]})]})}),(0,i.createPortal)((0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(Wo,{$visible:ke,$tableHovered:Ne,$arrowHovered:Oe,onClick:()=>{const e=De.current;if(!e)return;const n=.8*e.clientWidth;e.scrollBy({left:-n,behavior:"smooth"})},onMouseEnter:()=>Re(!0),onMouseLeave:()=>Re(!1),disabled:!ke,"aria-label":"Scrollovat doleva",children:(0,V.jsx)(I.g,{icon:L.Wzs})}),(0,V.jsx)(Zo,{$visible:ye,$tableHovered:Ne,$arrowHovered:Oe,onClick:()=>{const e=De.current;if(!e)return;const n=.8*e.clientWidth;e.scrollBy({left:n,behavior:"smooth"})},onMouseEnter:()=>Re(!0),onMouseLeave:()=>Re(!1),disabled:!ye,"aria-label":"Scrollovat doprava",children:(0,V.jsx)(I.g,{icon:L.XkK})})]}),document.body),(0,V.jsxs)(p.A,{isOpen:gn,onClose:()=>{fn(!1),bn(null),kn(null)},onConfirm:()=>{xn?bs():(zr.default.setCurrentUser(G),zr.default.deleteDraft(),localStorage.removeItem("activeOrderEditId"),fn(!1),bn(null),kn(null),"/order-form-25"===window.location.pathname?(console.log("\ud83d\udd0d [ORDERS25LIST DEBUG] Hard reload to new order:",{url:"/order-form-25",method:"window.location.href",reason:"Already on form - forcing hard reload after draft deletion"}),window.location.href="/order-form-25"):(console.log("\ud83d\udd0d [ORDERS25LIST DEBUG] Navigate to new order (after confirm):",{url:"/order-form-25",method:"navigate",reason:"Not on form - normal navigate after draft deletion"}),M("/order-form-25")))},title:xn?"Potvrzen\xed editace objedn\xe1vky":"Potvrzen\xed vytvo\u0159en\xed nov\xe9 objedn\xe1vky",icon:L.zpE,variant:"warning",confirmText:"Ano, pokra\u010dovat",cancelText:"Ne, zru\u0161it",children:[xn?(0,V.jsxs)("p",{children:["Chyst\xe1te se editovat objedn\xe1vku ",(0,V.jsxs)("strong",{children:['"',(null===xn||void 0===xn?void 0:xn.cislo_objednavky)||(null===xn||void 0===xn?void 0:xn.predmet)||(null===xn||void 0===xn?void 0:xn.ev_cislo)||(null!==xn&&void 0!==xn&&xn.id?"ID ".concat(xn.id):"nezn\xe1m\xe1 objedn\xe1vka"),'"']}),"."]}):(0,V.jsxs)("p",{children:["Chyst\xe1te se vytvo\u0159it ",(0,V.jsx)("strong",{children:"novou objedn\xe1vku"}),"."]}),!1,(()=>{if(!jn)return null;try{const e=jn.formData||jn,n=e.ev_cislo||e.cislo_objednavky||e.predmet||"\u2605 KONCEPT \u2605",t=(0,yr.V5)(jn);return(0,V.jsxs)("p",{style:{background:"#fef3c7",padding:"0.75rem",borderRadius:"6px",border:"1px solid #f59e0b",margin:"0.5rem 0"},children:[(0,V.jsx)("strong",{children:"Pozor:"})," M\xe1te rozepracovanou ",t?"novou objedn\xe1vku":"editaci objedn\xe1vky"," ",(0,V.jsx)("strong",{children:n}),". ",xn?"P\u0159epnut\xedm na jinou objedn\xe1vku":"Vytvo\u0159en\xedm nov\xe9 objedn\xe1vky"," p\u0159ijdete o neulo\u017een\xe9 zm\u011bny!"]})}catch(he){return null}})(),xn?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("p",{children:[(0,V.jsx)("strong",{children:"Varov\xe1n\xed:"})," T\xedmto budou zru\u0161eny v\u0161echny p\u0159\xedpadn\xe9 neulo\u017een\xe9 zm\u011bny v jin\xfdch objedn\xe1vk\xe1ch a m\u016f\u017ee doj\xedt ke ztr\xe1t\u011b dat."]}),(0,V.jsx)("p",{children:"Chcete pokra\u010dovat v editaci?"})]}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("p",{children:[(0,V.jsx)("strong",{children:"Varov\xe1n\xed:"})," T\xedmto budou zru\u0161eny v\u0161echny neulo\u017een\xe9 zm\u011bny v sou\u010dasn\xe9 objedn\xe1vce a m\u016f\u017ee doj\xedt ke ztr\xe1t\u011b dat."]}),(0,V.jsx)("p",{children:"Chcete vytvo\u0159it novou objedn\xe1vku a zahodit neulo\u017een\xe9 zm\u011bny?"})]})]}),(0,V.jsxs)(p.A,{isOpen:wn,onClose:()=>{Sn(!1),bn(null)},onConfirm:async()=>{Sn(!1),zr.default.setCurrentUser(G);let e=!1,n=!1;if(await zr.default.hasDraft())try{var t;const r=await zr.default.loadDraft(),o=r.savedOrderId||(null===(t=r.formData)||void 0===t?void 0:t.id),a=null===xn||void 0===xn?void 0:xn.id;if(o&&a&&String(o)===String(a))e=!1,n=!0;else{const n=(0,yr.V5)(r),t=(0,yr.NN)(r);e=n||t}}catch(he){e=!1}if(n&&xn){try{zr.default.setCurrentUser(G),zr.default.saveUIState({highlightOrderId:xn.id,editOrderId:xn.id})}catch(r){console.error("\u274c Chyba p\u0159i ukl\xe1d\xe1n\xed highlightOrderId:",r)}return console.log("\ud83d\udd0d [ORDERS25LIST DEBUG] Navigate from archived modal (draft matches):",{orderId:xn.id,isDraftForThisOrder:!0,isArchived:!0,url:"/order-form-25?edit=".concat(xn.id,"&archivovano=1"),reason:"Draft belongs to this archived order - no reload needed"}),void M("/order-form-25?edit=".concat(xn.id,"&archivovano=1"))}e?fn(!0):bs(xn)},title:"Varov\xe1n\xed - Importovan\xe1 objedn\xe1vka",icon:L.zpE,variant:"warning",confirmText:"Ano, rozum\xedm rizik\u016fm a chci pokra\u010dovat",cancelText:"Ne, zru\u0161it",children:[(0,V.jsxs)("p",{children:["Chyst\xe1te se editovat archivovanou objedn\xe1vku ",(0,V.jsxs)("strong",{children:['"',(null===xn||void 0===xn?void 0:xn.cislo_objednavky)||(null===xn||void 0===xn?void 0:xn.ev_cislo)||"nezn\xe1m\xe1 objedn\xe1vka",'"']}),"."]}),(0,V.jsxs)("p",{style:{background:"#fef3c7",padding:"0.75rem",borderRadius:"6px",border:"1px solid #f59e0b",margin:"0.75rem 0"},children:[(0,V.jsx)("strong",{children:"\u26a0\ufe0f UPOZORN\u011aN\xcd:"})," Tato objedn\xe1vka byla importov\xe1na z p\u016fvodn\xedho syst\xe9mu EEO a m\xe1 stav ",(0,V.jsx)("strong",{children:"ARCHIVOV\xc1NO"}),"."]}),(0,V.jsx)("p",{children:"Editace t\xe9to objedn\xe1vky m\u016f\u017ee ovlivnit p\u0159\xedpadn\xfd opakovan\xfd import dat, pokud bude prov\xe1d\u011bna aktualizace objedn\xe1vek ze star\xe9ho syst\xe9mu."}),(0,V.jsx)("p",{children:(0,V.jsx)("strong",{children:"D\u016fsledky editace:"})}),(0,V.jsxs)("ul",{style:{marginLeft:"1.5rem",marginTop:"0.5rem"},children:[(0,V.jsx)("li",{children:"Zm\u011bny v objedn\xe1vce mohou b\xfdt p\u0159eps\xe1ny p\u0159i opakovan\xe9m importu"}),(0,V.jsx)("li",{children:"Data nemus\xed odpov\xeddat p\u016fvodn\xedmu syst\xe9mu EEO"}),(0,V.jsx)("li",{children:"M\u016f\u017ee doj\xedt ke ztr\xe1t\u011b va\u0161ich \xfaprav"})]}),(0,V.jsx)("p",{style:{marginTop:"1rem"},children:"Opravdu chcete pokra\u010dovat v editaci?"})]}),(0,V.jsxs)(p.A,{isOpen:Cn,onClose:()=>{Nn(!1),bn(null)},onConfirm:()=>{Nn(!1),zr.default.setCurrentUser(G),zr.default.deleteDraft(),xn&&bs(xn)},title:"D\u016fle\u017eit\xe9 varov\xe1n\xed",icon:L.zpE,variant:"warning",confirmText:"Ano, rozum\xedm a chci pokra\u010dovat",cancelText:"Ne, zru\u0161it",children:[(0,V.jsxs)("p",{children:["Chyst\xe1te se editovat archivovanou objedn\xe1vku ",(0,V.jsxs)("strong",{children:['"',(null===xn||void 0===xn?void 0:xn.cislo_objednavky)||(null===xn||void 0===xn?void 0:xn.ev_cislo)||"nezn\xe1m\xe1 objedn\xe1vka",'"']}),"."]}),(0,V.jsxs)("div",{style:{background:"#fef3c7",padding:"0.75rem",borderRadius:"6px",border:"1px solid #f59e0b",margin:"0.75rem 0"},children:[(0,V.jsx)("strong",{children:"\u26a0\ufe0f VAROV\xc1N\xcd - ARCHIVOV\xc1NO:"}),(0,V.jsx)("br",{}),"Tato objedn\xe1vka byla importov\xe1na z p\u016fvodn\xedho syst\xe9mu EEO a m\xe1 stav ",(0,V.jsx)("strong",{children:"ARCHIVOV\xc1NO"}),". Editace m\u016f\u017ee b\xfdt p\u0159eps\xe1na p\u0159i opakovan\xe9m importu dat."]}),(0,V.jsxs)("div",{style:{background:"#fee2e2",padding:"0.75rem",borderRadius:"6px",border:"1px solid #ef4444",margin:"0.75rem 0"},children:[(0,V.jsx)("strong",{children:"\ud83d\uddd1\ufe0f ZTR\xc1TA KONCEPTU:"}),(0,V.jsx)("br",{}),"M\xe1te rozpracovanou objedn\xe1vku, kter\xe1 bude p\u0159i pokra\u010dov\xe1n\xed ",(0,V.jsx)("strong",{children:"ZTRACENA"})," a nelze ji obnovit!"]}),(0,V.jsx)("p",{style:{marginTop:"1rem"},children:(0,V.jsx)("strong",{children:"Co se stane po pokra\u010dov\xe1n\xed:"})}),(0,V.jsxs)("ul",{style:{marginLeft:"1.5rem",marginTop:"0.5rem"},children:[(0,V.jsxs)("li",{children:["V\xe1\u0161 rozpracovan\xfd koncept bude ",(0,V.jsx)("strong",{children:"trvale smaz\xe1n"})]}),(0,V.jsx)("li",{children:"Otev\u0159ete archivovanou objedn\xe1vku k editaci"}),(0,V.jsx)("li",{children:"Zm\u011bny mohou b\xfdt p\u0159eps\xe1ny p\u0159i budouc\xedm importu"})]}),(0,V.jsx)("p",{style:{marginTop:"1rem",fontWeight:"bold",color:"#dc2626"},children:"Opravdu chcete pokra\u010dovat a ztratit rozpracovanou objedn\xe1vku?"})]}),(0,V.jsxs)(p.A,{isOpen:_n,onClose:()=>{yn(!1),An(null)},onConfirm:()=>{K("ORDER_MANAGE")||K("ORDER_2025")?Is("hard"):Is("soft")},title:"Smaz\xe1n\xed objedn\xe1vky",icon:L.yLS,variant:"danger",confirmText:K("ORDER_MANAGE")||K("ORDER_2025")?"Smazat \xfapln\u011b":"Ozna\u010dit neaktivn\xed",cancelText:"Zru\u0161it",children:[(0,V.jsxs)("p",{children:["Chyst\xe1te se smazat objedn\xe1vku ",(0,V.jsxs)("strong",{children:['"',(null===zn||void 0===zn?void 0:zn.cislo_objednavky)||(null===zn||void 0===zn?void 0:zn.predmet)||"ID ".concat(null===zn||void 0===zn?void 0:zn.id),'"']}),"."]}),K("ORDER_MANAGE")||K("ORDER_2025")?(0,V.jsxs)("div",{children:[(0,V.jsx)("p",{children:(0,V.jsx)("strong",{children:"M\xe1te administr\xe1torsk\xe1 pr\xe1va. Vyberte zp\u016fsob smaz\xe1n\xed:"})}),(0,V.jsxs)("div",{style:{background:"#f3f4f6",padding:"1rem",borderRadius:"6px",margin:"1rem 0"},children:[(0,V.jsxs)("p",{children:[(0,V.jsx)("strong",{children:"Ozna\u010dit jako neaktivn\xed:"})," Objedn\xe1vka z\u016fstane v datab\xe1zi, ale nebude se zobrazovat v seznamech."]}),(0,V.jsxs)("p",{children:[(0,V.jsx)("strong",{children:"Smazat \xfapln\u011b:"})," Objedn\xe1vka bude natrvalo smaz\xe1na v\u010detn\u011b v\u0161ech polo\u017eek a p\u0159\xedloh. Tuto akci nelze vr\xe1tit zp\u011bt!"]})]}),(0,V.jsx)("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1rem"},children:(0,V.jsx)("button",{onClick:()=>Is("soft"),style:{padding:"0.875rem 1.75rem",border:"2px solid #d1d5db",borderRadius:"10px",fontWeight:"700",background:"white",color:"#6b7280",cursor:"pointer",fontSize:"0.9375rem",transition:"all 0.2s ease"},children:"Ozna\u010dit neaktivn\xed"})})]}):(0,V.jsx)("p",{children:"Objedn\xe1vka bude ozna\u010dena jako neaktivn\xed. Z\u016fstane v datab\xe1zi, ale nebude se zobrazovat v seznamech."})]}),Rn&&(0,V.jsx)(p.A,{isOpen:En,onClose:js,onConfirm:Rn.canForceUnlock?async()=>{if(Rn)try{const e=await(0,g.MU)({token:W,username:U,orderId:Rn.orderId,force:!0});if(e.success&&"forced"===e.unlock_type){ee("Objedn\xe1vka byla n\xe1siln\u011b odem\u010dena u\u017eivateli ".concat(Rn.lockedByUserName," a p\u0159evzata"),{type:"success"});(await(0,g.ro)({token:W,username:U,orderId:Rn.orderId})).success&&ee("Objedn\xe1vka byla zamknuta pro editaci",{type:"success"}),On(!1),Dn(null),xn&&bs(xn)}}catch(e){ee("Nepoda\u0159ilo se n\xe1siln\u011b odemknout objedn\xe1vku: ".concat(e.message),{type:"error"}),On(!1),Dn(null),bn(null)}}:js,title:Rn.canForceUnlock?"Objedn\xe1vka je zam\u010den\xe1":"Objedn\xe1vka nen\xed dostupn\xe1",icon:L.DW4,variant:"success",confirmText:Rn.canForceUnlock?"Odemknout a p\u0159evz\xedt":"Zav\u0159\xedt",cancelText:"Zru\u0161it",showCancel:Rn.canForceUnlock,children:Rn.canForceUnlock?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(Va,{children:"\u26a0\ufe0f Objedn\xe1vka je aktu\xe1ln\u011b editov\xe1na u\u017eivatelem:"}),(0,V.jsx)($a,{children:(0,V.jsx)("strong",{children:Rn.lockedByUserName})}),(Rn.lockedByUserEmail||Rn.lockedByUserTelefon)&&(0,V.jsxs)(Ma,{children:[Rn.lockedByUserEmail&&(0,V.jsxs)(Fa,{children:[(0,V.jsx)(I.g,{icon:L.y_8}),(0,V.jsx)(Ba,{children:"Email:"}),(0,V.jsx)("a",{href:"mailto:".concat(Rn.lockedByUserEmail),children:Rn.lockedByUserEmail})]}),Rn.lockedByUserTelefon&&(0,V.jsxs)(Fa,{children:[(0,V.jsx)(I.g,{icon:L.KKr}),(0,V.jsx)(Ba,{children:"Telefon:"}),(0,V.jsx)("a",{href:"tel:".concat(Rn.lockedByUserTelefon),children:Rn.lockedByUserTelefon})]})]}),null!==Rn.lockAgeMinutes&&void 0!==Rn.lockAgeMinutes&&(0,V.jsxs)(yi,{children:[(0,V.jsx)(I.g,{icon:L.a$}),"Zam\u010deno p\u0159ed ",Rn.lockAgeMinutes," ",1===Rn.lockAgeMinutes?"minutou":(Rn.lockAgeMinutes,"minutami")]}),(0,V.jsxs)(Pa,{children:["Jako ",(0,V.jsx)("strong",{children:Rn.userRoleName})," m\u016f\u017eete objedn\xe1vku n\xe1siln\u011b odemknout a p\u0159evz\xedt."]}),(0,V.jsx)(Va,{children:"\u26a0\ufe0f P\u016fvodn\xed u\u017eivatel bude informov\xe1n o p\u0159evzet\xed objedn\xe1vky a ztrat\xed neulo\u017een\xe9 zm\u011bny."})]}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(Pa,{children:"Objedn\xe1vka je aktu\xe1ln\u011b editov\xe1na u\u017eivatelem:"}),(0,V.jsx)($a,{children:(0,V.jsx)("strong",{children:Rn.lockedByUserName})}),(Rn.lockedByUserEmail||Rn.lockedByUserTelefon)&&(0,V.jsxs)(Ma,{children:[Rn.lockedByUserEmail&&(0,V.jsxs)(Fa,{children:[(0,V.jsx)(I.g,{icon:L.y_8}),(0,V.jsx)(Ba,{children:"Email:"}),(0,V.jsx)("a",{href:"mailto:".concat(Rn.lockedByUserEmail),children:Rn.lockedByUserEmail})]}),Rn.lockedByUserTelefon&&(0,V.jsxs)(Fa,{children:[(0,V.jsx)(I.g,{icon:L.KKr}),(0,V.jsx)(Ba,{children:"Telefon:"}),(0,V.jsx)("a",{href:"tel:".concat(Rn.lockedByUserTelefon),children:Rn.lockedByUserTelefon})]})]}),null!==Rn.lockAgeMinutes&&void 0!==Rn.lockAgeMinutes&&(0,V.jsxs)(yi,{children:[(0,V.jsx)(I.g,{icon:L.a$}),"Zam\u010deno p\u0159ed ",Rn.lockAgeMinutes," ",1===Rn.lockAgeMinutes?"minutou":(Rn.lockAgeMinutes,"minutami")]}),(0,V.jsx)(Pa,{children:"Nelze ji na\u010d\xedst pro editaci. Po\u010dkejte, a\u017e bude u\u017eivatel s editac\xed hotov\xfd, nebo ho kontaktujte."})]})}),In&&Tn&&(0,i.createPortal)((0,V.jsx)(zi,{onClick:e=>e.target===e.currentTarget&&ks(),children:(0,V.jsxs)(Ai,{onClick:e=>e.stopPropagation(),children:[(0,V.jsxs)(wi,{children:[(0,V.jsx)(Si,{children:"\u26a0\ufe0f"}),(0,V.jsx)(Ci,{children:"N\xc1SILN\xc9 P\u0158EVZET\xcd OBJEDN\xc1VKY"})]}),(0,V.jsxs)(Ni,{children:[(0,V.jsxs)(Ei,{children:[(0,V.jsx)("p",{children:(0,V.jsx)("strong",{children:"Va\u0161e objedn\xe1vka byla n\xe1siln\u011b p\u0159evzata jin\xfdm u\u017eivatelem!"})}),(0,V.jsxs)("p",{children:["Objedn\xe1vka ",(0,V.jsx)("strong",{children:Tn.orderNumber})," byla n\xe1siln\u011b odem\u010dena a p\u0159evzata. Va\u0161e neulo\u017een\xe9 zm\u011bny mohly b\xfdt ztraceny."]})]}),(0,V.jsxs)(Oi,{children:[(0,V.jsxs)(Ri,{children:[(0,V.jsx)(I.g,{icon:L.h8M}),(0,V.jsx)(Di,{children:"Objedn\xe1vka:"}),(0,V.jsx)(Ii,{children:Tn.orderNumber})]}),(0,V.jsxs)(Ri,{children:[(0,V.jsx)(I.g,{icon:L.X46}),(0,V.jsx)(Di,{children:"P\u0159evzal:"}),(0,V.jsx)(Ii,{children:Tn.lockedBy})]}),Tn.lockedByEmail&&(0,V.jsxs)(Ri,{children:[(0,V.jsx)(I.g,{icon:L.y_8}),(0,V.jsx)(Di,{children:"Email:"}),(0,V.jsx)(Ii,{children:(0,V.jsx)("a",{href:"mailto:".concat(Tn.lockedByEmail),style:{color:"#991b1b",textDecoration:"underline"},children:Tn.lockedByEmail})})]}),Tn.lockedByPhone&&(0,V.jsxs)(Ri,{children:[(0,V.jsx)(I.g,{icon:L.KKr}),(0,V.jsx)(Di,{children:"Telefon:"}),(0,V.jsx)(Ii,{children:(0,V.jsx)("a",{href:"tel:".concat(Tn.lockedByPhone),style:{color:"#991b1b",textDecoration:"underline"},children:Tn.lockedByPhone})})]}),(0,V.jsxs)(Ri,{children:[(0,V.jsx)(I.g,{icon:L.a$}),(0,V.jsx)(Di,{children:"\u010cas:"}),(0,V.jsx)(Ii,{children:new Date(Tn.lockedAt).toLocaleString("cs-CZ")})]})]}),(0,V.jsxs)(Li,{children:[(0,V.jsx)(Ti,{onClick:ks,children:"Zav\u0159\xedt"}),(0,V.jsxs)(Ti,{$primary:!0,onClick:async()=>{null!==Tn&&void 0!==Tn&&Tn.notificationId,await Kl(!0),ks(),null===ee||void 0===ee||ee("Seznam objedn\xe1vek byl aktualizov\xe1n",{type:"info"})},children:[(0,V.jsx)(I.g,{icon:L.SGM,style:{marginRight:"0.5rem"}}),"Rozum\xedm, aktualizovat seznam"]})]})]})]})}),document.body),dl&&(0,V.jsx)(Z,{x:dl.x,y:dl.y,order:dl.order,selectedData:dl.selectedData,onClose:zs,onAddToTodo:As,onAddAlarm:ws,onEdit:Ss,onDelete:Cs,onGenerateDocx:Ns,onGenerateFinancialControl:Es,canDelete:K("ORDER_MANAGE")||K("ORDER_DELETE_ALL")||K("ORDER_2025")||K("ORDER_DELETE_OWN")&&dl.order.uzivatel_id===re}),ul&&(0,V.jsx)(a.Suspense,{fallback:(0,V.jsx)("div",{children:"Na\u010d\xedt\xe1n\xed..."}),children:(0,V.jsx)(Er,{order:pl,isOpen:ul,onClose:Os})}),ml&&(0,V.jsx)(a.Suspense,{fallback:(0,V.jsx)("div",{children:"Na\u010d\xedt\xe1n\xed finan\u010dn\xed kontroly..."}),children:(0,V.jsx)(Or,{order:fl,onClose:()=>{gl(!1),xl(null)},generatedBy:{fullName:"".concat((null===Y||void 0===Y?void 0:Y.titul_pred)||""," ").concat((null===Y||void 0===Y?void 0:Y.jmeno)||""," ").concat((null===Y||void 0===Y?void 0:Y.prijmeni)||""," ").concat((null===Y||void 0===Y?void 0:Y.titul_za)||"").trim(),position:(null===Y||void 0===Y?void 0:Y.pozice)||"Pracovn\xedk"}})}),Pn&&(0,i.createPortal)((0,V.jsx)(si,{children:(0,V.jsxs)(di,{onClick:e=>e.stopPropagation(),children:[(0,V.jsxs)(ci,{children:[(0,V.jsxs)(ui,{children:[(0,V.jsx)(I.g,{icon:L.W1P}),"Hromadn\xe9 generov\xe1n\xed DOCX"]}),(0,V.jsx)("button",{onClick:()=>Vn(!1),style:{background:"transparent",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center"},children:(0,V.jsx)(I.g,{icon:L.GRI})})]}),(0,V.jsx)(vi,{children:Mn.map((e,n)=>(0,V.jsxs)(pi,{children:[(0,V.jsxs)(hi,{children:[(0,V.jsxs)(mi,{children:[(0,V.jsx)(I.g,{icon:L.p4e,style:{color:"#0891b2"}}),"Objedn\xe1vka #",e.cislo_objednavky||e.id]}),(0,V.jsx)("span",{style:{fontSize:"0.875rem",color:"#64748b",background:"#f1f5f9",padding:"0.25rem 0.75rem",borderRadius:"6px",fontWeight:"600"},children:e.stav_objednavky||"N/A"})]}),(0,V.jsxs)(gi,{children:[(0,V.jsx)("strong",{children:"P\u0159edm\u011bt objedn\xe1vky:"})," ",e.predmet||"Bez p\u0159edm\u011btu"]}),(0,V.jsxs)(gi,{children:[(0,V.jsx)("strong",{children:"Max. cena s DPH:"})," ",e.max_cena_s_dph?"".concat(parseFloat(e.max_cena_s_dph).toLocaleString("cs-CZ")," K\u010d"):"Neuvedeno"]}),(0,V.jsxs)(gi,{children:[(0,V.jsx)("strong",{children:"Dodavatel:"})," ",e.dodavatel_nazev||"N/A"]}),(0,V.jsxs)(fi,{children:[(0,V.jsx)(xi,{children:"\u0160ablona:"}),(0,V.jsxs)("select",{value:Zn[e.id]||"",onChange:n=>{const t=(0,r.A)((0,r.A)({},Zn),{},{[e.id]:n.target.value});Un(t),ie("bulkDocxTemplates",t)},style:{flex:1,padding:"0.75rem",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"0.875rem",cursor:"pointer",fontWeight:Zn[e.id]?"600":"400",color:Zn[e.id]?"#1f2937":"#9ca3af",background:"white",transition:"all 0.2s ease"},children:[(0,V.jsx)("option",{value:"",children:"-- Vyberte \u0161ablonu --"}),gs(e).map(e=>(0,V.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,V.jsxs)(fi,{children:[(0,V.jsx)(xi,{children:"Podepisovatel:"}),(0,V.jsxs)("select",{value:Bn[e.id]||"",onChange:n=>{const t=(0,r.A)((0,r.A)({},Bn),{},{[e.id]:n.target.value});Wn(t),ie("bulkDocxSigners",t)},style:{flex:1,padding:"0.75rem",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"0.875rem",cursor:"pointer",fontWeight:Bn[e.id]?"600":"400",color:Bn[e.id]?"#1f2937":"#9ca3af",background:"white",transition:"all 0.2s ease"},children:[(0,V.jsx)("option",{value:"",children:"Vyberte podepisovatele..."}),((n,t,r,o)=>{const a=[];return e.garant_uzivatel_id&&null!==(n=e.garant_uzivatel)&&void 0!==n&&n.cele_jmeno&&"Nezad\xe1no"!==e.garant_uzivatel.cele_jmeno&&"Nezadano"!==e.garant_uzivatel.cele_jmeno&&a.push({id:e.garant_uzivatel_id,name:e.garant_uzivatel.cele_jmeno,role:"Garant"}),e.prikazce_id&&null!==(t=e.prikazce)&&void 0!==t&&t.cele_jmeno&&"Nezad\xe1no"!==e.prikazce.cele_jmeno&&"Nezadano"!==e.prikazce.cele_jmeno&&a.push({id:e.prikazce_id,name:e.prikazce.cele_jmeno,role:"P\u0159\xedkazce"}),e.schvalovatel_id&&null!==(r=e.schvalovatel)&&void 0!==r&&r.cele_jmeno&&"Nezad\xe1no"!==e.schvalovatel.cele_jmeno&&"Nezadano"!==e.schvalovatel.cele_jmeno&&a.push({id:e.schvalovatel_id,name:e.schvalovatel.cele_jmeno,role:"Schvalovatel"}),e.objednatel_id&&null!==(o=e.objednatel)&&void 0!==o&&o.cele_jmeno&&"Nezad\xe1no"!==e.objednatel.cele_jmeno&&"Nezadano"!==e.objednatel.cele_jmeno&&a.push({id:e.objednatel_id,name:e.objednatel.cele_jmeno,role:"Objednatel"}),a.map((n,t)=>(0,V.jsxs)("option",{value:n.id,children:[n.name," (",n.role,")"]},"".concat(e.id,"-").concat(n.id,"-").concat(n.role,"-").concat(t)))})()]})]})]},e.id||n))}),(0,V.jsxs)(bi,{children:[(0,V.jsxs)(ji,{children:["Celkem: ",Mn.length," objedn\xe1vek"]}),(0,V.jsxs)(ki,{children:[(0,V.jsx)(_i,{className:"secondary",onClick:()=>Vn(!1),children:"Zru\u0161it"}),(0,V.jsxs)(_i,{className:"primary",onClick:()=>{const e=Mn.filter(e=>!Zn[e.id]);if(e.length>0){const n=e.map(e=>"#".concat(e.cislo_objednavky||e.id)).join(", ");return void(ee&&ee("Vyberte \u0161ablonu pro v\u0161echny objedn\xe1vky. Chyb\xed u: ".concat(n),{type:"error"}))}const n=Mn.filter(e=>!Bn[e.id]);if(n.length>0){const e=n.map(e=>"#".concat(e.cislo_objednavky||e.id)).join(", ");return void(ee&&ee("Vyberte podepisovatele pro v\u0161echny objedn\xe1vky. Chyb\xed u: ".concat(e),{type:"error"}))}console.log("Generuji DOCX pro objedn\xe1vky:",Mn),console.log("S podepisovateli:",Bn),console.log("S \u0161ablonami:",Zn),alert("TODO: Implementovat hromadn\xe9 generov\xe1n\xed DOCX"),Vn(!1)},children:[(0,V.jsx)(I.g,{icon:L.W1P,style:{marginRight:"0.5rem"}}),"Generovat DOCX"]})]})]})]})}),document.body),Kn&&(0,V.jsx)(p.A,{isOpen:Kn,onClose:()=>Hn(!1),onConfirm:async()=>{try{pe(!0);const e=await Promise.allSettled(Gn.map(async e=>{let n=[];try{Array.isArray(e.stav_workflow_kod)?n=e.stav_workflow_kod:"string"===typeof e.stav_workflow_kod&&(n=JSON.parse(e.stav_workflow_kod))}catch(o){n=[]}const t=[...n,{kod_stavu:"SCHVALENA",nazev_stavu:"Schv\xe1len\xe1",timestamp:(new Date).toISOString(),uzivatel_id:re}],r={stav_objednavky:"Schv\xe1len\xe1",stav_workflow_kod:JSON.stringify(t),datum_schvaleni:(new Date).toISOString()};if(!(await fetch("".concat("https://erdms.zachranka.cz/api","/api.eeo/orders-v2.php"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(W)},body:JSON.stringify({action:"update",id:e.id,data:r,username:U})})).ok)throw new Error("Chyba p\u0159i schvalov\xe1n\xed objedn\xe1vky #".concat(e.cislo_objednavky));return{success:!0,orderId:e.id}})),n=e.filter(e=>"fulfilled"===e.status).length,t=e.filter(e=>"rejected"===e.status).length;n>0&&(ee("\u2705 Schv\xe1leno: ".concat(n," objedn\xe1vek"),"success"),await Kl(),cs.toggleAllRowsSelected(!1)),t>0&&ee("\u26a0\ufe0f Selhalo: ".concat(t," objedn\xe1vek"),"error"),Hn(!1)}catch(he){console.error("Chyba p\u0159i hromadn\xe9m schvalov\xe1n\xed:",he),ee("Chyba p\u0159i hromadn\xe9m schvalov\xe1n\xed","error")}finally{pe(!1)}},title:"Hromadn\xe9 schv\xe1len\xed objedn\xe1vek",icon:L.SGM,variant:"success",confirmText:"Schv\xe1lit v\u0161e",cancelText:"Zru\u0161it",children:(0,V.jsxs)("div",{style:{padding:"1rem 0"},children:[(0,V.jsxs)("p",{style:{marginBottom:"1rem",fontSize:"1.05rem"},children:["Opravdu chcete schv\xe1lit ",(0,V.jsx)("strong",{children:Gn.length})," vybran\xfdch objedn\xe1vek?"]}),(0,V.jsxs)("div",{style:{background:"#f0fdf4",border:"2px solid #86efac",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:[(0,V.jsx)("h4",{style:{margin:"0 0 0.75rem 0",color:"#166534"},children:"\ud83d\udccb Seznam objedn\xe1vek ke schv\xe1len\xed:"}),(0,V.jsx)("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#166534"},children:Gn.map(e=>(0,V.jsxs)("li",{style:{marginBottom:"0.5rem"},children:[(0,V.jsxs)("strong",{children:["#",e.cislo_objednavky]})," - ",e.nazev||"Bez n\xe1zvu"]},e.id))})]}),(0,V.jsxs)("p",{style:{color:"#64748b",fontSize:"0.95rem",lineHeight:"1.6"},children:["Po schv\xe1len\xed budou objedn\xe1vky p\u0159esunuty do stavu ",(0,V.jsx)("strong",{children:'"Schv\xe1len\xe1"'})," a bude zaznamen\xe1no datum schv\xe1len\xed."]})]})}),Jn&&(0,V.jsx)(p.A,{isOpen:Jn,onClose:()=>Xn(!1),onConfirm:async()=>{try{pe(!0);const e=(K("ADMIN")||K("ORDER_DELETE_ALL"))&&"hard"===et,n=await Promise.allSettled(qn.map(async n=>{await(0,f.kg)(n.id,W,U,e);return{success:!0,orderId:n.id}})),t=n.filter(e=>"fulfilled"===e.status).length,r=n.filter(e=>"rejected"===e.status).length;t>0&&(ue(e=>e.filter(e=>!qn.find(n=>n.id===e.id))),ee("\u2705 Smaz\xe1no: ".concat(t," objedn\xe1vek"),"success"),cs.toggleAllRowsSelected(!1)),r>0&&ee("\u26a0\ufe0f Selhalo: ".concat(r," objedn\xe1vek"),"error"),Xn(!1)}catch(he){console.error("Chyba p\u0159i hromadn\xe9m maz\xe1n\xed:",he),ee("Chyba p\u0159i hromadn\xe9m maz\xe1n\xed","error")}finally{pe(!1)}},title:"Hromadn\xe9 maz\xe1n\xed objedn\xe1vek",icon:L.yLS,variant:"danger",confirmText:(K("ADMIN")||K("ORDER_DELETE_ALL"))&&"hard"===et?"\u26a0\ufe0f Smazat \xfapln\u011b":"Smazat (soft)",cancelText:"Zru\u0161it",children:(0,V.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",padding:"1rem 0"},children:[(0,V.jsxs)("div",{children:[(0,V.jsxs)("p",{style:{marginBottom:"1rem",fontSize:"1.05rem"},children:["Opravdu chcete smazat ",(0,V.jsx)("strong",{children:qn.length})," vybran\xfdch objedn\xe1vek?"]}),K("ADMIN")||K("ORDER_DELETE_ALL")?(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("div",{style:{background:"#f8fafc",border:"2px solid #cbd5e1",borderRadius:"8px",padding:"1rem"},children:[(0,V.jsx)("h4",{style:{margin:"0 0 0.75rem 0",color:"#475569",fontSize:"1rem"},children:"\ud83d\udd27 Vyberte typ smaz\xe1n\xed:"}),(0,V.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(0,V.jsxs)("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",cursor:"pointer",padding:"0.75rem",border:"2px solid ".concat("soft"===et?"#3b82f6":"#e2e8f0"),borderRadius:"6px",background:"soft"===et?"#eff6ff":"white",transition:"all 0.2s"},children:[(0,V.jsx)("input",{type:"radio",name:"deleteType",value:"soft",checked:"soft"===et,onChange:e=>nt(e.target.value),style:{marginTop:"0.25rem",accentColor:"#3b82f6",cursor:"pointer"}}),(0,V.jsxs)("div",{children:[(0,V.jsx)("div",{style:{fontWeight:"600",color:"#1f2937",marginBottom:"0.25rem"},children:"M\u011bkk\xe9 smaz\xe1n\xed (SOFT DELETE)"}),(0,V.jsx)("div",{style:{fontSize:"0.875rem",color:"#64748b"},children:"Objedn\xe1vky budou ozna\u010deny jako neaktivn\xed. Lze pozd\u011bji obnovit."})]})]}),(0,V.jsxs)("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",cursor:"pointer",padding:"0.75rem",border:"2px solid ".concat("hard"===et?"#dc2626":"#e2e8f0"),borderRadius:"6px",background:"hard"===et?"#fef2f2":"white",transition:"all 0.2s"},children:[(0,V.jsx)("input",{type:"radio",name:"deleteType",value:"hard",checked:"hard"===et,onChange:e=>nt(e.target.value),style:{marginTop:"0.25rem",accentColor:"#dc2626",cursor:"pointer"}}),(0,V.jsxs)("div",{children:[(0,V.jsx)("div",{style:{fontWeight:"600",color:"#991b1b",marginBottom:"0.25rem"},children:"\u26a0\ufe0f \xdapln\xe9 smaz\xe1n\xed (HARD DELETE)"}),(0,V.jsxs)("div",{style:{fontSize:"0.875rem",color:"#991b1b"},children:[(0,V.jsx)("strong",{children:"NEVRATN\xc9!"})," Sma\u017ee v\u0161e v\u010detn\u011b polo\u017eek, p\u0159\xedloh a historie."]})]})]})]})]})}):(0,V.jsxs)("div",{style:{background:"#fef3c7",border:"2px solid #fcd34d",borderRadius:"8px",padding:"1rem"},children:[(0,V.jsx)("h4",{style:{margin:"0 0 0.75rem 0",color:"#92400e"},children:"\u2139\ufe0f M\u011bkk\xe9 smaz\xe1n\xed (SOFT DELETE)"}),(0,V.jsxs)("p",{style:{margin:0,color:"#92400e",fontSize:"0.95rem"},children:["Objedn\xe1vky budou pouze ",(0,V.jsx)("strong",{children:"ozna\u010deny jako neaktivn\xed"}),". Administr\xe1tor je m\u016f\u017ee pozd\u011bji obnovit."]})]})]}),(0,V.jsxs)("div",{style:{background:"#f8fafc",border:"2px solid #cbd5e1",borderRadius:"8px",padding:"1rem"},children:[(0,V.jsx)("h4",{style:{margin:"0 0 0.75rem 0",color:"#475569"},children:"\ud83d\udccb Seznam objedn\xe1vek ke smaz\xe1n\xed:"}),(0,V.jsx)("div",{style:{margin:0,color:"#475569",maxHeight:"300px",overflowY:"auto"},children:qn.map(e=>(0,V.jsxs)("div",{style:{marginBottom:"0.75rem",padding:"0.5rem",background:"white",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[(0,V.jsxs)("div",{style:{fontSize:"1rem",fontWeight:"700",color:"#1f2937",marginBottom:"0.25rem"},children:["#",e.cislo_objednavky]}),(0,V.jsx)("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:e.predmet||e.nazev||"Bez n\xe1zvu"})]},e.id))})]})]})})]})}),Ui&&Hi&&(0,V.jsx)(Wa,{children:(0,V.jsxs)(Za,{children:[(0,V.jsxs)(Ua,{children:[(0,V.jsxs)(Ka,{children:[(0,V.jsx)(I.g,{icon:L.o1d}),"N\xe1hled exportu CSV"]}),(0,V.jsx)(Ha,{onClick:()=>Ki(!1),children:(0,V.jsx)(I.g,{icon:L.GRI})})]}),(0,V.jsxs)(Ga,{children:[(0,V.jsxs)(Ya,{children:[(0,V.jsxs)(Ja,{children:[(0,V.jsx)(Xa,{children:"Po\u010det z\xe1znam\u016f"}),(0,V.jsxs)(qa,{children:[(0,V.jsx)(I.g,{icon:L.hem}),Hi.rowCount]})]}),(0,V.jsxs)(Ja,{children:[(0,V.jsx)(Xa,{children:"Po\u010det sloupc\u016f"}),(0,V.jsxs)(qa,{children:[(0,V.jsx)(I.g,{icon:L.fq7}),Hi.columnCount]})]}),(0,V.jsxs)(Ja,{children:[(0,V.jsx)(Xa,{children:"Odd\u011blova\u010d sloupc\u016f"}),(0,V.jsxs)(qa,{children:[(0,V.jsx)(I.g,{icon:L.UNK}),Hi.separatorName]})]}),(0,V.jsxs)(Ja,{children:[(0,V.jsx)(Xa,{children:"Odd\u011blova\u010d multiline"}),(0,V.jsxs)(qa,{children:[(0,V.jsx)(I.g,{icon:L.UNK}),Hi.multilineSeparatorName]})]}),(0,V.jsxs)(Ja,{children:[(0,V.jsx)(Xa,{children:"Aktivn\xed filtry"}),(0,V.jsxs)(qa,{children:[(0,V.jsx)(I.g,{icon:L.mRM}),(()=>{let e=0;return Et&&e++,xr!==(new Date).getFullYear()&&e++,"all"!==jr&&e++,Rt&&Rt.length>0&&e++,Tt&&Tt.length>0&&e++,Pt&&Pt.length>0&&e++,Mt&&Mt.length>0&&e++,Bt&&Bt.length>0&&e++,(Zt||Kt)&&e++,(Gt||Jt)&&e++,e||"\u017d\xe1dn\xe9"})()]})]})]}),(0,V.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem"},children:"N\xe1hled prvn\xedch 5 \u0159\xe1dk\u016f"}),(0,V.jsx)("div",{style:{overflowX:"auto",maxWidth:"100%"},children:(0,V.jsxs)(Qa,{children:[(0,V.jsx)(ei,{children:Object.keys(Hi.data[0]||{}).map((e,n)=>{const t=e.length,r=Math.max(...Hi.data.slice(0,5).map(n=>String(n[e]||"").length)),o=Math.max(t,r),a=Math.min(Math.max(8*o+32,100),400);return(0,V.jsx)(ni,{style:{width:"".concat(a,"px"),minWidth:"".concat(a,"px")},children:e},n)})}),Hi.data.slice(0,5).map((e,n)=>(0,V.jsx)(ti,{children:Object.entries(e).map((e,n)=>{let[t,r]=e;const o=t.length,a=Math.max(...Hi.data.slice(0,5).map(e=>String(e[t]||"").length)),i=Math.max(o,a),l=Math.min(Math.max(8*i+32,100),400);return(0,V.jsx)(ri,{style:{width:"".concat(l,"px"),minWidth:"".concat(l,"px")},title:r,children:r},n)})},n))]})})]}),(0,V.jsxs)(oi,{children:[(0,V.jsxs)(ai,{children:[(0,V.jsx)(I.g,{icon:L.iW_}),"Export bude obsahovat pouze ",Hi.rowCount," vyfiltrovan\xfdch objedn\xe1vek"]}),(0,V.jsxs)(ii,{children:[(0,V.jsxs)(li,{$variant:"cancel",onClick:()=>Ki(!1),children:[(0,V.jsx)(I.g,{icon:L.GRI}),"Zru\u0161it"]}),(0,V.jsxs)(li,{$variant:"confirm",onClick:()=>{Hi&&((0,y.z9)(Hi.data,"objednavky_2025",{separator:Hi.separator,includeBOM:!0}),Ki(!1),Gi(null),ee("Export byl \xfasp\u011b\u0161n\u011b sta\u017een","success"))},children:[(0,V.jsx)(I.g,{icon:L.cbP}),"St\xe1hnout CSV"]})]})]})]})}),K("HELPER_VIEW")&&(0,V.jsx)(h.A,{pageContext:"orders"})]});var ed}},54153:(e,n,t)=>{function r(e){if(!e||"string"!==typeof e)return e||"Nezn\xe1m\xe1 chyba";if(e.includes("timeout")&&e.includes("exceeded")){const n=e.match(/timeout of (\d+)ms exceeded/);if(n){const e=n[1],t=Math.round(e/1e3);return"P\u0159ekro\u010den \u010dasov\xfd limit ".concat(t,"s - server neodpov\u011bd\u011bl v\u010das")}return"P\u0159ekro\u010den \u010dasov\xfd limit - server neodpov\u011bd\u011bl v\u010das"}return e.includes("Network Error")?"Chyba s\xedt\u011b - zkontrolujte internetov\xe9 p\u0159ipojen\xed":e.includes("Request failed with status code 500")?"Chyba serveru (k\xf3d 500) - zkuste to znovu pozd\u011bji":e.includes("Request failed with status code 404")?"Po\u017eadovan\xfd zdroj nebyl nalezen (k\xf3d 404)":e.includes("Request failed with status code 403")?"Nem\xe1te opr\xe1vn\u011bn\xed k t\xe9to operaci (k\xf3d 403)":e.includes("Request failed with status code 401")?"Neautorizovan\xfd p\u0159\xedstup - zkuste se znovu p\u0159ihl\xe1sit (k\xf3d 401)":e.includes("ECONNREFUSED")||e.includes("connection refused")?"Nelze se p\u0159ipojit k serveru - server je pravd\u011bpodobn\u011b nedostupn\xfd":e.includes("ENOTFOUND")||e.includes("getaddrinfo ENOTFOUND")?"Server nenalezen - zkontrolujte adresu serveru":e}function o(e){if(!e||"string"!==typeof e)return e||"Nezn\xe1m\xe1 chyba";if(e.includes("timeout")&&e.includes("exceeded")){const n=e.match(/timeout of (\d+)ms exceeded/);if(n){const e=n[1],t=Math.round(e/1e3);return"P\u0159ekro\u010den \u010dasov\xfd limit ".concat(t,"s")}return"P\u0159ekro\u010den \u010dasov\xfd limit"}return r(e)}t.d(n,{E:()=>r,g:()=>o})},74714:(e,n,t)=>{t.d(n,{WL:()=>r});const r=e=>e?e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""):""},98951:(e,n,t)=>{t.d(n,{cR:()=>o,eL:()=>a,zJ:()=>l});var r=t(97929);const o=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")){case"nova":return r.ijD;case"ke_schvaleni":case"keSchvaleni":return r.TuH;case"schvalena":case"kontrola_potvrzena":case"vecnaSpravnost":case"vecna_spravnost":return r.SGM;case"zamitnuta":case"zrusena":return r.s0Q;case"rozpracovana":case"kontrola_ceka":case"cekaKontrola":return r.a$;case"odeslana":return r.raf;case"potvrzena":return r.V2x;case"uverejnena":case"registr_zverejnena":case"registrzverejnena":return r.IJd;case"dokoncena":return r.pvD;case"ceka_potvrzeni":case"cekaPotvrzeni":case"ceka_se":case"cekaSe":return r.G1Y;case"archivovano":case"archivovana":return r.Oh6;default:return r.iW_}},a=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";if(null!==e&&void 0!==e&&e.startsWith("order_status_")){const n=e.replace("order_status_","");return l(n)}switch(e){case"todo_alarm":return"\ud83d\udd14";case"todo_alarm_high":return"\u26a0\ufe0f";case"todo_alarm_expired":return"\ud83d\udea8";case"order_unlock_forced":return"\u26a1";case"order_approved":return"\u2705";case"order_rejected":return"\u274c";case"order_created":return"\ud83d\udcdd";default:return i(n)}},i=e=>{switch(e){case"urgent":return"\ud83d\udea8";case"high":return"\u26a0\ufe0f";case"normal":return"\ud83d\udd14";default:return"\u2139\ufe0f"}},l=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")){case"nova":case"koncept":return"\ud83d\udcdd";case"ke_schvaleni":case"keschvaleni":return"\ud83d\udccb";case"schvalena":return"\ud83d\udc4d";case"zamitnuta":return"\u274c";case"rozpracovana":return"\ud83d\udd50";case"odeslana":return"\ud83d\udce4";case"potvrzena":return"\u2714\ufe0f";case"uverejnena":case"registr_zverejnena":case"registrzverejnena":return"\ud83d\udce2";case"dokoncena":return"\ud83c\udfaf";case"ceka_potvrzeni":case"cekapotvrzeni":case"ceka_se":case"cekase":return"\u23f8\ufe0f";case"zrusena":return"\ud83d\udeab";case"smazana":return"\ud83d\uddd1\ufe0f";case"archivovano":case"archivovana":return"\ud83d\udce6";case"ceka_kontrola":case"cekakontrola":return"\ud83d\udd0d";case"vecna_spravnost":case"vecnaspravnost":return"\u2705";default:return"\ud83d\udcca"}}}}]);
//# sourceMappingURL=7023.2e0709df.chunk.js.map