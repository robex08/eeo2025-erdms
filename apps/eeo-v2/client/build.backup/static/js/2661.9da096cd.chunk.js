/*! For license information please see 2661.9da096cd.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkr_app_zzs_eeo=self.webpackChunkr_app_zzs_eeo||[]).push([[2661],{13190:(e,n,t)=>{t.d(n,{A:()=>i});const i=(0,t(77784).A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},14459:(e,n,t)=>{t.d(n,{A:()=>i});const i=(0,t(77784).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},28006:(e,n,t)=>{t.d(n,{A:()=>i});const i=(0,t(77784).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},35327:(e,n,t)=>{t.d(n,{A:()=>i});const i=(0,t(77784).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},39292:(e,n,t)=>{t.d(n,{A:()=>i});const i=(0,t(77784).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},40614:(e,n,t)=>{t.d(n,{A:()=>i});const i=(0,t(77784).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},50516:(e,n,t)=>{t.d(n,{A:()=>i});const i=(0,t(77784).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},53639:(e,n,t)=>{t.d(n,{A:()=>i});const i=(0,t(77784).A)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},86376:(e,n,t)=>{t.d(n,{A:()=>i});const i=(0,t(77784).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},91286:(e,n,t)=>{t.d(n,{A:()=>i});const i=(0,t(77784).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},92661:(e,n,t)=>{t.r(n),t.d(n,{default:()=>qe});var i,r,o,a,s,l,c,d,p,h,m,x,f,g,u,y,j,b,k,A,v,z,w,_,C,S,I,P,M,$,N,D,O,T,E,J,H=t(89379),Z=t(57528),L=t(65043),q=t(45903),F=t(83290),R=t(27837),V=t(88720),U=t(32730),G=t(13190),Y=t(53639),B=t(86376),K=t(35327),Q=t(28006),W=t(91286),X=t(50516),ee=t(39292),ne=t(14459),te=t(40614),ie=t(83910),re=t(97929),oe=t(75949),ae=t(70579);const se=(0,F.i7)(i||(i=(0,Z.A)(["\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n"]))),le=q.A.div(r||(r=(0,Z.A)(["\n  padding: 2rem;\n  max-width: 1600px;\n  margin: 0 auto;\n  min-height: calc(100vh - var(--app-fixed-offset, 120px));\n"]))),ce=q.A.div(o||(o=(0,Z.A)(["\n  margin-bottom: 2rem;\n"]))),de=q.A.h1(a||(a=(0,Z.A)(["\n  margin: 0 0 0.5rem 0;\n  color: #1e293b;\n  font-size: 2rem;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n\n  svg {\n    color: #3b82f6;\n  }\n"]))),pe=q.A.p(s||(s=(0,Z.A)(["\n  margin: 0;\n  color: #64748b;\n  font-size: 1rem;\n"]))),he=q.A.mark(l||(l=(0,Z.A)(["\n  background-color: #fef08a;\n  color: inherit;\n  padding: 0 2px;\n  margin: 0;\n  font-weight: inherit;\n  font-size: inherit;\n  line-height: inherit;\n  font-family: inherit;\n  display: inline;\n  border-radius: 2px;\n  white-space: inherit;\n  text-align: inherit;\n  vertical-align: baseline;\n"]))),me=q.A.div(c||(c=(0,Z.A)(["\n  background: white;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n"]))),xe=q.A.div(d||(d=(0,Z.A)(["\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),fe=q.A.div(p||(p=(0,Z.A)(["\n  position: relative;\n  flex: 1;\n  min-width: 300px;\n\n  > svg:first-of-type {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n"]))),ge=q.A.button(h||(h=(0,Z.A)(["\n  position: absolute;\n  right: 0.75rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 0.25rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  z-index: 1;\n  width: 20px;\n  height: 20px;\n\n  &:hover {\n    color: #6b7280;\n  }\n\n  > svg {\n    width: 14px !important;\n    height: 14px !important;\n  }\n"]))),ue=q.A.input(m||(m=(0,Z.A)(["\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0.75rem 2.5rem 0.75rem 2.5rem;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  background: white;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n  }\n"]))),ye=q.A.div(x||(x=(0,Z.A)(["\n  display: flex;\n  gap: 0.5rem;\n"]))),je=q.A.button(f||(f=(0,Z.A)(["\n  padding: 0.5rem 1rem;\n  border: 2px solid ",";\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    width: 16px;\n    height: 16px;\n  }\n\n  &:hover {\n    border-color: #3b82f6;\n    ","\n  }\n"])),e=>e.$active?"#3b82f6":"#e2e8f0",e=>e.$active?"#3b82f6":"white",e=>e.$active?"white":"#64748b",e=>!e.$active&&"\n      background: #eff6ff;\n      color: #3b82f6;\n    "),be=q.A.button(g||(g=(0,Z.A)(["\n  padding: 0.5rem 1rem;\n  border: 2px solid #e2e8f0;\n  border-radius: 8px;\n  background: white;\n  color: #64748b;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    width: 16px;\n    height: 16px;\n    ","\n  }\n\n  &:hover {\n    border-color: #3b82f6;\n    background: #eff6ff;\n    color: #3b82f6;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"])),e=>e.$loading&&"\n      animation: ".concat(se," 1s linear infinite;\n    ")),ke=q.A.div(u||(u=(0,Z.A)(["\n  display: flex;\n  gap: 1rem;\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid #e2e8f0;\n"]))),Ae=q.A.div(y||(y=(0,Z.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #64748b;\n  font-size: 0.9rem;\n\n  strong {\n    color: #1e293b;\n    font-weight: 600;\n  }\n"]))),ve=q.A.div(j||(j=(0,Z.A)(["\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n  overflow: hidden;\n  min-width: 100%;\n  width: 100%;\n"]))),ze=q.A.table(b||(b=(0,Z.A)(["\n  width: 100%;\n  border-collapse: collapse;\n"]))),we=q.A.thead(k||(k=(0,Z.A)(["\n  background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n"]))),_e=q.A.tr(A||(A=(0,Z.A)(["\n  border-bottom: 1px solid #e2e8f0;\n  transition: background-color 0.2s ease;\n  background: white;\n\n  &:hover {\n    background-color: #f8fafc;\n  }\n\n  &:last-child {\n    border-bottom: none;\n  }\n"]))),Ce=q.A.th(v||(v=(0,Z.A)(["\n  padding: 0.5rem 0.75rem;\n  text-align: center;\n  font-weight: 600;\n  color: white;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n  white-space: nowrap;\n  font-size: 0.9rem;\n"]))),Se=q.A.th(z||(z=(0,Z.A)(["\n  padding: 0.5rem;\n  background-color: #f8f9fa;\n  border-top: 1px solid #e5e7eb;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n"]))),Ie=q.A.div(w||(w=(0,Z.A)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  svg {\n    position: absolute;\n    left: 0.5rem;\n    color: #9ca3af;\n    width: 14px;\n    height: 14px;\n  }\n"]))),Pe=q.A.input(_||(_=(0,Z.A)(["\n  width: 100%;\n  padding: 0.4rem 2.2rem 0.4rem 2rem;\n  border: 1px solid #e2e8f0;\n  border-radius: 6px;\n  font-size: 0.85rem;\n  transition: all 0.2s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #94a3b8;\n  }\n"]))),Me=q.A.td(C||(C=(0,Z.A)(["\n  padding: 1rem;\n  color: #475569;\n  font-size: 0.95rem;\n  vertical-align: top;\n"]))),$e=q.A.span(S||(S=(0,Z.A)(["\n  display: inline-flex;\n  align-items: center;\n  gap: 0.35rem;\n  padding: 0.25rem 0.65rem;\n  border-radius: 6px;\n  font-size: 0.8rem;\n  font-weight: 600;\n  background: ",";\n  color: ",";\n\n  svg {\n    width: 14px;\n    height: 14px;\n  }\n"])),e=>"employee"===e.$type?"#dbeafe":"#fef3c7",e=>"employee"===e.$type?"#1e40af":"#92400e"),Ne=q.A.div(I||(I=(0,Z.A)(["\n  font-weight: 600;\n  color: #1e293b;\n  margin-bottom: 0.25rem;\n  font-size: 1rem;\n"]))),De=q.A.div(P||(P=(0,Z.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.35rem;\n"]))),Oe=q.A.div(M||(M=(0,Z.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #64748b;\n  font-size: 0.85rem;\n\n  svg {\n    width: 14px;\n    height: 14px;\n    color: #94a3b8;\n    flex-shrink: 0;\n  }\n\n  a {\n    color: #3b82f6;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"]))),Te=(q.A.div($||($=(0,Z.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 4rem 2rem;\n  color: #64748b;\n\n  svg {\n    width: 48px;\n    height: 48px;\n    margin-bottom: 1rem;\n    animation: "," 1s linear infinite;\n    color: #3b82f6;\n  }\n"])),se),q.A.div(N||(N=(0,Z.A)(["\n  text-align: center;\n  padding: 4rem 2rem;\n  color: #64748b;\n\n  svg {\n    width: 64px;\n    height: 64px;\n    margin-bottom: 1rem;\n    color: #cbd5e1;\n  }\n\n  h3 {\n    margin: 0 0 0.5rem 0;\n    color: #475569;\n    font-size: 1.25rem;\n  }\n\n  p {\n    margin: 0;\n    color: #94a3b8;\n  }\n"])))),Ee=q.A.div(D||(D=(0,Z.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: #f8fafc;\n  border-top: 1px solid #e5e7eb;\n"]))),Je=q.A.div(O||(O=(0,Z.A)(["\n  font-size: 0.875rem;\n  color: #64748b;\n"]))),He=q.A.div(T||(T=(0,Z.A)(["\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n"]))),Ze=q.A.button(E||(E=(0,Z.A)(["\n  padding: 0.5rem 1rem;\n  border: 1px solid #e5e7eb;\n  background: white;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: #f3f4f6;\n    border-color: #3b82f6;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  &.active {\n    background: #3b82f6;\n    color: white;\n    border-color: #3b82f6;\n  }\n"]))),Le=q.A.select(J||(J=(0,Z.A)(["\n  padding: 0.5rem;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  background: white;\n  font-size: 0.875rem;\n  cursor: pointer;\n"]))),qe=()=>{const{token:e,username:n,user_id:t,userDetail:i,hasPermission:r}=(0,L.useContext)(R.cy),{showToast:o}=(0,L.useContext)(V.$o),{startProgress:a,stopProgress:s}=(0,L.useContext)(U.z),[l,c]=(0,L.useState)([]),[d,p]=(0,L.useState)([]),[h,m]=(0,L.useState)(!1),[x,f]=(0,L.useState)(()=>localStorage.getItem("contactsPage_searchTerm")||""),[g,u]=(0,L.useState)(()=>localStorage.getItem("contactsPage_filter")||"all"),[y,j]=(0,L.useState)(()=>{const e=localStorage.getItem("contactsPage_columnFilters");return e?JSON.parse(e):{type:"",name:"",phone:"",email:"",location:"",info:""}}),[b,k]=(0,L.useState)(()=>{const e=localStorage.getItem("contactsPage_sortConfig");return e?JSON.parse(e):{key:null,direction:"asc"}}),[A,v]=(0,L.useState)(()=>{const e=localStorage.getItem("contactsPage_pageSize");return e?parseInt(e,10):100}),[z,w]=(0,L.useState)(()=>{const e=localStorage.getItem("contactsPage_currentPage");return e?parseInt(e,10):0}),_=async function(){let l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l&&m(!0),!l&&a&&a();try{const[o,a]=await Promise.all([(0,oe.SU)({token:e,username:n}),(0,oe.e5)({token:e,username:n,user_id:t,load_all:!0})]);if(Array.isArray(o)&&c(o),Array.isArray(a)){let e=a.filter(e=>1===e.aktivni||"1"===e.aktivni||!0===e.aktivni);const n=(null===i||void 0===i?void 0:i.roles)&&i.roles.some(e=>"SUPERADMIN"===e.kod_role||"ADMINISTRATOR"===e.kod_role),o=r&&r("CONTACT_MANAGE");if(!n&&!o){const n=(null===i||void 0===i?void 0:i.usek_zkr)||(null===i||void 0===i?void 0:i.department)||(null===i||void 0===i?void 0:i.usek)||"";e=e.filter(e=>{if("global"===e.visibility_type||0===e.user_id||"0"===e.user_id)return!0;if("user"===e.visibility_type&&(e.user_id===t||e.user_id===String(t)))return!0;if("department"===e.visibility_type&&e.usek_zkr&&n)try{const t=JSON.parse(e.usek_zkr||"[]");if(Array.isArray(t)&&t.includes(n))return!0}catch(i){if(e.usek_zkr===n)return!0}return!1})}p(e)}}catch(d){o&&o("Chyba p\u0159i na\u010d\xedt\xe1n\xed kontakt\u016f: "+d.message,"error")}finally{!l&&s&&s(),m(!1)}};(0,L.useEffect)(()=>{_()},[]),(0,L.useEffect)(()=>{localStorage.setItem("contactsPage_searchTerm",x)},[x]),(0,L.useEffect)(()=>{localStorage.setItem("contactsPage_filter",g)},[g]),(0,L.useEffect)(()=>{localStorage.setItem("contactsPage_columnFilters",JSON.stringify(y))},[y]),(0,L.useEffect)(()=>{localStorage.setItem("contactsPage_sortConfig",JSON.stringify(b))},[b]),(0,L.useEffect)(()=>{localStorage.setItem("contactsPage_pageSize",A.toString())},[A]),(0,L.useEffect)(()=>{localStorage.setItem("contactsPage_currentPage",z.toString())},[z]);const C=e=>e?e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""):"",S=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return e;const i=[];if(n&&n.trim()&&i.push(n.trim()),t&&t.trim()&&i.push(t.trim()),0===i.length)return e;const r=String(e),o=C(r),a=[];if(i.forEach(e=>{const n=C(e);if(!n)return;let t=0;for(;t<o.length;){const e=o.indexOf(n,t);if(-1===e)break;a.push({start:e,end:e+n.length}),t=e+n.length}}),0===a.length)return r;a.sort((e,n)=>e.start-n.start);const s=[];let l=a[0];for(let p=1;p<a.length;p++){const e=a[p];e.start<=l.end?l.end=Math.max(l.end,e.end):(s.push(l),l=e)}s.push(l);const c=[];let d=0;return s.forEach((e,n)=>{e.start>d&&c.push(r.substring(d,e.start)),c.push((0,ae.jsx)(he,{children:r.substring(e.start,e.end)},"h-".concat(n))),d=e.end}),d<r.length&&c.push(r.substring(d)),(0,ae.jsx)("span",{style:{display:"inline"},children:c})},I=(0,L.useMemo)(()=>{let e=[];if("all"===g||"employees"===g){const n=l.filter(e=>1===e.aktivni||"1"===e.aktivni||!0===e.aktivni).map(e=>({type:"employee",id:"emp-".concat(e.id||e.ID),name:"".concat(e.titul_pred?e.titul_pred+" ":"").concat(e.prijmeni||""," ").concat(e.jmeno||"").concat(e.titul_za?", "+e.titul_za:"").trim(),sortName:"".concat(e.prijmeni||""," ").concat(e.jmeno||"").trim(),phone:e.telefon||"",email:e.email||"",location:e.lokalita_nazev?"".concat(e.lokalita_nazev).concat(e.usek_zkr?" (".concat(e.usek_zkr,")"):""):e.usek_zkr?"(".concat(e.usek_zkr,")"):"",info:e.nazev_pozice||"",rawData:e}));e=[...e,...n]}if("all"===g||"suppliers"===g){const n=d.map(e=>{let n="";return e.usek_zkr&&""!==e.usek_zkr.trim()&&"[]"!==e.usek_zkr?n="U":0===e.user_id||"0"===e.user_id?n="G":e.user_id&&e.user_id>0&&(n="O"),{type:"supplier",id:"sup-".concat(e.id||e.ID),name:e.nazev||e.name||"",contactPerson:e.kontakt_jmeno||e.zastoupeny||"",sortName:e.nazev||e.name||"",phone:e.kontakt_telefon||e.kontaktni_osoba_telefon||e.telefon||"",email:e.kontakt_email||e.kontaktni_osoba_email||e.email||"",location:e.adresa||e.adresa_ulice||"",info:e.ico||e.dic?{ico:e.ico,dic:e.dic}:"",infoText:[e.ico?"I\u010cO: ".concat(e.ico):"",e.dic?"DI\u010c: ".concat(e.dic):""].filter(Boolean).join(" "),visibilityLabel:n,rawData:e}});e=[...e,...n]}if(x.trim()){const n=C(x);e=e.filter(e=>{const t=C(e.name).includes(n),i=e.phone&&e.phone.includes(x),r=C(e.email).includes(n),o=C(e.location).includes(n),a=e.infoText||("string"===typeof e.info?e.info:""),s=C(a).includes(n),l=e.contactPerson&&C(e.contactPerson).includes(n);return t||i||r||o||s||l})}if(y.type.trim()){const n=C(y.type);e=e.filter(e=>{const t="employee"===e.type?"zam\u011bstnanec":"dodavatel";return C(t).includes(n)})}if(y.name.trim()){const n=C(y.name);e=e.filter(e=>{const t=C(e.name).includes(n),i=e.contactPerson&&C(e.contactPerson).includes(n);return t||i})}if(y.phone.trim()&&(e=e.filter(e=>e.phone&&e.phone.includes(y.phone))),y.email.trim()){const n=C(y.email);e=e.filter(e=>C(e.email).includes(n))}if(y.location.trim()){const n=C(y.location);e=e.filter(e=>C(e.location).includes(n))}if(y.info.trim()){const n=C(y.info);e=e.filter(e=>{const t=e.infoText||("string"===typeof e.info?e.info:"");return C(t).includes(n)})}return b.key?e.sort((e,n)=>{let t,i;return"type"===b.key?(t="employee"===e.type?"Zam\u011bstnanec":"Dodavatel",i="employee"===n.type?"Zam\u011bstnanec":"Dodavatel"):"name"===b.key?(t=e.sortName,i=n.sortName):(t=e[b.key]||"",i=n[b.key]||""),t<i?"asc"===b.direction?-1:1:t>i?"asc"===b.direction?1:-1:0}):e.sort((e,n)=>e.type!==n.type?"employee"===e.type?-1:1:e.sortName.localeCompare(n.sortName,"cs")),e},[l,d,g,x,y,b]),P=(0,L.useMemo)(()=>{const e=z*A;return I.slice(e,e+A)},[I,z,A]),M=Math.ceil(I.length/A),$=e=>{k(n=>({key:e,direction:n.key===e&&"asc"===n.direction?"desc":"asc"})),w(0)},N=(e,n)=>{j((0,H.A)((0,H.A)({},y),{},{[e]:n})),w(0)},D=l.filter(e=>1===e.aktivni||"1"===e.aktivni||!0===e.aktivni).length,O=d.length;return(0,ae.jsxs)(le,{children:[(0,ae.jsxs)(ce,{children:[(0,ae.jsxs)(de,{children:[(0,ae.jsx)(G.A,{}),"Kontakty"]}),(0,ae.jsx)(pe,{children:"P\u0159ehled zam\u011bstnanc\u016f a dodavatel\u016f"})]}),(0,ae.jsxs)(me,{children:[(0,ae.jsxs)(xe,{children:[(0,ae.jsxs)(fe,{children:[(0,ae.jsx)(ee.A,{}),(0,ae.jsx)(ue,{type:"text",placeholder:"Hledat podle jm\xe9na, telefonu, emailu, lokality...",value:x,onChange:e=>f(e.target.value)}),x&&(0,ae.jsx)(ge,{onClick:()=>f(""),children:(0,ae.jsx)(te.A,{})})]}),(0,ae.jsxs)(ye,{children:[(0,ae.jsx)(je,{$active:"all"===g,onClick:()=>u("all"),children:"V\u0161e"}),(0,ae.jsxs)(je,{$active:"employees"===g,onClick:()=>u("employees"),children:[(0,ae.jsx)(ne.A,{}),"Zam\u011bstnanci"]}),(0,ae.jsxs)(je,{$active:"suppliers"===g,onClick:()=>u("suppliers"),children:[(0,ae.jsx)(Y.A,{}),"Dodavatel\xe9"]})]}),(0,ae.jsxs)(be,{onClick:()=>_(!0),disabled:h,$loading:h,children:[(0,ae.jsx)(X.A,{}),"Obnovit"]})]}),(0,ae.jsxs)(ke,{children:[(0,ae.jsxs)(Ae,{children:[(0,ae.jsx)(ne.A,{size:16}),(0,ae.jsxs)("span",{children:["Zam\u011bstnanci: ",(0,ae.jsx)("strong",{children:D})]})]}),(0,ae.jsxs)(Ae,{children:[(0,ae.jsx)(Y.A,{size:16}),(0,ae.jsxs)("span",{children:["Dodavatel\xe9: ",(0,ae.jsx)("strong",{children:O})]})]}),(0,ae.jsxs)(Ae,{children:[(0,ae.jsx)(ee.A,{size:16}),(0,ae.jsxs)("span",{children:["Nalezeno: ",(0,ae.jsx)("strong",{children:I.length})]})]})]})]}),(0,ae.jsxs)(ve,{children:[(0,ae.jsxs)(ze,{children:[(0,ae.jsxs)(we,{children:[(0,ae.jsxs)("tr",{children:[(0,ae.jsx)(Ce,{onClick:()=>$("type"),style:{cursor:"pointer"},children:(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:["Typ","type"===b.key&&(0,ae.jsx)(ie.g,{icon:"asc"===b.direction?re.w2A:re.Jt$})]})}),(0,ae.jsx)(Ce,{onClick:()=>$("name"),style:{cursor:"pointer"},children:(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:["N\xe1zev / Jm\xe9no","name"===b.key&&(0,ae.jsx)(ie.g,{icon:"asc"===b.direction?re.w2A:re.Jt$})]})}),(0,ae.jsx)(Ce,{onClick:()=>$("phone"),style:{cursor:"pointer"},children:(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:["Telefon","phone"===b.key&&(0,ae.jsx)(ie.g,{icon:"asc"===b.direction?re.w2A:re.Jt$})]})}),(0,ae.jsx)(Ce,{onClick:()=>$("email"),style:{cursor:"pointer"},children:(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:["Email","email"===b.key&&(0,ae.jsx)(ie.g,{icon:"asc"===b.direction?re.w2A:re.Jt$})]})}),(0,ae.jsx)(Ce,{onClick:()=>$("location"),style:{cursor:"pointer"},children:(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:["Lokalita / Adresa","location"===b.key&&(0,ae.jsx)(ie.g,{icon:"asc"===b.direction?re.w2A:re.Jt$})]})}),(0,ae.jsx)(Ce,{onClick:()=>$("info"),style:{cursor:"pointer"},children:(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:["Dopl\u0148uj\xedc\xed informace","info"===b.key&&(0,ae.jsx)(ie.g,{icon:"asc"===b.direction?re.w2A:re.Jt$})]})})]}),(0,ae.jsxs)("tr",{children:[(0,ae.jsx)(Se,{children:(0,ae.jsxs)(Ie,{children:[(0,ae.jsx)(ee.A,{}),(0,ae.jsx)(Pe,{type:"text",placeholder:"Hledat typ...",value:y.type,onChange:e=>N("type",e.target.value)}),y.type&&(0,ae.jsx)(ge,{onClick:()=>N("type",""),children:(0,ae.jsx)(te.A,{})})]})}),(0,ae.jsx)(Se,{children:(0,ae.jsxs)(Ie,{children:[(0,ae.jsx)(ee.A,{}),(0,ae.jsx)(Pe,{type:"text",placeholder:"Hledat jm\xe9no...",value:y.name,onChange:e=>N("name",e.target.value)}),y.name&&(0,ae.jsx)(ge,{onClick:()=>N("name",""),children:(0,ae.jsx)(te.A,{})})]})}),(0,ae.jsx)(Se,{children:(0,ae.jsxs)(Ie,{children:[(0,ae.jsx)(W.A,{}),(0,ae.jsx)(Pe,{type:"text",placeholder:"Hledat telefon...",value:y.phone,onChange:e=>N("phone",e.target.value)}),y.phone&&(0,ae.jsx)(ge,{onClick:()=>N("phone",""),children:(0,ae.jsx)(te.A,{})})]})}),(0,ae.jsx)(Se,{children:(0,ae.jsxs)(Ie,{children:[(0,ae.jsx)(K.A,{}),(0,ae.jsx)(Pe,{type:"text",placeholder:"Hledat email...",value:y.email,onChange:e=>N("email",e.target.value)}),y.email&&(0,ae.jsx)(ge,{onClick:()=>N("email",""),children:(0,ae.jsx)(te.A,{})})]})}),(0,ae.jsx)(Se,{children:(0,ae.jsxs)(Ie,{children:[(0,ae.jsx)(Q.A,{}),(0,ae.jsx)(Pe,{type:"text",placeholder:"Hledat lokalitu...",value:y.location,onChange:e=>N("location",e.target.value)}),y.location&&(0,ae.jsx)(ge,{onClick:()=>N("location",""),children:(0,ae.jsx)(te.A,{})})]})}),(0,ae.jsx)(Se,{children:(0,ae.jsxs)(Ie,{children:[(0,ae.jsx)(ee.A,{}),(0,ae.jsx)(Pe,{type:"text",placeholder:"Hledat info...",value:y.info,onChange:e=>N("info",e.target.value)}),y.info&&(0,ae.jsx)(ge,{onClick:()=>N("info",""),children:(0,ae.jsx)(te.A,{})})]})})]})]}),(0,ae.jsx)("tbody",{children:P.map(e=>(0,ae.jsxs)(_e,{children:[(0,ae.jsx)(Me,{children:(0,ae.jsx)($e,{$type:e.type,children:"employee"===e.type?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(ne.A,{}),"Zam\u011bstnanec"]}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(Y.A,{}),"Dodavatel",e.visibilityLabel&&" (".concat(e.visibilityLabel,")")]})})}),(0,ae.jsx)(Me,{children:"employee"===e.type?(0,ae.jsx)(Ne,{children:S(e.name,x,y.name)}):(0,ae.jsxs)(De,{children:[(0,ae.jsx)(Ne,{children:S(e.name,x,y.name)}),e.contactPerson&&(0,ae.jsxs)(Oe,{style:{marginTop:"0.25rem"},children:[(0,ae.jsx)(ne.A,{size:14}),S(e.contactPerson,x,y.name)]})]})}),(0,ae.jsx)(Me,{children:e.phone?(0,ae.jsxs)(Oe,{children:[(0,ae.jsx)(W.A,{}),(0,ae.jsx)("a",{href:"tel:".concat(e.phone),children:S(e.phone,x,y.phone)})]}):(0,ae.jsx)("span",{style:{color:"#cbd5e1"},children:"\u2014"})}),(0,ae.jsx)(Me,{children:e.email?(0,ae.jsxs)(Oe,{children:[(0,ae.jsx)(K.A,{}),(0,ae.jsx)("a",{href:"mailto:".concat(e.email),children:S(e.email,x,y.email)})]}):(0,ae.jsx)("span",{style:{color:"#cbd5e1"},children:"\u2014"})}),(0,ae.jsx)(Me,{children:e.location?(0,ae.jsxs)(Oe,{children:[(0,ae.jsx)(Q.A,{}),S(e.location,x,y.location)]}):(0,ae.jsx)("span",{style:{color:"#cbd5e1"},children:"\u2014"})}),(0,ae.jsx)(Me,{children:e.info?(0,ae.jsx)(De,{children:"employee"===e.type?(0,ae.jsxs)(Oe,{children:[(0,ae.jsx)(G.A,{}),S(e.info,x,y.info)]}):(0,ae.jsxs)(ae.Fragment,{children:[e.info.ico&&(0,ae.jsxs)(Oe,{children:[(0,ae.jsx)(B.A,{}),"I\u010cO: ",S(e.info.ico,x,y.info)]}),e.info.dic&&(0,ae.jsxs)(Oe,{children:[(0,ae.jsx)(B.A,{}),"DI\u010c: ",S(e.info.dic,x,y.info)]})]})}):(0,ae.jsx)("span",{style:{color:"#cbd5e1"},children:"\u2014"})})]},e.id))})]}),0===I.length&&(0,ae.jsxs)(Te,{children:[(0,ae.jsx)(ee.A,{}),(0,ae.jsx)("h3",{children:"\u017d\xe1dn\xe9 kontakty"}),(0,ae.jsx)("p",{children:x.trim()||Object.values(y).some(e=>e.trim())?"Zkuste zm\u011bnit vyhled\xe1vac\xed v\xfdraz nebo filtr.":"V syst\xe9mu nejsou zat\xedm \u017e\xe1dn\xe9 kontakty."})]}),(0,ae.jsxs)(Ee,{children:[(0,ae.jsxs)(Je,{children:["Zobrazeno ",P.length," z ",I.length," kontakt\u016f",I.length!==D+O&&(0,ae.jsxs)("span",{children:[" (filtrov\xe1no z ",D+O,")"]})]}),(0,ae.jsxs)(He,{children:[(0,ae.jsx)("span",{style:{fontSize:"0.875rem",color:"#64748b",marginRight:"1rem"},children:"Zobrazit:"}),(0,ae.jsxs)(Le,{value:A,onChange:e=>{const n=parseInt(e.target.value);v(n),w(0)},children:[(0,ae.jsx)("option",{value:5,children:"5"}),(0,ae.jsx)("option",{value:10,children:"10"}),(0,ae.jsx)("option",{value:25,children:"25"}),(0,ae.jsx)("option",{value:50,children:"50"}),(0,ae.jsx)("option",{value:100,children:"100"}),(0,ae.jsx)("option",{value:250,children:"250"})]}),(0,ae.jsx)(Ze,{onClick:()=>w(0),disabled:0===z,children:"\xab\xab"}),(0,ae.jsx)(Ze,{onClick:()=>w(Math.max(0,z-1)),disabled:0===z,children:"\u2039"}),(0,ae.jsxs)("span",{style:{fontSize:"0.875rem",color:"#64748b",margin:"0 1rem"},children:["Str\xe1nka ",z+1," z ",M||1]}),(0,ae.jsx)(Ze,{onClick:()=>w(Math.min(M-1,z+1)),disabled:z>=M-1,children:"\u203a"}),(0,ae.jsx)(Ze,{onClick:()=>w(M-1),disabled:z>=M-1,children:"\xbb\xbb"})]})]})]})]})}}}]);
//# sourceMappingURL=2661.9da096cd.chunk.js.map