/*! For license information please see 7023.7a54390b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkr_app_zzs_eeo=self.webpackChunkr_app_zzs_eeo||[]).push([[7023],{4509:(e,n,t)=>{t.d(n,{T_:()=>s});var o,r,a,i=t(57528),l=t(45903);const s=l.A.div(o||(o=(0,i.A)(["\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n\n  /* Tooltip element */\n  .tooltip,\n  .cache-tooltip {\n    position: absolute;\n    top: calc(100% + 10px);\n    left: 50%;\n    transform: translateX(-50%);\n    background: rgba(0, 0, 0, 0.67);\n    color: white;\n    padding: 0.5rem 0.875rem;\n    border-radius: 8px;\n    border: 1px solid rgba(255, 255, 255, 0.4);\n    font-size: 0.85rem;\n    font-weight: 600;\n    white-space: nowrap;\n    box-shadow:\n      0 6px 20px rgba(0, 0, 0, 0.4),\n      0 2px 8px rgba(0, 0, 0, 0.25),\n      inset 0 1px 0 rgba(255, 255, 255, 0.15);\n    backdrop-filter: blur(10px);\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 0.2s ease;\n    z-index: 999999;\n    line-height: 1.6;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n\n    /* Ikonka na za\u010d\xe1tku tooltip\u016f */\n    &::before {\n      content: '\u2139\ufe0f';\n      font-size: 1rem;\n      flex-shrink: 0;\n    }\n\n    /* Varianty ikon pomoc\xed data-icon atributu */\n    &[data-icon=\"info\"]::before { content: '\u2139\ufe0f'; }\n    &[data-icon=\"success\"]::before { content: '\u2705'; }\n    &[data-icon=\"warning\"]::before { content: '\u26a0\ufe0f'; }\n    &[data-icon=\"error\"]::before { content: '\u274c'; }\n    &[data-icon=\"database\"]::before { content: '\ud83d\udcbe'; }\n    &[data-icon=\"cache\"]::before { content: '\u26a1'; }\n    &[data-icon=\"time\"]::before { content: '\u23f1\ufe0f'; }\n    &[data-icon=\"calendar\"]::before { content: '\ud83d\udcc5'; }\n    &[data-icon=\"none\"]::before { content: none; }\n\n    backdrop-filter: blur(10px);\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 0.2s ease;\n    z-index: 999999;\n    line-height: 1.6;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n\n    /* \u0160ipka nahoru */\n    &::after {\n      content: '';\n      position: absolute;\n      bottom: 100%;\n      left: 50%;\n      transform: translateX(-50%);\n      border: 8px solid transparent;\n      border-bottom-color: rgba(0, 0, 0, 0.67);\n      filter: drop-shadow(0 -1px 1px rgba(0, 0, 0, 0.3));\n    }\n  }\n\n  /* Varianty pozicov\xe1n\xed */\n  .tooltip-top,\n  .tooltip.top {\n    top: auto;\n    bottom: calc(100% + 10px);\n\n    &::after {\n      bottom: auto;\n      top: 100%;\n      border-bottom-color: transparent;\n      border-top-color: rgba(0, 0, 0, 0.67);\n    }\n  }\n\n  .tooltip-right,\n  .tooltip.right {\n    top: 50%;\n    left: calc(100% + 10px);\n    transform: translateY(-50%);\n\n    &::after {\n      top: 50%;\n      left: auto;\n      right: 100%;\n      bottom: auto;\n      transform: translateY(-50%);\n      border-bottom-color: transparent;\n      border-right-color: rgba(0, 0, 0, 0.67);\n    }\n  }\n\n  .tooltip-left,\n  .tooltip.left {\n    top: 50%;\n    left: auto;\n    right: calc(100% + 10px);\n    transform: translateY(-50%);\n\n    &::after {\n      top: 50%;\n      left: 100%;\n      right: auto;\n      bottom: auto;\n      transform: translateY(-50%);\n      border-bottom-color: transparent;\n      border-left-color: rgba(0, 0, 0, 0.67);\n    }\n  }\n\n  /* Multi-line tooltips */\n  .tooltip-multiline,\n  .tooltip.multiline {\n    white-space: normal;\n    max-width: 300px;\n    text-align: center;\n  }\n\n  /* Zobrazen\xed p\u0159i hover */\n  &:hover .tooltip,\n  &:hover .cache-tooltip {\n    opacity: 1;\n  }\n"]))),d=l.A.div(r||(r=(0,i.A)(["\n  position: absolute;\n  top: calc(100% + 10px);\n  left: 50%;\n  transform: translateX(-50%);\n  background: rgba(0, 0, 0, 0.67);\n  color: white;\n  padding: 0.5rem 0.875rem;\n  border-radius: 8px;\n  border: 1px solid rgba(255, 255, 255, 0.4);\n  font-size: 0.85rem;\n  font-weight: 600;\n  white-space: nowrap;\n  box-shadow:\n    0 6px 20px rgba(0, 0, 0, 0.4),\n    0 2px 8px rgba(0, 0, 0, 0.25),\n    inset 0 1px 0 rgba(255, 255, 255, 0.15);\n  backdrop-filter: blur(10px);\n  pointer-events: none;\n  opacity: 0;\n  transition: opacity 0.2s ease;\n  z-index: 999999;\n  line-height: 1.6;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n    border: 8px solid transparent;\n    border-bottom-color: rgba(0, 0, 0, 0.67);\n    filter: drop-shadow(0 -1px 1px rgba(0, 0, 0, 0.3));\n  }\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"])),e=>e.$visible&&"\n    opacity: 1;\n  ",e=>"top"===e.$position&&"\n    top: auto;\n    bottom: calc(100% + 10px);\n\n    &::after {\n      bottom: auto;\n      top: 100%;\n      border-bottom-color: transparent;\n      border-top-color: rgba(0, 0, 0, 0.67);\n    }\n  ",e=>"right"===e.$position&&"\n    top: 50%;\n    left: calc(100% + 10px);\n    transform: translateY(-50%);\n\n    &::after {\n      top: 50%;\n      left: auto;\n      right: 100%;\n      bottom: auto;\n      transform: translateY(-50%);\n      border-bottom-color: transparent;\n      border-right-color: rgba(0, 0, 0, 0.67);\n    }\n  ",e=>"left"===e.$position&&"\n    top: 50%;\n    left: auto;\n    right: calc(100% + 10px);\n    transform: translateY(-50%);\n\n    &::after {\n      top: 50%;\n      left: 100%;\n      right: auto;\n      bottom: auto;\n      transform: translateY(-50%);\n      border-bottom-color: transparent;\n      border-left-color: rgba(0, 0, 0, 0.67);\n    }\n  ",e=>e.$multiline&&"\n    white-space: normal;\n    max-width: 300px;\n    text-align: center;\n  ");(0,l.A)(d)(a||(a=(0,i.A)(["\n  padding: 0.375rem 0.625rem;\n  font-size: 0.8rem;\n"])))},29742:(e,n,t)=>{function o(e){if(e.isDraft||e.je_koncept)return"NOVA";let n;if(e.stav_objednavky)n=function(e){if(e&&"string"===typeof e){if(e.startsWith("Zam\xedtnut"))return"ZAMITNUTA";if(e.startsWith("Schv\xe1len"))return"SCHVALENA";if(e.startsWith("Dokon\u010den"))return"DOKONCENA";if(e.startsWith("Zru\u0161en"))return"ZRUSENA";if(e.startsWith("Archivov\xe1n"))return"ARCHIVOVANO"}return{"Ke schv\xe1len\xed":"KE_SCHVALENI","Nov\xe1":"NOVA","Rozpracovan\xe1":"ROZPRACOVANA","Odeslan\xe1 dodavateli":"ODESLANA","Potvrzen\xe1 dodavatelem":"POTVRZENA","M\xe1 b\xfdt zve\u0159ejn\u011bna":"K_UVEREJNENI_DO_REGISTRU","Uve\u0159ejn\u011bn\xe1":"UVEREJNENA","\u010cek\xe1 na potvrzen\xed":"CEKA_POTVRZENI","\u010cek\xe1 se":"CEKA_SE","V\u011bcn\xe1 spr\xe1vnost":"VECNA_SPRAVNOST","Smazan\xe1":"SMAZANA",Koncept:"NOVA"}[e]||e}(e.stav_objednavky);else if(e.stav_workflow_kod)try{const t=Array.isArray(e.stav_workflow_kod)?e.stav_workflow_kod:JSON.parse(e.stav_workflow_kod);n=Array.isArray(t)?t[t.length-1]:e.stav_workflow_kod}catch(t){n=e.stav_workflow_kod}else n="DRAFT";if(e.registr_smluv||e.stav_workflow_kod){const n=e.registr_smluv||{};if(n.dt_zverejneni&&n.registr_iddt)return"UVEREJNENA";let t=null;if(e.stav_workflow_kod)try{let n=[];if(Array.isArray(e.stav_workflow_kod)?n=e.stav_workflow_kod:"string"===typeof e.stav_workflow_kod&&(n=JSON.parse(e.stav_workflow_kod),Array.isArray(n)||(n=[])),n.length>0){const e=n[n.length-1];t="object"===typeof e?e.kod_stavu:e}}catch(o){}if(("UVEREJNIT"===t||"ANO"===n.zverejnit||!0===n.ma_byt_zverejnena||1===n.ma_byt_zverejnena||"1"===n.ma_byt_zverejnena)&&!n.registr_iddt)return"K_UVEREJNENI_DO_REGISTRU"}return n}function r(e){if(null!=e.faktury_celkova_castka_s_dph&&""!==e.faktury_celkova_castka_s_dph){const n=parseFloat(e.faktury_celkova_castka_s_dph);if(!isNaN(n)&&n>0)return n}if(null!=e.polozky_celkova_cena_s_dph&&""!==e.polozky_celkova_cena_s_dph){const n=parseFloat(e.polozky_celkova_cena_s_dph);if(!isNaN(n)&&n>0)return n}if(e.polozky&&Array.isArray(e.polozky)&&e.polozky.length>0){const n=e.polozky.reduce((e,n)=>{const t=parseFloat(n.cena_s_dph||0);return e+(isNaN(t)?0:t)},0);if(n>0)return n}if(null!=e.max_cena_s_dph&&""!==e.max_cena_s_dph){const n=parseFloat(e.max_cena_s_dph);if(!isNaN(n)&&n>0)return n}return 0}function a(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{showArchived:t=!1,userId:r=null,isAdmin:a=!1}=n;let i=e.filter(e=>!(!e.isDraft&&!e.je_koncept)||e.id&&e.id>1&&!e.isLocalConcept);return t||(i=i.filter(e=>{if(e.isDraft||e.je_koncept)return!0;return"ARCHIVOVANO"!==o(e)})),!a&&r&&(i=i.filter(e=>e.isDraft||e.je_koncept?e.objednatel_id===r||e.uzivatel_id===r:e.prikazce_id===r)),i}function i(e){const n=e.length,t=e.reduce((e,n)=>{const t=o(n);return e[t]=(e[t]||0)+1,e},{}),a=e.reduce((e,n)=>{const t=r(n);return e+(isNaN(t)?0:t)},0),i=e.reduce((e,n)=>{const t=o(n);if(["DOKONCENA","VYRIZENA","COMPLETED"].includes(t)){const t=r(n);return e+(isNaN(t)?0:t)}return e},0);return{total:n,byStatus:t,totalAmount:a,completedAmount:i,pendingAmount:a-i}}t.d(n,{Kt:()=>r,qF:()=>a,sL:()=>i,we:()=>o})},40614:(e,n,t)=>{t.d(n,{A:()=>o});const o=(0,t(77784).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},49547:(e,n,t)=>{t.r(n),t.d(n,{default:()=>al});var o=t(89379),r=t(57528),a=t(65043),i=t(97950),l=t(91357),s=t(27837),d=t(32730),c=t(54736),u=t(88720),v=t(76759),p=t(51833),h=t(200),m=t(53683),g=t(33637),f=t(44649),x=t(75949),b=t(36629);const j={NOVA:{dark:"#475569",light:"#e2e8f0"},KE_SCHVALENI:{dark:"#dc2626",light:"#fecaca"},SCHVALENA:{dark:"#ea580c",light:"#fed7aa"},ZAMITNUTA:{dark:"#7c2d12",light:"#fed7aa"},ROZPRACOVANA:{dark:"#ca8a04",light:"#fef08a"},ODESLANA:{dark:"#1d4ed8",light:"#dbeafe"},POTVRZENA:{dark:"#0891b2",light:"#a5f3fc"},K_UVEREJNENI_DO_REGISTRU:{dark:"#8b5cf6",light:"#ede9fe"},UVEREJNENA:{dark:"#7c2d12",light:"#fed7aa"},CEKA_POTVRZENI:{dark:"#7c3aed",light:"#e9d5ff"},CEKA_SE:{dark:"#92400e",light:"#fef3c7"},VECNA_SPRAVNOST:{dark:"#10b981",light:"#d1fae5"},DOKONCENA:{dark:"#16a34a",light:"#bbf7d0"},ZRUSENA:{dark:"#be185d",light:"#fce7f3"},SMAZANA:{dark:"#374151",light:"#d1d5db"},ARCHIVOVANO:{dark:"#78350f",light:"#fef3c7"},TOTAL:{dark:"#14532d",light:"#dcfce7"},COUNT:{dark:"#1e3a8a",light:"#dbeafe"},WITH_INVOICES:{dark:"#0891b2",light:"#cffafe"},WITH_ATTACHMENTS:{dark:"#7c3aed",light:"#e9d5ff"}},k=e=>{if(!e)return j.NOVA;if("string"===typeof e&&j[e])return j[e];const n=(null===e||void 0===e?void 0:e.kod)||(null===e||void 0===e?void 0:e.status_kod)||e;return n&&j[n]||j.NOVA};var _=t(74714),y=t(19439);const z=(e,n,t)=>{if(!n)return!0;const o=e._enriched||{};if(/^[\d|]+$/.test(n)){var r,a,i;let t=null;if(null!==o&&void 0!==o&&null!==(r=o.uzivatel)&&void 0!==r&&r.id?t=String(o.uzivatel.id):null!==(a=e.objednatel_uzivatel)&&void 0!==a&&a.id?t=String(e.objednatel_uzivatel.id):null!==(i=e.objednatel)&&void 0!==i&&i.id?t=String(e.objednatel.id):e.uzivatel_id?t=String(e.uzivatel_id):e.objednatel_id&&(t=String(e.objednatel_id)),!t)return!1;return n.split("|").map(e=>e.trim()).includes(t)}{let o="";if(e.objednatel_uzivatel)o=e.objednatel_uzivatel.cele_jmeno?e.objednatel_uzivatel.cele_jmeno:t(null,e.objednatel_uzivatel);else if(e.objednatel){const n=e.objednatel;if(n.cele_jmeno)o=n.cele_jmeno;else if(n.jmeno&&n.prijmeni){const e=n.titul_pred?n.titul_pred+" ":"",t=n.titul_za?", "+n.titul_za:"";o="".concat(e).concat(n.jmeno," ").concat(n.prijmeni).concat(t).replace(/\s+/g," ").trim()}else n.username&&(o=n.username)}else e.objednatel_id&&(o=t(e.objednatel_id));const r=(0,_.WL)(o.toLowerCase()),a=(0,_.WL)(n.toLowerCase());return r.includes(a)}},A=(e,n)=>{if(!n)return!0;return((e,n)=>{if(!n)return!0;const t=n.trim().match(/^(>|<|=)\s*(.+)$/);if(t){const n=t[1],o=t[2].replace(/\s/g,"").replace(/,/g,"."),r=parseFloat(o);if(isNaN(r))return!1;switch(n){case">":return e>r;case"<":return e<r;case"=":return Math.abs(e-r)<.01;default:return!1}}return(e>0?e.toLocaleString("cs-CZ"):"").includes(n)})(parseFloat(e.max_cena_s_dph||0),n)},w=(e,n,t,o)=>{if(!n)return!0;const r=n.trim();if(/^[\d|]+$/.test(r)){const n=((e,n)=>{var t,o,r,a,i,l;const s=e._enriched;switch(n){case"garant":return null!==s&&void 0!==s&&null!==(t=s.garant_uzivatel)&&void 0!==t&&t.id?String(s.garant_uzivatel.id):null!==(o=e.garant)&&void 0!==o&&o.id?String(e.garant.id):e.garant_uzivatel_id?String(e.garant_uzivatel_id):null;case"prikazce":return null!==s&&void 0!==s&&null!==(r=s.prikazce_uzivatel)&&void 0!==r&&r.id?String(s.prikazce_uzivatel.id):null!==(a=e.prikazce)&&void 0!==a&&a.id?String(e.prikazce.id):e.prikazce_id?String(e.prikazce_id):null;case"schvalovatel":return null!==s&&void 0!==s&&null!==(i=s.schvalovatel_uzivatel)&&void 0!==i&&i.id?String(s.schvalovatel_uzivatel.id):null!==(l=e.schvalovatel)&&void 0!==l&&l.id?String(e.schvalovatel.id):e.schvalovatel_id?String(e.schvalovatel_id):null;default:return null}})(e,t);if(!n)return!1;return r.split("|").map(e=>e.trim()).includes(n)}{const n=((e,n,t)=>{var o,r,a,i,l,s;const d=e._enriched||{};switch(n){case"garant":if(null!==(o=e.garant)&&void 0!==o&&o.jmeno&&null!==(r=e.garant)&&void 0!==r&&r.prijmeni){const n=e.garant,t=n.titul_pred?n.titul_pred+" ":"",o=n.titul_za?", "+n.titul_za:"";return"".concat(t).concat(n.jmeno," ").concat(n.prijmeni).concat(o).replace(/\s+/g," ").trim()}return null!==d&&void 0!==d&&d.garant_uzivatel?t(null,d.garant_uzivatel):e.garant_uzivatel_id?t(e.garant_uzivatel_id):"";case"prikazce":if(null!==(a=e.prikazce)&&void 0!==a&&a.jmeno&&null!==(i=e.prikazce)&&void 0!==i&&i.prijmeni){const n=e.prikazce,t=n.titul_pred?n.titul_pred+" ":"",o=n.titul_za?", "+n.titul_za:"";return"".concat(t).concat(n.jmeno," ").concat(n.prijmeni).concat(o).replace(/\s+/g," ").trim()}return null!==d&&void 0!==d&&d.prikazce_uzivatel?t(null,d.prikazce_uzivatel):e.prikazce_id?t(e.prikazce_id):"";case"schvalovatel":if(null!==(l=e.schvalovatel)&&void 0!==l&&l.jmeno&&null!==(s=e.schvalovatel)&&void 0!==s&&s.prijmeni){const n=e.schvalovatel,t=n.titul_pred?n.titul_pred+" ":"",o=n.titul_za?", "+n.titul_za:"";return"".concat(t).concat(n.jmeno," ").concat(n.prijmeni).concat(o).replace(/\s+/g," ").trim()}return null!==d&&void 0!==d&&d.schvalovatel?t(null,d.schvalovatel):e.schvalovatel_id?t(e.schvalovatel_id):"";default:return""}})(e,t,o);return(0,_.WL)(n.toLowerCase()).includes((0,_.WL)(r.toLowerCase()))}},S=(e,n,t,o,r)=>{if(!((e,n,t)=>{if(!n)return!0;const o=t(e);return!!o&&(0,y.iS)(new Date(o)).toLowerCase().includes(n.toLowerCase())})(e,n.dt_objednavky,t))return!1;if(!((e,n)=>{if(!n)return!0;const t=(0,_.WL)(e.cislo_objednavky||""),o=(0,_.WL)(e.predmet||""),r=(0,_.WL)(n);return t.includes(r)||o.includes(r)})(e,n.cislo_objednavky))return!1;if(!((e,n)=>!n||(0,_.WL)(e.predmet||"").includes((0,_.WL)(n)))(e,n.predmet))return!1;if(!z(e,n.objednatel,r))return!1;if(!((e,n,t)=>!n||(0,_.WL)(t(e)).includes((0,_.WL)(n)))(e,n.stav_objednavky,o))return!1;if(!A(e,n.max_cena_s_dph))return!1;if(!((e,n)=>{if(!n)return!0;const t=[e.dodavatel_nazev||"",e.dodavatel_ico||"",e.dodavatel_ulice||"",e.dodavatel_mesto||"",e.dodavatel_psc||"",e.dodavatel_kontakt_email||"",e.dodavatel_kontakt_telefon||"",e.dodavatel_kontakt_jmeno||""].join(" ").toLowerCase(),o=(0,_.WL)(t),r=(0,_.WL)(n.toLowerCase());return o.includes(r)})(e,n.dodavatel_nazev))return!1;if(n.objednatel_garant){const t=n.objednatel_garant,o=z(e,t,r),a=w(e,t,"garant",r);if(!o&&!a)return!1}if(n.prikazce_schvalovatel){const t=n.prikazce_schvalovatel,o=w(e,t,"prikazce",r),a=w(e,t,"schvalovatel",r);if(!o&&!a)return!1}return!!w(e,n.garant,"garant",r)&&(!!w(e,n.prikazce,"prikazce",r)&&!!w(e,n.schvalovatel,"schvalovatel",r))},C=(e,n)=>{const t=e._enriched||{};if(t.garant_uzivatel)return n(null,t.garant_uzivatel);if(e.garant){if(e.garant.jmeno&&e.garant.prijmeni){const n=e.garant.titul_pred?e.garant.titul_pred+" ":"",t=e.garant.titul_za?", "+e.garant.titul_za:"";return"".concat(n).concat(e.garant.jmeno," ").concat(e.garant.prijmeni).concat(t).replace(/\s+/g," ").trim()}return e.garant.username||""}return e.garant_uzivatel_id?n(e.garant_uzivatel_id):""},N=(e,n)=>{const t=e._enriched||{};if(t.schvalovatel_uzivatel)return n(null,t.schvalovatel_uzivatel);if(e.schvalovatel){if(e.schvalovatel.jmeno&&e.schvalovatel.prijmeni){const n=e.schvalovatel.titul_pred?e.schvalovatel.titul_pred+" ":"",t=e.schvalovatel.titul_za?", "+e.schvalovatel.titul_za:"";return"".concat(n).concat(e.schvalovatel.jmeno," ").concat(e.schvalovatel.prijmeni).concat(t).replace(/\s+/g," ").trim()}return e.schvalovatel.username||""}return e.schvalovatel_id?n(e.schvalovatel_id):""};var E,O,R,D,I=t(29742),L=t(65757),T=t(83910),$=t(97929),V=t(45903),P=t(28646),F=t(63974),M=t(70579);const W=V.A.div(E||(E=(0,r.A)(["\n  position: fixed;\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15), 0 4px 12px rgba(0, 0, 0, 0.1);\n  padding: 0.5rem 0;\n  min-width: 220px;\n  z-index: 999999;\n  font-size: 0.875rem;\n  /* \ud83d\udd27 ZM\u011aNA: Animace se aktivuje a\u017e po pozicov\xe1n\xed pomoc\xed opacity v style */\n  transition: opacity 0.15s ease-out;\n"]))),B=V.A.button(O||(O=(0,r.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  width: 100%;\n  padding: 0.65rem 1rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  font-size: 0.875rem;\n  color: ",";\n  transition: all 0.15s;\n  text-align: left;\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    color: #94a3b8;\n\n    &:hover {\n      background: transparent;\n      color: #94a3b8;\n    }\n  }\n\n  svg {\n    width: 16px;\n    height: 16px;\n    color: ",";\n  }\n\n  &:hover svg {\n    color: ",";\n  }\n\n  &:disabled svg {\n    color: #94a3b8;\n  }\n"])),e=>e.danger?"#dc2626":e.success?"#059669":"#0f172a",e=>e.danger?"#fee2e2":e.success?"#d1fae5":"#f1f5f9",e=>e.danger?"#991b1b":e.success?"#047857":"#0369a1",e=>e.danger?"#dc2626":e.success?"#059669":"#64748b",e=>e.danger?"#991b1b":e.success?"#047857":"#0369a1"),Z=V.A.div(R||(R=(0,r.A)(["\n  height: 1px;\n  background: #e2e8f0;\n  margin: 0.5rem 0;\n"]))),K=V.A.span(D||(D=(0,r.A)(["\n  flex: 1;\n  font-weight: 500;\n"]))),U=e=>{let{x:n,y:t,order:o,onClose:r,onAddToTodo:l,onAddAlarm:s,onEdit:d,onDelete:c,onGenerateDocx:u,onGenerateFinancialControl:v,canDelete:p=!1,selectedData:h=null}=e;const m=(0,a.useRef)(null),[g,f]=(0,a.useState)(!1),[x,b]=(0,a.useState)(null),[j,k]=(0,a.useState)({left:n,top:t}),[_,y]=(0,a.useState)(!1),z=()=>{if(!o)return!1;const e=["ROZPRACOVANA","POTVRZENA","ODESLANA","UVEREJNIT","UVEREJNENA","NEUVEREJNIT","FAKTURACE","VECNA_SPRAVNOST","DOKONCENA","ZKONTROLOVANA","CEKA_SE"];let n=[],t=null,r="";try{if(o.stav_workflow_kod&&(Array.isArray(o.stav_workflow_kod)?n=o.stav_workflow_kod:"string"===typeof o.stav_workflow_kod&&(n=JSON.parse(o.stav_workflow_kod),Array.isArray(n)||(n=[])),n.length>0)){const e=n[n.length-1];"object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?(t=e.kod_stavu||e.nazev_stavu,r=e.nazev_stavu||e.kod_stavu||""):"string"===typeof e&&(t=e,r=e)}t||(t=o.stav_id_num||o.stav_id||o.stav||o.nazev_stavu,r=o.nazev_stavu||o.status_name||t)}catch(a){t=o.stav_id_num||o.stav_id||o.nazev_stavu,r=o.nazev_stavu||"",n=[]}return n.some(n=>{let t="";return"object"===typeof n&&(n.kod_stavu||n.nazev_stavu)?t=String(n.kod_stavu||n.nazev_stavu).toUpperCase().trim():"string"===typeof n&&(t=String(n).toUpperCase().trim()),e.includes(t)})},A=()=>{if(!o)return!1;let e=[],n=null;try{if(o.stav_objednavky){const e=o.stav_objednavky.toLowerCase().trim();if("dokon\u010dena"===e||"dokoncena"===e)return!0}if(o.stav_workflow_kod&&(Array.isArray(o.stav_workflow_kod)?e=o.stav_workflow_kod:"string"===typeof o.stav_workflow_kod&&(e=JSON.parse(o.stav_workflow_kod),Array.isArray(e)||(e=[])),e.length>0)){const t=e[e.length-1];if("object"===typeof t&&(t.kod_stavu||t.nazev_stavu)?n=t.kod_stavu||t.nazev_stavu:"string"===typeof t&&(n=t),n&&"DOKONCENA"===String(n).toUpperCase().trim())return!0}}catch(t){console.error("Chyba p\u0159i kontrole stavu pro finan\u010dn\xed kontrolu:",t)}return!1};(0,a.useEffect)(()=>{if(m.current&&!_){const e=m.current.getBoundingClientRect(),o=window.innerWidth,r=window.innerHeight;let a=n,i=t;n+e.width>o&&(a=o-e.width-10),t+e.height>r&&(i=r-e.height-10),k({left:a,top:i}),y(!0)}},[n,t,_]),(0,a.useEffect)(()=>{(async()=>{try{if(navigator.clipboard&&navigator.clipboard.readText){const n=await navigator.clipboard.readText();f(n&&n.trim().length>0);try{const e=JSON.parse(n);e&&"object"===typeof e&&b(e)}catch(e){b(n)}}}catch(n){const e=localStorage.getItem("clipboard_data");if(f(!!e),e)try{b(JSON.parse(e))}catch(t){b(e)}}})()},[]);const w=async()=>{let e,n="";h&&h.value?(e=h.value,n='bu\u0148ka: "'.concat(e.substring(0,50)).concat(e.length>50?"...":"",'"')):(e=JSON.stringify(o,null,2),n="objedn\xe1vka ".concat(o.cislo_objednavky||o.id));try{const t="string"===typeof e?e:JSON.stringify(e);if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(t);else{const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}const o={data:e,description:n,type:h?"cell":"row",timestamp:Date.now()};localStorage.setItem("clipboard_data",JSON.stringify(o)),f(!0),b(e)}catch(t){}},S=async()=>{await w();const e={action:"cut",data:h||o,type:h?"cell":"row",orderId:o.id||o.cislo_objednavky,timestamp:Date.now()};localStorage.setItem("clipboard_action",JSON.stringify(e))},C=async()=>{try{let t=null;try{if(navigator.clipboard&&navigator.clipboard.readText){const e=await navigator.clipboard.readText();e&&(t={data:e,type:"external"})}}catch(e){}if(!t){const e=localStorage.getItem("clipboard_data");if(e)try{t=JSON.parse(e)}catch(n){t={data:e,type:"text"}}}t&&t.data&&alert("Vlo\u017eeno: ".concat(t.description||"data ze schr\xe1nky"))}catch(e){}};return(0,a.useEffect)(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&r()},n=e=>{if("Escape"===e.key)r();else if(e.ctrlKey||e.metaKey)switch(e.key){case"c":case"C":e.preventDefault(),w(),r();break;case"x":case"X":e.preventDefault(),S(),r();break;case"v":case"V":g&&(e.preventDefault(),C(),r())}};return setTimeout(()=>{document.addEventListener("mousedown",e),document.addEventListener("keydown",n)},50),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",n)}},[r]),i.createPortal((0,M.jsxs)(W,{ref:m,style:{left:"".concat(j.left,"px"),top:"".concat(j.top,"px"),opacity:_?1:0,pointerEvents:_?"auto":"none"},children:[(0,M.jsxs)(B,{onClick:()=>{S(),r()},title:"Vystrihnout ".concat(h?"obsah bu\u0148ky":"cel\xfd \u0159\xe1dek"," (Ctrl+X)"),children:[(0,M.jsx)(T.g,{icon:$.GC3}),(0,M.jsx)(K,{children:"Vystrihnout"})]}),(0,M.jsxs)(B,{onClick:()=>{w(),r()},title:"Kop\xedrovat ".concat(h?"obsah bu\u0148ky":"cel\xfd \u0159\xe1dek"," (Ctrl+C)"),children:[(0,M.jsx)(T.g,{icon:$.jPR}),(0,M.jsx)(K,{children:"Kop\xedrovat"})]}),(0,M.jsxs)(B,{disabled:!g,onClick:()=>{g&&(C(),r())},title:g?"Vlo\u017eit ze schr\xe1nky".concat(x?" (".concat("string"===typeof x?x.substring(0,30)+"...":"strukturovan\xe1 data",")"):""):"Schr\xe1nka je pr\xe1zdn\xe1",children:[(0,M.jsx)(T.g,{icon:$.R9T}),(0,M.jsx)(K,{children:"Vlo\u017eit"})]}),(0,M.jsx)(Z,{}),(0,M.jsxs)(B,{onClick:()=>{l(o),r()},children:[(0,M.jsx)(T.g,{icon:$.YEm}),(0,M.jsx)(K,{children:"P\u0159idat do m\xe9ho TODO"})]}),(0,M.jsxs)(B,{onClick:()=>{s(o),r()},children:[(0,M.jsx)(T.g,{icon:$.z$e}),(0,M.jsx)(K,{children:"P\u0159idat upozorn\u011bn\xed - ALARM"})]}),(0,M.jsx)(Z,{}),(0,M.jsxs)(B,{onClick:()=>{d(o),r()},children:[(0,M.jsx)(T.g,{icon:$.MT7}),(0,M.jsx)(K,{children:"Editace objedn\xe1vky"})]}),(0,M.jsxs)(B,{danger:!0,disabled:!p,onClick:()=>{p&&(c(o),r())},title:p?"Smazat objedn\xe1vku":"Nem\xe1te opr\xe1vn\u011bn\xed ke smaz\xe1n\xed t\xe9to objedn\xe1vky",children:[(0,M.jsx)(T.g,{icon:$.yLS}),(0,M.jsx)(K,{children:"Smazat objedn\xe1vku"})]}),(0,M.jsx)(Z,{}),(0,M.jsxs)(B,{disabled:!z(),onClick:()=>{z()&&(u(o),r())},title:z()?"Generovat DOCX dokument ze \u0161ablony":"Generov\xe1n\xed DOCX je dostupn\xe9 od f\xe1ze ROZPRACOVAN\xc1 (po schv\xe1len\xed, kdy\u017e se za\u010dne vypl\u0148ovat) a\u017e do DOKON\u010cEN\xc1",children:[(0,M.jsx)(T.g,{icon:$.W1P}),(0,M.jsx)(K,{children:"Generovat DOCX"})]}),(0,M.jsxs)(B,{success:!0,disabled:!A(),onClick:()=>{A()&&v&&(v(o),r())},title:A()?"Generovat finan\u010dn\xed kontrolu (PDF/tisk)":"Finan\u010dn\xed kontrola je dostupn\xe1 pouze pro objedn\xe1vky ve stavu DOKON\u010cENA",children:[(0,M.jsx)(T.g,{icon:$.p4e}),(0,M.jsx)(K,{children:"Finan\u010dn\xed kontrola (PDF/tisk)"})]}),(0,M.jsx)(Z,{}),(0,M.jsxs)(B,{onClick:()=>r(),children:[(0,M.jsx)(T.g,{icon:$.GRI}),(0,M.jsx)(K,{children:"Storno"})]})]}),document.body)};var H,J,G,Y,X,q,Q,ee,ne,te,oe,re,ae,ie,le,se,de,ce,ue,ve,pe,he,me,ge,fe,xe,be,je,ke,_e,ye,ze,Ae,we,Se,Ce,Ne,Ee,Oe,Re,De,Ie,Le,Te,$e,Ve,Pe,Fe,Me,We,Be,Ze,Ke,Ue,He,Je,Ge,Ye,Xe,qe,Qe,en,nn,tn,on,rn,an,ln,sn,dn,cn,un,vn,pn,hn,mn,gn,fn,xn,bn,jn,kn,_n,yn,zn,An,wn,Sn,Cn,Nn,En,On,Rn,Dn,In,Ln,Tn,$n,Vn,Pn,Fn,Mn,Wn,Bn,Zn,Kn,Un,Hn,Jn,Gn,Yn,Xn,qn,Qn,et,nt,tt,ot,rt,at,it,lt,st,dt,ct,ut,vt,pt,ht,mt,gt,ft,xt,bt,jt,kt,_t,yt,zt,At,wt,St,Ct,Nt,Et,Ot,Rt,Dt,It,Lt,Tt,$t,Vt,Pt,Ft,Mt,Wt,Bt,Zt,Kt,Ut,Ht,Jt,Gt,Yt,Xt,qt,Qt,eo,no,to,oo,ro,ao,io,lo,so,co,uo,vo,po,ho,mo,go,fo,xo,bo,jo,ko,_o,yo,zo,Ao,wo=t(4509),So=t(37087),Co=t(89468),No=(t(21549),t(90087)),Eo=t(1574),Oo=t(54153),Ro=t(98951),Do=t(58931),Io=t(47111);const Lo=(0,a.lazy)(()=>Promise.all([t.e(6159),t.e(6366)]).then(t.bind(t,56366)).then(e=>({default:e.DocxGeneratorModal}))),To=(0,a.lazy)(()=>Promise.all([t.e(9227),t.e(8951),t.e(6872)]).then(t.bind(t,66872))),$o=V.A.div(H||(H=(0,r.A)(["\n  position: relative;\n  padding: 1rem;\n  width: 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n  overflow: visible;\n  isolation: isolate;\n"]))),Vo=V.A.div(J||(J=(0,r.A)(["\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    margin-bottom: 2rem;\n  "]))),Po=(V.A.h1(G||(G=(0,r.A)(["\n  margin: 0;\n  font-size: 2rem;\n  font-weight: 700;\n  color: #1e293b;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n"]))),V.A.div(Y||(Y=(0,r.A)(["\n  display: flex;\n  gap: 0.75rem;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  padding-bottom: 1rem;\n  border-bottom: 3px solid #e5e7eb;\n"])))),Fo=V.A.button(X||(X=(0,r.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.35rem;\n  padding: 0.35rem 0.6rem;\n  border: 2px solid #3b82f6;\n  border-radius: 6px;\n  background: ",";\n  color: ",";\n  font-weight: 600;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ",";\n    border-color: ",";\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n"])),e=>e.$primary?"#3b82f6":"white",e=>e.$primary?"white":"#3b82f6",e=>e.$primary?"#2563eb":"#eff6ff",e=>(e.$primary,"#2563eb")),Mo=e=>{if(e&&"string"===typeof e){if(e.startsWith("Zam\xedtnut"))return"ZAMITNUTA";if(e.startsWith("Schv\xe1len"))return"SCHVALENA";if(e.startsWith("Dokon\u010den"))return"DOKONCENA";if(e.startsWith("Zru\u0161en"))return"ZRUSENA";if(e.startsWith("Archivov\xe1n"))return"ARCHIVOVANO"}return{"Ke schv\xe1len\xed":"KE_SCHVALENI","Nov\xe1":"NOVA","Rozpracovan\xe1":"ROZPRACOVANA","Odeslan\xe1 dodavateli":"ODESLANA","Potvrzen\xe1 dodavatelem":"POTVRZENA","M\xe1 b\xfdt zve\u0159ejn\u011bna":"K_UVEREJNENI_DO_REGISTRU","Uve\u0159ejn\u011bn\xe1":"UVEREJNENA","\u010cek\xe1 na potvrzen\xed":"CEKA_POTVRZENI","\u010cek\xe1 se":"CEKA_SE","V\u011bcn\xe1 spr\xe1vnost":"VECNA_SPRAVNOST","Smazan\xe1":"SMAZANA",Koncept:"NOVA"}[e]||e},Wo=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")){case"nova":case"koncept":return"\ud83d\udcdd";case"ke_schvaleni":case"keschvaleni":return"\ud83d\udccb";case"schvalena":return"\ud83d\udc4d";case"zamitnuta":return"\u274c";case"rozpracovana":return"\ud83d\udd50";case"odeslana":return"\ud83d\udce4";case"potvrzena":return"\u2714";case"uverejnena":case"registr_zverejnena":case"registrzverejnena":return"\ud83d\udce2";case"dokoncena":return"\ud83c\udfaf";case"ceka_potvrzeni":case"cekapotvrzeni":case"ceka_se":case"cekase":return"\u23f8";case"zrusena":return"\ud83d\udeab";case"smazana":return"\ud83d\uddd1";case"ceka_kontrola":case"cekakontrola":return"\ud83d\udd0d";case"vecna_spravnost":case"vecnaspravnost":return"\u2705";case"archivovano":case"archivovana":return"\ud83d\udce6";default:return"\ud83d\udcca"}},Bo=V.A.div(q||(q=(0,r.A)(["\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 60%, #e2e8f0 100%);\n  border: 1px solid #cbd5e1;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n"]))),Zo=V.A.div(Q||(Q=(0,r.A)(["\n  display: grid;\n  grid-template-columns: minmax(350px, 400px) repeat(auto-fit, minmax(180px, 220px));\n  gap: clamp(0.8rem, 1.5vw, 1.65rem);\n  margin-bottom: 1.5rem;\n  align-items: start;\n  justify-content: start;\n  overflow-x: auto;\n\n  /* Lep\u0161\xed responzivita pro r\u016fzn\xe9 zoom \xfarovn\u011b */\n  @media (max-width: 1400px) {\n    grid-template-columns: minmax(320px, 350px) repeat(auto-fit, minmax(160px, 200px));\n    gap: clamp(0.7rem, 1.3vw, 1.4rem);\n  }\n\n  @media (max-width: 1200px) {\n    grid-template-columns: minmax(300px, 330px) repeat(auto-fit, minmax(150px, 180px));\n    gap: clamp(0.6rem, 1.2vw, 1.3rem);\n  }\n\n  @media (max-width: 900px) {\n    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n    gap: clamp(0.8rem, 2vw, 1.2rem);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: clamp(0.8rem, 2vw, 1.15rem);\n  }\n\n  @media (max-width: 600px) {\n    grid-template-columns: 1fr;\n    gap: clamp(0.6rem, 2vw, 0.9rem);\n  }\n\n  /* Speci\xe1ln\xed pravidla pro vysok\xfd zoom (detekce p\u0159es velk\xe9 font-size) */\n  @media (min-width: 1600px) {\n    grid-template-columns: minmax(400px, 450px) repeat(auto-fit, minmax(200px, 250px));\n    gap: clamp(1.2rem, 1.8vw, 2rem);\n  }\n"]))),Ko=V.A.div(ee||(ee=(0,r.A)(["\n  background: linear-gradient(145deg, #ffffff, #f9fafb);\n  border-radius: 16px;\n  padding: clamp(1.25rem, 1.5vw, 1.75rem);\n  border-left: 6px solid ",";\n  box-shadow:\n    0 4px 12px rgba(0, 0, 0, 0.08),\n    0 2px 4px rgba(0, 0, 0, 0.06);\n\n  transition: all 0.3s ease;\n  grid-row: span 2;\n  grid-column: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  min-height: fit-content;\n  height: 100%;\n  position: relative;\n  width: 100%;\n  box-sizing: border-box;\n\n  /* Hover efekt */\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow:\n      0 8px 20px rgba(0, 0, 0, 0.12),\n      0 4px 8px rgba(0, 0, 0, 0.08);\n  }\n\n  /* Responsive breakpoints */\n  @media (max-width: 1200px) {\n    grid-row: span 1;\n    grid-column: span 2;\n    min-height: clamp(140px, 15vh, 180px);\n  }\n\n  @media (max-width: 900px) {\n    grid-column: span 1;\n    min-height: clamp(120px, 14vh, 160px);\n    padding: clamp(1rem, 1.2vw, 1.5rem);\n  }\n\n  @media (max-width: 768px) {\n    min-height: clamp(110px, 13vh, 150px);\n  }\n\n  @media (max-width: 600px) {\n    min-height: clamp(100px, 12vh, 130px);\n    padding: clamp(0.8rem, 1vw, 1.25rem);\n  }\n"])),e=>e.$color||"#3b82f6"),Uo=V.A.div(ne||(ne=(0,r.A)(["\n  background: ",";\n  border-radius: 12px;\n  padding: clamp(0.8rem, 1vw, 1rem);\n  border-left: 4px solid ",";\n  box-shadow:\n    0 2px 8px rgba(0, 0, 0, 0.06),\n    0 1px 3px rgba(0, 0, 0, 0.04);\n\n  transition: all 0.25s ease;\n  min-height: clamp(90px, 10vh, 120px);\n  min-width: clamp(160px, 18vw, 220px);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  position: relative;\n  cursor: ",";\n  width: 100%;\n  box-sizing: border-box;\n\n  /* Hover efekt */\n  &:hover {\n    transform: ",";\n    box-shadow:\n      0 4px 12px rgba(0, 0, 0, 0.1),\n      0 2px 6px rgba(0, 0, 0, 0.06);\n    ","\n  }\n\n  /* Aktivn\xed stav */\n  ","\n\n  /* Responsive breakpoints pro r\u016fzn\xe9 velikosti obrazovky a zoom */\n  @media (max-width: 1400px) {\n    min-height: clamp(85px, 9vh, 110px);\n    min-width: clamp(150px, 16vw, 200px);\n  }\n\n  @media (max-width: 1200px) {\n    min-height: clamp(80px, 8vh, 105px);\n    min-width: clamp(140px, 15vw, 190px);\n  }\n\n  @media (max-width: 900px) {\n    min-height: clamp(75px, 8vh, 100px);\n    min-width: 100%;\n  }\n\n  @media (max-width: 768px) {\n    min-height: clamp(70px, 7vh, 95px);\n    padding: clamp(0.7rem, 0.8vw, 0.9rem);\n  }\n\n  @media (max-width: 600px) {\n    min-height: clamp(65px, 7vh, 85px);\n    padding: clamp(0.6rem, 0.7vw, 0.8rem);\n  }\n"])),e=>e.$isActive?"linear-gradient(145deg, ".concat(e.$color||"#3b82f6","20, ").concat(e.$color||"#3b82f6","10)"):"linear-gradient(145deg, #ffffff, #f9fafb)",e=>e.$color||"#3b82f6",e=>e.$clickable?"pointer":"default",e=>e.$clickable?"translateY(-2px)":"translateY(-1px)",e=>e.$clickable&&"\n      background: linear-gradient(145deg, ".concat(e.$color||"#3b82f6","25, ").concat(e.$color||"#3b82f6","15);\n    "),e=>e.$isActive&&"\n    border-left-width: 6px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12), 0 0 0 2px ".concat(e.$color||"#3b82f6","40;\n  ")),Ho=V.A.div(te||(te=(0,r.A)(["\n  font-size: clamp(1.25rem, 2.5vw, 1.875rem);\n  font-weight: 700;\n  color: #1e293b;\n  line-height: 1.2;\n  text-align: left;\n\n  /* Zaji\u0161t\u011bn\xed \u010ditelnosti na r\u016fzn\xfdch zoom \xfarovn\xedch */\n  @media (max-width: 1400px) {\n    font-size: clamp(1.2rem, 2.3vw, 1.75rem);\n  }\n\n  @media (max-width: 1200px) {\n    font-size: clamp(1.15rem, 2.2vw, 1.65rem);\n  }\n\n  @media (max-width: 900px) {\n    font-size: clamp(1.1rem, 2.1vw, 1.6rem);\n  }\n\n  @media (max-width: 768px) {\n    font-size: clamp(1rem, 2vw, 1.5rem);\n  }\n\n  @media (max-width: 600px) {\n    font-size: clamp(0.95rem, 1.8vw, 1.3rem);\n  }\n"]))),Jo=V.A.div(oe||(oe=(0,r.A)(["\n  font-size: clamp(0.75rem, 1.2vw, 0.875rem);\n  color: #64748b;\n  font-weight: 500;\n  text-align: left;\n  line-height: 1.4;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  /* Responzivn\xed velikosti pro r\u016fzn\xe9 zoom \xfarovn\u011b */\n  @media (max-width: 1200px) {\n    white-space: normal;\n    line-height: 1.3;\n  }\n\n  @media (max-width: 900px) {\n    font-size: clamp(0.7rem, 1.1vw, 0.825rem);\n  }\n\n  @media (max-width: 768px) {\n    font-size: clamp(0.65rem, 1vw, 0.8rem);\n  }\n\n  @media (max-width: 600px) {\n    font-size: clamp(0.6rem, 0.9vw, 0.75rem);\n  }\n"]))),Go=V.A.div(re||(re=(0,r.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 0.5rem;\n"]))),Yo=V.A.div(ae||(ae=(0,r.A)(["\n  font-size: 1.5rem;\n  opacity: 0.85;\n  line-height: 1;\n\n  /* Kdy\u017e obsahuje FontAwesome ikonu (fallback) */\n  color: ",";\n"])),e=>e.$color||"#64748b"),Xo=V.A.div(ie||(ie=(0,r.A)(["\n  font-size: clamp(1.25rem, 2.5vw, 1.75rem);\n  font-weight: 700;\n  color: #1e293b;\n  text-align: center;\n  line-height: 1.1;\n  margin-bottom: 0.5rem;\n\n  /* Responzivn\xed velikosti pro r\u016fzn\xe9 zoom \xfarovn\u011b */\n  @media (max-width: 1400px) {\n    font-size: clamp(1.15rem, 2.3vw, 1.6rem);\n  }\n\n  @media (max-width: 1200px) {\n    font-size: clamp(1.3rem, 2.6vw, 2rem);\n  }\n\n  @media (max-width: 900px) {\n    font-size: clamp(1.2rem, 2.4vw, 1.9rem);\n  }\n\n  @media (max-width: 768px) {\n    font-size: clamp(1.1rem, 2.2vw, 1.8rem);\n  }\n\n  @media (max-width: 600px) {\n    font-size: clamp(1rem, 2vw, 1.6rem);\n  }\n"]))),qo=V.A.div(le||(le=(0,r.A)(["\n  font-size: 1rem;\n  color: #64748b;\n  font-weight: 600;\n  text-align: center;\n  margin-bottom: 1rem;\n\n  @media (max-width: 480px) {\n    font-size: 0.875rem;\n  }\n"]))),Qo=V.A.div(se||(se=(0,r.A)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n  margin-top: auto;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n"]))),er=V.A.div(de||(de=(0,r.A)(["\n  flex: 1;\n  padding: 0.75rem;\n  border-radius: 8px;\n  border-left: 3px solid ",";\n  background: ",";\n"])),e=>e.$color||"#d1d5db",e=>e.$bg||"rgba(0, 0, 0, 0.02)"),nr=V.A.div(ce||(ce=(0,r.A)(["\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: ",";\n  margin-bottom: 0.25rem;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n"])),e=>e.$color||"#6b7280"),tr=V.A.div(ue||(ue=(0,r.A)(["\n  font-size: 0.875rem;\n  font-weight: 700;\n  color: #1f2937;\n"]))),or=V.A.div(ve||(ve=(0,r.A)(["\n  background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n  padding: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 1rem;\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n  color: white;\n  position: relative;\n  z-index: 9999;\n"]))),rr=V.A.div(pe||(pe=(0,r.A)(["\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  flex-wrap: wrap;\n"]))),ar=V.A.h2(he||(he=(0,r.A)(["\n  font-size: calc(1.5rem + 3px);\n  font-weight: 700;\n  color: white;\n  margin: 0;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n"]))),ir=(0,V.A)(wo.T_)(me||(me=(0,r.A)(["\n  z-index: 999999;\n"]))),lr=V.A.span(ge||(ge=(0,r.A)(["\n  margin-left: 0.5rem;\n  color: #64748b;\n  font-size: 0.75rem;\n  font-weight: 600;\n  cursor: help;\n  display: inline-flex;\n  align-items: center;\n  gap: 0.25rem;\n  flex-wrap: wrap;\n\n  /* Styling pro <kbd> tagy podle obr\xe1zku */\n  kbd {\n    display: inline-block;\n    padding: 0.15rem 0.5rem;\n    font-size: 0.7rem;\n    font-weight: 600;\n    line-height: 1.2;\n    color: #1e40af;\n    background: #dbeafe;\n    border: 1px solid #93c5fd;\n    border-radius: 4px;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;\n    text-transform: capitalize;\n    white-space: nowrap;\n  }\n"]))),sr=V.A.div(fe||(fe=(0,r.A)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  background: ",";\n  color: white;\n  font-size: 0.9rem;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  cursor: help;\n  transition: all 0.2s ease;\n  position: relative;\n  z-index: 999999;\n\n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);\n  }\n\n  svg {\n    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));\n  }\n"])),e=>e.fromCache?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"),dr=V.A.label(xe||(xe=(0,r.A)(["\n  font-weight: 600;\n  font-size: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),cr=V.A.button(be||(be=(0,r.A)(["\n  background: ","; /* Norm\xe1ln\xed b\xedl\xe1 */\n  border: 1px solid ","; /* Norm\xe1ln\xed okraj */\n  color: ","; /* \u017dlut\xe1/b\xedl\xe1 ikona */\n  width: 42px;\n  height: 42px;\n  border-radius: 6px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.1rem;\n  transition: all 0.2s ease;\n  margin-left: 0.5rem;\n\n  &:hover {\n    background: ","; /* B\xedl\xe1 hover */\n    border-color: ","; /* B\xedl\xfd hover okraj */\n    transform: translateY(-1px);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"])),e=>e.isBackgroundActive?"rgba(255, 193, 7, 0.2)":"rgba(255, 255, 255, 0.15)",e=>e.isBackgroundActive?"rgba(255, 193, 7, 0.4)":"rgba(255, 255, 255, 0.3)",e=>e.isBackgroundActive?"#ffc107":"white",e=>e.isBackgroundActive?"rgba(255, 193, 7, 0.3)":"rgba(255, 255, 255, 0.25)",e=>e.isBackgroundActive?"rgba(255, 193, 7, 0.6)":"rgba(255, 255, 255, 0.4)"),ur=V.A.span(je||(je=(0,r.A)(["\n  font-size: 0.75rem;\n  color: rgba(255, 255, 255, 0.8);\n  margin-left: 0.5rem;\n  white-space: nowrap;\n  font-weight: 500;\n"]))),vr=V.A.label(ke||(ke=(0,r.A)(["\n  font-weight: 600;\n  font-size: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-left: 1rem;\n"]))),pr=(V.A.select(_e||(_e=(0,r.A)(["\n  padding: 0.75rem 1rem;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 6px;\n  font-size: 1rem;\n  font-weight: 600;\n  background: rgba(255, 255, 255, 0.15);\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  backdrop-filter: blur(8px);\n\n  &:focus {\n    outline: none;\n    border-color: rgba(255, 255, 255, 0.8);\n    background: rgba(255, 255, 255, 0.25);\n    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);\n  }\n\n  option {\n    background: #1e40af;\n    color: white;\n    padding: 0.5rem;\n  }\n"]))),V.A.select(ye||(ye=(0,r.A)(['\n  padding: 0.75rem 1rem;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 6px;\n  font-size: 1rem;\n  font-weight: 600;\n  background: rgba(255, 255, 255, 0.15);\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  backdrop-filter: blur(8px);\n  width: auto;\n  min-width: 240px;\n\n  /* Scrollbar styling */\n  overflow-y: auto;\n  max-height: 400px;\n\n  &::-webkit-scrollbar {\n    width: 12px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: rgba(30, 64, 175, 0.3);\n    border-radius: 6px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(96, 165, 250, 0.9));\n    border-radius: 6px;\n    border: 2px solid rgba(30, 64, 175, 0.3);\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background: linear-gradient(135deg, rgba(59, 130, 246, 1), rgba(96, 165, 250, 1));\n  }\n\n  /* Firefox scrollbar */\n  scrollbar-width: thin;\n  scrollbar-color: rgba(59, 130, 246, 0.8) rgba(30, 64, 175, 0.3);\n\n  &:focus {\n    outline: none;\n    border-color: rgba(255, 255, 255, 0.8);\n    background: rgba(255, 255, 255, 0.25);\n    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);\n  }\n\n  option {\n    background: #1e40af;\n    color: white;\n    padding: 0.5rem;\n    font-size: 0.95rem;\n\n    &:hover {\n      background: #2563eb;\n    }\n\n    &[data-separator="true"] {\n      padding: 0.5rem 1rem !important;\n      margin: 0 !important;\n      width: 100% !important;\n      height: auto !important;\n      line-height: normal !important;\n      font-size: 0.95rem !important;\n      color: white !important;\n      background: #1e40af !important;\n      border: none !important;\n      border-top: 1px solid white !important;\n      cursor: default;\n      pointer-events: none;\n      display: block;\n      box-sizing: border-box;\n    }\n\n    &[data-action="true"] {\n      font-style: normal;\n      color: white;\n      font-weight: normal;\n      padding: 0.5rem;\n      margin: 0;\n      background: #1e40af;\n\n      &:hover {\n        background: #2563eb;\n      }\n    }\n  }\n']))),V.A.div(ze||(ze=(0,r.A)(["\n  position: relative;\n  width: auto;\n  min-width: 240px;\n"])))),hr=V.A.div(Ae||(Ae=(0,r.A)(["\n  position: relative;\n  width: auto;\n  min-width: 160px;\n"]))),mr=V.A.button(we||(we=(0,r.A)(["\n  padding: 0.75rem 1rem;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 6px;\n  font-size: 1rem;\n  font-weight: 600;\n  background: rgba(255, 255, 255, 0.15);\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  backdrop-filter: blur(8px);\n  width: 100%;\n  text-align: left;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  &:focus {\n    outline: none;\n    border-color: rgba(255, 255, 255, 0.8);\n    background: rgba(255, 255, 255, 0.25);\n    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);\n  }\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.25);\n  }\n"]))),gr=V.A.div(Se||(Se=(0,r.A)(["\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  margin-top: 0.5rem;\n  background: #1e40af;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 6px;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\n  max-height: 400px;\n  overflow-y: auto;\n  z-index: 1000;\n  backdrop-filter: blur(8px);\n\n  /* Scrollbar styling */\n  &::-webkit-scrollbar {\n    width: 12px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: rgba(30, 64, 175, 0.3);\n    border-radius: 6px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(96, 165, 250, 0.9));\n    border-radius: 6px;\n    border: 2px solid rgba(30, 64, 175, 0.3);\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background: linear-gradient(135deg, rgba(59, 130, 246, 1), rgba(96, 165, 250, 1));\n  }\n\n  /* Firefox scrollbar */\n  scrollbar-width: thin;\n  scrollbar-color: rgba(59, 130, 246, 0.8) rgba(30, 64, 175, 0.3);\n"]))),fr=V.A.div(Ce||(Ce=(0,r.A)(["\n  padding: 0.75rem 1rem;\n  color: white;\n  cursor: ",";\n  font-size: 0.95rem;\n  transition: background 0.15s ease;\n  pointer-events: ",";\n\n  ","\n\n  ","\n\n  ","\n"])),e=>e.disabled?"default":"pointer",e=>e.disabled?"none":"auto",e=>e.separator&&"\n    border-top: 1px solid rgba(255, 255, 255, 0.3);\n    padding: 0.5rem 1rem;\n    text-align: center;\n    color: rgba(255, 255, 255, 0.7);\n  ",e=>e.action&&"\n    font-weight: 600;\n    color: rgba(255, 255, 255, 0.9);\n  ",e=>!e.disabled&&!e.separator&&"\n    &:hover {\n      background: #2563eb;\n    }\n  "),xr=V.A.div(Ne||(Ne=(0,r.A)(["\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 60%, #e2e8f0 100%);\n  border: 1px solid #cbd5e1;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 1.5rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n"]))),br=V.A.div(Ee||(Ee=(0,r.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n"]))),jr=V.A.div(Oe||(Oe=(0,r.A)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 0.6fr 0.6fr;\n  gap: clamp(1rem, 1.5vw, 1.5rem);\n  margin-top: 1.5rem;\n  margin-bottom: 1rem;\n\n  /* Prvn\xed \u0159\xe1dek: Objednatel (1), Garant (1), P\u0159\xedkazce (1), Schvalovatel (1), Stav objedn\xe1vky (0.6+0.6) */\n  /* Druh\xfd \u0159\xe1dek: Datum (2), Cena (2), Stav registru (0.6), Mimo\u0159\xe1dn\xe9 ud\xe1losti (0.6) pod Stav objedn\xe1vky */\n  \n  & > *:nth-of-type(5) {\n    grid-column: 5 / 7; /* Stav objedn\xe1vky zabere sloupce 5, 6 (\u0161\xed\u0159ka 0.6+0.6) */\n  }\n\n  & > *:nth-of-type(6) {\n    grid-column: 1 / 3; /* Datum - sloupce 1, 2 */\n  }\n\n  & > *:nth-of-type(7) {\n    grid-column: 3 / 5; /* Cena - sloupce 3, 4 */\n  }\n\n  & > *:nth-of-type(8) {\n    grid-column: 5 / 6; /* Stav registru - sloupec 5 (0.6fr) - zarovn\xe1n doleva */\n  }\n\n  & > *:nth-of-type(9) {\n    grid-column: 6 / 7; /* Mimo\u0159\xe1dn\xe9 ud\xe1losti - sloupec 6 (0.6fr) - zarovn\xe1n doprava */\n  }\n\n  /* Responzivn\xed breakpointy */\n  @media (max-width: 1400px) {\n    grid-template-columns: repeat(3, 1fr);\n\n    & > *:nth-of-type(5) {\n      grid-column: 3 / 4; /* Stav objedn\xe1vky - 1 sloupec */\n    }\n\n    /* Na st\u0159edn\xedch obrazovk\xe1ch - datum a cena na vlastn\xed \u0159\xe1dky */\n    & > *:nth-of-type(6) {\n      grid-column: 1 / -1;\n    }\n\n    & > *:nth-of-type(7) {\n      grid-column: 1 / -1;\n    }\n\n    & > *:nth-of-type(8) {\n      grid-column: 1 / 2;\n    }\n\n    & > *:nth-of-type(9) {\n      grid-column: 2 / 3;\n    }\n  }\n\n  @media (max-width: 1200px) {\n    grid-template-columns: repeat(2, 1fr);\n\n    & > *:nth-of-type(5) {\n      grid-column: 1 / -1; /* Stav objedn\xe1vky - full width */\n    }\n\n    /* Na st\u0159edn\xedch obrazovk\xe1ch - datum a cena na vlastn\xed \u0159\xe1dky */\n    & > *:nth-of-type(6) {\n      grid-column: 1 / -1;\n    }\n\n    & > *:nth-of-type(7) {\n      grid-column: 1 / -1;\n    }\n\n    & > *:nth-of-type(8) {\n      grid-column: 1 / 2;\n    }\n\n    & > *:nth-of-type(9) {\n      grid-column: 2 / 3;\n    }\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n    gap: clamp(0.8rem, 1.2vw, 1.25rem);\n\n    /* Na mobilech - v\u0161echno na jeden sloupec */\n    & > * {\n      grid-column: 1 !important;\n    }\n  }\n\n  @media (max-width: 480px) {\n    gap: clamp(0.6rem, 1vw, 1rem);\n  }\n"]))),kr=(V.A.div(Re||(Re=(0,r.A)(["\n  display: flex;\n  align-items: flex-end;\n  justify-content: flex-end;\n"]))),V.A.div(De||(De=(0,r.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n"])))),_r=V.A.div(Ie||(Ie=(0,r.A)(["\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #374151;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 0.5rem;\n  width: 100%;\n  margin-bottom: 0.5rem;\n"]))),yr=V.A.div(Le||(Le=(0,r.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),zr=V.A.button(Te||(Te=(0,r.A)(["\n  background: none;\n  border: none;\n  padding: 0.25rem 0.5rem;\n  cursor: pointer;\n  color: #9ca3af;\n  font-size: 0.75rem;\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  transition: all 0.2s ease;\n  border-radius: 4px;\n  opacity: ",";\n  pointer-events: ",";\n  margin-left: auto;\n\n  &:hover {\n    color: #ef4444;\n    background: rgba(239, 68, 68, 0.1);\n  }\n\n  svg {\n    width: 12px;\n    height: 12px;\n  }\n"])),e=>e.visible?1:0,e=>e.visible?"auto":"none"),Ar=V.A.div($e||($e=(0,r.A)(["\n  position: relative;\n  width: 100%;\n\n  > svg:first-of-type {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n"]))),wr=V.A.button(Ve||(Ve=(0,r.A)(["\n  position: absolute;\n  right: 0.75rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 0.25rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  z-index: 1;\n  width: 20px;\n  height: 20px;\n\n  &:hover {\n    color: #6b7280;\n  }\n\n  > svg {\n    width: 14px !important;\n    height: 14px !important;\n  }\n"]))),Sr=V.A.input(Pe||(Pe=(0,r.A)(["\n  width: 100%;\n  box-sizing: border-box;\n  padding: ",";\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  background: white;\n  height: 42px;\n\n  /* Pro number inputy - zarovn\xe1n\xed doprava a odstran\u011bn\xed \u0161ipek */\n  ","\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n  }\n"])),e=>e.hasIcon?"0.5rem 2.5rem 0.5rem 2.5rem":"0.5rem",e=>"number"===e.type&&"\n    text-align: right;\n    padding-right: 2.5rem; /* m\xedsto pro K\u010d symbol */\n\n    /* Odstran\u011bn\xed spinner \u0161ipek - WebKit */\n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n\n    /* Odstran\u011bn\xed spinner \u0161ipek - Firefox */\n    &[type=number] {\n      -moz-appearance: textfield;\n    }\n  "),Cr=(V.A.div(Fe||(Fe=(0,r.A)(["\n  position: relative;\n  width: 100%;\n\n  > svg {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n"]))),V.A.select(Me||(Me=(0,r.A)(["\n  width: 100%;\n  box-sizing: border-box;\n  padding: ",";\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  background: white;\n  cursor: pointer;\n  color: #1f2937;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  appearance: none;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &:hover {\n    border-color: #3b82f6;\n  }\n\n  /* Custom dropdown arrow - stejn\xe1 jako v OrderForm25 */\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23374151' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: right 0.5rem center;\n  background-size: 16px 16px;\n\n  /* Styling pro placeholder option */\n  option[value=\"\"] {\n    color: #9ca3af;\n    font-weight: 400;\n  }\n\n  option {\n    color: #1f2937;\n    font-weight: 500;\n    padding: 0.5rem;\n  }\n"])),e=>e.hasIcon?"0.75rem 1.75rem 0.75rem 2.5rem":"0.75rem 1.75rem 0.75rem 0.75rem"),V.A.div(We||(We=(0,r.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n"])))),Nr=V.A.div(Be||(Be=(0,r.A)(["\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n"]))),Er=V.A.div(Ze||(Ze=(0,r.A)(["\n  flex: 1;\n  position: relative;\n\n  > svg {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n\n  /* K\u010d symbol vpravo */\n  &::after {\n    content: 'K\u010d';\n    position: absolute;\n    right: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #6b7280;\n    font-size: 0.875rem;\n    font-weight: 500;\n    pointer-events: none;\n    z-index: 2;\n  }\n"]))),Or=V.A.span(Ke||(Ke=(0,r.A)(["\n  color: #6b7280;\n  font-weight: 500;\n  font-size: 0.875rem;\n  padding: 0 0.25rem;\n"]))),Rr=V.A.div(Ue||(Ue=(0,r.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n"]))),Dr=V.A.div(He||(He=(0,r.A)(["\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n"]))),Ir=V.A.div(Je||(Je=(0,r.A)(["\n  flex: 1;\n  position: relative;\n\n  > svg {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n"]))),Lr=V.A.span(Ge||(Ge=(0,r.A)(["\n  color: #6b7280;\n  font-weight: 500;\n  font-size: 0.875rem;\n  padding: 0 0.25rem;\n"]))),Tr=V.A.div(Ye||(Ye=(0,r.A)(["\n  position: relative;\n  width: 100%;\n\n  > svg:first-of-type {\n    position: absolute;\n    left: 0.5rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 12px !important;\n    height: 12px !important;\n  }\n"]))),$r=V.A.button(Xe||(Xe=(0,r.A)(["\n  position: absolute;\n  right: 0.5rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 0.15rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  z-index: 1;\n  width: 16px;\n  height: 16px;\n\n  &:hover {\n    color: #6b7280;\n  }\n\n  > svg {\n    width: 10px !important;\n    height: 10px !important;\n  }\n"]))),Vr=V.A.input(qe||(qe=(0,r.A)(["\n  width: 100%;\n  padding: 0.5rem 2rem 0.5rem 2rem;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  background: #f9fafb;\n  transition: all 0.2s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    background: white;\n    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n    font-size: 0.75rem;\n  }\n"]))),Pr=V.A.span(Qe||(Qe=(0,r.A)(["\n  position: absolute;\n  top: -6px;\n  right: -6px;\n  background: #dc2626;\n  color: white;\n  font-size: 10px;\n  font-weight: 700;\n  padding: 2px 5px;\n  border-radius: 10px;\n  min-width: 18px;\n  text-align: center;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n  pointer-events: none;\n  line-height: 1.2;\n  z-index: 10;\n  /* Prevence blik\xe1n\xed */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  backface-visibility: hidden;\n  transform: translateZ(0);\n"]))),Fr=V.A.button(en||(en=(0,r.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border: 2px solid #d1d5db;\n  border-radius: 8px;\n  background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);\n  color: #6b7280;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  margin: 0 2px;\n  font-size: 14px;\n  position: relative;\n  overflow: visible;\n  /* Prevence blik\xe1n\xed ikon */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  backface-visibility: hidden;\n\n  /* Stabilizace ikon */\n  svg {\n    display: block;\n    pointer-events: none;\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);\n    transition: left 0.5s;\n    pointer-events: none;\n  }\n\n  &:hover {\n    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n    color: #1e40af;\n    border-color: #3b82f6;\n    transform: translateY(-2px) scale(1.05);\n    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n\n    &::before {\n      left: 100%;\n    }\n  }\n\n  &:active {\n    transform: translateY(-1px) scale(1.02);\n  }\n\n  &.active {\n    background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n    color: white;\n    border-color: #1d4ed8;\n    box-shadow:\n      0 4px 16px rgba(59, 130, 246, 0.4),\n      0 0 20px rgba(59, 130, 246, 0.3);\n    transform: scale(1.1);\n\n    &::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: linear-gradient(45deg,\n        rgba(255, 255, 255, 0.1) 0%,\n        transparent 20%,\n        transparent 80%,\n        rgba(255, 255, 255, 0.1) 100%);\n      animation: shimmer 2s infinite;\n    }\n\n    &:hover {\n      background: linear-gradient(135deg, #1d4ed8 0%, #2563eb 50%, #1e40af 100%);\n      box-shadow:\n        0 6px 20px rgba(59, 130, 246, 0.5),\n        0 0 25px rgba(59, 130, 246, 0.4);\n      transform: scale(1.12) translateY(-2px);\n    }\n  }\n\n  @keyframes shimmer {\n    0% { transform: translateX(-100%); }\n    100% { transform: translateX(100%); }\n  }\n"]))),Mr=V.A.div(nn||(nn=(0,r.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 4rem 2rem;\n  text-align: center;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n  border-radius: 12px;\n  margin: 2rem 0;\n  border: 2px dashed #cbd5e1;\n"]))),Wr=V.A.div(tn||(tn=(0,r.A)(["\n  font-size: 4rem;\n  color: #94a3b8;\n  margin-bottom: 1.5rem;\n  opacity: 0.7;\n"]))),Br=V.A.h3(on||(on=(0,r.A)(["\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: #475569;\n  margin: 0 0 0.5rem 0;\n"]))),Zr=V.A.p(rn||(rn=(0,r.A)(["\n  font-size: 1rem;\n  color: #64748b;\n  margin: 0;\n  max-width: 500px;\n"]))),Kr=V.A.div(an||(an=(0,r.A)(["\n  position: relative;\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n\n  /* Shadow indik\xe1tory na okraj\xedch kdy\u017e je mo\u017en\xe9 scrollovat */\n  &::before,\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    width: 40px;\n    pointer-events: none;\n    z-index: 10;\n    transition: opacity 0.3s ease;\n  }\n\n  /* Lev\xfd shadow - kdy\u017e nen\xed na za\u010d\xe1tku */\n  &::before {\n    left: 0;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.1), transparent);\n    opacity: ",";\n    border-radius: 8px 0 0 8px;\n  }\n\n  /* Prav\xfd shadow - kdy\u017e nen\xed na konci */\n  &::after {\n    right: 0;\n    background: linear-gradient(to left, rgba(0, 0, 0, 0.1), transparent);\n    opacity: ",";\n    border-radius: 0 8px 8px 0;\n  }\n"])),e=>e.$showLeftShadow?1:0,e=>e.$showRightShadow?1:0),Ur=V.A.div(ln||(ln=(0,r.A)(["\n  /* Horizont\xe1ln\xed scrollov\xe1n\xed kdy\u017e se tabulka nevejde */\n  overflow-x: auto;\n  overflow-y: visible;\n  position: relative;\n\n  /* Smooth scrolling pro lep\u0161\xed UX */\n  scroll-behavior: smooth;\n\n  /* Skr\xfdt scrollbar - zabr\xe1nit blik\xe1n\xed */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  /* Firefox scrollbar - skr\xfdt */\n  scrollbar-width: none;\n  \n  /* IE a Edge - skr\xfdt */\n  -ms-overflow-style: none;\n"]))),Hr=V.A.div(sn||(sn=(0,r.A)(["\n  position: fixed;\n  top: calc(var(--app-header-height, 96px) + 48px);\n  left: 0;\n  right: 0;\n  background: white;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  z-index: 9999;\n  transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;\n  border-top: 2px solid #cbd5e1;\n  border-bottom: 3px solid #3b82f6;\n  opacity: ",";\n  transform: translateY(",");\n  pointer-events: ",";\n"])),e=>e.$visible?1:0,e=>e.$visible?"0":"-10px",e=>e.$visible?"auto":"none"),Jr=V.A.div(dn||(dn=(0,r.A)(["\n  overflow-x: auto;\n  max-width: 100%;\n  padding: 0 1rem;\n  box-sizing: border-box;\n  font-family: 'Roboto Condensed', 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;\n  font-size: 0.95rem;\n  letter-spacing: -0.01em;\n  \n  /* Synchronizace scroll pozice s hlavn\xed tabulkou */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n"]))),Gr=V.A.button(cn||(cn=(0,r.A)(["\n  position: fixed;\n  left: 50px;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 9999;\n\n  width: 56px;\n  height: 56px;\n  border-radius: 50%;\n  border: 2px solid #e5e7eb;\n  background: ",";\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  /* Zobrazit kdy\u017e: 1) je pot\u0159eba scrollovat A 2) je hover nad tabulkou NEBO nad \u0161ipkou */\n  opacity: ",";\n  pointer-events: ",";\n  transform: translateY(-50%); /* V\u017edy stejn\xe1 velikost, \u017e\xe1dn\xfd scale */\n\n  &:hover:not(:disabled) {\n    background: rgba(248, 250, 252, 0.98);\n    border-color: #3b82f6;\n    box-shadow: 0 6px 16px rgba(59, 130, 246, 0.3);\n  }\n\n  &:active:not(:disabled) {\n    transform: translateY(-50%) scale(1.05);\n  }\n\n  &:disabled {\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  svg {\n    width: 22px;\n    height: 22px;\n    color: #3b82f6;\n  }\n"])),e=>e.$arrowHovered?"rgba(255, 255, 255, 0.98)":"rgba(255, 255, 255, 0.25)",e=>e.$visible&&(e.$tableHovered||e.$arrowHovered)?1:0,e=>e.$visible&&(e.$tableHovered||e.$arrowHovered)?"auto":"none"),Yr=(0,V.A)(Gr)(un||(un=(0,r.A)(["\n  left: auto;\n  right: 50px;\n"]))),Xr=V.A.table(vn||(vn=(0,r.A)(["\n  width: 100%;\n  border-collapse: collapse;\n  font-family: 'Roboto Condensed', 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;\n  font-size: 0.95rem;\n  letter-spacing: -0.01em;\n"]))),qr=V.A.thead(pn||(pn=(0,r.A)(["\n  background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n"]))),Qr=V.A.tr(hn||(hn=(0,r.A)(["\n  /* Z\xe1kladn\xed pozad\xed \u0159\xe1dku podle priority:\n     1. KONCEPTY V EDITACI - nejvy\u0161\u0161\xed priorita - oran\u017eov\xe9 zv\xfdrazn\u011bn\xed\n     2. ZV\xddRAZ\u0147OV\xc1N\xcd PODLE STAVU - pokud je zapnuto\n     3. STRIPING - jednoduch\xe9 st\u0159\xedd\xe1n\xed b\xedl\xe9/\u0161ed\xe9 (pokud highlighting vypnuto)\n  */\n  background: ",";\n\n  /* Speci\xe1ln\xed efekty pro KONCEPTY V EDITACI - jen sv\u011btlej\u0161\xed pozad\xed */\n  ","\n\n  /* EFEKTY PODLE STAVU - pouze pokud nen\xed koncept */\n  ","\n\n  /* BLINK EFEKT p\u0159i ulo\u017een\xed - m\xe1 nejvy\u0161\u0161\xed prioritu */\n  ","\n\n  /* Jemn\xfd hover efekt pro v\u0161echny \u0159\xe1dky (krom\u011b koncept\u016f kter\xe9 maj\xed vlastn\xed) */\n  ","\n\n  /* Plynul\xe9 p\u0159echody */\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n\n  /* Cursor pro \u0159\xe1dek - pointer s kontextov\xfdm menu (double-click pro editaci) */\n  cursor: pointer;\n"])),e=>{if(e.$isDraft||e.$hasLocalChanges)return"linear-gradient(135deg, #ea580c 0%, #f97316 30%, #ea580c 70%, #dc2626 100%)";if(e.$showHighlighting&&e.$order){const n=(e=>{try{if(null!==e&&void 0!==e&&e.isDraft||null!==e&&void 0!==e&&e.je_koncept)return j.NOVA.light;let i;if(null!==e&&void 0!==e&&e.stav_objednavky)i=Mo(e.stav_objednavky);else if(null!==e&&void 0!==e&&e.stav_workflow_kod)try{const n=JSON.parse(e.stav_workflow_kod);if(Array.isArray(n)){const e=n[n.length-1];i="object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?e.kod_stavu||"NEZNAMY":"string"===typeof e?e:"NEZNAMY"}else i=e.stav_workflow_kod}catch(a){i=e.stav_workflow_kod}else{var n,t,o,r;i=null!==(n=null!==(t=null!==(o=null!==(r=null===e||void 0===e?void 0:e.stav_id_num)&&void 0!==r?r:null===e||void 0===e?void 0:e.stav_id)&&void 0!==o?o:null===e||void 0===e?void 0:e.status_id)&&void 0!==t?t:null===e||void 0===e?void 0:e.stav)&&void 0!==n?n:"NOVA"}const l=k(i);return null!==e&&void 0!==e&&e.cislo_objednavky&&e.cislo_objednavky.toString().endsWith("1"),(null===l||void 0===l?void 0:l.light)||j.NOVA.light}catch(i){return j.NOVA.light}})(e.$order);if(n&&"transparent"!==n)return"linear-gradient(135deg, ".concat(n," 0%, ").concat(n,"dd 50%, ").concat(n," 100%)")}return"white"},e=>e.$isDraft||e.$hasLocalChanges?'\n    border-left: 4px solid #ea580c;\n    position: relative;\n    z-index: 5;\n\n    /* B\xedl\xe9 p\xedsmo pro koncepty - d\u016fle\u017eit\xe9 pro \u010ditelnost */\n    color: white !important;\n    font-weight: 700;\n\n    /* V\u0161echny vno\u0159en\xe9 elementy */\n    & * {\n      color: white !important;\n      font-weight: 600 !important;\n    }\n\n    & div, & span, & sup, & sub, & small, & strong {\n      color: white !important;\n    }\n\n    /* Ikony a SVG */\n    & .fa, & svg, & [class*="fa-"] {\n      color: white !important;\n    }\n\n    /* Tla\u010d\xedtka v konceptech */\n    & button {\n      color: white !important;\n      background: rgba(255, 255, 255, 0.1) !important;\n      border-color: rgba(255, 255, 255, 0.3) !important;\n\n      &:hover {\n        background: rgba(255, 255, 255, 0.2) !important;\n        color: white !important;\n      }\n    }\n\n    /* Vstupn\xed pole v konceptech */\n    & input {\n      background: rgba(255, 255, 255, 0.1) !important;\n      color: white !important;\n      border-color: rgba(255, 255, 255, 0.3) !important;\n\n      &::placeholder {\n        color: rgba(255, 255, 255, 0.7) !important;\n      }\n    }\n\n    /* Hover efekt pro koncepty - jen sv\u011btlej\u0161\xed pozad\xed */\n    &:hover {\n      background: linear-gradient(135deg, #fed7aa 0%, #fdba74 30%, #fb923c 70%, #f97316 100%) !important;\n\n      & * {\n        color: #7c2d12 !important;\n      }\n    }\n  ':"",e=>{if(!e.$isDraft&&!e.$hasLocalChanges&&e.$showHighlighting&&e.$order){var n,t;let v;if(null!==(n=e.$order)&&void 0!==n&&n.stav_objednavky){v={"Ke schv\xe1len\xed":"KE_SCHVALENI","Nov\xe1":"NOVA","Schv\xe1len\xe1":"SCHVALENA","Zam\xedtnut\xe1":"ZAMITNUTA","Rozpracovan\xe1":"ROZPRACOVANA","Odeslan\xe1 dodavateli":"ODESLANA","Potvrzen\xe1 dodavatelem":"POTVRZENA","Uve\u0159ejn\u011bn\xe1":"UVEREJNENA","\u010cek\xe1 na potvrzen\xed":"CEKA_POTVRZENI","\u010cek\xe1 se":"CEKA_SE","Dokon\u010den\xe1":"DOKONCENA","Zru\u0161en\xe1":"ZRUSENA","Smazan\xe1":"SMAZANA",Koncept:"NOVA"}[e.$order.stav_objednavky]||e.$order.stav_objednavky}else if(null!==(t=e.$order)&&void 0!==t&&t.stav_workflow_kod)try{const n=JSON.parse(e.$order.stav_workflow_kod);v=Array.isArray(n)?n[n.length-1]:e.$order.stav_workflow_kod}catch(u){v=e.$order.stav_workflow_kod}else{var o,r,a,i,l,s,d,c;v=null!==(o=null!==(r=null!==(a=null!==(i=null===(l=e.$order)||void 0===l?void 0:l.stav_id_num)&&void 0!==i?i:null===(s=e.$order)||void 0===s?void 0:s.stav_id)&&void 0!==a?a:null===(d=e.$order)||void 0===d?void 0:d.status_id)&&void 0!==r?r:null===(c=e.$order)||void 0===c?void 0:c.stav)&&void 0!==o?o:"NOVA"}const p=k(v),h=(null===p||void 0===p?void 0:p.light)||"#f8fafc";null===p||void 0===p||p.dark;return"\n        /* Jemn\xfd 3D efekt podle stavu */\n        box-shadow:\n          0 2px 8px ".concat(h,"66,\n          inset 0 1px 0 rgba(255, 255, 255, 0.5);\n\n        /* Lep\u0161\xed \u010ditelnost textu */\n        color: #1f2937;\n        font-weight: 500;\n\n        /* Hover efekt pro \u0159\xe1dky s highlighting - jen sv\u011btlej\u0161\xed pozad\xed */\n        &:hover {\n          filter: brightness(1.1);\n          color: #1f2937 !important;\n        }\n      ")}return""},e=>e.$isHighlighted?"\n  @keyframes highlightPulse {\n    0% {\n      filter: brightness(1.4) saturate(1.3);\n      box-shadow: 0 0 30px currentColor, 0 4px 16px rgba(0, 0, 0, 0.15);\n      transform: translateY(-2px) scale(1.015);\n    }\n    15% {\n      filter: brightness(1.5) saturate(1.4);\n      box-shadow: 0 0 40px currentColor, 0 6px 20px rgba(0, 0, 0, 0.2);\n      transform: translateY(-3px) scale(1.02);\n    }\n    30% {\n      filter: brightness(1.3) saturate(1.2);\n      box-shadow: 0 0 25px currentColor, 0 3px 12px rgba(0, 0, 0, 0.12);\n      transform: translateY(-1px) scale(1.01);\n    }\n    60% {\n      filter: brightness(1.15) saturate(1.1);\n      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1), 0 2px 8px rgba(0, 0, 0, 0.08);\n      transform: translateY(0) scale(1.005);\n    }\n    80% {\n      filter: brightness(1.05) saturate(1.05);\n      box-shadow: 0 0 8px rgba(0, 0, 0, 0.06), 0 1px 4px rgba(0, 0, 0, 0.04);\n      transform: translateY(0) scale(1.002);\n    }\n    100% {\n      filter: brightness(1) saturate(1);\n      box-shadow: none;\n      transform: translateY(0) scale(1);\n    }\n  }\n\n  @keyframes gradientShift {\n    0% { background-position: 0% 50%; }\n    100% { background-position: 100% 50%; }\n  }\n\n    animation: highlightPulse 3s ease-out;\n    animation-iteration-count: 1;\n    z-index: 100 !important;\n    position: relative;\n  ":"",e=>e.$isDraft||e.$hasLocalChanges?"":"\n    &:hover {\n      ".concat(e.$showHighlighting?"filter: brightness(1.08);":"background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%) !important;","\n    }\n  ")),ea=V.A.th(mn||(mn=(0,r.A)(["\n  padding: 0.5rem 0.375rem;\n  text-align: center;\n  font-weight: 600;\n  color: white;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n  cursor: pointer;\n  user-select: none;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n  }\n"]))),na=V.A.td(gn||(gn=(0,r.A)(["\n  padding: 0.375rem;\n  border-bottom: 1px solid #f1f5f9;\n  vertical-align: middle;\n"]))),ta=V.A.button(fn||(fn=(0,r.A)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #3b82f6;\n  font-size: 1.25rem;\n  padding: 0.25rem;\n  border-radius: 4px;\n  transition: background-color 0.2s ease;\n\n  &:hover {\n    background: #eff6ff;\n  }\n"]))),oa=V.A.div(xn||(xn=(0,r.A)(["\n  padding: 0.75rem;\n  background: ",";\n  border-top: 2px solid ",";\n  border-bottom: 2px solid #000000;\n"])),e=>{if(e.$order&&e.$showRowHighlighting){var n,t;let v;if(null!==(n=e.$order)&&void 0!==n&&n.stav_objednavky)v=Mo(e.$order.stav_objednavky);else if(null!==(t=e.$order)&&void 0!==t&&t.stav_workflow_kod)try{const n=JSON.parse(e.$order.stav_workflow_kod);v=Array.isArray(n)?n[n.length-1]:e.$order.stav_workflow_kod}catch(u){v=e.$order.stav_workflow_kod}else{var o,r,a,i,l,s,d,c;v=null!==(o=null!==(r=null!==(a=null!==(i=null===(l=e.$order)||void 0===l?void 0:l.stav_id_num)&&void 0!==i?i:null===(s=e.$order)||void 0===s?void 0:s.stav_id)&&void 0!==a?a:null===(d=e.$order)||void 0===d?void 0:d.status_id)&&void 0!==r?r:null===(c=e.$order)||void 0===c?void 0:c.stav)&&void 0!==o?o:"NOVA"}const p=k(v);return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9;if(e.startsWith("#")){const t=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return"rgba(".concat(t,", ").concat(o,", ").concat(r,", ").concat(n,")")}return e.includes("rgba")?e.replace(/[\d\.]+\)$/g,"".concat(n,")")):e.includes("rgb")?e.replace("rgb","rgba").replace(")",", ".concat(n,")")):e}((null===p||void 0===p?void 0:p.light)||"#f8fafc",.05)}return"#f9fafb"},e=>{if(e.$order&&e.$showRowHighlighting){var n,t;let v;if(null!==(n=e.$order)&&void 0!==n&&n.stav_objednavky)v=Mo(e.$order.stav_objednavky);else if(null!==(t=e.$order)&&void 0!==t&&t.stav_workflow_kod)try{const n=JSON.parse(e.$order.stav_workflow_kod);v=Array.isArray(n)?n[n.length-1]:e.$order.stav_workflow_kod}catch(u){v=e.$order.stav_workflow_kod}else{var o,r,a,i,l,s,d,c;v=null!==(o=null!==(r=null!==(a=null!==(i=null===(l=e.$order)||void 0===l?void 0:l.stav_id_num)&&void 0!==i?i:null===(s=e.$order)||void 0===s?void 0:s.stav_id)&&void 0!==a?a:null===(d=e.$order)||void 0===d?void 0:d.status_id)&&void 0!==r?r:null===(c=e.$order)||void 0===c?void 0:c.stav)&&void 0!==o?o:"NOVA"}const p=k(v);return(null===p||void 0===p?void 0:p.dark)||"#64748b"}return"#e5e7eb"}),ra=V.A.div(bn||(bn=(0,r.A)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 1rem;\n\n  /* Prvn\xed \u0159\xe1dek: 4 karty (Z\xe1kladn\xed, Finan\u010dn\xed, Odpov\u011bdn\xe9, Workflow) */\n  /* Ka\u017ed\xe1 karta zabere 1 sloupec = 25% \u0161\xed\u0159ky */\n\n  /* Druh\xfd \u0159\xe1dek: 3 sloupce (Dodavatel, Polo\u017eky+Faktury, P\u0159\xedlohy) */\n  /* Ka\u017ed\xfd sloupec zabere 33.33% \u0161\xed\u0159ky */\n\n  @media (max-width: 1400px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n\n  @media (max-width: 1200px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n"]))),aa=V.A.div(jn||(jn=(0,r.A)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr; /* 33/33/33 layout */\n  gap: 1rem;\n  grid-column: 1 / -1; /* Zabere celou \u0161\xed\u0159ku gridu */\n\n  @media (max-width: 1400px) {\n    grid-template-columns: 1fr 1fr;\n  }\n\n  @media (max-width: 1000px) {\n    grid-template-columns: 1fr;\n  }\n"]))),ia=V.A.div(kn||(kn=(0,r.A)(["\n  display: flex;\n  flex-direction: column;\n  \n  /* InfoCard m\xe1 zabrat celou v\xfd\u0161ku */\n  > div {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n  }\n"]))),la=V.A.div(_n||(_n=(0,r.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),sa=V.A.div(yn||(yn=(0,r.A)(["\n  display: flex;\n  flex-direction: column;\n\n  /* InfoCard m\xe1 zabrat celou v\xfd\u0161ku */\n  > div {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n\n    /* Obsah p\u0159\xedlohy rozt\xe1hnout */\n    > div:last-child {\n      flex: 1;\n      overflow-y: auto;\n    }\n  }\n"]))),da=(V.A.div(zn||(zn=(0,r.A)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n  grid-column: 1 / -1;\n\n  @media (max-width: 1200px) {\n    grid-template-columns: 1fr;\n  }\n"]))),V.A.div(An||(An=(0,r.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),V.A.div(wn||(wn=(0,r.A)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n\n  > div {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n\n    > div:last-child {\n      flex: 1;\n      overflow-y: auto;\n    }\n  }\n"]))),V.A.div(Sn||(Sn=(0,r.A)(["\n  background: white;\n  border-radius: 8px;\n  padding: 0.625rem;\n  border-left: 4px solid ",";\n  box-shadow:\n    0 4px 6px -1px rgba(0, 0, 0, 0.1),\n    0 2px 4px -1px rgba(0, 0, 0, 0.06),\n    inset 0 1px 0 rgba(255, 255, 255, 0.6);\n\n  /* 3D efekt pro karty */\n  position: relative;\n  transform: translateZ(0);\n  transition: all 0.2s ease-in-out;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow:\n      0 10px 15px -3px rgba(0, 0, 0, 0.1),\n      0 4px 6px -2px rgba(0, 0, 0, 0.05),\n      inset 0 1px 0 rgba(255, 255, 255, 0.8);\n  }\n\n  /* Subtle gradient overlay pro 3D efekt */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 50%, rgba(0,0,0,0.02) 100%);\n    border-radius: 8px;\n    pointer-events: none;\n  }\n"])),e=>{if(e.$order&&e.$showRowHighlighting){var n,t;let v;if(null!==(n=e.$order)&&void 0!==n&&n.stav_objednavky)v=Mo(e.$order.stav_objednavky);else if(null!==(t=e.$order)&&void 0!==t&&t.stav_workflow_kod)try{const n=JSON.parse(e.$order.stav_workflow_kod);v=Array.isArray(n)?n[n.length-1]:e.$order.stav_workflow_kod}catch(u){v=e.$order.stav_workflow_kod}else{var o,r,a,i,l,s,d,c;v=null!==(o=null!==(r=null!==(a=null!==(i=null===(l=e.$order)||void 0===l?void 0:l.stav_id_num)&&void 0!==i?i:null===(s=e.$order)||void 0===s?void 0:s.stav_id)&&void 0!==a?a:null===(d=e.$order)||void 0===d?void 0:d.status_id)&&void 0!==r?r:null===(c=e.$order)||void 0===c?void 0:c.stav)&&void 0!==o?o:"NOVA"}const p=k(v);return(null===p||void 0===p?void 0:p.dark)||"#3b82f6"}return"#3b82f6"})),ca=V.A.h4(Cn||(Cn=(0,r.A)(["\n  margin: 0 0 0.375rem 0;\n  font-size: 0.95rem;\n  font-weight: 600;\n  color: #0a0a0a;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    color: #6b7280;\n    opacity: 0.8;\n  }\n"]))),ua=V.A.div(Nn||(Nn=(0,r.A)(["\n  padding: 10px 12px;\n  background: #f8fafc;\n  border-radius: 6px;\n  border: 1px solid #e2e8f0;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #f1f5f9;\n    border-color: #cbd5e1;\n    transform: translateX(2px);\n  }\n"]))),va=V.A.div(En||(En=(0,r.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 6px;\n  gap: 12px;\n"]))),pa=V.A.div(On||(On=(0,r.A)(["\n  font-weight: 600;\n  font-size: 0.95em;\n  color: #0f172a;\n  flex: 1;\n"]))),ha=V.A.span(Rn||(Rn=(0,r.A)(["\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 2px 8px;\n  border-radius: 4px;\n  font-size: 0.75em;\n  font-weight: 600;\n  text-transform: uppercase;\n  white-space: nowrap;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n\n  svg {\n    color: #6b7280;\n    opacity: 0.8;\n  }\n"])),e=>e.$success?"#dcfce7":e.$warning?"#fef3c7":"#dbeafe",e=>e.$success?"#166534":e.$warning?"#854d0e":"#1e40af",e=>e.$success?"#86efac":e.$warning?"#fde047":"#93c5fd"),ma=V.A.div(Dn||(Dn=(0,r.A)(["\n  display: flex;\n  gap: 12px;\n  flex-wrap: wrap;\n  font-size: 0.85em;\n  color: #64748b;\n"]))),ga=V.A.span(In||(In=(0,r.A)(["\n  display: flex;\n  align-items: center;\n  gap: 4px;\n"]))),fa=(V.A.div(Ln||(Ln=(0,r.A)(["\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px dashed #e2e8f0;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]))),V.A.div(Tn||(Tn=(0,r.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 4px 8px;\n  background: white;\n  border-radius: 4px;\n  font-size: 0.85em;\n\n  &:hover {\n    background: #f8fafc;\n  }\n"])))),xa=V.A.span($n||($n=(0,r.A)(["\n  flex: 1;\n  color: #475569;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),ba=V.A.span(Vn||(Vn=(0,r.A)(["\n  color: #94a3b8;\n  font-size: 0.9em;\n  margin-left: 8px;\n"]))),ja=(V.A.div(Pn||(Pn=(0,r.A)(["\n  width: 100%;\n  height: 8px;\n  background: #e2e8f0;\n  border-radius: 4px;\n  overflow: hidden;\n  margin: 8px 0;\n"]))),V.A.div(Fn||(Fn=(0,r.A)(["\n  height: 100%;\n  background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);\n  border-radius: 4px;\n  transition: width 0.3s ease;\n  width: ","%;\n"])),e=>e.$progress||0),V.A.div(Mn||(Mn=(0,r.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 0.9em;\n  margin-bottom: 4px;\n\n  .phase-name {\n    font-weight: 500;\n    color: #1e293b;\n  }\n\n  .phase-percent {\n    font-weight: 600;\n    color: #3b82f6;\n  }\n"]))),V.A.div(Wn||(Wn=(0,r.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 1.5rem;\n  padding: 0.225rem 0;\n  border-bottom: 1px dashed #e5e7eb;\n\n  &:last-child {\n    border-bottom: none;\n  }\n"])))),ka=V.A.span(Bn||(Bn=(0,r.A)(["\n  font-weight: 600;\n  color: #0a0a0a;\n  flex-shrink: 0;\n  white-space: nowrap;\n  max-width: 45%;\n"]))),_a=V.A.span(Zn||(Zn=(0,r.A)(["\n  color: #0a0a0a;\n  text-align: right;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  flex: 1;\n  min-width: 0;\n  line-height: 1.3;\n"]))),ya=V.A.div(Kn||(Kn=(0,r.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: #f8fafc;\n  border-top: 1px solid #e5e7eb;\n"]))),za=V.A.div(Un||(Un=(0,r.A)(["\n  font-size: 0.875rem;\n  color: #64748b;\n"]))),Aa=V.A.div(Hn||(Hn=(0,r.A)(["\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n"]))),wa=V.A.button(Jn||(Jn=(0,r.A)(["\n  padding: 0.5rem 1rem;\n  border: 1px solid #e5e7eb;\n  background: white;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: #f3f4f6;\n    border-color: #3b82f6;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  &.active {\n    background: #3b82f6;\n    color: white;\n    border-color: #3b82f6;\n  }\n"]))),Sa=V.A.select(Gn||(Gn=(0,r.A)(["\n  padding: 0.5rem;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  background: white;\n  font-size: 0.875rem;\n  cursor: pointer;\n"]))),Ca=V.A.span(Yn||(Yn=(0,r.A)(["\n  display: inline-flex;\n  align-items: flex-start;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  border-radius: 8px;\n  font-size: 0.75rem;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 0.025em;\n  border: 2px solid;\n  background: ",";\n  color: ",";\n  border-color: ",";\n  box-shadow: ",";\n"])),e=>{if(e.$isInEditRow)return"transparent";const n=k(e.$status);return(null===n||void 0===n?void 0:n.light)||j.NOVA.light},e=>{if(e.$isInEditRow){const n=k(e.$status);return(null===n||void 0===n?void 0:n.dark)||j.NOVA.dark}const n=k(e.$status);return(null===n||void 0===n?void 0:n.dark)||j.NOVA.dark},e=>{if(e.$isInEditRow)return"#dc2626";const n=k(e.$status);return(null===n||void 0===n?void 0:n.dark)||j.NOVA.dark},e=>e.$isInEditRow?"0 1px 3px rgba(0, 0, 0, 0.2)":"none"),Na=V.A.div(Xn||(Xn=(0,r.A)(["\n  display: flex;\n  gap: 0.12rem;\n  justify-content: center;\n  align-items: center;\n"]))),Ea=V.A.button(qn||(qn=(0,r.A)(["\n  padding: 0.375rem;\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  border-radius: 4px;\n  color: #64748b;\n  font-size: 0.8rem;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 28px;\n  min-height: 28px;\n\n  /* Prevence blik\xe1n\xed ikon */\n  svg {\n    display: block;\n    pointer-events: none;\n  }\n\n  &:hover:not(:disabled):not([disabled]) {\n    background: #f1f5f9;\n    color: #1e293b;\n  }\n\n  &.edit:hover:not(:disabled):not([disabled]) {\n    color: #3b82f6;\n    background: #eff6ff;\n  }\n\n  &.export-document:hover:not(:disabled):not([disabled]) {\n    color: #059669;\n    background: #ecfdf5;\n  }\n\n  &.delete:hover:not(:disabled):not([disabled]) {\n    color: #dc2626;\n    background: #fef2f2;\n  }\n\n  &.create-invoice:hover:not(:disabled):not([disabled]) {\n    color: #0891b2;\n    background: #ecfeff;\n  }\n\n  &.financial-control:hover:not(:disabled):not([disabled]) {\n    color: #7c3aed;\n    background: #f5f3ff;\n  }\n\n  /* Disabled stav */\n  &:disabled,\n  &[disabled] {\n    opacity: 0.7;\n    cursor: not-allowed !important;\n    color: #94a3b8;\n    pointer-events: auto;\n    \n    &:hover {\n      background: transparent;\n      color: #94a3b8;\n    }\n  }\n"]))),Oa=V.A.div(Qn||(Qn=(0,r.A)(["\n  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);\n  border: 2px solid #0ea5e9;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  color: white;\n  font-family: 'Courier New', monospace;\n  box-shadow: 0 8px 32px rgba(14, 165, 233, 0.3);\n"]))),Ra=V.A.div(et||(et=(0,r.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  padding-bottom: 0.75rem;\n  border-bottom: 2px solid rgba(14, 165, 233, 0.3);\n"]))),Da=V.A.h3(nt||(nt=(0,r.A)(["\n  margin: 0;\n  color: #0ea5e9;\n  font-size: 1.25rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),Ia=V.A.div(tt||(tt=(0,r.A)(["\n  max-height: 400px;\n  overflow-y: auto;\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 8px;\n  padding: 1rem;\n  border: 1px solid rgba(14, 165, 233, 0.2);\n"]))),La=V.A.div(ot||(ot=(0,r.A)(["\n  margin-bottom: 1rem;\n  &:last-child { margin-bottom: 0; }\n"]))),Ta=V.A.div(rt||(rt=(0,r.A)(["\n  color: #0ea5e9;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  font-size: 0.875rem;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n"]))),$a=V.A.pre(at||(at=(0,r.A)(["\n  margin: 0;\n  color: #e2e8f0;\n  font-size: 0.75rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-all;\n  background: rgba(0, 0, 0, 0.2);\n  padding: 0.75rem;\n  border-radius: 6px;\n  border-left: 3px solid #0ea5e9;\n"]))),Va=V.A.div(it||(it=(0,r.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(248, 250, 252, 0.95);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 99999;\n  opacity: ",";\n  transition: opacity 0.5s ease-in-out;\n  pointer-events: ",";\n\n  @media (max-width: 768px) {\n    padding: 1rem;\n  }\n"])),e=>e.$visible?1:0,e=>e.$visible?"auto":"none"),Pa=V.A.div(lt||(lt=(0,r.A)(["\n  width: 64px;\n  height: 64px;\n  border: 4px solid #e2e8f0;\n  border-top: 4px solid #f59e0b;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 1.5rem;\n  transform: scale(",");\n  transition: transform 0.5s ease-in-out;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg) scale(1); }\n    100% { transform: rotate(360deg) scale(1); }\n  }\n"])),e=>e.$visible?1:.8),Fa=V.A.div(st||(st=(0,r.A)(["\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #374151;\n  text-align: center;\n  margin-bottom: 0.5rem;\n  transform: translateY(",");\n  opacity: ",";\n  transition: transform 0.5s ease-in-out 0.1s, opacity 0.5s ease-in-out 0.1s;\n"])),e=>e.$visible?"0":"10px",e=>e.$visible?1:0),Ma=V.A.div(dt||(dt=(0,r.A)(["\n  font-size: 0.875rem;\n  color: #6b7280;\n  text-align: center;\n  transform: translateY(",");\n  opacity: ",";\n  transition: transform 0.5s ease-in-out 0.15s, opacity 0.5s ease-in-out 0.15s;\n"])),e=>e.$visible?"0":"10px",e=>e.$visible?1:0),Wa=V.A.div(ct||(ct=(0,r.A)(["\n  position: relative;\n  filter: blur(",");\n  opacity: ",";\n  transition: filter 0.5s ease-in-out, opacity 0.5s ease-in-out;\n  pointer-events: ",";\n  will-change: ",";\n  isolation: isolate;\n"])),e=>e.$blurred?"5px":"0px",e=>e.$blurred?.6:1,e=>e.$blurred?"none":"auto",e=>e.$blurred?"filter, opacity":"auto"),Ba=V.A.div(ut||(ut=(0,r.A)(["\n  padding: 1rem;\n  background: #f8fafc;\n  border-left: 4px solid #3b82f6;\n  border-radius: 4px;\n  margin: 1rem 0;\n  font-size: 1.1rem;\n"]))),Za=V.A.p(vt||(vt=(0,r.A)(["\n  margin: 0.75rem 0;\n  color: #64748b;\n  line-height: 1.6;\n"]))),Ka=V.A.p(pt||(pt=(0,r.A)(["\n  margin: 0.75rem 0;\n  color: #dc2626;\n  font-weight: 600;\n  line-height: 1.6;\n"]))),Ua=V.A.div(ht||(ht=(0,r.A)(["\n  margin: 1rem 0;\n  padding: 1rem;\n  background: #f0f9ff;\n  border: 1px solid #bfdbfe;\n  border-radius: 8px;\n"]))),Ha=V.A.div(mt||(mt=(0,r.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.5rem 0;\n  color: #1e40af;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid #e0e7ff;\n  }\n\n  svg {\n    color: #3b82f6;\n    width: 18px;\n    height: 18px;\n  }\n\n  a {\n    color: #1e40af;\n    text-decoration: none;\n    font-weight: 500;\n    transition: all 0.2s ease;\n\n    &:hover {\n      color: #1e3a8a;\n      text-decoration: underline;\n    }\n  }\n"]))),Ja=V.A.span(gt||(gt=(0,r.A)(["\n  font-weight: 600;\n  min-width: 80px;\n  color: #64748b;\n"]))),Ga=V.A.div(ft||(ft=(0,r.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(8px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 999999;\n  animation: fadeIn 0.2s ease;\n  padding: 2rem;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n"]))),Ya=V.A.div(xt||(xt=(0,r.A)(["\n  background: white;\n  border-radius: 16px;\n  max-width: 1200px;\n  width: 100%;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\n  animation: slideUp 0.3s ease;\n\n  @keyframes slideUp {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n"]))),Xa=V.A.div(bt||(bt=(0,r.A)(["\n  padding: 1.5rem 2rem;\n  border-bottom: 2px solid #e5e7eb;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 16px 16px 0 0;\n"]))),qa=V.A.h2(jt||(jt=(0,r.A)(["\n  margin: 0;\n  font-size: 1.5rem;\n  color: white;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n\n  svg {\n    font-size: 1.75rem;\n  }\n"]))),Qa=V.A.button(kt||(kt=(0,r.A)(["\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  border-radius: 8px;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: white;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.3);\n    transform: scale(1.05);\n  }\n\n  svg {\n    font-size: 1.25rem;\n  }\n"]))),ei=V.A.div(_t||(_t=(0,r.A)(["\n  padding: 2rem;\n  overflow-y: auto;\n  flex: 1;\n"]))),ni=V.A.div(yt||(yt=(0,r.A)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: 0.75rem;\n  margin-bottom: 1.5rem;\n"]))),ti=V.A.div(zt||(zt=(0,r.A)(["\n  padding: 0.75rem;\n  background: linear-gradient(135deg, #f6f8fb 0%, #eef2f7 100%);\n  border-radius: 8px;\n  border: 1px solid #e5e7eb;\n"]))),oi=V.A.div(At||(At=(0,r.A)(["\n  font-size: 0.65rem;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  color: #6b7280;\n  font-weight: 600;\n  margin-bottom: 0.375rem;\n"]))),ri=V.A.div(wt||(wt=(0,r.A)(["\n  font-size: 1.125rem;\n  font-weight: 700;\n  color: #1f2937;\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n\n  svg {\n    font-size: 1rem;\n    color: #667eea;\n  }\n"]))),ai=V.A.div(St||(St=(0,r.A)(["\n  border: 2px solid #e5e7eb;\n  border-radius: 12px;\n  overflow: hidden;\n  margin-bottom: 1.5rem;\n  width: fit-content;\n  min-width: 100%;\n"]))),ii=V.A.div(Ct||(Ct=(0,r.A)(["\n  display: flex;\n  background: #f9fafb;\n  border-bottom: 2px solid #e5e7eb;\n  font-weight: 600;\n  font-size: 0.875rem;\n  color: #374151;\n"]))),li=V.A.div(Nt||(Nt=(0,r.A)(["\n  padding: 0.75rem 1rem;\n  border-right: 1px solid #e5e7eb;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  flex-shrink: 0;\n  \n  &:last-child {\n    border-right: none;\n  }\n"]))),si=V.A.div(Et||(Et=(0,r.A)(["\n  display: flex;\n  border-bottom: 1px solid #e5e7eb;\n  \n  &:last-child {\n    border-bottom: none;\n  }\n\n  &:nth-of-type(even) {\n    background: #f9fafb;\n  }\n\n  &:hover {\n    background: #f3f4f6;\n  }\n"]))),di=V.A.div(Ot||(Ot=(0,r.A)(["\n  padding: 0.75rem 1rem;\n  font-size: 0.875rem;\n  color: #1f2937;\n  border-right: 1px solid #e5e7eb;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  flex-shrink: 0;\n  \n  &:last-child {\n    border-right: none;\n  }\n"]))),ci=V.A.div(Rt||(Rt=(0,r.A)(["\n  padding: 1.5rem 2rem;\n  border-top: 2px solid #e5e7eb;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n  background: #f9fafb;\n  border-radius: 0 0 16px 16px;\n"]))),ui=V.A.div(Dt||(Dt=(0,r.A)(["\n  font-size: 0.875rem;\n  color: #6b7280;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    color: #3b82f6;\n  }\n"]))),vi=V.A.div(It||(It=(0,r.A)(["\n  display: flex;\n  gap: 1rem;\n"]))),pi=V.A.button(Lt||(Lt=(0,r.A)(["\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  border: none;\n\n  ","\n\n  ","\n\n  svg {\n    font-size: 1rem;\n  }\n"])),e=>"cancel"===e.$variant&&"\n    background: white;\n    color: #6b7280;\n    border: 2px solid #e5e7eb;\n\n    &:hover {\n      background: #f9fafb;\n      border-color: #d1d5db;\n    }\n  ",e=>"confirm"===e.$variant&&"\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n\n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 10px 25px -5px rgba(102, 126, 234, 0.5);\n    }\n  "),hi=V.A.div(Tt||(Tt=(0,r.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(8px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 999999;\n  animation: fadeIn 0.2s ease;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n"]))),mi=V.A.div($t||($t=(0,r.A)(["\n  background: white;\n  border-radius: 16px;\n  max-width: 900px;\n  width: 95%;\n  max-height: 90vh;\n  box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n  animation: slideUp 0.3s ease;\n\n  @keyframes slideUp {\n    from { transform: translateY(50px); opacity: 0; }\n    to { transform: translateY(0); opacity: 1; }\n  }\n"]))),gi=V.A.div(Vt||(Vt=(0,r.A)(["\n  background: linear-gradient(135deg, #0891b2 0%, #06b6d4 100%);\n  padding: 1.5rem 2rem;\n  color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),fi=V.A.h2(Pt||(Pt=(0,r.A)(["\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n"]))),xi=V.A.div(Ft||(Ft=(0,r.A)(["\n  padding: 2rem;\n  max-height: calc(90vh - 200px);\n  overflow-y: auto;\n"]))),bi=V.A.div(Mt||(Mt=(0,r.A)(["\n  background: #f8fafc;\n  border: 2px solid #e2e8f0;\n  border-radius: 12px;\n  padding: 1.25rem;\n  margin-bottom: 1rem;\n  transition: all 0.2s ease;\n\n  &:hover {\n    border-color: #0891b2;\n    box-shadow: 0 4px 12px rgba(8, 145, 178, 0.1);\n  }\n"]))),ji=V.A.div(Wt||(Wt=(0,r.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n"]))),ki=V.A.div(Bt||(Bt=(0,r.A)(["\n  font-weight: 700;\n  font-size: 1.1rem;\n  color: #1e293b;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),_i=V.A.div(Zt||(Zt=(0,r.A)(["\n  font-size: 0.9rem;\n  color: #64748b;\n  line-height: 1.6;\n  margin-bottom: 0.75rem;\n"]))),yi=V.A.div(Kt||(Kt=(0,r.A)(["\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-top: 0.75rem;\n"]))),zi=V.A.label(Ut||(Ut=(0,r.A)(["\n  font-weight: 600;\n  color: #475569;\n  min-width: 120px;\n"]))),Ai=V.A.div(Ht||(Ht=(0,r.A)(["\n  background: #f8fafc;\n  padding: 1.5rem 2rem;\n  border-top: 2px solid #e2e8f0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n"]))),wi=V.A.div(Jt||(Jt=(0,r.A)(["\n  font-size: 1rem;\n  color: #475569;\n  font-weight: 600;\n"]))),Si=V.A.div(Gt||(Gt=(0,r.A)(["\n  display: flex;\n  gap: 0.75rem;\n"]))),Ci=V.A.button(Yt||(Yt=(0,r.A)(["\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border: 2px solid;\n\n  &.primary {\n    background: linear-gradient(135deg, #0891b2 0%, #06b6d4 100%);\n    color: white;\n    border-color: #0891b2;\n\n    &:hover {\n      background: linear-gradient(135deg, #0e7490 0%, #0891b2 100%);\n      transform: translateY(-1px);\n      box-shadow: 0 4px 12px rgba(8, 145, 178, 0.3);\n    }\n  }\n\n  &.secondary {\n    background: white;\n    color: #64748b;\n    border-color: #cbd5e1;\n\n    &:hover {\n      background: #f8fafc;\n      border-color: #94a3b8;\n    }\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n"]))),Ni=V.A.div(Xt||(Xt=(0,r.A)(["\n  margin: 0.75rem 0;\n  padding: 0.75rem;\n  background: #fef3c7;\n  border-left: 4px solid #f59e0b;\n  border-radius: 4px;\n  font-size: 0.875rem;\n  color: #92400e;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    color: #f59e0b;\n    width: 16px;\n    height: 16px;\n  }\n"]))),Ei=V.A.div(qt||(qt=(0,r.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.75);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  animation: fadeIn 0.2s ease;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n"]))),Oi=V.A.div(Qt||(Qt=(0,r.A)(["\n  background: white;\n  border-radius: 16px;\n  max-width: 500px;\n  width: 90%;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);\n  overflow: hidden;\n  animation: slideUp 0.3s ease;\n\n  @keyframes slideUp {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n"]))),Ri=V.A.div(eo||(eo=(0,r.A)(["\n  background: linear-gradient(135deg, #fca5a5, #ef4444, #dc2626);\n  padding: 1.5rem;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  border-bottom: 3px solid #b91c1c;\n"]))),Di=V.A.div(no||(no=(0,r.A)(["\n  font-size: 2.5rem;\n  animation: pulse 2s ease-in-out infinite;\n  filter: drop-shadow(0 2px 8px rgba(185, 28, 28, 0.5));\n\n  @keyframes pulse {\n    0%, 100% {\n      transform: scale(1);\n      opacity: 1;\n    }\n    50% {\n      transform: scale(1.1);\n      opacity: 0.8;\n    }\n  }\n"]))),Ii=V.A.h3(to||(to=(0,r.A)(["\n  margin: 0;\n  color: white;\n  font-size: 1.25rem;\n  font-weight: 800;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  flex: 1;\n"]))),Li=V.A.div(oo||(oo=(0,r.A)(["\n  padding: 1.5rem;\n"]))),Ti=V.A.div(ro||(ro=(0,r.A)(["\n  margin-bottom: 1.25rem;\n  line-height: 1.6;\n  color: #374151;\n\n  strong {\n    color: #dc2626;\n    font-weight: 700;\n  }\n\n  p {\n    margin: 0 0 0.75rem 0;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n"]))),$i=V.A.div(ao||(ao=(0,r.A)(["\n  background: linear-gradient(135deg, #fef2f2, #fee2e2);\n  border: 2px solid #fecaca;\n  border-radius: 12px;\n  padding: 1rem;\n  margin-top: 1rem;\n"]))),Vi=V.A.div(io||(io=(0,r.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  margin-bottom: 0.75rem;\n  font-size: 0.9375rem;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  svg {\n    color: #dc2626;\n    flex-shrink: 0;\n  }\n"]))),Pi=V.A.span(lo||(lo=(0,r.A)(["\n  font-weight: 700;\n  color: #7f1d1d;\n  min-width: 120px;\n"]))),Fi=V.A.span(so||(so=(0,r.A)(["\n  color: #991b1b;\n  flex: 1;\n"]))),Mi=V.A.div(co||(co=(0,r.A)(["\n  display: flex;\n  gap: 0.75rem;\n  justify-content: flex-end;\n  margin-top: 1.5rem;\n  padding-top: 1.5rem;\n  border-top: 2px solid #f3f4f6;\n"]))),Wi=V.A.button(uo||(uo=(0,r.A)(["\n  padding: 0.75rem 1.5rem;\n  border: 2px solid;\n  border-radius: 10px;\n  font-weight: 700;\n  font-size: 0.9375rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  ","\n"])),e=>e.$primary?"\n    background: linear-gradient(135deg, #dc2626, #b91c1c);\n    color: white;\n    border-color: transparent;\n    box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);\n\n    &:hover {\n      background: linear-gradient(135deg, #b91c1c, #991b1b);\n      box-shadow: 0 6px 16px rgba(220, 38, 38, 0.4);\n      transform: translateY(-2px);\n    }\n\n    &:active {\n      transform: translateY(0);\n    }\n  ":"\n    background: white;\n    color: #6b7280;\n    border-color: #d1d5db;\n\n    &:hover {\n      background: #f9fafb;\n      border-color: #9ca3af;\n      color: #374151;\n    }\n  "),Bi=e=>{let{field:n,value:t,onChange:o,options:r,placeholder:i,icon:l}=e;const[s,d]=a.useState(!1),[c,u]=a.useState(""),v=a.useRef(null),p=a.useRef(null);a.useEffect(()=>{const e=e=>{v.current&&!v.current.contains(e.target)&&(d(!1),u(""))};if(s)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s]),a.useEffect(()=>{s&&p.current&&requestAnimationFrame(()=>{var e;null===(e=p.current)||void 0===e||e.focus()})},[s]);const h=a.useMemo(()=>{const e=Array.isArray(t)?t:[];return new Set(e.map(e=>String(e)))},[t]),m=a.useMemo(()=>{if(!c.trim())return r;const e=c.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return r.filter(n=>(n.displayName||n.nazev_stavu||n.nazev||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e))},[r,c]),g=a.useCallback(()=>{if(!t||0===t.length)return i||"Vyberte...";if(1===t.length){const e=null===r||void 0===r?void 0:r.find(e=>String(e.id)===String(t[0]));return e&&(e.displayName||e.nazev_stavu||e.nazev)||t[0]}return"Vybr\xe1no: ".concat(t.length)},[t,r,i]),f=a.useCallback(e=>{const n=Array.isArray(t)?t:[],r={target:{options:(n.includes(e)?n.filter(n=>n!==e):[...n,e]).map(e=>({value:e,selected:!0}))}};o(r)},[t,o,n]),x=a.useCallback(e=>{e.stopPropagation(),d(e=>!e)},[]),b=a.useCallback((e,n)=>{e.stopPropagation(),f(n)},[f]);return r&&0!==r.length?(0,M.jsxs)("div",{ref:v,style:{position:"relative",width:"100%"},children:[(0,M.jsxs)("div",{onClick:x,style:{width:"100%",padding:"0.75rem 2.5rem 0.75rem 2.5rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.875rem",background:"#ffffff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",color:t&&0!==t.length?"#1f2937":"#9ca3af",fontWeight:t&&t.length>0?"600":"400"},children:[(0,M.jsx)("span",{children:g()}),(0,M.jsx)("svg",{style:{position:"absolute",right:"0.5rem",width:"16px",height:"16px",transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease",pointerEvents:"none"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"#374151",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polyline",{points:"6 9 12 15 18 9"})})]}),s&&(0,M.jsxs)("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"4px",background:"#ffffff",border:"2px solid #3b82f6",borderRadius:"8px",zIndex:9999,boxShadow:"0 4px 6px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",maxHeight:"400px"},children:[(0,M.jsx)("div",{style:{padding:"0.75rem",borderBottom:"2px solid #e5e7eb",position:"sticky",top:0,background:"#ffffff",zIndex:1},children:(0,M.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,M.jsx)(T.g,{icon:$.MjD,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",width:"12px",height:"12px",pointerEvents:"none",zIndex:1}}),(0,M.jsx)("input",{ref:p,type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Hledat...",style:{width:"100%",padding:"0.5rem 0.75rem 0.5rem 2rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem",outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#d1d5db",onClick:e=>e.stopPropagation()})]})}),(0,M.jsx)("div",{style:{overflowY:"auto",maxHeight:"300px"},children:0===m.length?(0,M.jsx)("div",{style:{padding:"1rem",textAlign:"center",color:"#9ca3af",fontSize:"0.875rem"},children:"\u017d\xe1dn\xe9 v\xfdsledky"}):m.map((e,n)=>{const t=String(e.id||""),o=e.displayName||e.nazev_stavu||e.nazev||"Bez n\xe1zvu",r=h.has(t);return t?(0,M.jsxs)("div",{onClick:e=>b(e,t),style:{padding:"0.75rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",background:r?"#eff6ff":"#ffffff",borderBottom:"1px solid #f3f4f6",fontSize:"0.875rem",transition:"background 0.15s"},onMouseEnter:e=>{r||(e.currentTarget.style.background="#f9fafb")},onMouseLeave:e=>{r||(e.currentTarget.style.background="#ffffff")},children:[(0,M.jsx)("input",{type:"checkbox",checked:r,readOnly:!0,style:{cursor:"pointer",width:"16px",height:"16px",accentColor:"#3b82f6",pointerEvents:"none"}}),(0,M.jsx)("span",{style:{fontWeight:r?"600":"400",color:r?"#1f2937":"#4b5563"},children:o})]},t):null})})]}),l&&(0,M.jsx)("div",{style:{position:"absolute",left:"0.75rem",bottom:"0.75rem",color:"#9ca3af",pointerEvents:"none",fontSize:"14px"},children:l})]}):(0,M.jsx)("div",{style:{padding:"0.75rem 2.5rem",border:"2px solid #e5e7eb",borderRadius:"8px",color:"#9ca3af",fontSize:"0.875rem"},children:"Na\u010d\xedt\xe1n\xed..."})},Zi=e=>{let{value:n,onChange:t,placeholder:o="Vyberte datum"}=e;const[r,l]=(0,a.useState)(!1),[s,d]=(0,a.useState)(new Date),[c,u]=(0,a.useState)(!1),[v,p]=(0,a.useState)({top:0,left:0}),h=(0,a.useRef)(null),m=n?new Date(n):null;(0,a.useEffect)(()=>{if(n){const e=new Date(n);isNaN(e.getTime())||d(e)}},[n]),(0,a.useEffect)(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&l(!1)},n=()=>{l(!1)};if(r)return document.addEventListener("mousedown",e),window.addEventListener("closeAllDatePickers",n),()=>{document.removeEventListener("mousedown",e),window.removeEventListener("closeAllDatePickers",n)}},[r]),(0,a.useEffect)(()=>{if(r&&h.current){let e=null,n=window.__floatingHeaderVisible||!1;const t=()=>{if(!h.current)return;const e=window.__floatingHeaderVisible||!1;if(e!==n)return l(!1),void(n=e);const t=h.current.getBoundingClientRect(),o=window.innerHeight-t.bottom-54-20,r=t.top-20,a=o<300||o<380&&r>o+50;u(a);const i=t.left,s=a?t.top-380-4:t.bottom+4;p({top:s,left:i})},o=()=>{e&&cancelAnimationFrame(e),e=requestAnimationFrame(t)};return t(),window.addEventListener("scroll",o,{passive:!0,capture:!0}),window.addEventListener("resize",t),()=>{e&&cancelAnimationFrame(e),window.removeEventListener("scroll",o,{capture:!0}),window.removeEventListener("resize",t)}}},[r]);const g=e=>{t((e=>{const n=new Date(e),t=n.getFullYear(),o=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0");return"".concat(t,"-").concat(o,"-").concat(r)})(e)),l(!1)},f=e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),g(new Date)},x=e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),t(""),l(!1)},b=new Date,j=(()=>{const e=s.getFullYear(),n=s.getMonth(),t=new Date(e,n,1),o=new Date(e,n+1,0),r=[];for(let i=(0===t.getDay()?6:t.getDay()-1)-1;i>=0;i--){const t=new Date(e,n,-i);r.push({date:t,isOtherMonth:!0})}for(let i=1;i<=o.getDate();i++){const t=new Date(e,n,i);r.push({date:t,isOtherMonth:!1})}const a=42-r.length;for(let i=1;i<=a;i++){const t=new Date(e,n+1,i);r.push({date:t,isOtherMonth:!0})}return r})(),k=n?(e=>{if(!e)return"";try{const n=new Date(e);return isNaN(n.getTime())?"":n.toLocaleDateString("cs-CZ",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(n){return""}})(n):o;return(0,M.jsxs)(Ki,{ref:h,children:[(0,M.jsxs)(Ui,{hasIcon:!0,children:[(0,M.jsx)(P.A,{size:18,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",pointerEvents:"none"}}),(0,M.jsx)(Hi,{type:"button",onClick:()=>l(!r),hasValue:!!n,children:k}),n&&(0,M.jsx)(Ji,{type:"button",onClick:x,title:"Smazat datum",children:"\u2715"}),(0,M.jsx)(Gi,{type:"button",onClick:f,title:"Nastavit dne\u0161n\xed datum",children:"\ud83d\udcc5"})]}),r&&i.createPortal((0,M.jsxs)(Yi,{openUpwards:c,style:{top:"".concat(v.top,"px"),left:"".concat(v.left,"px")},children:[(0,M.jsxs)(Xi,{children:[(0,M.jsx)(qi,{onClick:e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),d(new Date(s.getFullYear(),s.getMonth()-1))},children:"\u25c0"}),(0,M.jsxs)(Qi,{children:[(0,M.jsx)("span",{children:s.toLocaleDateString("cs-CZ",{month:"long"})}),(0,M.jsx)("span",{children:s.getFullYear()})]}),(0,M.jsx)(qi,{onClick:e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),d(new Date(s.getFullYear(),s.getMonth()+1))},children:"\u25b6"})]}),(0,M.jsxs)(el,{children:[["Po","\xdat","St","\u010ct","P\xe1","So","Ne"].map(e=>(0,M.jsx)(nl,{children:e},e)),j.map((e,n)=>{const t=e.date.toDateString()===b.toDateString(),o=m&&e.date.toDateString()===m.toDateString();return(0,M.jsx)(tl,{onClick:()=>g(e.date),isToday:t,isSelected:o,isOtherMonth:e.isOtherMonth,children:e.date.getDate()},n)})]}),(0,M.jsxs)(ol,{children:[(0,M.jsx)(rl,{className:"today",onClick:f,children:"Dnes"}),(0,M.jsx)(rl,{className:"clear",onClick:x,children:"Smazat"})]})]}),document.body)]})},Ki=V.A.div(vo||(vo=(0,r.A)(["\n  position: relative;\n  width: 100%;\n"]))),Ui=V.A.div(po||(po=(0,r.A)(["\n  position: relative;\n  width: 100%;\n"]))),Hi=V.A.button(ho||(ho=(0,r.A)(["\n  width: 100%;\n  display: block;\n  padding: 0.5rem;\n  padding-left: 2.75rem;\n  padding-right: 0.75rem;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  background: white;\n  color: ",";\n  font-size: 0.875rem;\n  font-weight: ",";\n  cursor: pointer;\n  transition: all 0.2s ease;\n  text-align: left;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  height: 42px;\n  min-height: 42px;\n  &:hover {\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n"])),e=>e.hasValue?"#1f2937":"#9ca3af",e=>e.hasValue?"600":"400"),Ji=V.A.button(mo||(mo=(0,r.A)(["\n  display: none;\n"]))),Gi=V.A.button(go||(go=(0,r.A)(["\n  display: none;\n"]))),Yi=V.A.div(fo||(fo=(0,r.A)(["\n  position: fixed;\n  z-index: 999999;\n  background: white;\n  border: 2px solid #3b82f6;\n  border-radius: 8px;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  padding: 0.5rem;\n  width: max-content;\n  min-width: 280px;\n"]))),Xi=V.A.div(xo||(xo=(0,r.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n  padding-bottom: 0.35rem;\n  border-bottom: 1px solid #e5e7eb;\n"]))),qi=V.A.button(bo||(bo=(0,r.A)(["\n  background: #f3f4f6;\n  border: none;\n  border-radius: 4px;\n  width: 28px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: #374151;\n  font-weight: 600;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  &:hover {\n    background: #3b82f6;\n    color: white;\n    transform: scale(1.1);\n  }\n"]))),Qi=V.A.div(jo||(jo=(0,r.A)(["\n  font-weight: 600;\n  font-size: 0.85rem;\n  color: #111827;\n  display: flex;\n  gap: 0.35rem;\n"]))),el=V.A.div(ko||(ko=(0,r.A)(["\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 1px;\n"]))),nl=V.A.div(_o||(_o=(0,r.A)(["\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.65rem;\n  font-weight: 600;\n  color: #6b7280;\n  padding: 0.15rem;\n"]))),tl=V.A.button(yo||(yo=(0,r.A)(["\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75rem;\n  border: none;\n  border-radius: 4px;\n  background: ",";\n  color: ",";\n  font-weight: ",";\n  cursor: pointer;\n  transition: all 0.2s ease;\n  &:hover {\n    background: ",";\n    transform: scale(1.1);\n    color: ",";\n  }\n"])),e=>e.isSelected?"#3b82f6":"transparent",e=>e.isSelected?"white":e.isOtherMonth?"#9ca3af":"#374151",e=>e.isSelected?"600":"400",e=>e.isSelected?"#2563eb":"#f3f4f6",e=>e.isSelected?"white":"#111827"),ol=V.A.div(zo||(zo=(0,r.A)(["\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 0.5rem;\n  padding-top: 0.5rem;\n  border-top: 2px solid #e5e7eb;\n"]))),rl=V.A.button(Ao||(Ao=(0,r.A)(["\n  flex: 1;\n  padding: 0.5rem;\n  border: none;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  &.today {\n    background: #dbeafe;\n    color: #1e40af;\n    &:hover {\n      background: #bfdbfe;\n    }\n  }\n  &.clear {\n    background: #fee2e2;\n    color: #991b1b;\n    &:hover {\n      background: #fecaca;\n    }\n  }\n"]))),al=()=>{var e,n,r,z,A,w,E,O,R,D,V,P;const W=(0,l.Zp)(),B=(0,l.zy)(),{user:Z,token:K,username:H,hasPermission:J,hasAdminRole:G,user_id:Y,userDetail:X,userPermissions:q,expandedPermissions:Q}=(0,a.useContext)(s.cy),{setProgress:ee}=(0,a.useContext)(d.z)||{},{setDebugInfo:ne}=(0,a.useContext)(c.B)||{},{showToast:te}=(0,a.useContext)(u.$o)||{},[oe,re]=(0,a.useState)(null),ae=(0,a.useMemo)(()=>parseInt(Y,10),[Y]),ie=e=>"".concat(e,"_user_").concat(ae||"anon"),le=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const t=localStorage.getItem(ie(e));return null!==t?JSON.parse(t):n}catch(t){return n}},se=(e,n)=>{try{localStorage.setItem(ie(e),JSON.stringify(n))}catch(t){}},de=(0,m.M4)(),ce=(0,a.useMemo)(()=>{if(!J)return{canViewAll:!1,hasOnlyOwn:!1};const e=J("ORDER_MANAGE")||J("ORDER_READ_ALL")||J("ORDER_VIEW_ALL")||J("ORDER_EDIT_ALL")||J("ORDER_DELETE_ALL");return{canViewAll:e,hasOnlyOwn:!e&&(J("ORDER_READ_OWN")||J("ORDER_VIEW_OWN")||J("ORDER_EDIT_OWN")||J("ORDER_DELETE_OWN"))}},[J]),ue=(0,a.useRef)(ce);(0,a.useEffect)(()=>{ue.current=ce},[ce]),(0,a.useEffect)(()=>{(async()=>{if(K&&H)try{const{getHierarchyConfig:e}=await t.e(4795).then(t.bind(t,34795)),n=await e(K,H);re(n)}catch(ge){console.error("\u274c [Orders25List] Chyba p\u0159i na\u010d\xedt\xe1n\xed hierarchie:",ge),re({status:"error",enabled:!1,profileId:null,profileName:null,error:ge.message})}else re(null)})()},[K,H]);const[ve,pe]=(0,a.useState)([]),[he,me]=(0,a.useState)(!0),[ge,fe]=(0,a.useState)(null),[xe,be]=(0,a.useState)({}),je=(0,a.useRef)(xe);(0,a.useEffect)(()=>{je.current=xe},[xe]);const[ke,_e]=(0,a.useState)(null),[ye,ze]=(0,a.useState)(!1),[Ae,we]=(0,a.useState)(!1),[Se,Ce]=(0,a.useState)(!1),[Ne,Ee]=(0,a.useState)(!1),[Oe,Re]=(0,a.useState)(!1),[De,Ie]=(0,a.useState)(!1),Le=(0,a.useRef)(null),[Te,$e]=(0,a.useState)(!1),[Ve,Pe]=(0,a.useState)([]),Fe=(0,a.useRef)(null),Me=(0,a.useCallback)(e=>{if(Le.current=e,e){const n=()=>{Re(!0)},t=()=>{Re(!1)};return e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",t),()=>{e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",t)}}},[]);(0,a.useEffect)(()=>{const e=()=>{if(!Fe.current)return;const e=Fe.current.querySelectorAll("thead tr:first-child th"),n=Array.from(e).map(e=>e.offsetWidth);Pe(n)};if(he||!ve||0===ve.length)return;const n=setTimeout(()=>{e()},250);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),clearTimeout(n)}},[he,ve]),(0,a.useEffect)(()=>{if(!Te)return;const e=Le.current,n=document.querySelector("[data-floating-header-wrapper]");if(!e||!n)return;const t=t=>{t.target===e?n.scrollLeft=e.scrollLeft:t.target===n&&(e.scrollLeft=n.scrollLeft)};return e.addEventListener("scroll",t),n.addEventListener("scroll",t),n.scrollLeft=e.scrollLeft,()=>{e.removeEventListener("scroll",t),n.removeEventListener("scroll",t)}},[Te]);const[We,Be]=(0,a.useState)(!1),[Ze,Ke]=(0,a.useState)(!0),[Ue,He]=(0,a.useState)(null),[Je,Ge]=(0,a.useState)(null),[Ye,Xe]=(0,a.useState)(null),[qe,Qe]=(0,a.useState)(!1),[en,nn]=(0,a.useState)(null),[tn,on]=(0,a.useState)([]),[rn,an]=(0,a.useState)([]),[ln,sn]=(0,a.useState)([]),[dn,cn]=(0,a.useState)([]),[un,vn]=(0,a.useState)([]),[pn,hn]=(0,a.useState)([]),[mn,gn]=(0,a.useState)([]),[fn,xn]=(0,a.useState)([]),[bn,jn]=(0,a.useState)([]),[kn,_n]=(0,a.useState)(!1),[yn,zn]=(0,a.useState)(null),[An,wn]=(0,a.useState)(null),[Sn,Cn]=(0,a.useState)(!1),[Nn,En]=(0,a.useState)(null),[On,Rn]=(0,a.useState)(!1),[Dn,In]=(0,a.useState)(!1),[Ln,Tn]=(0,a.useState)(!1),[$n,Vn]=(0,a.useState)(null),[Pn,Fn]=(0,a.useState)(!1),[Mn,Wn]=(0,a.useState)(null),[Bn,Zn]=(0,a.useState)(!1),[Kn,Un]=(0,a.useState)([]),[Hn,Jn]=(0,a.useState)(()=>le("bulkDocxSigners",{})),[Gn,Yn]=(0,a.useState)(()=>le("bulkDocxTemplates",{})),[Xn,qn]=(0,a.useState)(!1),[Qn,et]=(0,a.useState)([]),[nt,tt]=(0,a.useState)(!1),[ot,rt]=(0,a.useState)([]),[at,it]=(0,a.useState)("soft"),[lt,st]=(0,a.useState)([]),[dt,ct]=(0,a.useState)(()=>le("orders25List_showDashboard",!0)),[ut,vt]=(0,a.useState)(!1),[pt,ht]=(0,a.useState)(null),[mt,gt]=(0,a.useState)(!1),[ft,xt]=(0,a.useState)(()=>le("orders25List_showFiltersPanel",!0)),[bt,jt]=(0,a.useState)(()=>le("orders25List_showFilters",!1)),[kt,_t]=(0,a.useState)(()=>le("orders25List_showDebug",!1)),yt=(0,a.useMemo)(()=>ae?(0,v.loadSettingsFromLocalStorage)(ae):null,[ae]),zt=(0,a.useMemo)(()=>(null===yt||void 0===yt?void 0:yt.viditelne_dlazdice)&&Object.keys(yt.viditelne_dlazdice).length>0,[yt]),[At,wt]=(0,a.useState)(()=>le("orders25List_dashboardCompact",!0)),[St,Ct]=(0,a.useState)(()=>le("orders25List_dashboardMode","standard")),[Nt,Et]=(0,a.useState)(()=>le("orders25List_activeStatusFilter",null)),[Ot,Rt]=(0,a.useState)(null),[Dt,It]=(0,a.useState)(!0),[Lt,Tt]=(0,a.useState)(()=>le("orders25List_globalFilter","")),[$t,Vt]=(0,a.useState)(()=>{const e=le("orders25List_statusFilter",null);if(null!==e){return Array.isArray(e)?e:e?[e]:[]}try{const e=(0,v.loadSettingsFromLocalStorage)(parseInt(Y,10));if(null!==e&&void 0!==e&&e.vychozi_filtry_stavu_objednavek&&Array.isArray(e.vychozi_filtry_stavu_objednavek))return e.vychozi_filtry_stavu_objednavek}catch(n){console.warn("Nelze na\u010d\xedst nastaven\xed filtr\u016f stav\u016f:",n)}return[]}),[Pt,Ft]=(0,a.useState)(()=>le("orders25List_userFilter","")),[Mt,Wt]=(0,a.useState)(()=>{const e=le("orders25List_selectedObjednatel",[]);return Array.isArray(e)?e:e?[e]:[]}),[Bt,Zt]=(0,a.useState)(()=>{const e=le("orders25List_selectedGarant",[]);return Array.isArray(e)?e:e?[e]:[]}),[Kt,Ut]=(0,a.useState)(()=>{const e=le("orders25List_selectedSchvalovatel",[]);return Array.isArray(e)?e:e?[e]:[]}),[Ht,Jt]=(0,a.useState)(()=>{const e=le("orders25List_selectedPrikazce",[]);return Array.isArray(e)?e:e?[e]:[]}),[Gt,Yt]=(0,a.useState)(""),[Xt,qt]=(0,a.useState)(""),[Qt,eo]=(0,a.useState)(()=>le("orders25List_amountFrom","")),[no,to]=(0,a.useState)(()=>le("orders25List_amountTo","")),[oo,ro]=(0,a.useState)(()=>le("orders25List_filterMaBytZverejneno",!1)),[ao,io]=(0,a.useState)(()=>le("orders25List_filterByloZverejneno",!1)),[lo,so]=(0,a.useState)(()=>le("orders25List_filterMimoradneObjednavky",!1)),[co,uo]=(0,a.useState)(!1),[vo,po]=(0,a.useState)(!1),[ho,mo]=(0,a.useState)(()=>le("orders25List_rowSelection",{}));(0,a.useEffect)(()=>{se("orders25List_rowSelection",ho)},[ho]);const[go,fo]=(0,a.useState)(null),[xo,bo]=(0,a.useState)(()=>le("orders25List_columnFilters",{dt_objednavky:"",cislo_objednavky:"",predmet:"",objednatel:"",stav_objednavky:"",max_cena_s_dph:"",garant:"",prikazce:"",schvalovatel:""})),[jo,ko]=(0,a.useState)({objednatel:"",garant:"",prikazce:"",schvalovatel:""}),[_o,yo]=(0,a.useState)(()=>le("orders25List_showRowHighlighting",!0)),[zo,Ao]=(0,a.useState)(()=>{const e=le("orders25List_selectedYear",null);if(null!==e)return e;try{const e=(0,v.loadSettingsFromLocalStorage)(parseInt(Y,10));if(null!==e&&void 0!==e&&e.vychozi_rok)return"current"===e.vychozi_rok?(new Date).getFullYear():"all"===e.vychozi_rok?"all":e.vychozi_rok}catch(n){console.warn("Nelze na\u010d\xedst nastaven\xed roku:",n)}return(new Date).getFullYear()}),[wo,Ki]=(0,a.useState)(()=>{const e=le("orders25List_selectedMonth",null);if(null!==e)return e;try{const e=(0,v.loadSettingsFromLocalStorage)(parseInt(Y,10));if(null!==e&&void 0!==e&&e.vychozi_obdobi)return e.vychozi_obdobi}catch(n){console.warn("Nelze na\u010d\xedst nastaven\xed obdob\xed:",n)}return"all"}),[Ui,Hi]=(0,a.useState)(()=>{const e=le("orders25List_selectedMonth","all");return e&&!["all","last-month","last-quarter","last-half"].includes(e)}),[Ji,Gi]=(0,a.useState)(()=>le("orders25List_showArchived",!1)),[Yi,Xi]=(0,a.useState)(()=>le("orders25List_showOnlyMyOrders",!1)),[qi,Qi]=(0,a.useState)(!1),[el,nl]=(0,a.useState)(null),tl=(0,a.useRef)(null),ol=(0,a.useRef)(null),[rl,al]=(0,a.useState)(!1),[il,ll]=(0,a.useState)(!1),[sl,dl]=(0,a.useState)({}),[cl,ul]=(0,a.useState)({}),[vl,pl]=(0,a.useState)(new Set),[hl,ml]=(0,a.useState)(!1),[gl,fl]=(0,a.useState)(null),[xl,bl]=(0,a.useState)(!1),[jl,kl]=(0,a.useState)(null),[_l,yl]=(0,a.useState)(!1),[zl,Al]=(0,a.useState)(null),wl=(0,a.useMemo)(()=>{const e=[...dn].map(e=>{const n=e.id||e.uzivatel_id||e.user_id;return(0,o.A)((0,o.A)({},e),{},{id:n})}).sort((e,n)=>{const t=e.displayName||"",o=n.displayName||"";return t.localeCompare(o)});return e},[dn]),Sl=(0,a.useMemo)(()=>[...un].map(e=>{const n=e.id||e.user_id||e.uzivatel_id;return(0,o.A)((0,o.A)({},e),{},{id:n,displayName:e.displayName||e.jmeno_prijmeni||"".concat(e.jmeno||""," ").concat(e.prijmeni||"").trim()||"User ".concat(n)})}).sort((e,n)=>{const t=e.displayName||"",o=n.displayName||"";return t.localeCompare(o)}),[un]),Cl=(0,a.useMemo)(()=>Ji?Sl:Sl.filter(e=>void 0!==e.aktivni&&null!==e.aktivni?1===e.aktivni||"1"===e.aktivni||!0===e.aktivni:void 0===e.deaktivovan||null===e.deaktivovan||(0===e.deaktivovan||"0"===e.deaktivovan||!1===e.deaktivovan)),[Sl,Ji]),Nl=(0,a.useMemo)(()=>Ji?wl:wl.filter(e=>void 0!==e.aktivni&&null!==e.aktivni?1===e.aktivni||"1"===e.aktivni||!0===e.aktivni:void 0===e.deaktivovan||null===e.deaktivovan||(0===e.deaktivovan||"0"===e.deaktivovan||!1===e.deaktivovan)),[wl,Ji]),El=(0,a.useMemo)(()=>[...pn].map(e=>{const n=e.nazev_stavu||e.nazev||e.kod_stavu||e.id;return(0,o.A)((0,o.A)({},e),{},{id:n,kod_stavu:e.kod_stavu||e.id})}),[pn]);(0,a.useEffect)(()=>{const e=e=>{const{dateFrom:n,dateTo:t,userId:o}=e.detail||{};o===(Y||"anon")&&(n&&Yt(n||""),void 0!==t&&qt(t||""))};return window.addEventListener("orders25_date_filter_changed",e),()=>{window.removeEventListener("orders25_date_filter_changed",e)}},[Y]),(0,a.useEffect)(()=>{if(!Y)return;const e=Y||"anon",n="orders25_dateFrom_".concat(e),t="orders25_dateTo_".concat(e);try{const e=localStorage.getItem(n),o=localStorage.getItem(t);e&&!Gt&&Yt(e||""),o&&!Xt&&qt(o||"")}catch(o){}},[Y]);const[Ol,Rl]=(0,a.useState)(()=>{const e=localStorage.getItem("orders25List_pageSize");return e?parseInt(e,10):25}),[Dl,Il]=(0,a.useState)(()=>{const e=localStorage.getItem("orders25List_pageIndex");return e?parseInt(e,10):0}),[Ll,Tl]=(0,a.useState)(()=>le("orders25List_sorting",[])),[$l,Vl]=(0,a.useState)({}),Pl=(0,a.useRef)(null),Fl=(0,a.useCallback)(e=>{Y&&(Pl.current&&clearTimeout(Pl.current),Pl.current=setTimeout(()=>{se("orders25List_columnFilters",e)},3e3))},[Y,se]);(0,a.useEffect)(()=>{if(!Y)return;const e={orders25List_globalFilter:Lt,orders25List_statusFilter:$t,orders25List_userFilter:Pt,orders25List_selectedObjednatel:Mt,orders25List_selectedGarant:Bt,orders25List_selectedSchvalovatel:Kt,orders25List_selectedPrikazce:Ht,orders25List_amountFrom:Qt,orders25List_amountTo:no,orders25List_filterMaBytZverejneno:oo,orders25List_filterByloZverejneno:ao,orders25List_activeStatusFilter:Nt,orders25List_sorting:Ll};if(Object.entries(e).forEach(e=>{let[n,t]=e;se(n,t)}),Gt)se("orders25_dateFrom",Gt);else{const e=ie("orders25_dateFrom");localStorage.removeItem(e)}if(Xt)se("orders25_dateTo",Xt);else{const e=ie("orders25_dateTo");localStorage.removeItem(e)}},[Lt,$t,Pt,Mt,Bt,Kt,Ht,Gt,Xt,Qt,no,oo,ao,Nt,Ll,Y]),(0,a.useEffect)(()=>{Fl(xo)},[xo,Fl]),(0,a.useEffect)(()=>()=>{Pl.current&&clearTimeout(Pl.current)},[]);const Ml=a.useRef(!1),Wl=a.useRef(!0),Bl=a.useRef(null),Zl=a.useRef(null),Kl=a.useRef([]),Ul=a.useRef(Dl),Hl=a.useRef(Ol),Jl=a.useRef($l);a.useEffect(()=>{Ul.current=Dl,Hl.current=Ol,Jl.current=$l},[Dl,Ol,$l]);const Gl=a.useRef({dataLoaded:!1,paginationRestored:!1,expandedRestored:!1,scrollRestored:!1});(0,a.useEffect)(()=>{if(Ml.current)return;if(!Y)return;if(he)return;if(0===ve.length)return Gl.current.dataLoaded=!0,Gl.current.paginationRestored=!0,Gl.current.expandedRestored=!0,Gl.current.scrollRestored=!0,void(Ml.current=!0);const e=L.A.getScrollState(Y,(0,o.A)((0,o.A)({},"all"!==zo&&{rok:zo}),{},{mesic:wo}),ve.length);if(e&&e.page&&e.rowsPerPage){const n=e.page-1,t=Math.ceil(ve.length/e.rowsPerPage)-1;n>=0&&n<=t&&Il(n),e.rowsPerPage!==Ol&&(Rl(e.rowsPerPage),localStorage.setItem("orders25List_pageSize",e.rowsPerPage)),Gl.current.paginationRestored=!0,e.expandedOrderIds&&e.expandedOrderIds.length>0?Zl.current=e.expandedOrderIds:Gl.current.expandedRestored=!0,Gl.current.scrollRestored=!0}else Gl.current.paginationRestored=!0,Gl.current.expandedRestored=!0,Gl.current.scrollRestored=!0;Ml.current=!0},[ve.length,he,Y,zo,wo,Ol]);const Yl=(0,a.useCallback)(()=>{if(!Y||!Ml.current||0===ve.length)return;const e=Ul.current,n=Hl.current,t=Jl.current,r=Object.keys(t).filter(e=>t[e]).map(e=>{const n=Kl.current[parseInt(e)];return null===n||void 0===n?void 0:n.id}).filter(Boolean);L.A.saveScrollState(Y,(0,o.A)((0,o.A)({},"all"!==zo&&{rok:zo}),{},{mesic:wo}),{page:e+1,rowsPerPage:n,scrollY:0,totalRows:ve.length,expandedOrderIds:r})},[Y,zo,wo,ve.length]);(0,a.useEffect)(()=>{Ml.current&&Yl()},[Dl,Ol,$l,Yl]),(0,a.useEffect)(()=>{if(Wl.current)return Wl.current=!1,void(Bl.current={year:zo,month:wo,status:$t,user:Pt,global:Lt,objednatel:Mt,garant:Bt,schvalovatel:Kt,dateFrom:Gt,dateTo:Xt,amountFrom:Qt,amountTo:no,activeStatus:Nt});if(!Y||!Bl.current)return;const e={year:zo,month:wo,status:$t,user:Pt,global:Lt,objednatel:Mt,garant:Bt,schvalovatel:Kt,dateFrom:Gt,dateTo:Xt,amountFrom:Qt,amountTo:no,activeStatus:Nt};JSON.stringify(Bl.current)!==JSON.stringify(e)&&(Bl.current=e,L.A.clearScrollState(Y,(0,o.A)((0,o.A)({},"all"!==zo&&{rok:zo}),{},{mesic:wo})),Ml.current=!1,Vl({}),Il(0),window.scrollTo({top:0,behavior:"smooth"}))},[zo,wo,$t,Pt,Lt,Mt,Bt,Kt,Gt,Xt,Qt,no,Nt]),(0,a.useEffect)(()=>{const e=async e=>{const{orderId:n,orderNumber:t,notificationType:o}=e.detail;if(n&&K&&H)try{const e=await(0,f.getOrderV2)(n,K,H,!0);if(e&&e.data){const t=e.data;pe(e=>e.some(e=>String(e.id)===String(n))?e.map(e=>String(e.id)===String(n)?t:e):[t,...e].sort((e,n)=>n.id-e.id))}}catch(ge){console.warn("Auto-refresh objedn\xe1vky selhal:",ge)}};return window.addEventListener("orderStatusChanged",e),()=>{window.removeEventListener("orderStatusChanged",e)}},[K,H]),a.useEffect(()=>{ve.length},[_o,ve]);(0,a.useCallback)(e=>{dl(n=>{const t=Object.keys(n).reduce((e,n)=>(e[n]=!1,e),{});return t[e]=!n[e],t})},[]),(0,a.useCallback)((e,n,t)=>{if(!n)return e;const o=n.toLowerCase();return e.filter(e=>Xl(e,t).toLowerCase().includes(o))},[]);const Xl=(0,a.useCallback)((e,n)=>{if(!e)return"";switch(n){case"statusFilter":return e.nazev_stavu||e.nazev||e.popis||e.kod_stavu||e.kod||String(e);case"selectedObjednatel":case"selectedGarant":return e.displayName||"".concat(e.jmeno||""," ").concat(e.prijmeni||"").trim()||"Bez jm\xe9na";case"selectedSchvalovatel":return e.displayName||e.jmeno_prijmeni||"".concat(e.jmeno||""," ").concat(e.prijmeni||"").trim()||"Bez jm\xe9na";case"pageSize":return e.label||String(e.value||e);case"zpusob_financovani":case"druh_objednavky_kod":return e.nazev||e.label||("string"===typeof e?e:"Nezn\xe1m\xfd");case"lp_kod":return"".concat(e.kod||e.id||e," - ").concat(e.nazev||e.label||"Bez n\xe1zvu");default:return String(e)}},[]);(0,a.useEffect)(()=>{const e=e=>{e.target.closest("[data-custom-select]")||dl({})};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const ql=(0,a.useCallback)(e=>{const n=new Set,t=new Set,o=new Set;e.forEach(e=>{const r=e.objednatel_id||e.uzivatel_id;r&&xe[r]&&n.add(r),e.garant_uzivatel_id&&xe[e.garant_uzivatel_id]&&t.add(e.garant_uzivatel_id),e.schvalovatel_id&&xe[e.schvalovatel_id]&&o.add(e.schvalovatel_id)});const r=(e,n)=>{const t=("object"===typeof xe[e]?xe[e].displayName:xe[e])||"",o=("object"===typeof xe[n]?xe[n].displayName:xe[n])||"";return t.localeCompare(o)},a=Array.from(n).sort(r),i=Array.from(t).sort(r),l=Array.from(o).sort(r);on(a),an(i),sn(l)},[xe]);(0,a.useEffect)(()=>{ve.length>0&&Object.keys(xe).length>0&&ql(ve)},[ve,xe]);const Ql=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!K||null===Z||void 0===Z||!Z.username)return;const n=performance.now();try{let a;me(!0),fe(null),null===ee||void 0===ee||ee(5),null===ee||void 0===ee||ee(20);const i=Ks(),l=ue.current,s=l.canViewAll,d=(l.hasOnlyOwn,async()=>{const e=(0,o.A)((0,o.A)({},i),Ji&&{archivovano:1});ht(n=>(0,o.A)((0,o.A)({},n),{},{requestFilters:e,requestTimestamp:(new Date).toISOString()}));const n=await(0,f.cn)(e,K,H,!0,!0);return null!==n&&void 0!==n&&n.meta&&_e(n.meta),ht(e=>{var t,r;return(0,o.A)((0,o.A)({},e),{},{apiResponse:null===n||void 0===n?void 0:n.data,apiResponseCount:(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.length)||0,archivedInResponse:(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.filter(e=>"ARCHIVOVANO"===e.stav_objednavky).length)||0,responseTimestamp:(new Date).toISOString()})}),(null===n||void 0===n?void 0:n.data)||[]}),c=e?await L.A.forceRefresh(Y,d,(0,o.A)((0,o.A)({},i),{},{viewAll:s,showArchived:Ji})):await L.A.getOrders(Y,d,(0,o.A)((0,o.A)({},i),{},{viewAll:s,showArchived:Ji}));a=c.data,a&&Array.isArray(a)&&(a=a.filter(e=>{const n=parseInt(e.id);return!isNaN(n)&&n>1}));const u=performance.now(),v=Math.round(u-n);He(c.source),Ge(new Date),Xe(v),null===ee||void 0===ee||ee(60);try{const e=await(0,x.Ym)({token:K,username:H}),n={0:{id:"0",jmeno:"SYSTEM",prijmeni:"",titul_pred:"",titul_za:"",username:"system",displayName:"SYSTEM"}};e.forEach((e,t)=>{const o=e.id||e.user_id||e.uzivatel_id,r=e.titul_pred?e.titul_pred+" ":"",a=e.jmeno||"",i=e.prijmeni||"",l=e.titul_za?", "+e.titul_za:"",s="".concat(r).concat(a," ").concat(i).concat(l).replace(/\s+/g," ").trim()||e.username||e.uzivatelske_jmeno||"User ".concat(o);o&&(n[o]={id:o,jmeno:e.jmeno||"",prijmeni:e.prijmeni||"",titul_pred:e.titul_pred||"",titul_za:e.titul_za||"",username:e.username||e.uzivatelske_jmeno||"",displayName:s})}),be(n);const t=[];try{No.default.setCurrentUser(Y);const e=await No.default.loadDraft();if(e){const n=(0,Co.V5)(e),o=(0,Co.NN)(e);if(n&&!o){const n=e.formData||e,o=(0,Co.Ng)(Y);let r=n.garant_uzivatel_id;"object"===typeof r&&null!==r&&(r=r.id||r.user_id||r.uzivatel_id);let a=n.objednatel_id||Y;"object"===typeof a&&null!==a&&(a=a.id||a.user_id||a.uzivatel_id);const i={id:"draft_".concat(o),cislo_objednavky:n.ev_cislo||"\u2605 KONCEPT \u2605",predmet:n.predmet||"Nov\xe1 objedn\xe1vka (koncept)",popis_pozadavku:n.popis_pozadavku||"",stav_objednavky:"Koncept",stav_workflow_kod:'["NOVA"]',max_cena_s_dph:n.max_cena_s_dph||0,poznamky:n.poznamky||"",dodavatel_nazev:n.dodavatel_nazev||"",dodavatel_kontakt_jmeno:n.dodavatel_kontakt_jmeno||"",dodavatel_kontakt_telefon:n.dodavatel_kontakt_telefon||"",dodavatel_kontakt_email:n.dodavatel_kontakt_email||"",garant_uzivatel_id:r||"",objednatel_id:a||"",prikazce_id:n.prikazce_id||"",uzivatel_id:a||Y,strediska_kod:n.strediska_kod||[],dt_vytvoreni:e.timestamp||(new Date).toISOString(),temp_datum_objednavky:e.firstAutoSaveDate?e.firstAutoSaveDate.split("T")[0]:n.temp_datum_objednavky||(new Date).toISOString().split("T")[0],vytvoril_uzivatel:H,isDraft:!0,je_koncept:!0,_originalKey:o,_originalData:e,_formData:n};t.push(i)}}}catch(r){console.error("\u274c [Orders25List] Chyba p\u0159i na\u010d\xedt\xe1n\xed draftu:",r)}t.length>0&&(a=[...t,...a||[]]);const o=e.map(e=>{const n=e.id||e.user_id||e.uzivatel_id,t=e.titul_pred?e.titul_pred+" ":"",o=e.jmeno||"",r=e.prijmeni||"",a=e.titul_za?", "+e.titul_za:"",i="".concat(t).concat(o," ").concat(r).concat(a).replace(/\s+/g," ").trim()||e.username||e.uzivatelske_jmeno||"User ".concat(n);return{id:n,jmeno:e.jmeno||"",prijmeni:e.prijmeni||"",titul_pred:e.titul_pred||"",titul_za:e.titul_za||"",username:e.username||e.uzivatelske_jmeno||"",email:e.email||"",deaktivovan:void 0!==e.deaktivovan?e.deaktivovan:0,aktivni:void 0!==e.aktivni?e.aktivni:1,displayName:i}});o.unshift({id:"0",jmeno:"SYSTEM",prijmeni:"",titul_pred:"",titul_za:"",username:"system",email:"",deaktivovan:0,aktivni:1,displayName:"SYSTEM"}),cn(o),null===ee||void 0===ee||ee(70)}catch(r){}try{const e=(await(0,x.lF)({token:K,username:Z.username})||[]).map(e=>{if(e.displayName)return e;const n=e.titul_pred?e.titul_pred+" ":"",t=e.jmeno||"",r=e.prijmeni||"",a=e.titul_za?", "+e.titul_za:"",i="".concat(n).concat(t," ").concat(r).concat(a).replace(/\s+/g," ").trim()||e.jmeno_prijmeni||e.username||e.uzivatelske_jmeno||"User ".concat(e.user_id||e.uzivatel_id);return(0,o.A)((0,o.A)({},e),{},{displayName:i})});e.unshift({id:"0",user_id:"0",uzivatel_id:"0",jmeno:"SYSTEM",prijmeni:"",titul_pred:"",titul_za:"",username:"system",deaktivovan:0,aktivni:1,displayName:"SYSTEM"}),vn(e),null===ee||void 0===ee||ee(75)}catch(r){}try{const e=(await(0,x.En)({token:K,username:Z.username,typ:"OBJEDNAVKA"})||[]).sort((e,n)=>{const t=(e.nazev_stavu||e.nazev||"").toLowerCase(),o=(n.nazev_stavu||n.nazev||"").toLowerCase();return t.localeCompare(o,"cs")});hn(e),null===ee||void 0===ee||ee(80)}catch(r){}try{const e=await(0,b.Dv)({token:K,username:Z.username,aktivni:1}),n=((null===e||void 0===e?void 0:e.data)||[]||[]).sort((e,n)=>{const t=(e.nazev||e.kod||"").toLowerCase(),o=(n.nazev||n.kod||"").toLowerCase();return t.localeCompare(o,"cs")});st(n)}catch(r){console.warn("\u274c Nepoda\u0159ilo se na\u010d\xedst DOCX \u0161ablony:",r),st([])}try{const e=await(0,x.Hy)({token:K,username:Z.username});gn(e||[])}catch(r){}try{const e=await(0,g.je)({token:K,username:Z.username});xn(e||[])}catch(r){console.warn("\u274c Nepoda\u0159ilo se na\u010d\xedst druhy objedn\xe1vek:",r),xn([])}try{const e=await(0,g.CR)({token:K,username:Z.username});jn(e||[])}catch(r){console.warn("\u274c Nepoda\u0159ilo se na\u010d\xedst st\u0159ediska:",r),jn([])}let p=(0,I.qF)(a||[],{showArchived:Ji,userId:s?null:Y,isAdmin:s});No.default.setCurrentUser(Y);if(await No.default.hasDraft())try{const e=await No.default.loadDraft();if((0,Co.NN)(e)){var t;const n=(null===(t=e.formData)||void 0===t?void 0:t.id)||e.savedOrderId;if(n){let e=!1;p=p.map(t=>String(t.id)!==String(n)||t.isDraft?t:(e=!0,(0,o.A)((0,o.A)({},t),{},{hasLocalDraftChanges:!0})))}}}catch(r){}p=p.map(e=>{if("ARCHIVOVANO"===e.stav_objednavky){const n=(0,o.A)({},e);return n.prikazce_id&&""!==n.prikazce_id&&null!==n.prikazce_id||(n.prikazce_id="0"),n.schvalovatel_id&&""!==n.schvalovatel_id&&null!==n.schvalovatel_id||(n.schvalovatel_id="0"),n}return e}),pe(p),Rt({timestamp:(new Date).toISOString(),ordersCount:p.length,allFields:p.length>0?Object.keys(p[0]):[],firstOrder:p[0]||null,rawData:p});try{const e={};p.forEach(n=>{if(n.isDraft||n.isLocalConcept)return;let t,o,r,a=n.dt_objednavky||n.datum_objednavky||n.created_at||n.dt_vytvoreni;if(!a)return;const i=a.match(/(\d{4})-(\d{2})-(\d{2})/);if(i)t=i[1],o=i[2],r=i[3];else{const e=a.match(/(\d{2})\.(\d{2})\.(\d{4})/);if(!e)return;r=e[1],o=e[2],t=e[3]}const l="".concat(t,"-").concat(o,"-").concat(r);e[l]||(e[l]={total:0,pending:0}),e[l].total+=1;let s="UNKNOWN";if(n.isDraft||n.je_koncept)s="NOVA";else if(n.stav_objednavky)s=Mo(n.stav_objednavky);else if(n.stav_workflow_kod)try{const e=JSON.parse(n.stav_workflow_kod);s=Array.isArray(e)?e[e.length-1]:n.stav_workflow_kod}catch(d){s=n.stav_workflow_kod}"KE_SCHVALENI"===s&&(e[l].pending+=1)}),localStorage.setItem("calendar_order_counts",JSON.stringify(e)),localStorage.setItem("calendar_order_counts_updated",Date.now()),window.dispatchEvent(new CustomEvent("calendar_order_counts_updated"))}catch(r){}null===ee||void 0===ee||ee(100),Gl.current.dataLoaded=!0}catch(r){const e=(0,Oo.E)(r.message||"Chyba p\u0159i na\u010d\xedt\xe1n\xed objedn\xe1vek");fe(e),Gl.current.dataLoaded=!0,Gl.current.paginationRestored=!0,Gl.current.expandedRestored=!0,Gl.current.scrollRestored=!0}finally{me(!1),It(!1),setTimeout(()=>null===ee||void 0===ee?void 0:ee(0),500)}},[K,null===Z||void 0===Z?void 0:Z.username,Y,zo,wo,Ji]);(0,a.useEffect)(()=>{var e;const n=!0===(null===(e=B.state)||void 0===e?void 0:e.forceReload);Ql(n)},[Ql,null===(e=B.state)||void 0===e?void 0:e.forceReload]),(0,a.useEffect)(()=>{let e=null,n=0;const t=(0,Eo.t$)(t=>{const o=Date.now();o-n<100||(n=o,t.type!==Eo.iZ.ORDER_SAVED&&t.type!==Eo.iZ.DRAFT_DELETED||(e&&clearTimeout(e),e=setTimeout(()=>{Ql(),e=null},1e3)))});return()=>{e&&clearTimeout(e),t()}},[Ql]),(0,a.useEffect)(()=>{if(null===de||void 0===de||!de.registerGetCurrentFiltersCallback)return;return de.registerGetCurrentFiltersCallback(()=>{const e=(()=>{if("all"!==zo){const e=parseInt(zo);if(!wo)return{datum_od:"".concat(e,"-01-01"),datum_do:"".concat(e,"-12-31")};{const n=wo.match(/^(\d+)(?:-(\d+))?$/);if(n){const t=parseInt(n[1]),o=n[2]?parseInt(n[2]):t,r="".concat(e,"-").concat(String(t).padStart(2,"0"),"-01"),a=new Date(e,o,0).getDate();return{datum_od:r,datum_do:"".concat(e,"-").concat(String(o).padStart(2,"0"),"-").concat(String(a).padStart(2,"0"))}}}}return{}})(),n=(0,o.A)({},e);return Ji&&(n.archivovano=1),n}),()=>{var e;null===(e=de.registerGetCurrentFiltersCallback)||void 0===e||e.call(de,null)}},[de,zo,wo,Ji]),(0,a.useEffect)(()=>{var e;if(!de)return;return null===(e=de.registerOrdersRefreshCallback)||void 0===e||e.call(de,e=>{var n;if(!e||!Array.isArray(e))return;if(ve.length>0&&0===e.length)return;if(e.length>0&&(null===(n=e[0])||void 0===n||!n.id))return;const t=e.filter(e=>{const n=parseInt(e.id);return!isNaN(n)&&n>1});Qe(!0),nn(new Date),pe(t),Rt({timestamp:(new Date).toISOString(),ordersCount:t.length,allFields:t.length>0?Object.keys(t[0]):[],firstOrder:t[0]||null,rawData:t})}),()=>{var e;null===(e=de.registerOrdersRefreshCallback)||void 0===e||e.call(de,null)}},[de,te,ve.length]),(0,a.useEffect)(()=>{if(null===de||void 0===de||!de.registerNewNotificationsCallback)return;return de.registerNewNotificationsCallback((e,n)=>{if(!e||0===e.length)return;const t=e.filter(e=>"order_unlock_forced"===e.type&&!1===e.precteno);if(t.length>0){const e=t[0],n=e.data||{};Wn({orderNumber:n.cislo_objednavky||"N/A",lockedBy:n.forced_by_name||n.forced_by_username||"N/A",lockedByEmail:n.forced_by_email||null,lockedByPhone:n.forced_by_telefon||null,lockedAt:n.forced_at||(new Date).toISOString(),notificationId:e.id}),Fn(!0)}}),()=>{var e;null===(e=de.registerNewNotificationsCallback)||void 0===e||e.call(de,null)}},[de]),(0,a.useEffect)(()=>{if(!Y)return;const e=No.default.getUIState(),n=null===e||void 0===e?void 0:e.highlightOrderId;if(n){fo(n),No.default.saveUIState({highlightOrderId:null});const e=()=>{const e=document.querySelector('[data-order-id="'.concat(n,'"]'));if(e){const n=e.getBoundingClientRect(),o=window.innerHeight,r=(n.height,e.offsetTop<o/2),a=r?"start":"center";try{e.scrollIntoView({behavior:"smooth",block:a,inline:"nearest"})}catch(t){e.scrollIntoView(r)}return!0}return!1};setTimeout(()=>{e()||setTimeout(()=>{e()},800)},300),setTimeout(()=>{fo(null)},5e3)}},[ve,Y]);const es=(0,a.useCallback)(e=>{if(e.stav_objednavky)return e.stav_objednavky;if(e.stav_workflow_kod)try{const n=JSON.parse(e.stav_workflow_kod);if(Array.isArray(n)){const e=n[n.length-1];return"object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?e.kod_stavu||"NEZNAMY_STAV":"string"===typeof e?e:"NEZNAMY_STAV"}return e.stav_workflow_kod}catch(n){return e.stav_workflow_kod}return"DRAFT"},[]),ns=(0,a.useCallback)(e=>{if(e.isDraft||e.je_koncept)return"NOVA";let n;if(e.stav_objednavky)n=Mo(e.stav_objednavky);else if(e.stav_workflow_kod)try{const t=JSON.parse(e.stav_workflow_kod);n=Array.isArray(t)?t[t.length-1]:e.stav_workflow_kod}catch(t){n=e.stav_workflow_kod}else n="DRAFT";if(e.registr_smluv||e.stav_workflow_kod){const n=e.registr_smluv;if(null!==n&&void 0!==n&&n.dt_zverejneni&&null!==n&&void 0!==n&&n.registr_iddt)return"UVEREJNENA";let t=null;if(e.stav_workflow_kod)try{let n=[];if(Array.isArray(e.stav_workflow_kod)?n=e.stav_workflow_kod:"string"===typeof e.stav_workflow_kod&&(n=JSON.parse(e.stav_workflow_kod),Array.isArray(n)||(n=[])),n.length>0){const e=n[n.length-1];t="object"===typeof e?e.kod_stavu:e}}catch(o){}if(("UVEREJNIT"===t||"ANO"===(null===n||void 0===n?void 0:n.zverejnit)||(null===n||void 0===n?void 0:n.ma_byt_zverejnena))&&(null===n||void 0===n||!n.registr_iddt))return"K_UVEREJNENI_DO_REGISTRU"}return n},[]),ts=(0,a.useCallback)(e=>{if(!e)return null;if(e.stav_workflow_kod)try{let n=[];if(Array.isArray(e.stav_workflow_kod)?n=e.stav_workflow_kod:"string"===typeof e.stav_workflow_kod&&(n=JSON.parse(e.stav_workflow_kod),Array.isArray(n)||(n=[])),n.length>0){const e=n[n.length-1];if("object"===typeof e&&e.kod_stavu)return e.kod_stavu;if("string"===typeof e)return e}}catch(n){}return e.stav_workflow&&"object"===typeof e.stav_workflow&&e.stav_workflow.kod_stavu?e.stav_workflow.kod_stavu:null},[]),os=(0,a.useCallback)(e=>{if(null!=e.faktury_celkova_castka_s_dph&&""!==e.faktury_celkova_castka_s_dph){const n=parseFloat(e.faktury_celkova_castka_s_dph);if(!isNaN(n)&&n>0)return n}if(null!=e.polozky_celkova_cena_s_dph&&""!==e.polozky_celkova_cena_s_dph){const n=parseFloat(e.polozky_celkova_cena_s_dph);if(!isNaN(n)&&n>0)return n}if(e.polozky&&Array.isArray(e.polozky)&&e.polozky.length>0){const n=e.polozky.reduce((e,n)=>{const t=parseFloat(n.cena_s_dph||0);return e+(isNaN(t)?0:t)},0);if(n>0)return n}if(null!=e.max_cena_s_dph&&""!==e.max_cena_s_dph){const n=parseFloat(e.max_cena_s_dph);if(!isNaN(n)&&n>0)return n}return 0},[ve]),rs=(0,a.useMemo)(()=>{const e=ve,n=e.length,t=e.reduce((e,n)=>{const t=ns(n);es(n);return e[t]=(e[t]||0)+1,e._debug<5&&(e._debug=(e._debug||0)+1),e},{}),o=e.reduce((e,n)=>{const t=os(n);return e+(isNaN(t)?0:t)},0),r=e.reduce((e,n)=>{const t=ns(n);if(["DOKONCENA","VYRIZENA","COMPLETED"].includes(t)){const t=os(n);return e+(isNaN(t)?0:t)}return e},0),a=e.reduce((e,n)=>{const t=ns(n),o=["STORNOVA","ZAMITNUTA","ZRUSENA","CANCELLED","SMAZANA"].includes(t),r=["DOKONCENA","VYRIZENA","COMPLETED"].includes(t);if(!o&&!r){const t=os(n);return e+(isNaN(t)?0:t)}return e},0),i=e.reduce((e,n)=>{const t=n.faktury||[];return(n.faktury_count||t.length||0)>0?e+1:e},0),l=e.reduce((e,n)=>{const t=n.prilohy||[];return(n.prilohy_count||t.length||0)>0?e+1:e},0),s=e.reduce((e,n)=>n.mimoradna_udalost?e+1:e,0);return{total:n,nova:t.NOVA||0,ke_schvaleni:t.KE_SCHVALENI||0,schvalena:t.SCHVALENA||0,zamitnuta:t.ZAMITNUTA||0,ceka_se:t.CEKA_SE||0,rozpracovana:t.ROZPRACOVANA||0,odeslana:t.ODESLANA||0,potvrzena:t.POTVRZENA||0,uverejnena:t.UVEREJNENA||0,vecna_spravnost:t.VECNA_SPRAVNOST||0,dokoncena:t.DOKONCENA||0,vyrizena:t.VYRIZENA||0,zrusena:t.ZRUSENA||0,stornova:t.STORNOVA||0,smazana:t.SMAZANA||0,archivovano:t.ARCHIVOVANO||0,k_uverejneni_do_registru:t.K_UVEREJNENI_DO_REGISTRU||0,ceka_potvrzeni:t.CEKA_POTVRZENI||0,draft:t.DRAFT||0,approved:t.APPROVED||0,completed:t.COMPLETED||0,cancelled:t.CANCELLED||0,totalAmount:o,completedAmount:r,incompleteAmount:a,withInvoices:i,withAttachments:l,mimoradneUdalosti:s}},[ve,Ji,ns,es,os]),as=(0,a.useCallback)(e=>{if(e.isDraft){var n;if(null!==(n=e._originalData)&&void 0!==n&&n.firstAutoSaveDate&&"string"===typeof e._originalData.firstAutoSaveDate)return e._originalData.firstAutoSaveDate;if(e.dt_vytvoreni&&"string"===typeof e.dt_vytvoreni)return e.dt_vytvoreni}return e.dt_objednavky&&"string"===typeof e.dt_objednavky?e.dt_objednavky:null},[]),is=(0,a.useCallback)(e=>{const n=as(e);return n&&"string"===typeof n?n.split("T")[0]:null},[as]),ls=(0,a.useCallback)((e,n)=>{if(!e||!n||"string"!==typeof e)return e;const t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),o=n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),r=t.indexOf(o);if(-1===r)return e;const a=e.substring(0,r),i=e.substring(r,r+n.length),l=e.substring(r+n.length);return(0,M.jsxs)(M.Fragment,{children:[a,(0,M.jsx)("mark",{style:{backgroundColor:"#ffeb3b",padding:"0 2px",borderRadius:"2px"},children:i}),l]})},[]),ss=(0,a.useRef)({}),ds=(0,a.useCallback)(e=>{var n,t,o,r,a,i;const l=e.target.closest("button[data-action]");if(!l)return;const s=l.dataset.action,d=parseInt(l.dataset.orderIndex,10),c=(parseInt(l.dataset.orderId,10),Kl.current[d]);if(!c)return;const u=ss.current;switch(s){case"edit":null===(n=u.handleEdit)||void 0===n||n.call(u,c);break;case"view":null===(t=u.handleView)||void 0===t||t.call(u,c);break;case"export":null===(o=u.handleExportDocument)||void 0===o||o.call(u,c);break;case"financial-control":null===(r=u.handleFinancialControl)||void 0===r||r.call(u,c);break;case"create-invoice":null===(a=u.handleCreateInvoice)||void 0===a||a.call(u,c);break;case"delete":null===(i=u.handleDelete)||void 0===i||i.call(u,c)}},[]),cs=(0,a.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n){const{titul_pred:e,jmeno:t,prijmeni:o,titul_za:r}=n,a=t||"",i=o||"",l=r?", "+r:"";return"".concat(e?e+" ":"").concat(a," ").concat(i).concat(l).replace(/\s+/g," ").trim()}const t=je.current;if(e&&t[e]){if("object"===typeof t[e]&&t[e].displayName)return t[e].displayName;if("string"===typeof t[e])return t[e]}return"Nezn\xe1m\xfd"},[]),us=(0,a.useCallback)(e=>{if(!e)return"---";const n=fn.find(n=>n.kod===e);return(null===n||void 0===n?void 0:n.nazev)||e},[fn]),vs=(0,a.useCallback)(e=>{var n,t;if(!e)return"---";const o=String(e),r=bn.find(e=>{var n,t;return String(e.value||e.kod_stavu||e.kod||(null===(n=e.raw)||void 0===n?void 0:n.kod_stavu)||(null===(t=e.raw)||void 0===t?void 0:t.kod))===o});return(null===r||void 0===r?void 0:r.label)||(null===r||void 0===r?void 0:r.nazev_stavu)||(null===r||void 0===r?void 0:r.nazev)||(null===r||void 0===r||null===(n=r.raw)||void 0===n?void 0:n.nazev_stavu)||(null===r||void 0===r||null===(t=r.raw)||void 0===t?void 0:t.nazev)||"St\u0159edisko (k\xf3d ".concat(e,")")},[bn]),ps=(0,a.useCallback)(e=>(n,t,o)=>{const r=n.original.isDraft||n.original.je_koncept||!1,a=t.original.isDraft||t.original.je_koncept||!1;return r&&!a?-1:!r&&a?1:e(n,t,o)},[]),hs=(0,a.useMemo)(()=>[{id:"select",header:"",cell:e=>{let{row:n}=e;return(0,M.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,M.jsx)("input",{type:"checkbox",checked:n.getIsSelected(),onChange:n.getToggleSelectedHandler(),style:{cursor:"pointer",width:"18px",height:"18px"}})})},size:50,meta:{align:"center"}},{id:"expander",header:"",cell:e=>{let{row:n}=e;return(0,M.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,M.jsx)(ta,{onClick:e=>{if(n.getToggleExpandedHandler()(e),!n.getIsExpanded()){var t,o,r,a,i,l,s;const e=n.original;!e.prikazce_id||null!==(t=e.prikazce)&&void 0!==t&&t.email||null!==(o=e.prikazce_uzivatel)&&void 0!==o&&o.email||id(e.id,"prikazce",e.prikazce_id),!e.uzivatel_id||null!==(r=e.objednatel)&&void 0!==r&&r.email||null!==(a=e.uzivatel)&&void 0!==a&&a.email||id(e.id,"objednatel",e.uzivatel_id),!e.garant_uzivatel_id||null!==(i=e.garant)&&void 0!==i&&i.email||null!==(l=e.garant_uzivatel)&&void 0!==l&&l.email||id(e.id,"garant",e.garant_uzivatel_id),!e.schvalovatel_id||null!==(s=e.schvalovatel)&&void 0!==s&&s.email||id(e.id,"schvalovatel",e.schvalovatel_id)}},title:n.getIsExpanded()?"Sbalit":"Rozbalit",children:(0,M.jsx)(T.g,{icon:n.getIsExpanded()?$.EZy:$.QLR})})})},size:50,meta:{align:"center"}},{accessorKey:"dt_objednavky",header:"Datum objedn\xe1vky",sortingFn:ps((e,n)=>{const t=as(e.original),o=as(n.original);if(!t&&!o)return 0;if(!t)return 1;if(!o)return-1;return new Date(t).getTime()-new Date(o).getTime()}),filterFn:(e,n,t)=>{if(!t)return!0;const o=as(e.original);if(!o)return!1;const r=new Date(o),a=(0,y.iS)(r),i=r.toLocaleTimeString("cs-CZ",{hour:"2-digit",minute:"2-digit"}),l="".concat(a," ").concat(i),s=(0,_.WL)(l.toLowerCase()),d=(0,_.WL)(t.toLowerCase());return s.includes(d)},cell:e=>{let{row:n}=e;const t=as(n.original);if(!t)return(0,M.jsx)("div",{style:{textAlign:"center"},children:"---"});const o=new Date(t),r=(0,y.iS)(o),a=o.toLocaleTimeString("cs-CZ",{hour:"2-digit",minute:"2-digit"});return(0,M.jsxs)("div",{style:{textAlign:"center",lineHeight:"1.2"},children:[(0,M.jsx)("div",{children:r}),(0,M.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:a})]})},size:120},{accessorKey:"cislo_objednavky",header:"Eviden\u010dn\xed \u010d\xedslo",sortingFn:ps((e,n)=>{const t=e.original.cislo_objednavky||"",o=n.original.cislo_objednavky||"";return t||o?t?o?t.localeCompare(o,"cs",{numeric:!0,sensitivity:"base"}):-1:1:0}),filterFn:(e,n,t)=>{if(!t)return!0;const o=e.original.cislo_objednavky||"",r=e.original.predmet||"",a=(0,_.WL)(o.toLowerCase()),i=(0,_.WL)(r.toLowerCase()),l=(0,_.WL)(t.toLowerCase());return a.includes(l)||i.includes(l)},cell:e=>{let{row:n}=e;return(0,M.jsxs)("div",{style:{textAlign:"left",whiteSpace:"normal",overflow:"visible",position:"relative"},children:[(0,M.jsxs)("div",{style:{fontWeight:600,color:"#1e293b",fontFamily:"monospace",whiteSpace:"nowrap"},children:[n.original.mimoradna_udalost&&(0,M.jsx)(So.z,{content:"Mimo\u0159\xe1dn\xe1 objedn\xe1vka (krize/hav\xe1rie)",children:(0,M.jsx)("span",{style:{color:"#dc2626",fontWeight:"bold",marginRight:"4px",fontSize:"1.1em"},children:(0,M.jsx)(T.g,{icon:$.b6I})})}),"ARCHIVOVANO"===n.original.stav_objednavky&&(0,M.jsx)("span",{style:{color:"#dc2626",fontWeight:"bold",marginRight:"4px",fontSize:"1.1em"},children:"\u26a0"}),Lt?ls(n.original.cislo_objednavky||"---",Lt):n.original.cislo_objednavky||"---",n.original.id&&!n.original.isDraft&&!n.original.je_koncept&&(0,M.jsxs)("sup",{style:{fontSize:"0.6rem",color:"#9ca3af",fontWeight:"normal",marginLeft:"2px"},children:["#",n.original.id]})]}),n.original.predmet&&(0,M.jsx)("div",{style:{fontSize:"1em",fontWeight:600,color:"#1e293b",marginTop:"4px",lineHeight:"1.3",maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Lt?ls(n.original.predmet,Lt):n.original.predmet})]})},size:180},{accessorKey:"objednatel_garant",header:"Objednatel / Garant",sortingFn:ps((e,n)=>{const t=e=>{if(e.objednatel_uzivatel)return e.objednatel_uzivatel.cele_jmeno?e.objednatel_uzivatel.cele_jmeno:cs(null,e.objednatel_uzivatel);if(e.objednatel){const n=e.objednatel;if(n.cele_jmeno)return n.cele_jmeno;if(n.jmeno&&n.prijmeni){const e=n.titul_pred?n.titul_pred+" ":"",t=n.titul_za?", "+n.titul_za:"";return"".concat(e).concat(n.jmeno," ").concat(n.prijmeni).concat(t).replace(/\s+/g," ").trim()}if(n.username)return n.username}return e.objednatel_id?cs(e.objednatel_id):"---"},o=t(e.original),r=t(n.original);return"---"===o&&"---"===r?0:"---"===o?1:"---"===r?-1:o.localeCompare(r,"cs",{sensitivity:"base"})}),filterFn:(e,n,t)=>{if(!t)return!0;const o=e.original;let r="---",a="---";if(o.objednatel_uzivatel)r=o.objednatel_uzivatel.cele_jmeno?o.objednatel_uzivatel.cele_jmeno:cs(null,o.objednatel_uzivatel);else if(o.objednatel){const e=o.objednatel;if(e.cele_jmeno)r=e.cele_jmeno;else if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";r="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username&&(r=e.username)}else o.objednatel_id&&(r=cs(o.objednatel_id));if(o.garant_uzivatel)a=o.garant_uzivatel.cele_jmeno?o.garant_uzivatel.cele_jmeno:cs(null,o.garant_uzivatel);else if(o.garant){const e=o.garant;if(e.cele_jmeno)a=e.cele_jmeno;else if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";a="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username&&(a=e.username)}else o.garant_uzivatel_id&&(a=cs(o.garant_uzivatel_id));const i=(0,_.WL)(r.toLowerCase()),l=(0,_.WL)(a.toLowerCase()),s=(0,_.WL)(t.toLowerCase());return i.includes(s)||l.includes(s)},cell:e=>{let{row:n}=e;const t=n.original;let o="---",r="---";if(t.objednatel_uzivatel)o=t.objednatel_uzivatel.cele_jmeno?t.objednatel_uzivatel.cele_jmeno:cs(null,t.objednatel_uzivatel);else if(t.objednatel){const e=t.objednatel;if(e.cele_jmeno)o=e.cele_jmeno;else if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";o="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username&&(o=e.username)}else t.objednatel_id&&(o=cs(t.objednatel_id));if(t.garant_uzivatel)r=t.garant_uzivatel.cele_jmeno?t.garant_uzivatel.cele_jmeno:cs(null,t.garant_uzivatel);else if(t.garant){const e=t.garant;if(e.cele_jmeno)r=e.cele_jmeno;else if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";r="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username&&(r=e.username)}else t.garant_uzivatel_id&&(r=cs(t.garant_uzivatel_id));return(0,M.jsxs)("div",{style:{lineHeight:"1.3"},title:"Objednatel: ".concat(o,"\nGarant: ").concat(r),children:[(0,M.jsx)("div",{style:{fontWeight:500},children:o}),(0,M.jsx)("div",{style:{fontSize:"0.85em",color:"#6b7280"},children:r})]})},size:180},{accessorKey:"prikazce_schvalovatel",header:"P\u0159\xedkazce / Schvalovatel",sortingFn:ps((e,n)=>{const t=e=>{if(e.prikazce_uzivatel)return cs(null,e.prikazce_uzivatel);if(e.prikazce){const n=e.prikazce;if(n.jmeno&&n.prijmeni){const e=n.titul_pred?n.titul_pred+" ":"",t=n.titul_za?", "+n.titul_za:"";return"".concat(e).concat(n.jmeno," ").concat(n.prijmeni).concat(t).replace(/\s+/g," ").trim()}if(n.username)return n.username;if(n.cele_jmeno)return n.cele_jmeno}return e.prikazce_id?cs(e.prikazce_id):"---"},o=t(e.original),r=t(n.original);return"---"===o&&"---"===r?0:"---"===o?1:"---"===r?-1:o.localeCompare(r,"cs",{sensitivity:"base"})}),filterFn:(e,n,t)=>{if(!t)return!0;const o=e.original;let r="---",a="---";if(o.prikazce_uzivatel)r=cs(null,o.prikazce_uzivatel);else if(o.prikazce){const e=o.prikazce;if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";r="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username?r=e.username:e.cele_jmeno&&(r=e.cele_jmeno)}else o.prikazce_id&&(r=cs(o.prikazce_id));if(o.schvalovatel_uzivatel)a=cs(null,o.schvalovatel_uzivatel);else if(o.schvalovatel){const e=o.schvalovatel;if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";a="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username?a=e.username:e.cele_jmeno&&(a=e.cele_jmeno)}else o.schvalovatel_id&&(a=cs(o.schvalovatel_id));const i=(0,_.WL)(r.toLowerCase()),l=(0,_.WL)(a.toLowerCase()),s=(0,_.WL)(t.toLowerCase());return i.includes(s)||l.includes(s)},cell:e=>{let{row:n}=e;const t=n.original;let o="---",r="---";if(t.prikazce_uzivatel)o=cs(null,t.prikazce_uzivatel);else if(t.prikazce){const e=t.prikazce;if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";o="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username?o=e.username:e.cele_jmeno&&(o=e.cele_jmeno)}else t.prikazce_id&&(o=cs(t.prikazce_id));if(t.schvalovatel_uzivatel)r=cs(null,t.schvalovatel_uzivatel);else if(t.schvalovatel){const e=t.schvalovatel;if(e.jmeno&&e.prijmeni){const n=e.titul_pred?e.titul_pred+" ":"",t=e.titul_za?", "+e.titul_za:"";r="".concat(n).concat(e.jmeno," ").concat(e.prijmeni).concat(t).replace(/\s+/g," ").trim()}else e.username?r=e.username:e.cele_jmeno&&(r=e.cele_jmeno)}else t.schvalovatel_id&&(r=cs(t.schvalovatel_id));return(0,M.jsxs)("div",{style:{lineHeight:"1.3"},title:"P\u0159\xedkazce: ".concat(o,"\nSchvalovatel: ").concat(r),children:[(0,M.jsx)("div",{style:{fontWeight:500},children:o}),(0,M.jsx)("div",{style:{fontSize:"0.85em",color:"#6b7280"},children:r})]})},size:180},{accessorKey:"dodavatel_nazev",header:"Dodavatel",sortingFn:ps((e,n)=>{const t=e.original.dodavatel_nazev||"---",o=n.original.dodavatel_nazev||"---";return"---"===t&&"---"===o?0:"---"===t?1:"---"===o?-1:t.localeCompare(o,"cs",{sensitivity:"base"})}),filterFn:(e,n,t)=>{if(!t)return!0;const o=e.original,r=[o.dodavatel_nazev||"",o.dodavatel_ico||"",o.dodavatel_ulice||"",o.dodavatel_mesto||"",o.dodavatel_psc||"",o.dodavatel_kontakt_email||"",o.dodavatel_kontakt_telefon||"",o.dodavatel_kontakt_jmeno||""].join(" ").toLowerCase(),a=(0,_.WL)(r),i=(0,_.WL)(t.toLowerCase());return a.includes(i)},cell:e=>{let{row:n}=e;const t=n.original;if(!t.dodavatel_nazev)return(0,M.jsx)("div",{style:{color:"#9ca3af"},children:"---"});const o=[];t.dodavatel_kontakt_email&&o.push(t.dodavatel_kontakt_email),t.dodavatel_kontakt_telefon&&o.push(t.dodavatel_kontakt_telefon);const r=o.join(" | "),a=t.dodavatel_adresa||"";return(0,M.jsxs)("div",{style:{lineHeight:"1.4",whiteSpace:"nowrap"},children:[(0,M.jsx)("div",{style:{fontWeight:500},children:t.dodavatel_nazev}),a&&(0,M.jsx)("div",{style:{fontSize:"0.85em",color:"#6b7280"},children:a}),t.dodavatel_ico&&(0,M.jsxs)("div",{style:{fontSize:"0.85em",color:"#6b7280"},children:["I\u010cO: ",t.dodavatel_ico]}),r&&(0,M.jsx)("div",{style:{fontSize:"0.85em",color:"#6b7280"},children:r})]})},size:220},{accessorKey:"stav_objednavky",header:"Stav",sortingFn:ps((e,n)=>{const t=e=>{const n=es(e);return e.isDraft||e.je_koncept?"Nova / koncept":e.stav_workflow?"object"===typeof e.stav_workflow?e.stav_workflow.nazev_stavu?e.stav_workflow.nazev_stavu:e.stav_workflow.nazev?e.stav_workflow.nazev:"Nezn\xe1m\xfd stav":(null===(t=e.stav_workflow)||void 0===t?void 0:t.nazev_stavu)||(null===(o=e.stav_workflow)||void 0===o?void 0:o.nazev)||String(e.stav_workflow)||"Nezn\xe1m\xfd stav":n;var t,o},o=t(e.original),r=t(n.original);return o||r?o?r?o.localeCompare(r,"cs",{sensitivity:"base"}):-1:1:0}),filterFn:(e,n,t)=>{if(!t)return!0;const o=e.original;let r=es(o);if(o.isDraft||o.je_koncept)r="Nova / koncept";else if(o.stav_workflow){var a,i;if("object"===typeof o.stav_workflow)r=o.stav_workflow.nazev_stavu?o.stav_workflow.nazev_stavu:o.stav_workflow.nazev?o.stav_workflow.nazev:"Nezn\xe1m\xfd stav";else r=(null===(a=o.stav_workflow)||void 0===a?void 0:a.nazev_stavu)||(null===(i=o.stav_workflow)||void 0===i?void 0:i.nazev)||String(o.stav_workflow)||"Nezn\xe1m\xfd stav"}const l=(0,_.WL)(r.toLowerCase()),s=(0,_.WL)(t.toLowerCase());return l.includes(s)},cell:e=>{let{row:n}=e;const t=n.original,o=ns(t);let r=es(t);if(t.isDraft||t.je_koncept)r="Nova / koncept";else if(t.stav_workflow){var a,i;if("object"===typeof t.stav_workflow)r=t.stav_workflow.nazev_stavu?t.stav_workflow.nazev_stavu:t.stav_workflow.nazev?t.stav_workflow.nazev:"Nezn\xe1m\xfd stav";else r=(null===(a=t.stav_workflow)||void 0===a?void 0:a.nazev_stavu)||(null===(i=t.stav_workflow)||void 0===i?void 0:i.nazev)||String(t.stav_workflow)||"Nezn\xe1m\xfd stav"}return(0,M.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%"},children:(0,M.jsxs)(Ca,{$status:o,$isInEditRow:n.original.isDraft||n.original.hasLocalDraftChanges||!1,children:[(0,M.jsx)(T.g,{icon:"NOVA"===o?$.ROs:"KE_SCHVALENI"===o?$.a$:"SCHVALENA"===o?$.V2x:"POTVRZENA"===o?$.SGM:"UVEREJNENA"===o?$.IJd:"DOKONCENA"===o?$.raf:"ZRUSENA"===o?$.Jyw:$.s4k,style:{alignSelf:"flex-start",marginTop:"2px",fontSize:"12px"}}),(0,M.jsx)("span",{style:{lineHeight:"1.2"},children:r})]})})}},{accessorKey:"stav_registru",header:"Stav registru",sortingFn:ps((e,n)=>{const t=e=>{const n=e.registr_smluv,t=ts(e);if(n){if(n.dt_zverejneni&&n.registr_iddt)return"Zve\u0159ejn\u011bno";if("UVEREJNIT"===t||"ANO"===n.zverejnit)return"M\xe1 b\xfdt zve\u0159ejn\u011bno"}return"UVEREJNIT"===t?"M\xe1 b\xfdt zve\u0159ejn\u011bno":""},o=t(e.original),r=t(n.original);return o||r?o?r?o.localeCompare(r,"cs",{sensitivity:"base"}):1:-1:0}),filterFn:(e,n,t)=>{if(!t)return!0;const o=e.original,r=o.registr_smluv,a=ts(o);let i="";if(r?r.dt_zverejneni&&r.registr_iddt?i="Zve\u0159ejn\u011bno":"UVEREJNIT"!==a&&"ANO"!==r.zverejnit||(i="M\xe1 b\xfdt zve\u0159ejn\u011bno"):"UVEREJNIT"===a&&(i="M\xe1 b\xfdt zve\u0159ejn\u011bno"),!i){const e=(0,_.WL)(t.toLowerCase());return"---"===e||""===e}const l=(0,_.WL)(i.toLowerCase()),s=(0,_.WL)(t.toLowerCase());return l.includes(s)},cell:e=>{let{row:n}=e;const t=n.original,o=t.registr_smluv,r=ts(t);let a="",i=null,l="EMPTY";return o?o.dt_zverejneni&&o.registr_iddt?(a="Zve\u0159ejn\u011bno",i=$.SGM,l="UVEREJNENA"):"UVEREJNIT"!==r&&"ANO"!==o.zverejnit||(a="M\xe1 b\xfdt zve\u0159ejn\u011bno",i=$.a$,l="KE_SCHVALENI"):"UVEREJNIT"===r&&(a="M\xe1 b\xfdt zve\u0159ejn\u011bno",i=$.a$,l="KE_SCHVALENI"),a?(0,M.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%"},children:(0,M.jsxs)(Ca,{$status:l,$isInEditRow:!1,title:(null===o||void 0===o?void 0:o.registr_iddt)||"",children:[(0,M.jsx)(T.g,{icon:i,style:{alignSelf:"flex-start",marginTop:"2px",fontSize:"12px"}}),(0,M.jsx)("span",{style:{lineHeight:"1.2"},children:a})]})}):(0,M.jsx)("div",{style:{textAlign:"left",color:"#94a3b8",fontSize:"0.9em"},children:"---"})},size:150},{accessorKey:"max_cena_s_dph",header:"Max. cena s DPH",sortingFn:ps((e,n)=>{const t=parseFloat(e.original.max_cena_s_dph||0),o=parseFloat(n.original.max_cena_s_dph||0);return(!isNaN(t)&&t>0?t:-1/0)-(!isNaN(o)&&o>0?o:-1/0)}),filterFn:(e,n,t)=>{if(!t)return!0;const o=parseFloat(e.original.max_cena_s_dph||0),r=t.trim();if(r.match(/^[=<>]/)){const e=r[0],n=r.substring(1).trim().replace(/\s/g,"").replace(/,/g,""),t=parseFloat(n);if(!isNaN(t)&&!isNaN(o)){if("="===e)return Math.abs(o-t)<.01;if("<"===e)return o<t;if(">"===e)return o>t}return!1}if(!isNaN(o)){if(o>0){const e=o.toLocaleString("cs-CZ").toLowerCase(),n=t.toLowerCase();return e.includes(n)}return"0"===t||"---"===t||""===t}return"---"===t||""===t},cell:e=>{let{row:n}=e;const t=parseFloat(n.original.max_cena_s_dph||0),o=parseFloat(n.original.faktury_celkova_castka_s_dph||0),r=o>0&&t>0&&o>t;return(0,M.jsx)("div",{style:{textAlign:"right",fontWeight:600,fontFamily:"monospace",whiteSpace:"nowrap",color:r?"#dc2626":"inherit"},children:!isNaN(t)&&t>0?(0,M.jsxs)(M.Fragment,{children:[t.toLocaleString("cs-CZ"),"\xa0K\u010d"]}):"---"})}},{accessorKey:"cena_s_dph",header:"Cena s DPH",sortingFn:ps((e,n)=>{const t=os(e.original),o=os(n.original);return(!isNaN(t)&&t>0?t:-1/0)-(!isNaN(o)&&o>0?o:-1/0)}),filterFn:(e,n,t)=>{if(!t)return!0;const o=os(e.original),r=t.trim();if(r.match(/^[=<>]/)){const e=r[0],n=r.substring(1).trim().replace(/\s/g,"").replace(/,/g,""),t=parseFloat(n);if(!isNaN(t)&&!isNaN(o)){if("="===e)return Math.abs(o-t)<.01;if("<"===e)return o<t;if(">"===e)return o>t}return!1}if(!isNaN(o)){if(o>0){const e=o.toLocaleString("cs-CZ").toLowerCase(),n=t.toLowerCase();return e.includes(n)}return"0"===t||"---"===t||""===t}return"---"===t||""===t},cell:e=>{let{row:n}=e,t=0;if(null!=n.original.polozky_celkova_cena_s_dph&&""!==n.original.polozky_celkova_cena_s_dph){const e=parseFloat(n.original.polozky_celkova_cena_s_dph);!isNaN(e)&&e>0&&(t=e)}else n.original.polozky&&Array.isArray(n.original.polozky)&&n.original.polozky.length>0&&(t=n.original.polozky.reduce((e,n)=>{const t=parseFloat(n.cena_s_dph||0);return e+(isNaN(t)?0:t)},0));return(0,M.jsx)("div",{style:{textAlign:"right",fontWeight:600,fontFamily:"monospace",whiteSpace:"nowrap"},children:!isNaN(t)&&t>0?(0,M.jsxs)(M.Fragment,{children:[t.toLocaleString("cs-CZ"),"\xa0K\u010d"]}):"---"})}},{accessorKey:"faktury_celkova_castka_s_dph",header:"Cena FA s DPH",sortingFn:ps((e,n)=>{const t=parseFloat(e.original.faktury_celkova_castka_s_dph||0),o=parseFloat(n.original.faktury_celkova_castka_s_dph||0);return(!isNaN(t)&&t>0?t:-1/0)-(!isNaN(o)&&o>0?o:-1/0)}),filterFn:(e,n,t)=>{if(!t)return!0;const o=parseFloat(e.original.faktury_celkova_castka_s_dph||0),r=t.trim();if(r.match(/^[=<>]/)){const e=r[0],n=r.substring(1).trim().replace(/\s/g,"").replace(/,/g,""),t=parseFloat(n);if(!isNaN(t)&&!isNaN(o)){if("="===e)return Math.abs(o-t)<.01;if("<"===e)return o<t;if(">"===e)return o>t}return!1}if(!isNaN(o)){if(o>0){const e=o.toLocaleString("cs-CZ").toLowerCase(),n=t.toLowerCase();return e.includes(n)}return"0"===t||"---"===t||""===t}return"---"===t||""===t},cell:e=>{let{row:n}=e;const t=parseFloat(n.original.faktury_celkova_castka_s_dph||0);return(0,M.jsx)("div",{style:{textAlign:"right",fontWeight:600,fontFamily:"monospace",whiteSpace:"nowrap",color:"#059669"},children:!isNaN(t)&&t>0?(0,M.jsxs)(M.Fragment,{children:[t.toLocaleString("cs-CZ"),"\xa0K\u010d"]}):"---"})}},{id:"actions",header:()=>(0,M.jsx)("div",{style:{textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:(0,M.jsx)(T.g,{icon:$.zm_,style:{color:"#eab308",fontSize:"16px"}})}),cell:e=>{let{row:n}=e;const t=n.index,o=n.original.id;return(0,M.jsxs)(Na,{onClick:ds,children:[(0,M.jsx)(Ea,{className:"edit","data-action":"edit","data-order-index":t,"data-order-id":o,title:n.original.isDraft?"Vr\xe1tit se ke konceptu objedn\xe1vky":n.original.hasLocalDraftChanges?"Pokra\u010dovat v editaci":"Editovat",disabled:!js(n.original),children:(0,M.jsx)(T.g,{icon:$.MT7})}),(0,M.jsx)(Ea,{className:"create-invoice","data-action":"create-invoice","data-order-index":t,"data-order-id":o,title:n.original.hasLocalDraftChanges?"Objedn\xe1vka je pr\xe1v\u011b otev\u0159en\xe1 na formul\xe1\u0159i - zav\u0159ete ji pro evidov\xe1n\xed faktury":ys(n.original)?"Evidovat fakturu k t\xe9to objedn\xe1vce":"Evidov\xe1n\xed faktury je dostupn\xe9 pouze pro objedn\xe1vky od stavu ROZPRACOVAN\xc1",disabled:n.original.hasLocalDraftChanges||!ys(n.original),children:(0,M.jsx)(T.g,{icon:$.p4e})}),(0,M.jsx)(Ea,{className:"export-document","data-action":"export","data-order-index":t,"data-order-id":o,title:n.original.hasLocalDraftChanges?"Objedn\xe1vka je pr\xe1v\u011b otev\u0159en\xe1 na formul\xe1\u0159i - zav\u0159ete ji pro generov\xe1n\xed DOCX":_s(n.original)?"Generovat DOCX":"Generov\xe1n\xed DOCX je dostupn\xe9 pouze pro objedn\xe1vky od stavu ROZPRACOVAN\xc1",disabled:n.original.hasLocalDraftChanges||!_s(n.original),children:(0,M.jsx)(T.g,{icon:$.W1P})}),(0,M.jsx)(Ea,{className:"financial-control","data-action":"financial-control","data-order-index":t,"data-order-id":o,title:"DOKONCENA"!==ns(n.original)?"Finan\u010dn\xed kontrola je dostupn\xe1 pouze pro objedn\xe1vky ve stavu DOKON\u010cENA":"Generovat finan\u010dn\xed kontrolu (PDF/tisk)",disabled:"DOKONCENA"!==ns(n.original),children:(0,M.jsx)(T.g,{icon:$.UNK})}),(0,M.jsx)(Ea,{className:"delete","data-action":"delete","data-order-index":t,"data-order-id":o,title:"Smazat",disabled:!ks(n.original),children:(0,M.jsx)(T.g,{icon:$.yLS})})]})},size:120,minSize:120,maxSize:140}],[is,ts,ns,Lt,ls,ds,cs]),ms=(0,a.useCallback)((e,n)=>{if(!e||!n||"string"!==typeof e)return e;const t=String(e),o=(0,_.WL)(n.toLowerCase());if(!o)return t;const r=(0,_.WL)(t.toLowerCase()),a=[];let i=0,l=r.indexOf(o);for(;-1!==l;)l>i&&a.push((0,M.jsx)("span",{children:t.substring(i,l)},"text-".concat(i))),a.push((0,M.jsx)("mark",{style:{backgroundColor:"#fef08a",color:"#854d0e",fontWeight:600,padding:"1px 2px",borderRadius:"2px",boxShadow:"0 0 0 1px rgba(133, 77, 14, 0.1)"},children:t.substring(l,l+o.length)},"highlight-".concat(l))),i=l+o.length,l=r.indexOf(o,i);return i<t.length&&a.push((0,M.jsx)("span",{children:t.substring(i)},"text-".concat(i))),a.length>0?(0,M.jsx)(M.Fragment,{children:a}):t},[]),gs=(0,a.useMemo)(()=>{const e=ve.filter(e=>{if(!((e,n,t,o)=>{if(!n||null===t||void 0===t||!t.roles)return!0;if(!t.roles.some(e=>"SUPERADMIN"===e.kod_role||"ADMINISTRATOR"===e.kod_role))return!0;const r=e.objednatel_id===o||e.uzivatel_id===o,a=e.garant_uzivatel_id===o,i=e.schvalovatel_id===o,l=e.prikazce_id===o;return r||a||i||l})(e,Yi,X,ae))return!1;if(!S(e,xo,is,es,cs))return!1;if(!S(e,jo,is,es,cs))return!1;if(!((e,n,t,o)=>{var r,a,i,l,s,d,c,u,v;if(!n)return!0;const p=e._enriched||{};return(0,_.WL)([e.cislo_objednavky,e.predmet,e.dodavatel_nazev,e.dodavatel_ico,e.dodavatel_adresa,e.dodavatel_kontakt_jmeno,e.dodavatel_kontakt_email,e.dodavatel_kontakt_telefon,e.poznamka,p.uzivatel?t(null,p.uzivatel):"",C(e,t),N(e,t),t(e.uzivatel_id),t(e.objednatel_id),e.stav_objednavky,null===(r=p.stav_workflow)||void 0===r?void 0:r.nazev_stavu,null===(a=p.stav_workflow)||void 0===a?void 0:a.nazev,o(e),(()=>{var n,t;if(null!==(n=p.druh_objednavky)&&void 0!==n&&n.nazev)try{if("string"===typeof p.druh_objednavky.nazev&&p.druh_objednavky.nazev.startsWith("{")){const e=JSON.parse(p.druh_objednavky.nazev);return e.nazev_stavu||e.nazev||p.druh_objednavky.nazev}return p.druh_objednavky.nazev}catch(o){return p.druh_objednavky.nazev}if(null!==(t=p.druh_objednavky)&&void 0!==t&&t.nazev_stavu)return p.druh_objednavky.nazev_stavu;if(e.druh_objednavky_kod)try{if("string"===typeof e.druh_objednavky_kod&&e.druh_objednavky_kod.startsWith("{")){const n=JSON.parse(e.druh_objednavky_kod);return n.nazev_stavu||n.nazev||""}return"object"===typeof e.druh_objednavky_kod&&e.druh_objednavky_kod.nazev_stavu?e.druh_objednavky_kod.nazev_stavu:e.druh_objednavky_kod}catch(o){return""}return""})(),p.strediska?p.strediska.map(e=>"".concat(e.kod," ").concat(e.nazev)).join(" "):"",e.strediska_kod?Array.isArray(e.strediska_kod)?e.strediska_kod.join(" "):e.strediska_kod:"",null===(i=e.financovani)||void 0===i?void 0:i.typ_nazev,null===(l=e.financovani)||void 0===l?void 0:l.typ,null!==(s=e.financovani)&&void 0!==s&&s.lp_kody?e.financovani.lp_kody.join(" "):"",null!==(d=e.financovani)&&void 0!==d&&d.lp_nazvy?e.financovani.lp_nazvy.map(e=>"".concat(e.cislo_lp||e.kod||""," ").concat(e.nazev||"")).join(" "):"",null===(c=e.financovani)||void 0===c?void 0:c.poznamka,null===(u=e.financovani)||void 0===u?void 0:u.cislo_smlouvy,null===(v=e.financovani)||void 0===v?void 0:v.poznamka_smlouvy,...e.polozky&&Array.isArray(e.polozky)?e.polozky.flatMap(e=>[[e.nazev_polozky,e.popis,e.poznamka,e.poznamka_umisteni,e.katalog_cislo,e.dodavatel_kod,e.usek_kod,e.budova_kod,e.mistnost_kod].filter(Boolean).join(" "),...e.podradky&&Array.isArray(e.podradky)?e.podradky.map(e=>[e.nazev_polozky,e.popis,e.poznamka,e.poznamka_umisteni,e.katalog_cislo,e.dodavatel_kod,e.usek_kod,e.budova_kod,e.mistnost_kod].filter(Boolean).join(" ")):[]]):[],...e.faktury&&Array.isArray(e.faktury)?e.faktury.flatMap(e=>[[e.fa_cislo_vema,e.cislo_faktury,e.fa_poznamka,e.fa_strediska_kod?Array.isArray(e.fa_strediska_kod)?e.fa_strediska_kod.join(" "):e.fa_strediska_kod:""].filter(Boolean).join(" "),...e.polozky&&Array.isArray(e.polozky)?e.polozky.map(e=>[e.nazev_polozky,e.popis,e.poznamka,e.katalog_cislo].filter(Boolean).join(" ")):[]]):[],...e.prilohy&&Array.isArray(e.prilohy)?e.prilohy.map(e=>[e.nazev_souboru,e.nazev,e.popis].filter(Boolean).join(" ")):[],...e.dodatecne_dokumenty&&Array.isArray(e.dodatecne_dokumenty)?e.dodatecne_dokumenty.map(e=>[e.nazev_souboru,e.nazev,e.popis].filter(Boolean).join(" ")):[],...e.faktury&&Array.isArray(e.faktury)?e.faktury.flatMap(e=>e.prilohy&&Array.isArray(e.prilohy)?e.prilohy.map(e=>[e.nazev_souboru,e.nazev,e.popis].filter(Boolean).join(" ")):[]):[]].filter(Boolean).join(" ")).includes((0,_.WL)(n))})(e,Lt,cs,es))return!1;if(!((e,n,t)=>{if(!n||!Array.isArray(n)||0===n.length)return!0;const o={"Nov\xe1":"NOVA","Ke schv\xe1len\xed":"KE_SCHVALENI","Schv\xe1len\xe1":"SCHVALENA","Zam\xedtnut\xe1":"ZAMITNUTA","\u010cek\xe1 se":"CEKA_SE","Rozpracovan\xe1":"ROZPRACOVANA","Odeslan\xe1 dodavateli":"ODESLANA","Potvrzen\xe1 dodavatelem":"POTVRZENA","Ke zve\u0159ejn\u011bn\xed":"K_UVEREJNENI_DO_REGISTRU","Zve\u0159ejn\u011bno":"UVEREJNENA","\u010cek\xe1 na potvrzen\xed":"CEKA_POTVRZENI","V\u011bcn\xe1 spr\xe1vnost":"VECNA_SPRAVNOST","Dokon\u010den\xe1":"DOKONCENA","Vy\u0159\xedzen\xe1":"VYRIZENA","Zru\u0161en\xe1":"ZRUSENA","Smazan\xe1":"SMAZANA","Archivov\xe1no":"ARCHIVOVANO"},r=t(e);return r?n.some(e=>o[e]===r||e===r):n.includes("Nov\xe1")||n.includes("Koncept")})(e,$t,ns))return!1;if(!((e,n)=>{if(!n)return!0;const t=parseInt(n),o=e.uzivatel_id===t,r=e.objednatel_id===t;return o||r})(e,Pt))return!1;if(!((e,n,t,o)=>{if(!n&&!t)return!0;const r=o(e),a=e.datum_obj_do?e.datum_obj_do.split("T")[0]:null;if(!r&&!a)return!0;let i=!1;if(r){const e=new Date(r),o=n?new Date(n):null,a=t?new Date(t):null;a&&a.setHours(23,59,59,999),(!o||e>=o)&&(!a||e<=a)&&(i=!0)}if(!i&&a){const e=new Date(a),o=n?new Date(n):null,r=t?new Date(t):null;r&&r.setHours(23,59,59,999),(!o||e>=o)&&(!r||e<=r)&&(i=!0)}return i})(e,Gt,Xt,is))return!1;if(!((e,n,t)=>{const o=parseFloat(e.max_cena_s_dph||0);return!(n&&o<parseFloat(n))&&!(t&&o>parseFloat(t))})(e,Qt,no))return!1;if(!((e,n,t,o)=>{if(!n&&!t)return!0;const r=e.registr_smluv,a="UVEREJNIT"===o(e)||"ANO"===(null===r||void 0===r?void 0:r.zverejnit),i=(null===r||void 0===r?void 0:r.dt_zverejneni)&&(null===r||void 0===r?void 0:r.registr_iddt);return n&&t?a&&!i||i:n?a&&!i:!t||i})(e,oo,ao,ts))return!1;if(lo&&!e.mimoradna_udalost)return!1;if(co){const n=e.faktury||[];if(0===(e.faktury_count||n.length||0))return!1}if(vo){const n=e.prilohy||[];if(0===(e.prilohy_count||n.length||0))return!1}return!0});return e.sort((e,n)=>{const t=e.isDraft||e.je_koncept||!1,o=n.isDraft||n.je_koncept||!1;return t&&!o?-1:!t&&o?1:0})},[ve,xo,jo,Lt,$t,Pt,Gt,Xt,Qt,no,oo,ao,lo,co,vo,is,cs,es,ns,Ji,Yi,X,ae,ts]);(0,a.useEffect)(()=>{ht(e=>{var n;return(0,o.A)((0,o.A)({},e),{},{filteredData:gs,filteredCount:gs.length,archivedInFiltered:gs.filter(e=>"ARCHIVOVANO"===ns(e)).length,nonArchivedInFiltered:gs.filter(e=>"ARCHIVOVANO"!==ns(e)).length,filterState:{showArchived:Ji,selectedYear:zo,selectedMonth:wo,canViewAllOrders:null===(n=ue.current)||void 0===n?void 0:n.canViewAll,currentUserId:ae}})})},[gs,Ji,zo,wo,ae,ns]),(0,a.useEffect)(()=>{Kl.current=gs,Zl.current&&0!==gs.length&&setTimeout(()=>{if(!Zl.current||!Array.isArray(Zl.current))return;const e={};Zl.current.forEach(n=>{const t=gs.findIndex(e=>e.id===n);t>=0&&(e[t]=!0)}),Object.keys(e).length>0?(Vl(e),Gl.current.expandedRestored=!0,Gl.current.scrollRestored=!0):(Gl.current.expandedRestored=!0,Gl.current.scrollRestored=!0),Zl.current=null},100)},[gs]),(0,a.useEffect)(()=>{const e=Gl.current,n=setInterval(()=>{e.dataLoaded&&e.paginationRestored&&e.expandedRestored&&e.scrollRestored&&(Ke(!1),setTimeout(()=>{Be(!0)},200),clearInterval(n))},100);return()=>clearInterval(n)},[]),(0,a.useEffect)(()=>{(Lt||Array.isArray($t)&&$t.length>0||Pt||Gt||Xt||Qt||no||Object.values(xo).some(e=>e))&&ve.length>0&&gs.length},[gs.length,ve.length,Lt,$t,Pt,Gt,Xt,Qt,no,xo]);const fs=()=>{const e=xs.getIsSomeRowsExpanded();xs.toggleAllRowsExpanded(!e)},xs=(0,Do.N4)({data:gs,columns:hs,getCoreRowModel:(0,Io.HT)(),getExpandedRowModel:(0,Io.D0)(),getSortedRowModel:(0,Io.h5)(),getFilteredRowModel:(0,Io.hM)(),getPaginationRowModel:(0,Io.kW)(),enableExpanding:!0,getRowCanExpand:()=>!0,enableRowSelection:!0,manualPagination:!1,state:{sorting:Ll,expanded:$l,rowSelection:ho,pagination:{pageSize:Ol,pageIndex:Dl}},onSortingChange:Tl,onExpandedChange:Vl,onRowSelectionChange:mo}),bs=Math.max(1,Math.ceil(gs.length/Ol));(0,a.useEffect)(()=>{const e=bs-1;Dl>e&&e>=0&&(Il(0),se("orders25List_pageIndex",0))},[bs,Dl,Ol]),(0,a.useEffect)(()=>{if(he||0===gs.length)return void $e(!1);if(!Fe.current)return void $e(!1);const e=Fe.current.querySelector("thead");if(!e)return void $e(!1);let n=!1;const t=new IntersectionObserver(e=>{let[t]=e;const o=t.boundingClientRect.bottom<144;window.__floatingHeaderVisible=o,o!==n&&(window.dispatchEvent(new Event("closeAllDatePickers")),n=o),$e(o)},{threshold:0});return t.observe(e),()=>{t.disconnect()}},[he,gs.length,Fe.current]);const js=e=>!!J&&(e.isDraft||e.je_koncept?J("ORDER_EDIT_ALL")||J("ORDER_EDIT_OWN"):!(!J("ORDER_EDIT_ALL")&&!J("ORDER_MANAGE"))||!(!J("ORDER_EDIT_OWN")&&!J("ORDER_2025"))&&(e.objednatel_id===ae||e.uzivatel_id===ae||e.garant_uzivatel_id===ae||e.schvalovatel_id===ae)),ks=e=>!!J&&(!(e.isDraft||e.je_koncept||e.hasLocalDraftChanges)&&("ARCHIVOVANO"===e.stav_objednavky?J("ORDER_MANAGE")||J("ORDER_DELETE_ALL"):!(!J("ORDER_DELETE_ALL")&&!J("ORDER_MANAGE"))||!(!J("ORDER_DELETE_OWN")&&!J("ORDER_2025"))&&(e.objednatel_id===ae||e.uzivatel_id===ae||e.garant_uzivatel_id===ae||e.schvalovatel_id===ae))),_s=e=>{if(!e)return!1;const n=["ROZPRACOVANA","POTVRZENA","ODESLANA","UVEREJNIT","UVEREJNENA","NEUVEREJNIT","FAKTURACE","VECNA_SPRAVNOST","DOKONCENA","ZKONTROLOVANA","CEKA_SE"];let t=[],o=null,r="";try{if(e.stav_workflow_kod&&(Array.isArray(e.stav_workflow_kod)?t=e.stav_workflow_kod:"string"===typeof e.stav_workflow_kod&&(t=JSON.parse(e.stav_workflow_kod),Array.isArray(t)||(t=[])),t.length>0)){const e=t[t.length-1];"object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?(o=e.kod_stavu||e.nazev_stavu,r=e.nazev_stavu||e.kod_stavu||""):"string"===typeof e&&(o=e,r=e)}o||(o=e.stav_id_num||e.stav_id||e.stav||e.nazev_stavu,r=e.nazev_stavu||e.status_name||o)}catch(ge){o=e.stav_id_num||e.stav_id||e.nazev_stavu,r=e.nazev_stavu||"",t=[]}return t.some(e=>{let t="";return"object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?t=String(e.kod_stavu||e.nazev_stavu).toUpperCase().trim():"string"===typeof e&&(t=String(e).toUpperCase().trim()),n.includes(t)})},ys=e=>{if(!e)return!1;const n=["ROZPRACOVANA","ODESLANA","ODESLANO","POTVRZENA","UVEREJNIT","NEUVEREJNIT","UVEREJNENA","FAKTURACE","VECNA_SPRAVNOST","ZKONTROLOVANA","DOKONCENA","CEKA_SE"],t=["STORNOVANA","ZAMITNUTA"];let o=[];try{e.stav_workflow_kod&&(Array.isArray(e.stav_workflow_kod)?o=e.stav_workflow_kod:"string"===typeof e.stav_workflow_kod&&(o=JSON.parse(e.stav_workflow_kod),Array.isArray(o)||(o=[])))}catch(ge){o=[]}if(o.some(e=>{let n="";return"object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?n=String(e.kod_stavu||e.nazev_stavu).toUpperCase().trim():"string"===typeof e&&(n=String(e).toUpperCase().trim()),t.includes(n)}))return!1;return o.some(e=>{let t="";return"object"===typeof e&&(e.kod_stavu||e.nazev_stavu)?t=String(e.kod_stavu||e.nazev_stavu).toUpperCase().trim():"string"===typeof e&&(t=String(e).toUpperCase().trim()),n.includes(t)})},zs=e=>{if(!e)return[];if(!lt||0===lt.length)return console.warn("\u26a0 [DOCX] \u0160ablony nejsou na\u010dten\xe9 pro order:",e.cislo_objednavky),[];return lt.map(e=>({value:e.kod||e.id,label:e.nazev||e.kod||"Bez n\xe1zvu"}))},As=async e=>{try{kl(e),bl(!0)}catch(ge){console.error("\u274c [Orders25List] Chyba p\u0159i otev\xedr\xe1n\xed DOCX dialogu:",ge),null===te||void 0===te||te("Chyba p\u0159i otev\xedr\xe1n\xed DOCX gener\xe1toru: ".concat(ge.message),{type:"error"})}},ws=async e=>{if(e.isDraft&&!e.objednavka_id)return void W("/order-form-25?mode=concept");if(e.hasLocalDraftChanges&&e.objednavka_id){try{No.default.setCurrentUser(Y),No.default.saveUIState({highlightOrderId:e.objednavka_id,editOrderId:e.objednavka_id})}catch(v){console.error("\u274c Chyba p\u0159i ukl\xe1d\xe1n\xed highlightOrderId:",v)}return void W("/order-form-25?edit=".concat(e.objednavka_id))}const n=e.id||e.objednavka_id;try{var t,o,r;const s=await(0,f.getOrderV2)(n,K,H,!0);if(!s)return void te("Nepoda\u0159ilo se na\u010d\xedst objedn\xe1vku z datab\xe1ze",{type:"error"});if(!0===(null===(t=s.lock_info)||void 0===t?void 0:t.locked)&&(null===(o=s.lock_info)||void 0===o||!o.is_owned_by_me)&&(null===(r=s.lock_info)||void 0===r||!r.is_expired)){var a,i,l;const t=s.lock_info,o=t.locked_by_user_fullname||"u\u017eivatel #".concat(t.locked_by_user_id),r=null===X||void 0===X||null===(a=X.roles)||void 0===a?void 0:a.some(e=>"SUPERADMIN"===e.kod_role||"ADMINISTRATOR"===e.kod_role);return Vn({lockedByUserName:o,lockedByUserEmail:t.locked_by_user_email||null,lockedByUserTelefon:t.locked_by_user_telefon||null,lockedAt:t.locked_at||null,lockAgeMinutes:t.lock_age_minutes||null,canForceUnlock:r,orderId:n,userRoleName:(null===X||void 0===X||null===(i=X.roles)||void 0===i||null===(l=i.find(e=>"SUPERADMIN"===e.kod_role||"ADMINISTRATOR"===e.kod_role))||void 0===l?void 0:l.nazev_role)||"administr\xe1tor"}),zn(e),void Tn(!0)}}catch(ge){return void te("Chyba p\u0159i kontrole dostupnosti objedn\xe1vky",{type:"error"})}No.default.setCurrentUser(Y);let s=!1,d=null,c=!1;if(await No.default.hasDraft())try{var u;const n=await No.default.loadDraft(),t=n.savedOrderId||(null===(u=n.formData)||void 0===u?void 0:u.id),o=e.id;if(t&&o&&String(t)===String(o))s=!1,c=!0;else{const e=(0,Co.V5)(n),t=(0,Co.NN)(n);s=e||t,s&&(d=n)}}catch(ge){s=!1}if(!c)return"ARCHIVOVANO"===e.stav_objednavky&&s?(wn(d),zn(e),void In(!0)):"ARCHIVOVANO"===e.stav_objednavky?(zn(e),void Rn(!0)):void(s?(wn(d),zn(e),_n(!0)):Ss(e));try{No.default.setCurrentUser(Y),No.default.saveUIState({highlightOrderId:e.id,editOrderId:e.id})}catch(v){console.error("\u274c Chyba p\u0159i ukl\xe1d\xe1n\xed highlightOrderId:",v)}W("/order-form-25?edit=".concat(e.id))},Ss=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=yn;if(e&&e.id&&!e.type&&(n=e),n){try{const e=n.id||n.objednavka_id;if(!e)return void te("Chyba: Nelze ur\u010dit ID objedn\xe1vky",{type:"error"});const i=await(0,f.getOrderV2)(e,K,H,!0);if(!i)return void te("Nepoda\u0159ilo se na\u010d\xedst objedn\xe1vku z datab\xe1ze",{type:"error"});try{(await(0,g.ro)({token:K,username:H,orderId:e})).success}catch(r){}let l=null;if(i.objednatel_id)try{const{getUserDetailApi2:e}=await Promise.resolve().then(t.bind(t,75949));l=await e(H,K,i.objednatel_id)}catch(ge){l=null}let s=[];for(let n=localStorage.length-1;n>=0;n--){const e=localStorage.key(n);e&&(e.startsWith("orderForm25_")||e.startsWith("order25_draft_")||e.startsWith("order25-draft-")||e.startsWith("orderForm25-")||e.includes("draft")&&e.includes("order"))&&(localStorage.removeItem(e),s.push(e))}const d=i.id;let c={objednatel_id:i.objednatel_id||Y,jmeno:"Neuvedeno",email:"",telefon:""};if(l){const e="".concat(l.titul_pred?l.titul_pred+" ":"").concat(l.jmeno||""," ").concat(l.prijmeni||"").concat(l.titul_za?", "+l.titul_za:"").replace(/\s+/g," ").trim();c={objednatel_id:i.objednatel_id,jmeno:e||"Neuvedeno",email:l.email||"",telefon:l.telefon||""}}else i.objednatel_id;const u=(e,n)=>{if(!e)return!1;try{if("string"===typeof e&&e.startsWith("[")){const t=JSON.parse(e);return Array.isArray(t)&&t.includes(n)}return String(e).includes(n)}catch(t){return String(e).includes(n)}},v=u(i.stav_workflow_kod,"SCHVALENA"),p=u(i.stav_workflow_kod,"ODESLANA"),h=u(i.stav_workflow_kod,"ZRUSENA"),m=u(i.stav_workflow_kod,"ZAMITNUTA"),x=u(i.stav_workflow_kod,"CEKA_SE");let b=i.stav_schvaleni||"";v?b="schvaleno":m?b="neschvaleno":x&&(b="ceka_se");const j=i.cislo_objednavky||i.ev_cislo||"CHYBA: Chyb\xed \u010d\xedslo v DB!",k={formData:(0,o.A)((0,o.A)({},i),{},{uzivatel_id:Y,ev_cislo:i.cislo_objednavky||i.ev_cislo||"CHYBA: Chyb\xed \u010d\xedslo v DB!",stav_schvaleni:b,stav_odeslano:p,stav_stornovano:h},c&&{objednatel_id:c.objednatel_id,jmeno:c.jmeno,email:c.email,telefon:c.telefon}),timestamp:Date.now(),version:"1.4",isConceptSaved:!0,isChanged:!1,isOrderSavedToDB:!0,savedOrderId:d,attachments:[]};se("order25-draft",k),(0,Eo.C5)(Y,k),window.dispatchEvent(new CustomEvent("orderDraftChange",{detail:{hasDraft:!0,isEditMode:!0,orderId:d,orderNumber:j,isLoading:!1}}));try{No.default.setCurrentUser(Y),No.default.saveUIState({highlightOrderId:d,editOrderId:d})}catch(a){console.error("\u274c Chyba p\u0159i ukl\xe1d\xe1n\xed highlightOrderId:",a)}W("/order-form-25?edit=".concat(d,"&archivovano=1"))}catch(ge){te("Chyba p\u0159i na\u010d\xedt\xe1n\xed objedn\xe1vky z datab\xe1ze",{type:"error"})}_n(!1),zn(null)}},Cs=()=>{Tn(!1),Vn(null),_n(!1),zn(null)},Ns=()=>{Fn(!1),Wn(null)},Es=(0,a.useCallback)(function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.preventDefault();let o=null;const r=e.target;if(t)o=t;else if(r&&r.closest("td")){var a;const e=r.closest("td");o={value:(null===(a=e.textContent)||void 0===a?void 0:a.trim())||"",element:e}}fl({x:e.clientX,y:e.clientY,order:n,selectedData:o})},[]),Os=(0,a.useCallback)(e=>{const n=e.target.closest("tr[data-order-index]");if(!n)return;const t=parseInt(n.dataset.orderIndex,10),o=Kl.current[t];o&&Es(e,o)},[Es]),Rs=(0,a.useCallback)(()=>{fl(null)},[]),Ds=(0,a.useCallback)(e=>{te('\ud83c\udfaf Funkce "P\u0159idat do TODO" bude brzy implementov\xe1na pro objedn\xe1vku '.concat(e.cislo_objednavky),{type:"info"})},[te]),Is=(0,a.useCallback)(e=>{te('\u23f0 Funkce "P\u0159idat alarm" bude brzy implementov\xe1na pro objedn\xe1vku '.concat(e.cislo_objednavky),{type:"info"})},[te]),Ls=(0,a.useCallback)(e=>{ws(e)},[ws]),Ts=(0,a.useCallback)(e=>{Fs(e)},[]),$s=(0,a.useCallback)(e=>{As(e)},[As]),Vs=(0,a.useCallback)(e=>{Al(e),yl(!0)},[]),Ps=(0,a.useCallback)(()=>{bl(!1),kl(null)},[]),Fs=(0,a.useCallback)(e=>{ks(e)?(En(e),Cn(!0)):te("Nem\xe1te opr\xe1vn\u011bn\xed smazat tuto objedn\xe1vku",{type:"warning"})},[ks,te]),Ms=(0,a.useCallback)(e=>{ys(e)?W("/invoice-evidence/".concat(e.id)):te("Evidov\xe1n\xed faktury je dostupn\xe9 pouze pro objedn\xe1vky od stavu ROZPRACOVAN\xc1",{type:"warning"})},[W,te]);ss.current={handleEdit:ws,handleView:e=>{},handleExportDocument:As,handleFinancialControl:async e=>{try{if("DOKONCENA"!==ns(e))return void(null===te||void 0===te||te("Finan\u010dn\xed kontrola je dostupn\xe1 pouze pro dokon\u010den\xe9 objedn\xe1vky",{type:"warning"}));Al(e),yl(!0)}catch(ge){console.error("\u274c [Orders25List] Chyba p\u0159i otev\xedr\xe1n\xed finan\u010dn\xed kontroly:",ge),null===te||void 0===te||te("Chyba p\u0159i otev\xedr\xe1n\xed finan\u010dn\xed kontroly: ".concat(ge.message),{type:"error"})}},handleCreateInvoice:Ms,handleDelete:Fs};const Ws=async e=>{if(Nn)try{pe(e=>e.filter(e=>e.id!==Nn.id)),"hard"===e?(0,f.kg)(Nn.id,K,H).then(()=>{te&&te("Objedn\xe1vka byla \xfapln\u011b smaz\xe1na v\u010detn\u011b v\u0161ech p\u0159\xedloh.",{type:"success"})}).catch(e=>{pe(e=>[...e,Nn].sort((e,n)=>n.id-e.id));const n=(0,Oo.g)(e.message);te&&te("Chyba p\u0159i maz\xe1n\xed: ".concat(n),{type:"error"})}):(0,f.kg)(Nn.id,K,H).then(()=>{te&&te("Objedn\xe1vka byla ozna\u010dena jako neaktivn\xed.",{type:"success"})}).catch(e=>{pe(e=>[...e,Nn].sort((e,n)=>n.id-e.id));const n=(0,Oo.g)(e.message);te&&te("Chyba p\u0159i maz\xe1n\xed: ".concat(n),{type:"error"})}),(0,Eo.aO)(Y)}catch(ge){const n=(0,Oo.g)(ge.message);te&&te("Chyba p\u0159i maz\xe1n\xed objedn\xe1vky: ".concat(n),{type:"error"})}finally{Cn(!1),En(null)}},Bs=async()=>{if(K&&null!==Z&&void 0!==Z&&Z.username){Qe(!1),nn(new Date);try{L.A.invalidate(Y),L.A.clearScrollState(Y),me(!0),await Ql(!0),null!==de&&void 0!==de&&de.triggerNotificationsRefresh&&de.triggerNotificationsRefresh(),te&&te("Seznam objedn\xe1vek byl obnoven z datab\xe1ze",{type:"success"})}catch(ge){te&&te("Chyba p\u0159i obnoven\xed dat: "+ge.message,{type:"error"})}finally{me(!1)}}};(0,a.useEffect)(()=>{if(!il)return;const e=e=>{ol.current&&!ol.current.contains(e.target)&&ll(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[il]);const Zs=e=>{"show-more"!==e?"show-less"!==e?(Ki(e),se("orders25List_selectedMonth",e),al(!1)):Hi(!1):Hi(!0)};(0,a.useEffect)(()=>{if(!rl)return;const e=e=>{tl.current&&!tl.current.contains(e.target)&&al(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[rl]);const Ks=()=>{const e=new Date,n=e.getFullYear(),t=e.getMonth(),o=e.getDate(),r="all"!==zo?parseInt(zo):n;switch(wo){case"all":return"all"!==zo?{datum_od:"".concat(r,"-01-01"),datum_do:"".concat(r,"-12-31")}:{};case"current-month":return{datum_od:"".concat(n,"-").concat(String(t+1).padStart(2,"0"),"-01"),datum_do:"".concat(n,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(o).padStart(2,"0"))};case"last-month":{const e=t-1,r=e<0?11:e;return{datum_od:"".concat(e<0?n-1:n,"-").concat(String(r+1).padStart(2,"0"),"-01"),datum_do:"".concat(n,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(o).padStart(2,"0"))}}case"last-quarter":{const e=t-3,r=e<0?12+e:e;return{datum_od:"".concat(e<0?n-1:n,"-").concat(String(r+1).padStart(2,"0"),"-01"),datum_do:"".concat(n,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(o).padStart(2,"0"))}}case"last-half":{const e=t-6,r=e<0?12+e:e;return{datum_od:"".concat(e<0?n-1:n,"-").concat(String(r+1).padStart(2,"0"),"-01"),datum_do:"".concat(n,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(o).padStart(2,"0"))}}case"last-year":{const e=t-12,r=e<0?12+e:e;return{datum_od:"".concat(e<0?n-1:n,"-").concat(String(r+1).padStart(2,"0"),"-01"),datum_do:"".concat(n,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(o).padStart(2,"0"))}}default:{if("all"===zo)return{};const e=wo.match(/^(\d+)(?:-(\d+))?$/);if(e){const n=parseInt(e[1]),t=e[2]?parseInt(e[2]):n,o=new Date(r,t,0).getDate();return{datum_od:"".concat(r,"-").concat(String(n).padStart(2,"0"),"-01"),datum_do:"".concat(r,"-").concat(String(t).padStart(2,"0"),"-").concat(String(o).padStart(2,"0"))}}return{}}}},Us=e=>{if(!e)return"";const n=e.toString().replace(/[^\d]/g,"");return n?n.replace(/\B(?=(\d{3})+(?!\d))/g," "):""},Hs=e=>e?e.toString().replace(/\s/g,""):"",Js=()=>{bo({dt_objednavky:"",cislo_objednavky:"",predmet:"",objednatel:"",stav_objednavky:"",max_cena_s_dph:"",garant:"",prikazce:"",schvalovatel:""}),Wt([]),Zt([]),Jt([]),Ut([]),Vt([]),se("orders25List_selectedObjednatel",[]),se("orders25List_selectedGarant",[]),se("orders25List_selectedPrikazce",[]),se("orders25List_selectedSchvalovatel",[]),se("orders25List_statusFilter",[])},Gs=()=>{const e=!_o;yo(e),se("orders25List_showRowHighlighting",e)},Ys=e=>{if(Nt===e)Et(null),Vt([]),se("orders25List_statusFilter",[]),uo(!1),po(!1);else{const n={ke_schvaleni:"Ke schv\xe1len\xed",schvalena:"Schv\xe1len\xe1",rozpracovana:"Rozpracovan\xe1",odeslana:"Odeslan\xe1 dodavateli",potvrzena:"Potvrzen\xe1 dodavatelem",k_uverejneni_do_registru:"Ke zve\u0159ejn\u011bn\xed",uverejnena:"Zve\u0159ejn\u011bno",vecna_spravnost:"V\u011bcn\xe1 spr\xe1vnost",dokoncena:"Dokon\u010den\xe1",nova:"Nov\xe1",zamitnuta:"Zam\xedtnut\xe1",zrusena:"Zru\u0161en\xe1",ceka_potvrzeni:"\u010cek\xe1 na potvrzen\xed",ceka_se:"\u010cek\xe1 se",smazana:"Smazan\xe1",archivovano:"Archivov\xe1no"};uo(!1),po(!1),Et(e);const t=n[e]||e;Vt([t]),se("orders25List_statusFilter",[t])}},Xs=()=>{co?(uo(!1),Et(null),Vt([]),se("orders25List_statusFilter",[]),po(!1)):(Et(null),Vt([]),se("orders25List_statusFilter",[]),po(!1),uo(!0))},qs=()=>{vo?(po(!1),Et(null),Vt([]),se("orders25List_statusFilter",[]),uo(!1)):(Et(null),Vt([]),se("orders25List_statusFilter",[]),uo(!1),po(!0))},Qs=()=>{const e=!lo;so(e),se("orders25List_filterMimoradneObjednavky",e),e&&(Et(null),Vt([]),se("orders25List_statusFilter",[]),uo(!1),po(!1))},ed=()=>{const e=!dt;ct(e),se("orders25List_showDashboard",e)},nd=(0,a.useCallback)(e=>"custom"!==St||null===yt||void 0===yt||!yt.viditelne_dlazdice||!0===yt.viditelne_dlazdice[e],[St,yt]),td=()=>{const e=!Yi;Xi(e),se("orders25List_showOnlyMyOrders",e)},od=async(e,n)=>{const t=e.originalni_nazev_souboru||e.nazev||"priloha_".concat(e.id);if("IMPORT"===e.typ_prilohy&&e.originalni_nazev_souboru){const n="".concat("https://erdms.zachranka.cz/prilohy/").concat(e.originalni_nazev_souboru),t=document.createElement("a");return t.href=n,t.download=e.originalni_nazev_souboru,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),void(null===te||void 0===te||te('P\u0159\xedloha "'.concat(e.originalni_nazev_souboru,'" se stahuje ze star\xe9ho syst\xe9mu'),{type:"info"}))}if(e.id&&n&&K&&H)try{let o;if(e.typ_prilohy&&e.typ_prilohy.startsWith("FAKTURA")){const n=e.faktura_id||e.invoice_id;if(!n)return void(null===te||void 0===te||te("Nelze st\xe1hnout p\u0159\xedlohu faktury - chyb\xed ID faktury",{type:"error"}));o=await(0,f.TD)(n,e.id,H,K)}else o=await(0,f.downloadOrderAttachment)(n,e.id,H,K);(0,g.createDownloadLink25)(o,t),null===te||void 0===te||te("P\u0159\xedloha sta\u017eena",{type:"success"})}catch(ge){null===te||void 0===te||te(ge.message||"P\u0159\xedlohu nelze st\xe1hnout",{type:"error"})}else null===te||void 0===te||te("Nelze st\xe1hnout p\u0159\xedlohu - chyb\xed pot\u0159ebn\xe9 \xfadaje",{type:"error"})},[rd,ad]=(0,a.useState)({}),id=async(e,n,r)=>{const a="".concat(e,"_").concat(n);if(!rd[a])try{const{getUserDetailApi2:e}=await Promise.resolve().then(t.bind(t,75949)),n=await e(H,K,r);if(n){const e={jmeno:n.jmeno,prijmeni:n.prijmeni,titul_pred:n.titul_pred,titul_za:n.titul_za,email:n.email};ad(n=>(0,o.A)((0,o.A)({},n),{},{[a]:e}))}}catch(ge){}},ld=e=>{var n,t,r,a,i,l,s,d,c;const u=e.polozky||[],v=Array.isArray(u)&&u.length>0,p=e.faktury||[],h=Array.isArray(p)&&p.length>0,m=e.prilohy||[],g=Array.isArray(m)&&m.length>0,f=e.dodatecne_dokumenty||[],x=Array.isArray(f)&&f.length>0,b=e.strediska_kod||e.strediska||[],_=Array.isArray(b)&&b.length>0;return(0,M.jsx)(oa,{$order:e,$showRowHighlighting:_o,children:(0,M.jsxs)(ra,{children:[(0,M.jsxs)(da,{$order:e,$showRowHighlighting:_o,children:[(0,M.jsxs)(ca,{children:[(0,M.jsx)(T.g,{icon:$.iW_}),"Z\xe1kladn\xed \xfadaje objedn\xe1vky"]}),(0,M.jsxs)("div",{style:{width:"100%",marginBottom:"0.75rem",padding:"0.5rem",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[(0,M.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",marginBottom:"0.25rem",fontWeight:500,textTransform:"uppercase",letterSpacing:"0.05em"},children:"\u010c\xedslo objedn\xe1vky"}),(0,M.jsxs)("div",{style:{fontFamily:"monospace",fontWeight:700,fontSize:"1.15em",color:"#0f172a",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[e.cislo_objednavky||"---",(0,M.jsxs)("sup",{style:{fontSize:"0.6em",color:"#94a3b8",fontWeight:400,marginLeft:"0.3em"},children:["#",e.id||"?"]})]})]}),(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"P\u0159edm\u011bt:"}),(0,M.jsx)(_a,{style:{fontWeight:500},children:e.predmet||"---"})]}),(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Stav:"}),(0,M.jsx)(_a,{children:(0,M.jsx)("span",{style:{fontWeight:600,color:(()=>{const n=e.stav_objednavky?Mo(e.stav_objednavky):"NOVA",t=k(n);return(null===t||void 0===t?void 0:t.dark)||j.NOVA.dark})()},children:e.stav_objednavky||es(e)||"---"})})]}),(0,M.jsx)("div",{style:{borderBottom:"1px solid #e5e7eb",margin:"0.75rem 0"}}),(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Datum vytvo\u0159en\xed:"}),(0,M.jsx)(_a,{children:e.dt_vytvoreni?(0,y.fn)(e.dt_vytvoreni):"---"})]}),e.dt_schvaleni&&(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Datum schv\xe1len\xed:"}),(0,M.jsx)(_a,{style:{color:"#059669",fontWeight:500},children:(0,y.fn)(e.dt_schvaleni)})]}),e.dt_predpokladany_termin_dodani&&(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Term\xedn dod\xe1n\xed:"}),(0,M.jsx)(_a,{style:{fontWeight:500},children:(0,y.iS)(e.dt_predpokladany_termin_dodani)})]}),e.dt_potvrzeni_vecne_spravnosti&&(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Potvrzen\xed v\u011bc. spr\xe1vnosti:"}),(0,M.jsx)(_a,{style:{color:"#0891b2",fontWeight:500},children:(0,y.fn)(e.dt_potvrzeni_vecne_spravnosti)})]}),"            ",e.dt_dokonceni&&(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Datum dokon\u010den\xed:"}),(0,M.jsx)(_a,{style:{color:"#16a34a",fontWeight:600},children:(0,y.fn)(e.dt_dokonceni)})]}),(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Posledn\xed zm\u011bna:"}),(0,M.jsx)(_a,{children:e.dt_aktualizace?(0,y.fn)(e.dt_aktualizace):"---"})]}),(0,M.jsx)("div",{style:{borderTop:"1px solid #d1d5db",margin:"0.75rem 0"}}),((n,t,o,r)=>{if(null!==(n=e.registr_smluv)&&void 0!==n&&n.dt_zverejneni&&null!==(t=e.registr_smluv)&&void 0!==t&&t.registr_iddt)return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Uve\u0159ejn\u011bno v registru:"}),(0,M.jsxs)(_a,{style:{fontWeight:600,color:"#059669",display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"0.5rem"},children:[(0,M.jsx)(T.g,{icon:$.SGM,style:{fontSize:"0.9em"}}),(0,M.jsx)("span",{children:"Ano"})]})]}),(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Datum zve\u0159ejn\u011bn\xed:"}),(0,M.jsx)(_a,{style:{fontWeight:500,color:"#059669"},children:(0,y.iS)(e.registr_smluv.dt_zverejneni)})]}),(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"K\xf3d IDDS:"}),(0,M.jsx)(_a,{style:{fontFamily:"monospace",fontWeight:600,fontSize:"0.95em",color:"#0891b2"},children:e.registr_smluv.registr_iddt})]})]});let a=null;if(e.stav_workflow_kod)try{const n="string"===typeof e.stav_workflow_kod?JSON.parse(e.stav_workflow_kod):e.stav_workflow_kod;a=Array.isArray(n)?n[n.length-1]:n}catch(i){a=e.stav_workflow_kod}return"UVEREJNIT"===a||"ANO"===(null===(o=e.registr_smluv)||void 0===o?void 0:o.zverejnit)||null!==(r=e.registr_smluv)&&void 0!==r&&r.ma_byt_zverejnena?(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Uve\u0159ejn\u011bno v registru:"}),(0,M.jsxs)(_a,{style:{fontWeight:600,color:"#f59e0b",display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"0.5rem"},children:[(0,M.jsx)(T.g,{icon:$.TuH,style:{fontSize:"0.9em"}}),(0,M.jsx)("span",{children:"\u010cek\xe1 se"})]})]}):(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Uve\u0159ejn\u011bno v registru:"}),(0,M.jsxs)(_a,{style:{fontWeight:500,color:"#6b7280",display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"0.5rem"},children:[(0,M.jsx)(T.g,{icon:$.s0Q,style:{fontSize:"0.9em"}}),(0,M.jsx)("span",{children:"Ne"})]})]})})()]}),(0,M.jsxs)(da,{$order:e,$showRowHighlighting:_o,children:[(0,M.jsxs)(ca,{children:[(0,M.jsx)(T.g,{icon:$.ymQ}),"Finan\u010dn\xed \xfadaje"]}),_&&(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"St\u0159ediska:"}),(0,M.jsx)(_a,{style:{fontSize:"0.9em",fontWeight:500,display:"flex",flexDirection:"column",gap:"4px",alignItems:"flex-end"},children:Array.isArray(b)?b.map((e,n)=>{let t;return t="string"===typeof e||"number"===typeof e?vs(String(e)):e.nazev_stavu?e.nazev_stavu:e.nazev?e.nazev:e.kod_stavu?vs(String(e.kod_stavu)):e.kod?vs(String(e.kod)):"St\u0159edisko ".concat(n+1),(0,M.jsx)("div",{children:ms(t,Lt)},n)}):(0,M.jsx)("div",{children:ms(vs(String(b)),Lt)})})]}),e.financovani&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Zp\u016fsob financov\xe1n\xed:"}),(0,M.jsx)(_a,{style:{fontWeight:600,color:"#7c3aed"},children:ms(e.financovani.typ_nazev||e.financovani.typ||"---",Lt)})]}),(null===(n=e.financovani)||void 0===n?void 0:n.lp_nazvy)&&Array.isArray(e.financovani.lp_nazvy)&&e.financovani.lp_nazvy.length>0&&(0,M.jsxs)("div",{style:{marginTop:"0.5rem",marginBottom:"0.5rem"},children:[(0,M.jsx)(ka,{style:{marginBottom:"0.5rem",display:"block"},children:"LP \xfa\u010dty:"}),e.financovani.lp_nazvy.map((e,n)=>(0,M.jsxs)("div",{style:{fontSize:"0.9em",marginBottom:"0.25rem",paddingLeft:"0.5rem",borderLeft:"3px solid #7c3aed",backgroundColor:"#faf5ff",padding:"0.4rem 0.5rem",borderRadius:"0 4px 4px 0"},children:[(0,M.jsx)("span",{style:{fontWeight:600,color:"#7c3aed"},children:ms(e.cislo_lp||e.kod||"---",Lt)}),e.nazev&&(0,M.jsxs)("span",{style:{color:"#64748b",marginLeft:"0.5rem"},children:["\u2013 ",ms(e.nazev,Lt)]})]},n))]}),(!(null!==(t=e.financovani)&&void 0!==t&&t.lp_nazvy)||0===e.financovani.lp_nazvy.length)&&(null===(r=e.financovani)||void 0===r?void 0:r.lp_kody)&&Array.isArray(e.financovani.lp_kody)&&e.financovani.lp_kody.length>0&&(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"LP k\xf3dy:"}),(0,M.jsx)(_a,{style:{fontSize:"0.9em"},children:ms(e.financovani.lp_kody.join(", "),Lt)})]}),e.financovani&&"object"===typeof e.financovani&&(()=>{const n=e.financovani,t=["typ","typ_nazev","nazev","lp_kody","lp_nazvy","kod_stavu","nazev_stavu","label"];return Object.keys(n).filter(e=>!t.includes(e)&&null!=n[e]).map(e=>{const t=n[e],o=Array.isArray(t)?t.join(", "):String(t),r={cislo:"\u010c\xedslo",poznamka:"Pozn\xe1mka",cislo_smlouvy:"\u010c\xedslo smlouvy",smlouva_cislo:"\u010c\xedslo smlouvy",poznamka_smlouvy:"Pozn\xe1mka smlouvy",cislo_pojistne_udalosti:"\u010c\xedslo pojistn\xe9 ud\xe1losti",poznamka_pojistne_udalosti:"Pozn\xe1mka",individualni_schvaleni:"\u010c\xedslo schv\xe1len\xed",individualni_poznamka:"Pozn\xe1mka",individualni_schvaleni_poznamka:"Pozn\xe1mka",pokladna_cislo:"\u010c\xedslo",pokladna_poznamka:"Pozn\xe1mka",castka:"\u010c\xe1stka",datum:"Datum",schvalovaci_osoba:"Schvaluj\xedc\xed osoba"}[e]||e.replace(/_/g," ").replace(/^\w/,e=>e.toUpperCase());return(0,M.jsxs)(ja,{children:[(0,M.jsxs)(ka,{children:[r,":"]}),(0,M.jsx)(_a,{style:{fontSize:"0.9em"},children:ms(o,Lt)})]},e)})})()]}),(_||e.financovani)&&(0,M.jsx)("div",{style:{borderBottom:"2px solid #e2e8f0",margin:"0.75rem 0",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"}}),(0,M.jsx)("div",{style:{borderBottom:"1px solid #e5e7eb",margin:"0.75rem 0"}}),(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Max. cena s DPH:"}),(0,M.jsx)(_a,{style:{fontWeight:700,color:"#059669",fontSize:"1.1em",whiteSpace:"nowrap"},children:e.max_cena_s_dph?(0,M.jsxs)(M.Fragment,{children:[parseFloat(e.max_cena_s_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]}):"---"})]}),(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Druh objedn\xe1vky:"}),(0,M.jsx)(_a,{style:{fontWeight:500,fontSize:"0.9em"},children:null!==(z=e.druh_objednavky)&&void 0!==z&&z.nazev?e.druh_objednavky.nazev:e.druh_objednavky_nazev?e.druh_objednavky_nazev:e.druh_objednavky_kod?us(e.druh_objednavky_kod):"string"===typeof e.druh_objednavky?us(e.druh_objednavky):"---"})]}),v&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Po\u010det polo\u017eek:"}),(0,M.jsxs)(_a,{style:{fontWeight:500},children:[e.polozky_count||u.length," ks"]})]}),e.polozky_celkova_cena_s_dph&&parseFloat(e.polozky_celkova_cena_s_dph)>0&&(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Polo\u017eky (s DPH):"}),(0,M.jsxs)(_a,{style:{fontWeight:600,color:"#3b82f6",whiteSpace:"nowrap"},children:[parseFloat(e.polozky_celkova_cena_s_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]})]}),(0,M.jsx)("div",{style:{borderBottom:"1px solid #e5e7eb",margin:"0.75rem 0"}}),h&&(0,M.jsxs)(M.Fragment,{children:[e.faktury_celkova_castka_s_dph&&parseFloat(e.faktury_celkova_castka_s_dph)>0&&(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Faktury (s DPH):"}),(0,M.jsxs)(_a,{style:{fontWeight:600,color:"#7c3aed",whiteSpace:"nowrap"},children:[parseFloat(e.faktury_celkova_castka_s_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Po\u010det faktur:"}),(0,M.jsxs)(_a,{style:{fontWeight:500},children:[e.faktury_count||p.length," ks"]})]})]})]}),(0,M.jsxs)(da,{$order:e,$showRowHighlighting:_o,children:[(0,M.jsxs)(ca,{children:[(0,M.jsx)(T.g,{icon:$.gdJ}),"Odpov\u011bdn\xe9 osoby"]}),(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Objednatel:"}),(0,M.jsx)(_a,{children:(0,M.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"flex-end"},children:(0,M.jsx)("span",{style:{fontWeight:500},children:(null===(a=e.objednatel)||void 0===a?void 0:a.cele_jmeno)||(null===(i=e.uzivatel)||void 0===i?void 0:i.cele_jmeno)||cs(e.uzivatel_id)||"---"})})})]}),((null===(l=e.objednatel)||void 0===l?void 0:l.email)||(null===(s=e.uzivatel)||void 0===s?void 0:s.email))&&(0,M.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",paddingRight:"0",wordBreak:"break-all"},children:(null===(d=e.objednatel)||void 0===d?void 0:d.email)||(null===(c=e.uzivatel)||void 0===c?void 0:c.email)}),e.garant_uzivatel&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Garant:"}),(0,M.jsx)(_a,{children:(0,M.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"flex-end"},children:(0,M.jsx)("span",{style:{fontWeight:500},children:e.garant_uzivatel.cele_jmeno||cs(e.garant_uzivatel.id)||"---"})})})]}),e.garant_uzivatel.email&&(0,M.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.garant_uzivatel.email})]}),e.prikazce&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"P\u0159\xedkazce:"}),(0,M.jsx)(_a,{children:(0,M.jsx)("span",{style:{fontWeight:500},children:e.prikazce.cele_jmeno||cs(e.prikazce.id)||"---"})})]}),e.prikazce.email&&(0,M.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.prikazce.email})]}),e.schvalovatel&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Schvalovatel:"}),(0,M.jsx)(_a,{children:(0,M.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"flex-end"},children:(0,M.jsx)("span",{style:{fontWeight:500},children:e.schvalovatel.cele_jmeno||cs(e.schvalovatel.id)||"---"})})})]}),e.schvalovatel.email&&(0,M.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.schvalovatel.email})]}),e.odesilatel&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Odes\xedlatel:"}),(0,M.jsx)(_a,{style:{fontWeight:500,color:"#0891b2"},children:e.odesilatel.cele_jmeno||"---"})]}),e.odesilatel.email&&(0,M.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.odesilatel.email})]}),e.dodavatel_potvrdil&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Dodavatel potvrdil:"}),(0,M.jsx)(_a,{style:{fontWeight:500,color:"#0891b2"},children:e.dodavatel_potvrdil.cele_jmeno||"---"})]}),e.dodavatel_potvrdil.email&&(0,M.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.dodavatel_potvrdil.email})]}),e.zverejnil&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Zve\u0159ejnil:"}),(0,M.jsx)(_a,{style:{fontWeight:500,color:"#0891b2"},children:e.zverejnil.cele_jmeno||"---"})]}),e.zverejnil.email&&(0,M.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.zverejnil.email})]}),e.fakturant&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Fakturant:"}),(0,M.jsx)(_a,{style:{fontWeight:500,color:"#7c3aed"},children:e.fakturant.cele_jmeno||"---"})]}),e.fakturant.email&&(0,M.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.fakturant.email})]}),e.potvrdil_vecnou_spravnost&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Potvrdil v\u011bcnou spr\xe1vnost:"}),(0,M.jsx)(_a,{style:{fontWeight:500,color:"#0891b2"},children:e.potvrdil_vecnou_spravnost.cele_jmeno||"---"})]}),e.potvrdil_vecnou_spravnost.email&&(0,M.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.potvrdil_vecnou_spravnost.email})]}),e.dokoncil&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Dokon\u010dil objedn\xe1vku:"}),(0,M.jsx)(_a,{style:{fontWeight:600,color:"#16a34a"},children:e.dokoncil.cele_jmeno||"---"})]}),e.dokoncil.email&&(0,M.jsx)("div",{style:{textAlign:"right",fontSize:"0.85em",color:"#6b7280",marginTop:"-0.3rem",marginBottom:"0.5rem",wordBreak:"break-all"},children:e.dokoncil.email})]})]}),(0,M.jsxs)(da,{$order:e,$showRowHighlighting:_o,children:[(0,M.jsxs)(ca,{children:[(0,M.jsx)(T.g,{icon:$.UNK}),"Workflow kroky"]}),e.uzivatel&&(0,M.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,M.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#3b82f6"},children:"1. Vytvo\u0159il"}),(0,M.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.uzivatel.cele_jmeno})]}),e.uzivatel.datum&&(0,M.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.fn)(e.uzivatel.datum)})]}),e.schvalovatel&&(0,M.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,M.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#059669"},children:"2. Schv\xe1lil"}),(0,M.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.schvalovatel.cele_jmeno})]}),e.schvalovatel.datum&&(0,M.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.fn)(e.schvalovatel.datum)})]}),e.odesilatel&&(0,M.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,M.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#0891b2"},children:"3. Odeslal dodavateli"}),(0,M.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.odesilatel.cele_jmeno})]}),e.odesilatel.datum&&(0,M.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.fn)(e.odesilatel.datum)})]}),e.dodavatel_potvrdil&&(0,M.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,M.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#7c3aed"},children:"4. Dodavatel potvrdil"}),(0,M.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.dodavatel_potvrdil.cele_jmeno})]}),e.dodavatel_potvrdil.datum&&(0,M.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.iS)(e.dodavatel_potvrdil.datum)})]}),e.zverejnil&&(0,M.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,M.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#f59e0b"},children:"5. Zve\u0159ejnil"}),(0,M.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.zverejnil.cele_jmeno})]}),e.zverejnil.datum&&(0,M.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.iS)(e.zverejnil.datum)})]}),e.fakturant&&e.faktury&&e.faktury.length>0&&(()=>{const n=e.faktury.filter(e=>e.dt_vytvoreni).sort((e,n)=>new Date(n.dt_vytvoreni)-new Date(e.dt_vytvoreni))[0];return n?(0,M.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,M.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#ea580c"},children:"6. P\u0159idal fakturu"}),(0,M.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.fakturant.cele_jmeno})]}),(0,M.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.fn)(n.dt_vytvoreni)})]}):null})(),e.potvrdil_vecnou_spravnost&&(0,M.jsxs)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px dashed #e2e8f0"},children:[(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,M.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#0891b2"},children:"7. Potvrdil v\u011bcnou spr\xe1vnost"}),(0,M.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.potvrdil_vecnou_spravnost.cele_jmeno})]}),e.potvrdil_vecnou_spravnost.datum&&(0,M.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.fn)(e.potvrdil_vecnou_spravnost.datum)})]}),e.dokoncil&&(0,M.jsxs)("div",{style:{marginBottom:"0"},children:[(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2px"},children:[(0,M.jsx)("div",{style:{fontWeight:600,fontSize:"0.85em",color:"#16a34a"},children:"8. Dokon\u010dil objedn\xe1vku"}),(0,M.jsx)("div",{style:{fontSize:"0.9em",fontWeight:500},children:e.dokoncil.cele_jmeno})]}),e.dokoncil.datum&&(0,M.jsx)("div",{style:{fontSize:"0.75em",color:"#64748b",textAlign:"right"},children:(0,y.fn)(e.dokoncil.datum)})]}),e.uzivatel_akt&&(0,M.jsx)("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"2px solid #e2e8f0"},children:(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"8px"},children:[(0,M.jsxs)("div",{style:{flex:1},children:[(0,M.jsx)("div",{style:{fontWeight:600,fontSize:"0.75em",color:"#94a3b8",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Posledn\xed zm\u011bna"}),(0,M.jsx)("div",{style:{fontSize:"0.85em",color:"#64748b"},children:e.uzivatel_akt.cele_jmeno})]}),e.uzivatel_akt.datum&&(0,M.jsx)("div",{style:{fontSize:"0.75em",color:"#94a3b8",textAlign:"right",whiteSpace:"nowrap"},children:(0,y.fn)(e.uzivatel_akt.datum)})]})})]}),(0,M.jsxs)(aa,{children:[(0,M.jsx)(ia,{children:(0,M.jsxs)(da,{$order:e,$showRowHighlighting:_o,children:[(0,M.jsxs)(ca,{children:[(0,M.jsx)(T.g,{icon:$.URI}),"Dodavatel"]}),(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"N\xe1zev:"}),(0,M.jsx)(_a,{style:{fontWeight:600},children:ms(e.dodavatel_nazev||"---",Lt)})]}),(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"I\u010cO:"}),(0,M.jsx)(_a,{style:{fontFamily:"monospace",fontSize:"0.95em"},children:ms(e.dodavatel_ico||"---",Lt)})]}),e.dodavatel_adresa&&(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Adresa:"}),(0,M.jsx)(_a,{children:ms(e.dodavatel_adresa,Lt)})]}),e.dodavatel_zastoupeny&&(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Z\xe1stupce firmy:"}),(0,M.jsx)(_a,{style:{fontWeight:500},children:ms(e.dodavatel_zastoupeny,Lt)})]}),(e.dodavatel_kontakt_jmeno||e.dodavatel_kontakt_email||e.dodavatel_kontakt_telefon)&&(0,M.jsx)("div",{style:{margin:"0.75rem 0",borderTop:"1px solid #e5e7eb"}}),e.dodavatel_kontakt_jmeno&&(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Kontakt:"}),(0,M.jsx)(_a,{style:{fontWeight:500},children:ms(e.dodavatel_kontakt_jmeno,Lt)})]}),e.dodavatel_kontakt_email&&(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"E-mail:"}),(0,M.jsx)(_a,{style:{wordBreak:"break-all"},children:ms(e.dodavatel_kontakt_email,Lt)})]}),e.dodavatel_kontakt_telefon&&(0,M.jsxs)(ja,{children:[(0,M.jsx)(ka,{children:"Telefon:"}),(0,M.jsx)(_a,{children:ms(e.dodavatel_kontakt_telefon,Lt)})]})]})}),(0,M.jsxs)(la,{children:[(0,M.jsxs)(da,{$order:e,$showRowHighlighting:_o,children:[(0,M.jsxs)(ca,{children:[(0,M.jsx)(T.g,{icon:$.ITF}),"Polo\u017eky objedn\xe1vky (",e.polozky_count||u.length,")"]}),v?(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"8px"},children:[u.slice(0,10).map((e,n)=>(0,M.jsxs)(ua,{children:[(0,M.jsxs)(va,{children:[(0,M.jsxs)(pa,{children:[ms(e.popis||e.nazev||"Polo\u017eka ".concat(n+1),Lt),e.id&&(0,M.jsxs)("sup",{style:{fontSize:"0.6em",color:"#94a3b8",fontWeight:400,marginLeft:"4px"},children:["#",e.id]})]}),e.cena_s_dph&&(0,M.jsxs)("div",{style:{fontWeight:700,fontSize:"1em",color:"#059669",whiteSpace:"nowrap"},children:[parseFloat(e.cena_s_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),(e.mistnost_kod||e.budova_kod||e.usek_kod||e.poznamka_umisteni)&&(0,M.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",marginBottom:"8px"},children:[e.usek_kod&&(0,M.jsxs)("span",{style:{display:"inline-block",padding:"3px 8px",fontSize:"0.75em",fontWeight:500,backgroundColor:"#f3e8ff",color:"#6b21a8",borderRadius:"4px",border:"1px solid #d8b4fe"},children:["\xdasek: ",ms(e.usek_kod,Lt)]}),e.budova_kod&&(0,M.jsxs)("span",{style:{display:"inline-block",padding:"3px 8px",fontSize:"0.75em",fontWeight:500,backgroundColor:"#dbeafe",color:"#1e40af",borderRadius:"4px",border:"1px solid #93c5fd"},children:["Budova: ",ms(e.budova_kod,Lt)]}),e.mistnost_kod&&(0,M.jsxs)("span",{style:{display:"inline-block",padding:"3px 8px",fontSize:"0.75em",fontWeight:500,backgroundColor:"#dbeafe",color:"#1e40af",borderRadius:"4px",border:"1px solid #93c5fd"},children:["M\xedstnost: ",ms(e.mistnost_kod,Lt)]}),e.poznamka_umisteni&&(0,M.jsx)("span",{style:{display:"inline-block",padding:"3px 8px",fontSize:"0.75em",fontStyle:"italic",backgroundColor:"#fef3c7",color:"#92400e",borderRadius:"4px",border:"1px solid #fde68a"},children:ms(e.poznamka_umisteni,Lt)})]}),(0,M.jsxs)(ma,{children:[e.pocet&&(0,M.jsxs)(ga,{children:[(0,M.jsx)("span",{style:{fontWeight:500},children:"Po\u010det:"}),(0,M.jsxs)("span",{children:[e.pocet," ",e.jednotka||"ks"]})]}),e.jednotkova_cena_bez_dph&&(0,M.jsxs)(ga,{children:[(0,M.jsx)("span",{style:{fontWeight:500},children:"Jedn. bez DPH:"}),(0,M.jsxs)("span",{children:[parseFloat(e.jednotkova_cena_bez_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),e.jednotkova_cena_s_dph&&(0,M.jsxs)(ga,{children:[(0,M.jsx)("span",{style:{fontWeight:500},children:"Jedn. s DPH:"}),(0,M.jsxs)("span",{children:[parseFloat(e.jednotkova_cena_s_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),e.cena_bez_dph&&(0,M.jsxs)(ga,{children:[(0,M.jsx)("span",{style:{fontWeight:500},children:"Bez DPH:"}),(0,M.jsxs)("span",{style:{color:"#64748b"},children:[parseFloat(e.cena_bez_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),e.dph_procento&&(0,M.jsxs)(ga,{children:[(0,M.jsx)("span",{style:{fontWeight:500},children:"DPH:"}),(0,M.jsxs)("span",{children:[e.dph_procento,"%"]})]}),e.dph_castka&&(0,M.jsxs)(ga,{children:[(0,M.jsx)("span",{style:{fontWeight:500},children:"DPH \u010d\xe1stka:"}),(0,M.jsxs)("span",{children:[parseFloat(e.dph_castka).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]})]})]},n)),u.length>10&&(0,M.jsxs)("div",{style:{fontSize:"0.85em",color:"#6b7280",fontStyle:"italic",textAlign:"center",padding:"8px"},children:["... a dal\u0161\xedch ",u.length-10," polo\u017eek"]}),e.poznamka&&(0,M.jsxs)("div",{style:{marginTop:"12px",padding:"10px 12px",backgroundColor:"#fffbeb",border:"1px solid #fde68a",borderRadius:"6px",fontSize:"0.9em",color:"#92400e",fontStyle:"italic"},children:[(0,M.jsx)("strong",{style:{fontStyle:"normal",fontWeight:600},children:"Pozn\xe1mka k polo\u017ek\xe1m:"}),(0,M.jsx)("div",{style:{marginTop:"4px"},children:ms(e.poznamka,Lt)})]})]}):(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",color:"#94a3b8",fontSize:"0.9em"},children:[(0,M.jsx)(T.g,{icon:$.ITF,style:{fontSize:"3em",marginBottom:"1rem",opacity:.3}}),(0,M.jsx)("div",{children:"\u017d\xe1dn\xe9 polo\u017eky"})]})]}),(0,M.jsxs)(da,{$order:e,$showRowHighlighting:_o,children:[(0,M.jsxs)(ca,{children:[(0,M.jsx)(T.g,{icon:$.Mf0}),"Faktury (",e.faktury_count||p.length,")"]}),h?(0,M.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"8px"},children:p.map((e,n)=>(0,M.jsxs)(ua,{children:[(0,M.jsxs)("div",{style:{fontSize:"1.1em",fontWeight:700,color:"#059669",marginBottom:"8px"},children:["Faktura ",n+1," - ",ms(e.fa_cislo_vema||e.cislo_faktury||"".concat(n+1),Lt)]}),(0,M.jsxs)(va,{style:{marginTop:"8px"},children:[(0,M.jsxs)(pa,{style:{fontSize:"0.9em",color:"#64748b"},children:["\u010c\xedslo faktury: ",ms(e.fa_cislo_vema||e.cislo_faktury||"Faktura ".concat(n+1),Lt)]}),e.stav&&(0,M.jsxs)(ha,{$success:"ZAPLACENA"===e.stav,$warning:"NEZAPLACENA"===e.stav,children:["ZAPLACENA"===e.stav&&(0,M.jsx)(T.g,{icon:$.SGM}),"NEZAPLACENA"===e.stav&&(0,M.jsx)(T.g,{icon:$.TuH}),e.stav]})]}),(0,M.jsxs)(ma,{children:[e.fa_cislo_vema&&(0,M.jsx)(ga,{children:(0,M.jsxs)("span",{style:{fontWeight:500},children:["\u010c\xedslo faktury: ",ms(e.fa_cislo_vema,Lt)]})}),(e.fa_datum_vystaveni||e.dt_vystaveni)&&(0,M.jsx)(ga,{children:(0,M.jsxs)("span",{children:["Vystavena: ",(0,y.iS)(e.fa_datum_vystaveni||e.dt_vystaveni)]})}),e.fa_datum_doruceni&&(0,M.jsx)(ga,{children:(0,M.jsxs)("span",{children:["Doru\u010dena: ",(0,y.iS)(e.fa_datum_doruceni)]})}),(e.fa_datum_splatnosti||e.dt_splatnosti)&&(0,M.jsx)(ga,{children:(0,M.jsxs)("span",{children:["Splatnost: ",(0,y.iS)(e.fa_datum_splatnosti||e.dt_splatnosti)]})}),e.castka_bez_dph&&parseFloat(e.castka_bez_dph)>0&&(0,M.jsxs)(ga,{children:[(0,M.jsx)("span",{style:{fontWeight:500},children:"Bez DPH:"}),(0,M.jsxs)("span",{style:{color:"#64748b"},children:[parseFloat(e.castka_bez_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),e.dph_castka&&parseFloat(e.dph_castka)>0&&(0,M.jsxs)(ga,{children:[(0,M.jsx)("span",{style:{fontWeight:500},children:"DPH:"}),(0,M.jsxs)("span",{style:{color:"#f59e0b"},children:[parseFloat(e.dph_castka).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),e.castka_s_dph&&parseFloat(e.castka_s_dph)>0&&(0,M.jsx)(ga,{children:(0,M.jsxs)("span",{style:{fontWeight:700,color:"#059669",fontSize:"1.05em"},children:[parseFloat(e.castka_s_dph).toLocaleString("cs-CZ"),"\xa0K\u010d"]})})]}),e.fa_strediska_kod&&Array.isArray(e.fa_strediska_kod)&&e.fa_strediska_kod.length>0&&(0,M.jsxs)("div",{style:{marginTop:"6px",fontSize:"0.85em",color:"#475569",paddingTop:"6px",borderTop:"1px dashed #e2e8f0"},children:[(0,M.jsx)("span",{style:{fontWeight:500},children:"St\u0159ediska:"})," ",ms(e.fa_strediska_kod.map(e=>vs(String(e))).join(", "),Lt)]}),e.fa_poznamka&&(0,M.jsxs)("div",{style:{marginTop:"8px",padding:"8px 10px",backgroundColor:"#fef9e7",border:"1px solid #fde68a",borderRadius:"4px",fontSize:"0.85em",color:"#92400e",whiteSpace:"pre-wrap",lineHeight:"1.4"},children:[(0,M.jsx)("div",{style:{fontWeight:600,marginBottom:"4px"},children:"Pozn\xe1mka:"}),ms(e.fa_poznamka,Lt)]})]},n))}):(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",color:"#94a3b8",fontSize:"0.9em"},children:[(0,M.jsx)(T.g,{icon:$.Mf0,style:{fontSize:"3em",marginBottom:"1rem",opacity:.3}}),(0,M.jsx)("div",{children:"\u017d\xe1dn\xe9 faktury"})]})]})]}),(0,M.jsx)(sa,{children:(0,M.jsxs)(da,{$order:e,$showRowHighlighting:_o,children:[(0,M.jsxs)(ca,{children:[(0,M.jsx)(T.g,{icon:$.WMI}),"P\u0159\xedlohy (",(e.prilohy_count||m.length)+f.length+p.reduce((e,n)=>e+(n.prilohy&&n.prilohy.length||0),0),")"]}),(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginTop:"8px"},children:[g&&(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{style:{fontWeight:600,fontSize:"0.95em",color:"#1e40af",marginBottom:"8px",paddingBottom:"4px",borderBottom:"2px solid #dbeafe"},children:["P\u0159\xedlohy objedn\xe1vky (",e.prilohy_count||m.length,")"]}),(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[m.slice(0,10).map((n,t)=>(0,M.jsxs)(fa,{children:[(0,M.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"2px"},children:[(0,M.jsx)(xa,{style:{fontWeight:500},children:ms(n.nazev_souboru||n.nazev||"P\u0159\xedloha ".concat(t+1),Lt)}),(0,M.jsxs)("div",{style:{fontSize:"0.8em",color:"#94a3b8"},children:[n.dt_nahrano&&(0,y.iS)(n.dt_nahrano),n.popis&&(0,M.jsxs)(M.Fragment,{children:[" \u2022 ",ms(n.popis,Lt)]})]})]}),n.velikost&&(0,M.jsxs)(ba,{children:["(",Math.round(n.velikost/1024)," KB)"]}),(0,M.jsx)(T.g,{icon:$.cbP,style:{color:"#3b82f6",cursor:"pointer",marginLeft:"8px"},title:"St\xe1hnout p\u0159\xedlohu",onClick:()=>od(n,e.id)})]},t)),m.length>10&&(0,M.jsxs)("div",{style:{fontSize:"0.85em",color:"#6b7280",fontStyle:"italic",textAlign:"center",padding:"8px"},children:["... a dal\u0161\xedch ",m.length-10," p\u0159\xedloh"]})]})]}),x&&(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{style:{fontWeight:600,fontSize:"0.95em",color:"#7c3aed",marginBottom:"8px",paddingBottom:"4px",borderBottom:"2px solid #ede9fe"},children:["Dodate\u010dn\xe9 dokumenty (",f.length,")"]}),(0,M.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:f.map((n,t)=>(0,M.jsxs)(fa,{children:[(0,M.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"2px"},children:[(0,M.jsx)(xa,{style:{fontWeight:500},children:ms(n.nazev_souboru||n.nazev||"Dokument ".concat(t+1),Lt)}),(0,M.jsxs)("div",{style:{fontSize:"0.8em",color:"#94a3b8"},children:[n.dt_nahrano&&(0,y.iS)(n.dt_nahrano),n.popis&&(0,M.jsxs)(M.Fragment,{children:[" \u2022 ",ms(n.popis,Lt)]})]})]}),n.velikost&&(0,M.jsxs)(ba,{children:["(",Math.round(n.velikost/1024)," KB)"]}),(0,M.jsx)(T.g,{icon:$.cbP,style:{color:"#7c3aed",cursor:"pointer",marginLeft:"8px"},title:"St\xe1hnout dokument",onClick:()=>od(n,e.id)})]},t))})]}),h&&p.some(e=>e.prilohy&&e.prilohy.length>0)&&(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{style:{fontWeight:600,fontSize:"0.95em",color:"#059669",marginBottom:"8px",paddingBottom:"4px",borderBottom:"2px solid #d1fae5"},children:["P\u0159\xedlohy faktur (",p.reduce((e,n)=>e+(n.prilohy&&n.prilohy.length||0),0),")"]}),(0,M.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:p.map((n,t)=>{const r=n.prilohy||[];return r.length?r.map((r,a)=>{const i=(0,o.A)((0,o.A)({},r),{},{faktura_id:n.id});return(0,M.jsxs)(fa,{children:[(0,M.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"2px"},children:[(0,M.jsxs)(xa,{style:{fontWeight:500},children:[ms(r.originalni_nazev_souboru||r.nazev_souboru||r.nazev||"Dokument",Lt),(0,M.jsxs)("span",{style:{color:"#047857",fontWeight:600,marginLeft:"6px"},children:["[",n.cislo_faktury||"Faktura ".concat(t+1),"]"]})]}),r.popis&&(0,M.jsx)("div",{style:{fontSize:"0.8em",color:"#94a3b8"},children:ms(r.popis,Lt)})]}),r.velikost_souboru_b&&(0,M.jsxs)(ba,{children:["(",Math.round(r.velikost_souboru_b/1024)," KB)"]}),(0,M.jsx)(T.g,{icon:$.cbP,style:{color:"#059669",cursor:"pointer",marginLeft:"8px"},title:"St\xe1hnout p\u0159\xedlohu",onClick:()=>od(i,e.id)})]},"".concat(t,"-").concat(a))}):null})})]}),!g&&!x&&!(h&&p.some(e=>e.prilohy&&e.prilohy.length>0))&&(0,M.jsxs)("div",{style:{padding:"2rem",textAlign:"center",color:"#9ca3af",fontSize:"0.95em"},children:[(0,M.jsx)(T.g,{icon:$.WMI,style:{fontSize:"2em",marginBottom:"0.5rem",opacity:.3}}),(0,M.jsx)("div",{children:"\u017d\xe1dn\xe9 p\u0159\xedlohy"})]})]})]})})]})]})});var z};if(he||!We)return(0,M.jsxs)(Va,{$visible:!0,children:[(0,M.jsx)(Pa,{$visible:!0}),(0,M.jsx)(Fa,{$visible:!0,children:We?"Na\u010d\xedt\xe1n\xed dat z datab\xe1ze...":"Inicializace p\u0159ehledu objedn\xe1vek"}),(0,M.jsxs)(Ma,{$visible:!0,children:[!We&&!Gl.current.dataLoaded&&"Na\u010d\xedt\xe1n\xed dat z datab\xe1ze...",!We&&Gl.current.dataLoaded&&!Gl.current.paginationRestored&&"Obnoven\xed str\xe1nkov\xe1n\xed...",!We&&Gl.current.paginationRestored&&!Gl.current.expandedRestored&&"Rozbalov\xe1n\xed objedn\xe1vek...",!We&&Gl.current.expandedRestored&&!Gl.current.scrollRestored&&"Obnoven\xed pozice...",We&&he&&"Pros\xedm \u010dekejte..."]})]});if(ge)return(0,M.jsx)($o,{children:(0,M.jsxs)("div",{style:{textAlign:"center",padding:"3rem"},children:[(0,M.jsx)(T.g,{icon:$.zpE,size:"2x",style:{color:"#dc2626"}}),(0,M.jsx)("div",{style:{marginTop:"1rem",fontSize:"1.25rem",color:"#dc2626"},children:"Chyba p\u0159i na\u010d\xedt\xe1n\xed"}),(0,M.jsx)("div",{style:{marginTop:"0.5rem",color:"#64748b"},children:ge}),(0,M.jsxs)("div",{style:{marginTop:"1rem",display:"flex",gap:"1rem",justifyContent:"center"},children:[(0,M.jsxs)(Fo,{onClick:Bs,$primary:!0,children:[(0,M.jsx)(T.g,{icon:$.OtC}),"Zkusit znovu"]}),(0,M.jsxs)(Fo,{onClick:()=>{},children:[(0,M.jsx)(T.g,{icon:$.zm_}),"Debug info"]})]})]})});return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(Va,{$visible:he,children:[(0,M.jsx)(Pa,{$visible:he}),(0,M.jsx)(Fa,{$visible:he,children:"Na\u010d\xedt\xe1n\xed dat z datab\xe1ze..."}),(0,M.jsx)(Ma,{$visible:he,children:"Pros\xedm \u010dekejte"})]}),(0,M.jsx)($o,{children:(0,M.jsxs)(Wa,{$blurred:he,children:[(0,M.jsxs)(or,{children:[(0,M.jsxs)(rr,{children:[(0,M.jsxs)(dr,{children:[(0,M.jsx)(T.g,{icon:$.BEE}),"Rok:"]}),(0,M.jsxs)(hr,{ref:ol,children:[(0,M.jsxs)(mr,{onClick:()=>{ll(e=>!e)},children:[(0,M.jsx)("span",{children:"all"===zo?"V\u0161echny roky":zo}),(0,M.jsx)(T.g,{icon:il?$.w2A:$.Jt$})]}),il&&(0,M.jsx)(gr,{children:(()=>{const e=(new Date).getFullYear(),n=[];for(let t=2016;t<=e;t++)n.push(t);e<2016&&n.push(e);return[...n.sort((e,n)=>n-e),"all"]})().map(e=>(0,M.jsx)(fr,{onClick:()=>{return Ao(n=e),se("orders25List_selectedYear",n),void ll(!1);var n},children:"all"===e?"V\u0161echny roky":e},e))})]}),(0,M.jsxs)(vr,{children:[(0,M.jsx)(T.g,{icon:$.BEE}),"Obdob\xed:"]}),(0,M.jsxs)(pr,{ref:tl,children:[(0,M.jsxs)(mr,{onClick:()=>{al(e=>!e)},children:[(0,M.jsx)("span",{children:(sd=wo,{all:"V\u0161echny m\u011bs\xedce","current-month":"Aktu\xe1ln\xed m\u011bs\xedc","last-month":"Posledn\xed m\u011bs\xedc","last-quarter":"Posledn\xed kvart\xe1l","last-half":"Posledn\xed p\u016flrok","last-year":"Posledn\xed rok",1:"Leden",2:"\xdanor",3:"B\u0159ezen",4:"Duben",5:"Kv\u011bten",6:"\u010cerven",7:"\u010cervenec",8:"Srpen",9:"Z\xe1\u0159\xed",10:"\u0158\xedjen",11:"Listopad",12:"Prosinec","1-3":"Q1 (Leden-B\u0159ezen)","4-6":"Q2 (Duben-\u010cerven)","7-9":"Q3 (\u010cervenec-Z\xe1\u0159\xed)","10-12":"Q4 (\u0158\xedjen-Prosinec)"}[sd]||sd)}),(0,M.jsx)(T.g,{icon:rl?$.w2A:$.Jt$})]}),rl&&(0,M.jsxs)(gr,{children:[(0,M.jsx)(fr,{onClick:()=>Zs("all"),children:"V\u0161echny m\u011bs\xedce"}),(0,M.jsx)(fr,{onClick:()=>Zs("current-month"),children:"Aktu\xe1ln\xed m\u011bs\xedc"}),(0,M.jsx)(fr,{onClick:()=>Zs("last-month"),children:"Posledn\xed m\u011bs\xedc"}),(0,M.jsx)(fr,{onClick:()=>Zs("last-quarter"),children:"Posledn\xed kvart\xe1l"}),(0,M.jsx)(fr,{onClick:()=>Zs("last-half"),children:"Posledn\xed p\u016flrok"}),(0,M.jsx)(fr,{onClick:()=>Zs("last-year"),children:"Posledn\xed rok"}),Ui?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(fr,{separator:!0,disabled:!0,children:"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"}),(0,M.jsx)(fr,{onClick:()=>Zs("1"),children:"Leden"}),(0,M.jsx)(fr,{onClick:()=>Zs("2"),children:"\xdanor"}),(0,M.jsx)(fr,{onClick:()=>Zs("3"),children:"B\u0159ezen"}),(0,M.jsx)(fr,{onClick:()=>Zs("4"),children:"Duben"}),(0,M.jsx)(fr,{onClick:()=>Zs("5"),children:"Kv\u011bten"}),(0,M.jsx)(fr,{onClick:()=>Zs("6"),children:"\u010cerven"}),(0,M.jsx)(fr,{onClick:()=>Zs("7"),children:"\u010cervenec"}),(0,M.jsx)(fr,{onClick:()=>Zs("8"),children:"Srpen"}),(0,M.jsx)(fr,{onClick:()=>Zs("9"),children:"Z\xe1\u0159\xed"}),(0,M.jsx)(fr,{onClick:()=>Zs("10"),children:"\u0158\xedjen"}),(0,M.jsx)(fr,{onClick:()=>Zs("11"),children:"Listopad"}),(0,M.jsx)(fr,{onClick:()=>Zs("12"),children:"Prosinec"}),(0,M.jsx)(fr,{separator:!0,disabled:!0,children:"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"}),(0,M.jsx)(fr,{onClick:()=>Zs("1-3"),children:"Q1 (Leden-B\u0159ezen)"}),(0,M.jsx)(fr,{onClick:()=>Zs("4-6"),children:"Q2 (Duben-\u010cerven)"}),(0,M.jsx)(fr,{onClick:()=>Zs("7-9"),children:"Q3 (\u010cervenec-Z\xe1\u0159\xed)"}),(0,M.jsx)(fr,{onClick:()=>Zs("10-12"),children:"Q4 (\u0158\xedjen-Prosinec)"}),(0,M.jsx)(fr,{separator:!0,disabled:!0,children:"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"}),(0,M.jsx)(fr,{action:!0,onClick:()=>Zs("show-less"),children:"\u2796 Zobrazit m\xe9n\u011b"})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(fr,{separator:!0,disabled:!0,children:"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"}),(0,M.jsx)(fr,{action:!0,onClick:()=>Zs("show-more"),children:"\u2795 Zobrazit dal\u0161\xed..."})]})]})]}),(0,M.jsx)("div",{style:{position:"relative",minWidth:"180px",marginLeft:"1rem"},children:(0,M.jsxs)(mr,{as:"label",htmlFor:"showArchived",style:{padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"0.75rem"},children:[(0,M.jsx)("input",{type:"checkbox",id:"showArchived",checked:Ji,onChange:e=>{var n;const t="checkbox"===(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.type)?e.target.checked:!Ji;Gi(t),se("orders25List_showArchived",t)},style:{width:"20px",height:"20px",cursor:"pointer",accentColor:"rgba(255, 255, 255, 0.9)",margin:0,flexShrink:0}}),(0,M.jsx)("span",{style:{flex:1,fontWeight:600,fontSize:"1rem",textAlign:"center"},children:"ARCHIV"}),(0,M.jsx)(T.g,{icon:$.Oh6,style:{fontSize:"1.1rem",flexShrink:0}})]})}),(0,M.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,M.jsx)(So.z,{text:"Obnovit seznam objedn\xe1vek (force reload z datab\xe1ze)",icon:"warning",preferredPosition:"bottom",children:(0,M.jsx)(cr,{onClick:Bs,isBackgroundActive:qe,children:(0,M.jsx)(T.g,{icon:$.OtC})})}),en&&(0,M.jsx)(ur,{children:en.toLocaleTimeString("cs-CZ",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]}),(0,M.jsxs)(ar,{children:[Ue&&(0,M.jsxs)(ir,{children:[(0,M.jsx)(sr,{fromCache:"memory"===Ue||"cache"===Ue,children:(0,M.jsx)(T.g,{icon:"memory"===Ue||"cache"===Ue?$.b6I:$.hem})}),(0,M.jsxs)("div",{className:"tooltip","data-icon":"none",children:["memory"===Ue||"cache"===Ue?"\u26a1 Na\u010dteno z cache (pam\u011bti) - rychl\xe9 zobrazen\xed bez dotazu na datab\xe1zi":"\ud83d\udcbe Na\u010dteno z datab\xe1ze - aktu\xe1ln\xed data p\u0159\xedmo ze serveru",Je&&(0,M.jsxs)("div",{style:{fontSize:"0.75rem",marginTop:"0.25rem",opacity:.8},children:["\ud83d\udcc5 ",new Date(Je).toLocaleTimeString("cs-CZ"),null!==Ye&&(0,M.jsxs)("span",{style:{marginLeft:"0.5rem"},children:["\u23f1 ",Ye,"ms"]})]})]})]}),(0,M.jsxs)("span",{children:["P\u0159ehled objedn\xe1vek",(null===ke||void 0===ke||null===(n=ke.admin_analysis)||void 0===n?void 0:n.total_without_permission_filters)&&(0,M.jsx)("sup",{style:{fontSize:"0.5em",marginLeft:"0.1rem",opacity:.6,fontWeight:"normal"},children:ke.admin_analysis.total_without_permission_filters})]}),(0,M.jsx)(T.g,{icon:$.p4e,style:{marginLeft:"0.5rem"}})]})]}),(0,M.jsx)(Vo,{children:(0,M.jsxs)(Po,{children:[(0,M.jsx)(So.z,{text:"Vytvo\u0159it novou objedn\xe1vku",icon:"success",preferredPosition:"bottom",children:(0,M.jsxs)(Fo,{onClick:async()=>{No.default.setCurrentUser(Y);let e=!1,n=null;if(await No.default.hasDraft())try{const t=await No.default.loadDraft(),o=(0,Co.V5)(t),r=(0,Co.NN)(t);e=o||r,e&&(n=t)}catch(ge){e=!1}e?(wn(n),zn(null),_n(!0)):W("/order-form-25")},style:{background:"#166534",color:"white",fontWeight:600},children:[(0,M.jsx)(T.g,{icon:$.QLR}),"Nov\xe1 objedn\xe1vka"]})}),!dt&&(0,M.jsx)(So.z,{text:"Zobrazit p\u0159ehledov\xfd dashboard s grafy",icon:"info",preferredPosition:"bottom",children:(0,M.jsxs)(Fo,{onClick:ed,children:[(0,M.jsx)(T.g,{icon:$.uGS}),"Dashboard"]})}),!ft&&(0,M.jsx)(So.z,{text:"Zobrazit pokro\u010dil\xe9 filtry",icon:"info",preferredPosition:"bottom",children:(0,M.jsxs)(Fo,{onClick:()=>{xt(!0),se("orders25List_showFiltersPanel",!0)},children:[(0,M.jsx)(T.g,{icon:$.mRM}),"Filtr"]})}),(0,M.jsx)(So.z,{text:"Export aktu\xe1ln\xedho seznamu do CSV souboru",icon:"success",preferredPosition:"bottom",children:(0,M.jsxs)(Fo,{onClick:()=>{const e=(null===yt||void 0===yt?void 0:yt.export_csv_sloupce)||{},n={pipe:"|",comma:",",semicolon:";",custom:(null===yt||void 0===yt?void 0:yt.exportCsvListCustomDelimiter)||"|"}[(null===yt||void 0===yt?void 0:yt.exportCsvListDelimiter)||"pipe"]||"|",t=function(e){return null!==e&&void 0!==e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""},o=e=>{if(!e)return"";const n=e.titul_pred?e.titul_pred+" ":"",t=e.jmeno||"",o=e.prijmeni||"",r=e.titul_za?", "+e.titul_za:"";return"".concat(n).concat(t," ").concat(o).concat(r).trim().replace(/\s+/g," ")},r=gs.map(r=>{var a,i,l,s,d,c;const u=r._enriched||{},v={},p={SMLOUVA:"Smlouva",INDIVIDUALNI_SCHVALENI:"Individu\xe1ln\xed schv\xe1len\xed",POKLADNA:"Pokladna",LP:"Limitovan\xfd p\u0159\xedslib",POJISTNA_UDALOST:"Pojistn\xe1 ud\xe1lost"};let h="",m=null;if(r.financovani_parsed&&"object"===typeof r.financovani_parsed)m=r.financovani_parsed;else if(r.financovani&&"string"===typeof r.financovani)try{m=JSON.parse(r.financovani)}catch(b){h=r.financovani}else if(r.zpusob_financovani)if("string"===typeof r.zpusob_financovani)try{m=JSON.parse(r.zpusob_financovani)}catch(j){h=r.zpusob_financovani}else"object"===typeof r.zpusob_financovani&&(m=r.zpusob_financovani);var g,f,x;(m&&"object"===typeof m&&(h=m.nazev_stavu||(m.kod_stavu?p[m.kod_stavu]:null)||m.nazev||m.label||""),e.id&&(v.ID=t(r.id)),e.cislo_objednavky&&(v["\u010c\xedslo objedn\xe1vky"]=t(r.cislo_objednavky)),e.predmet&&(v["P\u0159edm\u011bt"]=t(r.predmet)),e.poznamka&&(v["Pozn\xe1mka"]=t(r.poznamka)),e.stav_objednavky&&(v["Stav objedn\xe1vky"]=t(r.stav_objednavky)||es(r)),e.stav_workflow&&(v["Workflow stavy"]=u.stav_workflow?Array.isArray(u.stav_workflow)?u.stav_workflow.map(e=>e.nazev_stavu||e.nazev||"").filter(Boolean).join(n):u.stav_workflow.nazev_stavu||u.stav_workflow.nazev||"":""),e.stav_komentar&&(v["Koment\xe1\u0159 ke stavu"]=t(r.stav_komentar)),e.dt_objednavky&&(v["Datum objedn\xe1vky"]=is(r)?(0,y.iS)(is(r)):""),e.dt_vytvoreni&&(v["Datum vytvo\u0159en\xed"]=r.dt_vytvoreni?(0,y.iS)(r.dt_vytvoreni):""),e.dt_schvaleni&&(v["Datum schv\xe1len\xed"]=r.dt_schvaleni?(0,y.iS)(r.dt_schvaleni):""),e.dt_odeslani&&(v["Datum odesl\xe1n\xed"]=r.dt_odeslani?(0,y.iS)(r.dt_odeslani):""),e.dt_akceptace&&(v["Datum akceptace"]=r.dt_akceptace?(0,y.iS)(r.dt_akceptace):""),e.dt_zverejneni&&(v["Datum zve\u0159ejn\u011bn\xed"]=r.dt_zverejneni?(0,y.iS)(r.dt_zverejneni):""),e.dt_predpokladany_termin_dodani&&(v["P\u0159edpokl. term\xedn dod\xe1n\xed"]=r.predpokladany_termin_dodani?(0,y.iS)(r.predpokladany_termin_dodani):""),e.dt_aktualizace&&(v["Datum aktualizace"]=r.dt_aktualizace?(0,y.iS)(r.dt_aktualizace):""),e.max_cena_s_dph&&(v["Max. cena s DPH"]=parseFloat(r.max_cena_s_dph)||0),e.celkova_cena_bez_dph&&(v["Celkov\xe1 cena bez DPH"]=parseFloat(r.celkova_cena_bez_dph)||0),e.celkova_cena_s_dph&&(v["Celkov\xe1 cena s DPH"]=os(r)),e.financovani_typ&&(v["Typ financov\xe1n\xed"]=t(null===(a=m)||void 0===a?void 0:a.typ)),e.financovani_typ_nazev&&(v["N\xe1zev typu financov\xe1n\xed"]=h),e.financovani_lp_kody)&&(v["LP k\xf3dy"]=null!==(g=m)&&void 0!==g&&g.lp_kody?Array.isArray(m.lp_kody)?m.lp_kody.join(n):String(m.lp_kody):"");e.financovani_lp_nazvy&&(v["LP n\xe1zvy"]=null!==(f=m)&&void 0!==f&&f.lp_nazvy&&Array.isArray(m.lp_nazvy)?m.lp_nazvy.map(e=>e.nazev||"").filter(Boolean).join(n):"");e.financovani_lp_cisla&&(v["LP \u010d\xedsla"]=null!==(x=m)&&void 0!==x&&x.lp_nazvy&&Array.isArray(m.lp_nazvy)?m.lp_nazvy.map(e=>e.cislo_lp||"").filter(Boolean).join(n):"");if(e.objednatel&&(v.Objednatel=u.uzivatel?o(u.uzivatel):cs(r.uzivatel_id)),e.objednatel_email&&(v["Objednatel email"]=t(null===(i=u.uzivatel)||void 0===i?void 0:i.email)),e.objednatel_telefon&&(v["Objednatel telefon"]=t(null===(l=u.uzivatel)||void 0===l?void 0:l.telefon)),e.garant&&(v.Garant=u.garant_uzivatel?o(u.garant_uzivatel):""),e.garant_email&&(v["Garant email"]=t(null===(s=u.garant_uzivatel)||void 0===s?void 0:s.email)),e.garant_telefon&&(v["Garant telefon"]=t(null===(d=u.garant_uzivatel)||void 0===d?void 0:d.telefon)),e.prikazce&&(v["P\u0159\xedkazce"]=u.prikazce_po?o(u.prikazce_po):""),e.schvalovatel&&(v.Schvalovatel=u.schvalovatel?o(u.schvalovatel):""),e.vytvoril_uzivatel&&(v["Vytvo\u0159il"]=u.vytvoril_uzivatel?o(u.vytvoril_uzivatel):""),e.dodavatel_nazev&&(v.Dodavatel=t(r.dodavatel_nazev)),e.dodavatel_ico&&(v["Dodavatel I\u010cO"]=t(r.dodavatel_ico)),e.dodavatel_dic&&(v["Dodavatel DI\u010c"]=t(r.dodavatel_dic)),e.dodavatel_adresa&&(v["Dodavatel adresa"]=t(r.dodavatel_adresa)),e.dodavatel_zastoupeny&&(v["Dodavatel zastoupen\xfd"]=t(r.dodavatel_zastoupeny)),e.dodavatel_kontakt_jmeno&&(v["Dodavatel kontakt jm\xe9no"]=t(r.dodavatel_kontakt_jmeno)),e.dodavatel_kontakt_email&&(v["Dodavatel kontakt email"]=t(r.dodavatel_kontakt_email)),e.dodavatel_kontakt_telefon&&(v["Dodavatel kontakt telefon"]=t(r.dodavatel_kontakt_telefon)),e.strediska&&(v["St\u0159ediska"]=u.strediska&&Array.isArray(u.strediska)&&u.strediska.length>0?u.strediska.map(e=>e.nazev||e.kod||"").filter(Boolean).join(n):Array.isArray(r.strediska_kod)?r.strediska_kod.map(e=>vs(e)||e).filter(Boolean).join(n):t(r.strediska_kod)),e.strediska_nazvy&&(v["St\u0159ediska n\xe1zvy"]=u.strediska&&Array.isArray(u.strediska)&&u.strediska.length>0?u.strediska.map(e=>e.nazev||e.kod||"").filter(Boolean).join(n):Array.isArray(r.strediska_kod)?r.strediska_kod.map(e=>vs(e)||e).filter(Boolean).join(n):""),e.druh_objednavky_kod&&(v["Druh objedn\xe1vky"]=t((null===(c=u.druh_objednavky)||void 0===c?void 0:c.nazev)||r.druh_objednavky)),e.stav_workflow_kod&&(v["Stav workflow k\xf3d"]=t(r.stav_workflow_kod)),e.pocet_polozek&&(v["Po\u010det polo\u017eek"]=r.polozky&&Array.isArray(r.polozky)?r.polozky.length:0),e.polozky_celkova_cena_s_dph&&(v["Polo\u017eky celkov\xe1 cena s DPH"]=os(r)),e.polozky_popis&&(v["Polo\u017eky popis"]=r.polozky&&Array.isArray(r.polozky)?r.polozky.map(e=>t(e.popis)).filter(Boolean).join(n):""),e.polozky_cena_bez_dph&&(v["Polo\u017eky cena bez DPH"]=r.polozky&&Array.isArray(r.polozky)?r.polozky.map(e=>parseFloat(e.cena_bez_dph)||0).join(n):""),e.polozky_sazba_dph&&(v["Polo\u017eky sazba DPH"]=r.polozky&&Array.isArray(r.polozky)?r.polozky.map(e=>(e.sazba_dph||0)+"%").join(n):""),e.polozky_cena_s_dph&&(v["Polo\u017eky cena s DPH"]=r.polozky&&Array.isArray(r.polozky)?r.polozky.map(e=>parseFloat(e.cena_s_dph)||0).join(n):""),e.prilohy_count&&(v["Po\u010det p\u0159\xedloh"]=r.prilohy&&Array.isArray(r.prilohy)?r.prilohy.length:0),e.prilohy_nazvy&&(v["P\u0159\xedlohy n\xe1zvy"]=r.prilohy&&Array.isArray(r.prilohy)?r.prilohy.map(e=>t(e.nazev||e.originalni_nazev)).filter(Boolean).join(n):""),e.faktury_count&&(v["Po\u010det faktur"]=r.faktury&&Array.isArray(r.faktury)?r.faktury.length:0),e.faktury_celkova_castka_s_dph){const e=r.faktury&&Array.isArray(r.faktury)?r.faktury.reduce((e,n)=>e+(parseFloat(n.fa_castka)||0),0):0;v["Faktury celkov\xe1 \u010d\xe1stka"]=e}return e.faktury_cisla_vema&&(v["Faktury \u010d\xedsla VEMA"]=r.faktury&&Array.isArray(r.faktury)?r.faktury.map(e=>t(e.fa_cislo_vema)).filter(Boolean).join(n):""),e.stav_odeslano&&(v["Stav odesl\xe1n\xed"]=1===r.stav_odeslano||"1"===r.stav_odeslano||!0===r.stav_odeslano?"Ano":"Ne"),e.potvrzeno_dodavatelem&&(v["Potvrzeno dodavatelem"]=1===r.potvrzeno_dodavatelem||!0===r.potvrzeno_dodavatelem?"Ano":"Ne"),e.zpusob_potvrzeni&&(v["Zp\u016fsob potvrzen\xed"]=t(r.zpusob_potvrzeni)),e.zpusob_platby&&(v["Zp\u016fsob platby"]=t(r.zpusob_platby)),e.zverejnit_registr_smluv&&(v["Zve\u0159ejnit v registru"]=1===r.zverejnit_registr_smluv||!0===r.zverejnit_registr_smluv?"Ano":"Ne"),e.registr_iddt&&(v["Registr IDDT"]=t(r.registr_iddt)),e.zaruka&&(v["Z\xe1ruka"]=t(r.zaruka)),e.misto_dodani&&(v["M\xedsto dod\xe1n\xed"]=t(r.misto_dodani)),v}),a={semicolon:";",tab:"\t",pipe:"|",custom:(null===yt||void 0===yt?void 0:yt.exportCsvCustomDelimiter)||";"}[(null===yt||void 0===yt?void 0:yt.exportCsvDelimiter)||"semicolon"]||";",i=Object.keys(r[0]||{}).length,l="tab"===(null===yt||void 0===yt?void 0:yt.exportCsvDelimiter)?"Tabul\xe1tor":"pipe"===(null===yt||void 0===yt?void 0:yt.exportCsvDelimiter)?"Svisl\xedtko (|)":"custom"===(null===yt||void 0===yt?void 0:yt.exportCsvDelimiter)?"Vlastn\xed (".concat((null===yt||void 0===yt?void 0:yt.exportCsvCustomDelimiter)||";",")"):"St\u0159edn\xedk (;)",s=n,d="comma"===(null===yt||void 0===yt?void 0:yt.exportCsvListDelimiter)?"\u010c\xe1rka (,)":"semicolon"===(null===yt||void 0===yt?void 0:yt.exportCsvListDelimiter)?"St\u0159edn\xedk (;)":"custom"===(null===yt||void 0===yt?void 0:yt.exportCsvListDelimiter)?"Vlastn\xed (".concat((null===yt||void 0===yt?void 0:yt.exportCsvListCustomDelimiter)||"|",")"):"Svisl\xedtko (|)";nl({data:r,separator:a,separatorName:l,multilineSeparator:s,multilineSeparatorName:d,columnCount:i,rowCount:r.length}),Qi(!0)},children:[(0,M.jsx)(T.g,{icon:$.o1d}),"Export"]})})]})}),kt&&Ot&&(0,M.jsxs)(Oa,{children:[(0,M.jsxs)(Ra,{children:[(0,M.jsxs)(Da,{children:[(0,M.jsx)(T.g,{icon:$.zm_}),"\ud83d\udd0d DEBUG - Surov\xe1 data z datab\xe1ze"]}),(0,M.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,M.jsxs)(Fo,{onClick:()=>window.open("/test-notifications","_blank"),style:{background:"#1e40af",borderColor:"#60a5fa"},children:[(0,M.jsx)(T.g,{icon:$.z$e}),"Test Notifikac\xed"]}),(0,M.jsxs)(Fo,{onClick:()=>gt(!0),style:{background:"#8b5cf6",borderColor:"#a78bfa"},children:[(0,M.jsx)(T.g,{icon:$.fyG}),"N\xe1vrhy Styl\u016f Mod\xe1l\u016f"]}),(0,M.jsxs)(Fo,{onClick:()=>{const e=!kt;_t(e),se("orders25List_showDebug",e)},children:[(0,M.jsx)(T.g,{icon:$.GRI}),"Skr\xfdt debug"]})]})]}),(0,M.jsxs)(Ia,{children:[(0,M.jsxs)(La,{children:[(0,M.jsx)(Ta,{children:"\ud83d\udcca Z\xe1kladn\xed info:"}),(0,M.jsx)($a,{children:"Na\u010dteno: ".concat(Ot.timestamp,"\nPo\u010det z\xe1znam\u016f: ").concat(Ot.ordersCount,"\nDostupn\xe1 pole: ").concat(Ot.allFields.join(", "))})]}),Ot.firstOrder&&(0,M.jsxs)(La,{children:[(0,M.jsx)(Ta,{children:"\ud83d\udcdd Prvn\xed z\xe1znam (struktura):"}),(0,M.jsx)($a,{children:JSON.stringify(Ot.firstOrder,null,2)})]}),(0,M.jsxs)(La,{children:[(0,M.jsx)(Ta,{children:"\ud83d\uddc2 V\u0161echna data (JSON):"}),(0,M.jsx)($a,{children:JSON.stringify(Ot.rawData,null,2)})]})]})]}),ut&&(0,M.jsxs)(Oa,{children:[(0,M.jsxs)(Ra,{children:[(0,M.jsxs)(Da,{children:[(0,M.jsx)(T.g,{icon:$.zm_}),"\ud83e\uddea ORDER V2 API TEST PANEL"]}),(0,M.jsxs)(Fo,{onClick:()=>vt(!1),children:[(0,M.jsx)(T.g,{icon:$.GRI}),"Zav\u0159\xedt"]})]}),(0,M.jsx)(Ia,{children:pt?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(La,{children:[(0,M.jsx)(Ta,{children:"\ud83c\udf9b Stav filtr\u016f:"}),(0,M.jsx)($a,{children:JSON.stringify({showArchived:null===(r=pt.filterState)||void 0===r?void 0:r.showArchived,selectedYear:null===(z=pt.filterState)||void 0===z?void 0:z.selectedYear,selectedMonth:null===(A=pt.filterState)||void 0===A?void 0:A.selectedMonth,canViewAllOrders:null===(w=pt.filterState)||void 0===w?void 0:w.canViewAllOrders,currentUserId:null===(E=pt.filterState)||void 0===E?void 0:E.currentUserId},null,2)})]}),(0,M.jsxs)(La,{children:[(0,M.jsx)(Ta,{children:"\ud83d\udce1 API Request (co se pos\xedl\xe1):"}),(0,M.jsx)($a,{children:JSON.stringify({endpoint:"/order-v2/list-enriched",filters:pt.requestFilters,timestamp:pt.requestTimestamp},null,2)})]}),(0,M.jsxs)(La,{children:[(0,M.jsx)(Ta,{children:"\ud83d\udce5 API Response (co p\u0159i\u0161lo z BE):"}),(0,M.jsx)($a,{children:"Celkem objedn\xe1vek: ".concat(pt.apiResponseCount||0,"\nArchivovan\xe9: ").concat(pt.archivedInResponse||0,"\nNearchivovan\xe9: ").concat((pt.apiResponseCount||0)-(pt.archivedInResponse||0),"\nTimestamp: ").concat(pt.responseTimestamp||"N/A")})]}),(0,M.jsxs)(La,{children:[(0,M.jsx)(Ta,{children:"\ud83d\udd0d Po frontend filtraci (co se zobrazuje):"}),(0,M.jsx)($a,{children:"Zobrazeno objedn\xe1vek: ".concat(pt.filteredCount||0,"\nArchivovan\xe9: ").concat(pt.archivedInFiltered||0,"\nNearchivovan\xe9: ").concat(pt.nonArchivedInFiltered||0)})]}),pt.apiResponse&&pt.apiResponse.length>0&&(0,M.jsxs)(La,{children:[(0,M.jsx)(Ta,{children:"\ud83d\udcdd Uk\xe1zka prvn\xedch 3 objedn\xe1vek z API:"}),(0,M.jsx)($a,{children:JSON.stringify(pt.apiResponse.slice(0,3).map(e=>({id:e.id,cislo_objednavky:e.cislo_objednavky,stav_objednavky:e.stav_objednavky,uzivatel_id:e.uzivatel_id,garant_uzivatel_id:e.garant_uzivatel_id,dt_objednavky:e.dt_objednavky,datum_obj_od:e.datum_obj_od,datum_obj_do:e.datum_obj_do})),null,2)})]}),(0,M.jsxs)(La,{children:[(0,M.jsx)(Ta,{children:"\ud83d\uddc2 Kompletn\xed API Response (JSON):"}),(0,M.jsx)($a,{style:{maxHeight:"400px",overflow:"auto"},children:JSON.stringify(pt.apiResponse,null,2)})]})]}):(0,M.jsxs)(La,{children:[(0,M.jsx)(Ta,{children:"\u23f3 \u010cek\xe1m na data..."}),(0,M.jsx)($a,{children:"Zm\u011b\u0148 filtr (rok, m\u011bs\xedc, archiv checkbox) nebo klikni na Obnovit pro na\u010dten\xed dat."})]})})]}),mt&&i.createPortal((0,M.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(8px)",zIndex:10001,overflow:"auto",padding:"2rem"},children:(0,M.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto",background:"#1e293b",borderRadius:"16px",padding:"2rem",color:"white"},children:[(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",borderBottom:"2px solid #334155",paddingBottom:"1rem"},children:[(0,M.jsxs)("h2",{style:{margin:0,display:"flex",alignItems:"center",gap:"1rem",fontSize:"1.75rem",fontWeight:800},children:[(0,M.jsx)(T.g,{icon:$.fyG,style:{color:"#a78bfa"}}),"\ud83c\udfa8 N\xe1vrhy Styl\u016f Mod\xe1ln\xedch Dialog\u016f"]}),(0,M.jsxs)("button",{onClick:()=>gt(!1),style:{padding:"0.75rem 1.5rem",background:"#ef4444",color:"white",border:"none",borderRadius:"8px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:[(0,M.jsx)(T.g,{icon:$.GRI})," Zav\u0159\xedt"]})]}),(0,M.jsxs)("div",{style:{background:"#334155",padding:"1.5rem",borderRadius:"12px",marginBottom:"2rem",border:"2px solid #475569"},children:[(0,M.jsxs)("p",{style:{margin:"0 0 0.75rem 0",fontSize:"1.1rem"},children:[(0,M.jsx)("strong",{children:"\ud83d\udccb Instrukce:"})," N\xed\u017ee vid\xedte r\u016fzn\xe9 n\xe1vrhy styl\u016f pro mod\xe1ln\xed confirming dialogy."]}),(0,M.jsxs)("p",{style:{margin:0,color:"#cbd5e1"},children:["Ka\u017ed\xfd n\xe1vrh m\xe1 ",(0,M.jsx)("strong",{children:"jednozna\u010dn\xfd n\xe1zev"})," - vyber si styl, kter\xfd se ti l\xedb\xed, a \u0159ekni mi n\xe1zev. Pak jej pou\u017eijeme jako z\xe1klad pro jednotn\xfd modal syst\xe9m v cel\xe9 aplikaci."]})]}),(0,M.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"2rem"},children:[(0,M.jsxs)("div",{style:{background:"#0f172a",borderRadius:"12px",padding:"1.5rem",border:"2px solid #1e40af"},children:[(0,M.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#60a5fa",fontSize:"1.25rem",fontWeight:700,borderBottom:"2px solid #1e40af",paddingBottom:"0.5rem"},children:"CURRENT-STYLE (Sou\u010dasn\xfd)"}),(0,M.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"2rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.3)",border:"1px solid #e5e7eb"},children:[(0,M.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[(0,M.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#fecaca",display:"flex",alignItems:"center",justifyContent:"center",color:"#dc2626",fontSize:"1.5rem"},children:(0,M.jsx)(T.g,{icon:$.zpE})}),(0,M.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:700,color:"#1e293b",margin:0},children:"Potvrzen\xed akce"})]}),(0,M.jsx)("div",{style:{marginBottom:"2rem",lineHeight:"1.6",color:"#475569"},children:(0,M.jsx)("p",{style:{margin:0},children:"Toto je uk\xe1zka sou\u010dasn\xe9ho stylu mod\xe1ln\xedho dialogu. Design pou\u017e\xedv\xe1 kulat\xe9 ikonky, sv\u011btl\xe9 pozad\xed a jemn\xe9 st\xedny."})}),(0,M.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[(0,M.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid #d1d5db",borderRadius:"8px",fontWeight:600,background:"white",color:"#6b7280",cursor:"pointer"},children:"Zru\u0161it"}),(0,M.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid #dc2626",borderRadius:"8px",fontWeight:600,background:"#dc2626",color:"white",cursor:"pointer"},children:"Potvrdit"})]})]})]}),(0,M.jsxs)("div",{style:{background:"#0f172a",borderRadius:"12px",padding:"1.5rem",border:"2px solid #8b5cf6"},children:[(0,M.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#a78bfa",fontSize:"1.25rem",fontWeight:700,borderBottom:"2px solid #8b5cf6",paddingBottom:"0.5rem"},children:"GRADIENT-MODERN (Modern\xed gradient)"}),(0,M.jsxs)("div",{style:{background:"white",borderRadius:"16px",overflow:"hidden",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.4)"},children:[(0,M.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"1.5rem",display:"flex",alignItems:"center",gap:"1rem",borderBottom:"3px solid #553c9a"},children:[(0,M.jsx)("div",{style:{fontSize:"2rem",color:"white",filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"},children:(0,M.jsx)(T.g,{icon:$.zpE})}),(0,M.jsx)("h3",{style:{margin:0,color:"white",fontSize:"1.25rem",fontWeight:800,textShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:"Potvrzen\xed akce"})]}),(0,M.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,M.jsx)("p",{style:{margin:"0 0 1.5rem 0",color:"#374151",lineHeight:"1.6"},children:"Modern\xed design s barevn\xfdm gradientov\xfdm headerem. \u010cist\xe9, profesion\xe1ln\xed a vizu\xe1ln\u011b zaj\xedmav\xe9."}),(0,M.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end",borderTop:"2px solid #f3f4f6",paddingTop:"1.5rem"},children:[(0,M.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid #d1d5db",borderRadius:"10px",fontWeight:700,background:"white",color:"#6b7280",cursor:"pointer"},children:"Zru\u0161it"}),(0,M.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:"10px",fontWeight:700,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",cursor:"pointer",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.4)"},children:"Potvrdit"})]})]})]})]}),(0,M.jsxs)("div",{style:{background:"#0f172a",borderRadius:"12px",padding:"1.5rem",border:"2px solid #10b981"},children:[(0,M.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#34d399",fontSize:"1.25rem",fontWeight:700,borderBottom:"2px solid #10b981",paddingBottom:"0.5rem"},children:"MINIMAL-CLEAN (Minimalistick\xfd \u010dist\xfd)"}),(0,M.jsxs)("div",{style:{background:"white",borderRadius:"8px",padding:"2rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"},children:[(0,M.jsx)("div",{style:{borderLeft:"4px solid #dc2626",paddingLeft:"1rem",marginBottom:"1.5rem"},children:(0,M.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:600,color:"#111827",margin:0},children:"Potvrzen\xed akce"})}),(0,M.jsx)("p",{style:{margin:"0 0 2rem 0",color:"#6b7280",lineHeight:"1.6",fontSize:"0.9375rem"},children:"Jednoduch\xfd, minimalistick\xfd design bez zbyte\u010dn\xfdch dekorac\xed. Soust\u0159ed\u011bn\xed na obsah a \u010ditelnost."}),(0,M.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[(0,M.jsx)("button",{style:{padding:"0.5rem 1.25rem",border:"none",borderRadius:"6px",fontWeight:500,background:"#f3f4f6",color:"#374151",cursor:"pointer",fontSize:"0.875rem"},children:"Zru\u0161it"}),(0,M.jsx)("button",{style:{padding:"0.5rem 1.25rem",border:"none",borderRadius:"6px",fontWeight:500,background:"#dc2626",color:"white",cursor:"pointer",fontSize:"0.875rem"},children:"Potvrdit"})]})]})]}),(0,M.jsxs)("div",{style:{background:"#0f172a",borderRadius:"12px",padding:"1.5rem",border:"2px solid #f59e0b"},children:[(0,M.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#fbbf24",fontSize:"1.25rem",fontWeight:700,borderBottom:"2px solid #f59e0b",paddingBottom:"0.5rem"},children:"CARD-ELEVATED (Kartov\xfd zv\xfd\u0161en\xfd)"}),(0,M.jsxs)("div",{style:{background:"white",borderRadius:"20px",padding:"0",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"none",overflow:"hidden"},children:[(0,M.jsx)("div",{style:{background:"#f8fafc",padding:"1.5rem 2rem",borderBottom:"1px solid #e2e8f0"},children:(0,M.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,M.jsx)("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#d97706",fontSize:"1.75rem",boxShadow:"0 4px 6px -1px rgba(217, 119, 6, 0.1)"},children:(0,M.jsx)(T.g,{icon:$.zpE})}),(0,M.jsxs)("div",{children:[(0,M.jsx)("h3",{style:{fontSize:"1.375rem",fontWeight:700,color:"#0f172a",margin:0},children:"Potvrzen\xed akce"}),(0,M.jsx)("p",{style:{fontSize:"0.875rem",color:"#64748b",margin:"0.25rem 0 0 0"},children:"D\u016fle\u017eit\xe9 rozhodnut\xed"})]})]})}),(0,M.jsxs)("div",{style:{padding:"2rem"},children:[(0,M.jsx)("p",{style:{margin:"0 0 2rem 0",color:"#475569",lineHeight:"1.7",fontSize:"1rem"},children:"Elegantn\xed kartov\xfd design s v\xfdrazn\xfdm st\xednem a detailn\xedm headerem. Premium pocit a profesion\xe1ln\xed vzhled."}),(0,M.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[(0,M.jsx)("button",{style:{padding:"0.875rem 1.75rem",border:"2px solid #e2e8f0",borderRadius:"12px",fontWeight:600,background:"white",color:"#475569",cursor:"pointer",fontSize:"0.9375rem"},children:"Zru\u0161it"}),(0,M.jsx)("button",{style:{padding:"0.875rem 1.75rem",border:"none",borderRadius:"12px",fontWeight:600,background:"#dc2626",color:"white",cursor:"pointer",fontSize:"0.9375rem",boxShadow:"0 4px 6px -1px rgba(220, 38, 38, 0.25)"},children:"Potvrdit"})]})]})]})]}),(0,M.jsxs)("div",{style:{background:"#0f172a",borderRadius:"12px",padding:"1.5rem",border:"2px solid #ec4899"},children:[(0,M.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#f9a8d4",fontSize:"1.25rem",fontWeight:700,borderBottom:"2px solid #ec4899",paddingBottom:"0.5rem"},children:"DARK-CONTRAST (Tmav\xfd kontrastn\xed)"}),(0,M.jsxs)("div",{style:{background:"#1e293b",borderRadius:"12px",padding:"2rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.5)",border:"1px solid #334155"},children:[(0,M.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[(0,M.jsx)("div",{style:{width:"52px",height:"52px",borderRadius:"50%",background:"rgba(239, 68, 68, 0.2)",border:"2px solid #ef4444",display:"flex",alignItems:"center",justifyContent:"center",color:"#f87171",fontSize:"1.5rem"},children:(0,M.jsx)(T.g,{icon:$.zpE})}),(0,M.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:700,color:"#f1f5f9",margin:0},children:"Potvrzen\xed akce"})]}),(0,M.jsx)("p",{style:{margin:"0 0 2rem 0",color:"#cbd5e1",lineHeight:"1.6"},children:"Tmav\xfd re\u017eim s vysok\xfdm kontrastem. Ide\xe1ln\xed pro aplikace s dark mode nebo pro no\u010dn\xed pou\u017eit\xed."}),(0,M.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[(0,M.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid #475569",borderRadius:"8px",fontWeight:600,background:"#0f172a",color:"#cbd5e1",cursor:"pointer"},children:"Zru\u0161it"}),(0,M.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid #ef4444",borderRadius:"8px",fontWeight:600,background:"#ef4444",color:"white",cursor:"pointer"},children:"Potvrdit"})]})]})]}),(0,M.jsxs)("div",{style:{background:"#0f172a",borderRadius:"12px",padding:"1.5rem",border:"2px solid #06b6d4"},children:[(0,M.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#22d3ee",fontSize:"1.25rem",fontWeight:700,borderBottom:"2px solid #06b6d4",paddingBottom:"0.5rem"},children:"GLASS-MORPHISM (Sklen\u011bn\xfd morfismus)"}),(0,M.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"16px",padding:"2rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[(0,M.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[(0,M.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"rgba(220, 38, 38, 0.1)",backdropFilter:"blur(10px)",border:"2px solid rgba(220, 38, 38, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",color:"#dc2626",fontSize:"1.5rem"},children:(0,M.jsx)(T.g,{icon:$.zpE})}),(0,M.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:700,color:"#1e293b",margin:0},children:"Potvrzen\xed akce"})]}),(0,M.jsx)("p",{style:{margin:"0 0 2rem 0",color:"#475569",lineHeight:"1.6"},children:"Modern\xed glassmorphism efekt s pr\u016fhlednost\xed a rozmaz\xe1n\xedm. Trendy design s hloubkou a vrstven\xedm."}),(0,M.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[(0,M.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid rgba(209, 213, 219, 0.5)",borderRadius:"8px",fontWeight:600,background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",color:"#6b7280",cursor:"pointer"},children:"Zru\u0161it"}),(0,M.jsx)("button",{style:{padding:"0.75rem 1.5rem",border:"2px solid rgba(220, 38, 38, 0.5)",borderRadius:"8px",fontWeight:600,background:"rgba(220, 38, 38, 0.9)",backdropFilter:"blur(10px)",color:"white",cursor:"pointer"},children:"Potvrdit"})]})]})]})]}),(0,M.jsxs)("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#334155",borderRadius:"12px",border:"2px solid #475569"},children:[(0,M.jsx)("h4",{style:{margin:"0 0 1rem 0",color:"#f1f5f9"},children:"\ud83d\udca1 Tip pro v\xfdb\u011br:"}),(0,M.jsxs)("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#cbd5e1",lineHeight:"1.8"},children:[(0,M.jsxs)("li",{children:[(0,M.jsx)("strong",{children:"CURRENT-STYLE:"})," Zachov\xe1me sou\u010dasn\xfd vzhled, jen jej zrefaktorujeme"]}),(0,M.jsxs)("li",{children:[(0,M.jsx)("strong",{children:"GRADIENT-MODERN:"})," Barevn\xfd, \u017eiv\xfd, modern\xed - hod\xed se pro mlad\u0161\xed publikum"]}),(0,M.jsxs)("li",{children:[(0,M.jsx)("strong",{children:"MINIMAL-CLEAN:"})," Nejjednodu\u0161\u0161\xed, bez dekorac\xed - rychl\xe9 na\u010d\xedt\xe1n\xed, univerz\xe1ln\xed"]}),(0,M.jsxs)("li",{children:[(0,M.jsx)("strong",{children:"CARD-ELEVATED:"})," Premium, elegantn\xed - pro business aplikace"]}),(0,M.jsxs)("li",{children:[(0,M.jsx)("strong",{children:"DARK-CONTRAST:"})," Pro dark mode nebo ve\u010dern\xed pr\xe1ci"]}),(0,M.jsxs)("li",{children:[(0,M.jsx)("strong",{children:"GLASS-MORPHISM:"})," Trendy, modern\xed - efektn\xed ale m\u016f\u017ee b\xfdt n\xe1ro\u010dn\u011bj\u0161\xed na v\xfdkon"]})]})]})]})}),document.body),dt&&(0,M.jsxs)(Bo,{children:[(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,M.jsxs)("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,M.jsx)(T.g,{icon:$.uGS,style:{color:"#3b82f6"}}),"Dashboard objedn\xe1vek ","custom"===St?"(vlastn\xed rozlo\u017een\xed)":At?"(kompaktn\xed)":"(pln\xfd)"]}),(0,M.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[zt&&(0,M.jsx)(So.z,{text:"Zobrazit dla\u017edice podle nastaven\xed v profilu",icon:"info",preferredPosition:"bottom",children:(0,M.jsxs)(Fo,{onClick:()=>{const e="custom"===St?"standard":"custom";Ct(e),se("orders25List_dashboardMode",e)},style:{background:"custom"===St?"#3b82f6":void 0,color:"custom"===St?"white":void 0,fontWeight:"custom"===St?"600":void 0},children:[(0,M.jsx)(T.g,{icon:$.ITF}),"Vlastn\xed"]})}),(0,M.jsx)(So.z,{text:At?"Zobrazit pln\xfd dashboard se v\u0161emi statistikami":"Zobrazit kompaktn\xed dashboard (pouze celkov\xe1 hodnota)",icon:"info",preferredPosition:"bottom",children:(0,M.jsxs)(Fo,{onClick:()=>{const e=!At;wt(e),se("orders25List_dashboardCompact",e),"custom"===St&&(Ct("standard"),se("orders25List_dashboardMode","standard"))},children:[(0,M.jsx)(T.g,{icon:At?$.fq7:$.p4e}),At?"Pln\xfd":"Kompaktn\xed"]})}),(0,M.jsx)(So.z,{text:"Skr\xfdt dashboard a zobrazit pouze tabulku objedn\xe1vek",icon:"info",preferredPosition:"bottom",children:(0,M.jsxs)(Fo,{onClick:ed,children:[(0,M.jsx)(T.g,{icon:$.GRI}),"Skr\xfdt"]})})]})]}),(0,M.jsx)(Zo,{children:"custom"===St?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(Ko,{$color:j.TOTAL.dark,children:[(0,M.jsxs)("div",{children:[(0,M.jsxs)(Xo,{children:[Math.round(rs.totalAmount).toLocaleString("cs-CZ"),"\xa0K\u010d"]}),(0,M.jsxs)(qo,{children:["Celkov\xe1 cena s DPH za obdob\xed (",rs.total,")"]}),(()=>{if((Lt||Array.isArray($t)&&$t.length>0||Pt||Gt||Xt||Qt||no||Object.values(xo).some(e=>e))&&gs.length<ve.length){const e=gs.reduce((e,n)=>{const t=os(n);return e+(isNaN(t)?0:t)},0);return(0,M.jsxs)("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid rgba(100, 116, 139, 0.2)"},children:[(0,M.jsxs)("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#f59e0b",textAlign:"center",marginBottom:"0.25rem"},children:[Math.round(e).toLocaleString("cs-CZ"),"\xa0K\u010d"]}),(0,M.jsxs)("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#f59e0b",textAlign:"center",paddingBottom:"0.75rem",borderBottom:"1px solid rgba(100, 116, 139, 0.2)"},children:["Celkov\xe1 cena s DPH za vybran\xe9 (",gs.length,")"]})]})}return null})()]}),(0,M.jsxs)(Qo,{children:[(0,M.jsxs)(er,{$color:"#d97706",$bg:"rgba(217, 119, 6, 0.08)",children:[(0,M.jsx)(nr,{$color:"#92400e",children:"Rozpracovan\xe9"}),(0,M.jsxs)(tr,{children:[Math.round(gs.reduce((e,n)=>{const t=ns(n),o=["STORNOVA","ZAMITNUTA","ZRUSENA","CANCELLED","SMAZANA"].includes(t),r=["DOKONCENA","VYRIZENA","COMPLETED"].includes(t);if(!o&&!r){const t=os(n);return e+(isNaN(t)?0:t)}return e},0)).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),(0,M.jsxs)(er,{$color:"#059669",$bg:"rgba(5, 150, 105, 0.08)",children:[(0,M.jsx)(nr,{$color:"#065f46",children:"Dokon\u010den\xe9"}),(0,M.jsxs)(tr,{children:[Math.round(gs.reduce((e,n)=>{const t=ns(n);if(["DOKONCENA","VYRIZENA","COMPLETED"].includes(t)){const t=os(n);return e+(isNaN(t)?0:t)}return e},0)).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]})]})]}),(0,M.jsxs)(Uo,{$color:"#2196f3",children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:gs.filter(e=>!e.isDraft&&!e.isLocalConcept).length}),(0,M.jsx)(Yo,{$color:"#2196f3",children:(0,M.jsx)(T.g,{icon:$.h8M})})]}),(0,M.jsx)(Jo,{children:"Po\u010det objedn\xe1vek"})]}),nd("nova")&&(0,M.jsxs)(Uo,{$color:j.NOVA.dark,$clickable:!0,$isActive:"nova"===Nt,onClick:()=>Ys("nova"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.nova}),(0,M.jsx)(Yo,{children:Wo("nova")})]}),(0,M.jsx)(Jo,{children:"Nov\xe1 / Koncept"})]}),nd("ke_schvaleni")&&(0,M.jsxs)(Uo,{$color:j.KE_SCHVALENI.dark,$clickable:!0,$isActive:"ke_schvaleni"===Nt,onClick:()=>Ys("ke_schvaleni"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.ke_schvaleni}),(0,M.jsx)(Yo,{children:Wo("ke_schvaleni")})]}),(0,M.jsx)(Jo,{children:"Ke schv\xe1len\xed"})]}),nd("schvalena")&&(0,M.jsxs)(Uo,{$color:j.SCHVALENA.dark,$clickable:!0,$isActive:"schvalena"===Nt,onClick:()=>Ys("schvalena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.schvalena}),(0,M.jsx)(Yo,{children:Wo("schvalena")})]}),(0,M.jsx)(Jo,{children:"Schv\xe1len\xe1"})]}),nd("zamitnuta")&&(0,M.jsxs)(Uo,{$color:j.ZAMITNUTA.dark,$clickable:!0,$isActive:"zamitnuta"===Nt,onClick:()=>Ys("zamitnuta"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.zamitnuta}),(0,M.jsx)(Yo,{children:Wo("zamitnuta")})]}),(0,M.jsx)(Jo,{children:"Zam\xedtnut\xe1"})]}),nd("rozpracovana")&&(0,M.jsxs)(Uo,{$color:j.ROZPRACOVANA.dark,$clickable:!0,$isActive:"rozpracovana"===Nt,onClick:()=>Ys("rozpracovana"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.rozpracovana}),(0,M.jsx)(Yo,{children:Wo("rozpracovana")})]}),(0,M.jsx)(Jo,{children:"Rozpracovan\xe1"})]}),nd("odeslana_dodavateli")&&(0,M.jsxs)(Uo,{$color:j.ODESLANA.dark,$clickable:!0,$isActive:"odeslana"===Nt,onClick:()=>Ys("odeslana"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.odeslana}),(0,M.jsx)(Yo,{children:Wo("odeslana")})]}),(0,M.jsx)(Jo,{children:"Odeslan\xe1 dodavateli"})]}),nd("potvrzena_dodavatelem")&&(0,M.jsxs)(Uo,{$color:j.POTVRZENA.dark,$clickable:!0,$isActive:"potvrzena"===Nt,onClick:()=>Ys("potvrzena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.potvrzena}),(0,M.jsx)(Yo,{children:Wo("potvrzena")})]}),(0,M.jsx)(Jo,{children:"Potvrzen\xe1 dodavatelem"})]}),nd("k_uverejneni_do_registru")&&(0,M.jsxs)(Uo,{$color:j.K_UVEREJNENI_DO_REGISTRU.dark,$clickable:!0,$isActive:"k_uverejneni_do_registru"===Nt,onClick:()=>Ys("k_uverejneni_do_registru"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.k_uverejneni_do_registru}),(0,M.jsx)(Yo,{children:Wo("k_uverejneni_do_registru")})]}),(0,M.jsx)(Jo,{children:"Ke zve\u0159ejn\u011bn\xed"})]}),nd("uverejnena")&&(0,M.jsxs)(Uo,{$color:j.UVEREJNENA.dark,$clickable:!0,$isActive:"uverejnena"===Nt,onClick:()=>Ys("uverejnena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.uverejnena}),(0,M.jsx)(Yo,{children:Wo("uverejnena")})]}),(0,M.jsx)(Jo,{children:"Zve\u0159ejn\u011bno"})]}),nd("ceka_na_potvrzeni")&&(0,M.jsxs)(Uo,{$color:j.CEKA_POTVRZENI.dark,$clickable:!0,$isActive:"ceka_potvrzeni"===Nt,onClick:()=>Ys("ceka_potvrzeni"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.ceka_potvrzeni}),(0,M.jsx)(Yo,{children:Wo("ceka_potvrzeni")})]}),(0,M.jsx)(Jo,{children:"\u010cek\xe1 na potvrzen\xed"})]}),nd("ceka_se")&&(0,M.jsxs)(Uo,{$color:j.CEKA_SE.dark,$clickable:!0,$isActive:"ceka_se"===Nt,onClick:()=>Ys("ceka_se"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.ceka_se}),(0,M.jsx)(Yo,{children:Wo("ceka_se")})]}),(0,M.jsx)(Jo,{children:"\u010cek\xe1 se"})]}),nd("vecna_spravnost")&&(0,M.jsxs)(Uo,{$color:j.VECNA_SPRAVNOST.dark,$clickable:!0,$isActive:"vecna_spravnost"===Nt,onClick:()=>Ys("vecna_spravnost"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.vecna_spravnost}),(0,M.jsx)(Yo,{children:Wo("vecna_spravnost")})]}),(0,M.jsx)(Jo,{children:"V\u011bcn\xe1 spr\xe1vnost"})]}),nd("dokoncena")&&(0,M.jsxs)(Uo,{$color:j.DOKONCENA.dark,$clickable:!0,$isActive:"dokoncena"===Nt,onClick:()=>Ys("dokoncena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.dokoncena}),(0,M.jsx)(Yo,{children:Wo("dokoncena")})]}),(0,M.jsx)(Jo,{children:"Dokon\u010den\xe1"})]}),nd("zrusena")&&(0,M.jsxs)(Uo,{$color:j.ZRUSENA.dark,$clickable:!0,$isActive:"zrusena"===Nt,onClick:()=>Ys("zrusena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.zrusena}),(0,M.jsx)(Yo,{children:Wo("zrusena")})]}),(0,M.jsx)(Jo,{children:"Zru\u0161en\xe1"})]}),nd("smazana")&&(0,M.jsxs)(Uo,{$color:j.SMAZANA.dark,$clickable:!0,$isActive:"smazana"===Nt,onClick:()=>Ys("smazana"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.smazana}),(0,M.jsx)(Yo,{children:Wo("smazana")})]}),(0,M.jsx)(Jo,{children:"Smazan\xe1"})]}),nd("archivovano")&&(0,M.jsxs)(Uo,{$color:j.ARCHIVOVANO.dark,$clickable:!0,$isActive:"archivovano"===Nt,onClick:()=>Ys("archivovano"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.archivovano}),(0,M.jsx)(Yo,{children:Wo("archivovano")})]}),(0,M.jsx)(Jo,{children:"Archivov\xe1no / Import"})]}),nd("s_fakturou")&&(0,M.jsxs)(Uo,{$color:j.WITH_INVOICES.dark,$clickable:!0,$isActive:co,onClick:Xs,children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.withInvoices}),(0,M.jsx)(Yo,{children:"\ud83d\udcc4"})]}),(0,M.jsx)(Jo,{children:"S fakturou"})]}),nd("s_prilohami")&&(0,M.jsxs)(Uo,{$color:j.WITH_ATTACHMENTS.dark,$clickable:!0,$isActive:vo,onClick:qs,children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.withAttachments}),(0,M.jsx)(Yo,{children:"\ud83d\udcce"})]}),(0,M.jsx)(Jo,{children:"S p\u0159\xedlohami"})]}),nd("mimoradne_udalosti")&&(0,M.jsxs)(Uo,{$color:"#dc2626",$clickable:!0,$isActive:lo,onClick:Qs,children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.mimoradneUdalosti}),(0,M.jsx)(Yo,{$color:"#dc2626",children:(0,M.jsx)(T.g,{icon:$.b6I})})]}),(0,M.jsx)(Jo,{children:"Mimo\u0159\xe1dn\xe9 ud\xe1losti"})]}),nd("moje_objednavky")&&(null===X||void 0===X||null===(O=X.roles)||void 0===O?void 0:O.some(e=>"SUPERADMIN"===e.kod_role||"ADMINISTRATOR"===e.kod_role))&&(()=>{const e=parseInt(Y,10),n=gs.filter(n=>{const t=n.uzivatel_id===e,o=n.garant_uzivatel_id===e,r=n.schvalovatel_id===e,a=n.prikazce_id===e;return t||o||r||a}).length;return(0,M.jsxs)(Uo,{$color:"#7c3aed",$clickable:!0,$isActive:Yi,onClick:td,children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:n}),(0,M.jsx)(Yo,{$color:"#7c3aed",children:(0,M.jsx)(T.g,{icon:$.X46})})]}),(0,M.jsx)(Jo,{children:"Moje objedn\xe1vky"})]})})(),nd("dodatecne_dokumenty")&&(()=>{let e=0;return gs.forEach(n=>{var t,o,r;null!==(t=n._enriched)&&void 0!==t&&t.dodatecne_dokumenty&&Array.isArray(n._enriched.dodatecne_dokumenty)&&(e+=n._enriched.dodatecne_dokumenty.length),null!==(o=n._enriched)&&void 0!==o&&o.dodatecne_dokumenty||null===(r=n._enriched)||void 0===r||!r.dodatecne_dokumenty_count||(e+=n._enriched.dodatecne_dokumenty_count)}),e>0?(0,M.jsxs)(Uo,{$color:"#06b6d4",children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:e}),(0,M.jsx)(Yo,{$color:"#06b6d4",children:(0,M.jsx)(T.g,{icon:$.h8M})})]}),(0,M.jsx)(Jo,{children:"Dodat. dokumenty"})]}):null})(),nd("vecna_kontrola")&&(()=>{let e=0,n=0;return gs.forEach(t=>{var o;null!==(o=t._enriched)&&void 0!==o&&o.vecna_kontrola&&(e++,"OK"!==t._enriched.vecna_kontrola.stav&&"SCHVALENO"!==t._enriched.vecna_kontrola.stav&&!0!==t._enriched.vecna_kontrola.provedena||n++),!0!==t.vecna_kontrola&&!0!==t.vecna_spravnost||(e++,n++)}),e>0?(0,M.jsxs)(Uo,{$color:"#10b981",title:"Schv\xe1leno: ".concat(n," z ").concat(e),children:[(0,M.jsxs)(Go,{children:[(0,M.jsxs)(Ho,{children:[n,"/",e]}),(0,M.jsx)(Yo,{$color:"#10b981",children:(0,M.jsx)(T.g,{icon:$.SGM})})]}),(0,M.jsx)(Jo,{children:"V\u011bcn\xe1 kontrola"})]}):null})(),nd("registr_smluv")&&(()=>{let e=0,n=0;return gs.forEach(t=>{var o,r;null!==(o=t._enriched)&&void 0!==o&&o.registr_smluv&&(e++,"AKTIVNI"!==t._enriched.registr_smluv.stav&&!0!==t._enriched.registr_smluv.aktivni||n++),(t.cislo_smlouvy||null!==(r=t._enriched)&&void 0!==r&&r.cislo_smlouvy)&&(e++,n++)}),e>0?(0,M.jsxs)(Uo,{$color:"#0ea5e9",title:"Aktivn\xedch: ".concat(n," z ").concat(e),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:e}),(0,M.jsx)(Yo,{$color:"#0ea5e9",children:(0,M.jsx)(T.g,{icon:$.IJd})})]}),(0,M.jsx)(Jo,{children:"Registr smluv"})]}):null})(),nd("faze_dokonceni")&&(()=>{let e=0,n=0;return gs.forEach(t=>{var o,r,a;(null!==(o=t._enriched)&&void 0!==o&&o.faze_dokonceni||t.dokonceno)&&(e++,1!==t.dokonceno&&"DOKONCENO"!==(null===(r=t._enriched)||void 0===r||null===(a=r.faze_dokonceni)||void 0===a?void 0:a.stav)||n++)}),e>0?(0,M.jsxs)(Uo,{$color:"#ec4899",title:"Dokon\u010deno: ".concat(n," z ").concat(e),children:[(0,M.jsxs)(Go,{children:[(0,M.jsxs)(Ho,{children:[n,"/",e]}),(0,M.jsx)(Yo,{$color:"#ec4899",children:(0,M.jsx)(T.g,{icon:$.KMJ})})]}),(0,M.jsx)(Jo,{children:"F\xe1ze dokon\u010den\xed"})]}):null})()]}):At?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(Uo,{$color:j.TOTAL.dark,children:(0,M.jsxs)("div",{style:{width:"100%"},children:[(0,M.jsxs)(Ho,{style:{textAlign:"left"},children:[Math.round(rs.totalAmount).toLocaleString("cs-CZ"),"\xa0K\u010d"]}),(0,M.jsxs)(Jo,{style:{textAlign:"left"},children:["Celkov\xe1 cena s DPH za obdob\xed (",rs.total,")"]}),(()=>{if((Lt||Array.isArray($t)&&$t.length>0||Pt||Gt||Xt||Qt||no||Object.values(xo).some(e=>e))&&gs.length<ve.length){const e=gs.reduce((e,n)=>{const t=os(n);return e+(isNaN(t)?0:t)},0);return(0,M.jsxs)("div",{style:{marginTop:"0.5rem",paddingTop:"0.5rem",borderTop:"1px solid rgba(100, 116, 139, 0.2)"},children:[(0,M.jsxs)("div",{style:{fontSize:"1rem",fontWeight:"700",color:"#f59e0b",textAlign:"left",marginBottom:"0.125rem"},children:[Math.round(e).toLocaleString("cs-CZ"),"\xa0K\u010d"]}),(0,M.jsxs)("div",{style:{fontSize:"0.65rem",fontWeight:"600",color:"#f59e0b",textAlign:"left",paddingBottom:"0.5rem",borderBottom:"1px solid rgba(100, 116, 139, 0.2)"},children:["Celkov\xe1 cena s DPH za vybran\xe9 (",gs.filter(e=>!e.isDraft&&!e.isLocalConcept).length,")"]})]})}return null})()]})}),(0,M.jsxs)(Uo,{$color:"#2196f3",children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:gs.filter(e=>!e.isDraft&&!e.isLocalConcept).length}),(0,M.jsx)(Yo,{$color:"#2196f3",children:(0,M.jsx)(T.g,{icon:$.h8M})})]}),(0,M.jsx)(Jo,{children:"Po\u010det objedn\xe1vek"})]}),rs.ke_schvaleni>0&&(0,M.jsxs)(Uo,{$color:j.KE_SCHVALENI.dark,$clickable:!0,$isActive:"ke_schvaleni"===Nt,onClick:()=>Ys("ke_schvaleni"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.ke_schvaleni}),(0,M.jsx)(Yo,{$color:j.KE_SCHVALENI.dark,children:(0,M.jsx)(T.g,{icon:(0,Ro.cR)("ke_schvaleni")})})]}),(0,M.jsx)(Jo,{children:"Ke schv\xe1len\xed"})]}),rs.schvalena>0&&(0,M.jsxs)(Uo,{$color:j.SCHVALENA.dark,$clickable:!0,$isActive:"schvalena"===Nt,onClick:()=>Ys("schvalena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.schvalena}),(0,M.jsx)(Yo,{$color:j.SCHVALENA.dark,children:(0,M.jsx)(T.g,{icon:(0,Ro.cR)("schvalena")})})]}),(0,M.jsx)(Jo,{children:"Schv\xe1len\xe1"})]}),rs.rozpracovana>0&&(0,M.jsxs)(Uo,{$color:j.ROZPRACOVANA.dark,$clickable:!0,$isActive:"rozpracovana"===Nt,onClick:()=>Ys("rozpracovana"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.rozpracovana}),(0,M.jsx)(Yo,{$color:j.ROZPRACOVANA.dark,children:(0,M.jsx)(T.g,{icon:(0,Ro.cR)("rozpracovana")})})]}),(0,M.jsx)(Jo,{children:"Rozpracovan\xe1"})]}),rs.odeslana>0&&(0,M.jsxs)(Uo,{$color:j.ODESLANA.dark,$clickable:!0,$isActive:"odeslana"===Nt,onClick:()=>Ys("odeslana"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.odeslana}),(0,M.jsx)(Yo,{$color:j.ODESLANA.dark,children:(0,M.jsx)(T.g,{icon:(0,Ro.cR)("odeslana")})})]}),(0,M.jsx)(Jo,{children:"Odeslan\xe1 dodavateli"})]}),rs.potvrzena>0&&(0,M.jsxs)(Uo,{$color:j.POTVRZENA.dark,$clickable:!0,$isActive:"potvrzena"===Nt,onClick:()=>Ys("potvrzena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.potvrzena}),(0,M.jsx)(Yo,{$color:j.POTVRZENA.dark,children:(0,M.jsx)(T.g,{icon:(0,Ro.cR)("potvrzena")})})]}),(0,M.jsx)(Jo,{children:"Potvrzen\xe1 dodavatelem"})]}),rs.k_uverejneni_do_registru>0&&(0,M.jsxs)(Uo,{$color:j.K_UVEREJNENI_DO_REGISTRU.dark,$clickable:!0,$isActive:"k_uverejneni_do_registru"===Nt,onClick:()=>Ys("k_uverejneni_do_registru"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.k_uverejneni_do_registru}),(0,M.jsx)(Yo,{$color:j.K_UVEREJNENI_DO_REGISTRU.dark,children:(0,M.jsx)(T.g,{icon:(0,Ro.cR)("k_uverejneni_do_registru")})})]}),(0,M.jsx)(Jo,{children:"Ke zve\u0159ejn\u011bn\xed"})]}),rs.uverejnena>0&&(0,M.jsxs)(Uo,{$color:j.UVEREJNENA.dark,$clickable:!0,$isActive:"uverejnena"===Nt,onClick:()=>Ys("uverejnena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.uverejnena}),(0,M.jsx)(Yo,{$color:j.UVEREJNENA.dark,children:(0,M.jsx)(T.g,{icon:(0,Ro.cR)("uverejnena")})})]}),(0,M.jsx)(Jo,{children:"Zve\u0159ejn\u011bno"})]}),rs.vecna_spravnost>0&&(0,M.jsxs)(Uo,{$color:j.VECNA_SPRAVNOST.dark,$clickable:!0,$isActive:"vecna_spravnost"===Nt,onClick:()=>Ys("vecna_spravnost"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.vecna_spravnost}),(0,M.jsx)(Yo,{$color:j.VECNA_SPRAVNOST.dark,children:(0,M.jsx)(T.g,{icon:(0,Ro.cR)("vecna_spravnost")})})]}),(0,M.jsx)(Jo,{children:"V\u011bcn\xe1 spr\xe1vnost"})]}),rs.dokoncena>0&&(0,M.jsxs)(Uo,{$color:j.DOKONCENA.dark,$clickable:!0,$isActive:"dokoncena"===Nt,onClick:()=>Ys("dokoncena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.dokoncena}),(0,M.jsx)(Yo,{$color:j.DOKONCENA.dark,children:"\ud83c\udfaf"})]}),(0,M.jsx)(Jo,{children:"Dokon\u010den\xe1"})]}),rs.withInvoices>0&&(0,M.jsxs)(Uo,{$color:j.WITH_INVOICES.dark,$clickable:!0,$isActive:co,onClick:Xs,children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.withInvoices}),(0,M.jsx)(Yo,{$color:j.WITH_INVOICES.dark,children:(0,M.jsx)(T.g,{icon:$.p4e})})]}),(0,M.jsx)(Jo,{children:"S fakturou"})]}),rs.withAttachments>0&&(0,M.jsxs)(Uo,{$color:j.WITH_ATTACHMENTS.dark,$clickable:!0,$isActive:vo,onClick:qs,children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.withAttachments}),(0,M.jsx)(Yo,{$color:j.WITH_ATTACHMENTS.dark,children:(0,M.jsx)(T.g,{icon:$.WMI})})]}),(0,M.jsx)(Jo,{children:"S p\u0159\xedlohami"})]}),rs.mimoradneUdalosti>0&&(0,M.jsxs)(Uo,{$color:"#dc2626",$clickable:!0,$isActive:lo,onClick:Qs,children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.mimoradneUdalosti}),(0,M.jsx)(Yo,{$color:"#dc2626",children:(0,M.jsx)(T.g,{icon:$.b6I})})]}),(0,M.jsx)(Jo,{children:"Mimo\u0159\xe1dn\xe9 ud\xe1losti"})]}),(null===X||void 0===X||null===(R=X.roles)||void 0===R?void 0:R.some(e=>"SUPERADMIN"===e.kod_role||"ADMINISTRATOR"===e.kod_role))&&(()=>{const e=parseInt(Y,10),n=gs.filter(n=>{const t=n.uzivatel_id===e,o=n.garant_uzivatel_id===e,r=n.schvalovatel_id===e,a=n.prikazce_id===e;return t||o||r||a}).length;return(0,M.jsxs)(Uo,{$color:"#7c3aed",$clickable:!0,$isActive:Yi,onClick:td,children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:n}),(0,M.jsx)(Yo,{$color:"#7c3aed",children:(0,M.jsx)(T.g,{icon:$.X46})})]}),(0,M.jsx)(Jo,{children:"Moje objedn\xe1vky"})]})})()]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(Ko,{$color:j.TOTAL.dark,children:[(0,M.jsxs)("div",{children:[(0,M.jsxs)(Xo,{children:[Math.round(rs.totalAmount).toLocaleString("cs-CZ"),"\xa0K\u010d"]}),(0,M.jsxs)(qo,{children:["Celkov\xe1 cena s DPH za obdob\xed (",rs.total,")"]}),(()=>{if((Lt||Array.isArray($t)&&$t.length>0||Pt||Gt||Xt||Qt||no||Object.values(xo).some(e=>e))&&gs.length<ve.length){const e=gs.reduce((e,n)=>{const t=os(n);return e+(isNaN(t)?0:t)},0);return(0,M.jsxs)("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid rgba(100, 116, 139, 0.2)"},children:[(0,M.jsxs)("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#f59e0b",textAlign:"center",marginBottom:"0.25rem"},children:[Math.round(e).toLocaleString("cs-CZ"),"\xa0K\u010d"]}),(0,M.jsxs)("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#f59e0b",textAlign:"center",paddingBottom:"0.75rem",borderBottom:"1px solid rgba(100, 116, 139, 0.2)"},children:["Celkov\xe1 cena s DPH za vybran\xe9 (",gs.length,")"]})]})}return null})()]}),(0,M.jsxs)(Qo,{children:[(0,M.jsxs)(er,{$color:"#d97706",$bg:"rgba(217, 119, 6, 0.08)",children:[(0,M.jsx)(nr,{$color:"#92400e",children:"Rozpracovan\xe9"}),(0,M.jsxs)(tr,{children:[Math.round(gs.reduce((e,n)=>{const t=ns(n),o=["STORNOVA","ZAMITNUTA","ZRUSENA","CANCELLED","SMAZANA"].includes(t),r=["DOKONCENA","VYRIZENA","COMPLETED"].includes(t);if(!o&&!r){const t=os(n);return e+(isNaN(t)?0:t)}return e},0)).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]}),(0,M.jsxs)(er,{$color:"#059669",$bg:"rgba(5, 150, 105, 0.08)",children:[(0,M.jsx)(nr,{$color:"#065f46",children:"Dokon\u010den\xe9"}),(0,M.jsxs)(tr,{children:[Math.round(gs.reduce((e,n)=>{const t=ns(n);if(["DOKONCENA","VYRIZENA","COMPLETED"].includes(t)){const t=os(n);return e+(isNaN(t)?0:t)}return e},0)).toLocaleString("cs-CZ"),"\xa0K\u010d"]})]})]})]}),(0,M.jsxs)(Uo,{$color:"#2196f3",children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:gs.filter(e=>!e.isDraft&&!e.isLocalConcept).length}),(0,M.jsx)(Yo,{$color:"#2196f3",children:(0,M.jsx)(T.g,{icon:$.h8M})})]}),(0,M.jsx)(Jo,{children:"Po\u010det objedn\xe1vek"})]}),nd("nova")&&(0,M.jsxs)(Uo,{$color:j.NOVA.dark,$clickable:!0,$isActive:"nova"===Nt,onClick:()=>Ys("nova"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.nova}),(0,M.jsx)(Yo,{children:Wo("nova")})]}),(0,M.jsx)(Jo,{children:"Nov\xe1 / Koncept"})]}),nd("ke_schvaleni")&&(0,M.jsxs)(Uo,{$color:j.KE_SCHVALENI.dark,$clickable:!0,$isActive:"ke_schvaleni"===Nt,onClick:()=>Ys("ke_schvaleni"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.ke_schvaleni}),(0,M.jsx)(Yo,{children:Wo("ke_schvaleni")})]}),(0,M.jsx)(Jo,{children:"Ke schv\xe1len\xed"})]}),nd("schvalena")&&(0,M.jsxs)(Uo,{$color:j.SCHVALENA.dark,$clickable:!0,$isActive:"schvalena"===Nt,onClick:()=>Ys("schvalena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.schvalena}),(0,M.jsx)(Yo,{children:Wo("schvalena")})]}),(0,M.jsx)(Jo,{children:"Schv\xe1len\xe1"})]}),nd("zamitnuta")&&(0,M.jsxs)(Uo,{$color:j.ZAMITNUTA.dark,$clickable:!0,$isActive:"zamitnuta"===Nt,onClick:()=>Ys("zamitnuta"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.zamitnuta}),(0,M.jsx)(Yo,{children:Wo("zamitnuta")})]}),(0,M.jsx)(Jo,{children:"Zam\xedtnut\xe1"})]}),nd("rozpracovana")&&(0,M.jsxs)(Uo,{$color:j.ROZPRACOVANA.dark,$clickable:!0,$isActive:"rozpracovana"===Nt,onClick:()=>Ys("rozpracovana"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.rozpracovana}),(0,M.jsx)(Yo,{children:Wo("rozpracovana")})]}),(0,M.jsx)(Jo,{children:"Rozpracovan\xe1"})]}),nd("odeslana_dodavateli")&&(0,M.jsxs)(Uo,{$color:j.ODESLANA.dark,$clickable:!0,$isActive:"odeslana"===Nt,onClick:()=>Ys("odeslana"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.odeslana}),(0,M.jsx)(Yo,{children:Wo("odeslana")})]}),(0,M.jsx)(Jo,{children:"Odeslan\xe1 dodavateli"})]}),nd("potvrzena_dodavatelem")&&(0,M.jsxs)(Uo,{$color:j.POTVRZENA.dark,$clickable:!0,$isActive:"potvrzena"===Nt,onClick:()=>Ys("potvrzena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.potvrzena}),(0,M.jsx)(Yo,{children:Wo("potvrzena")})]}),(0,M.jsx)(Jo,{children:"Potvrzen\xe1 dodavatelem"})]}),nd("k_uverejneni_do_registru")&&(0,M.jsxs)(Uo,{$color:j.K_UVEREJNENI_DO_REGISTRU.dark,$clickable:!0,$isActive:"k_uverejneni_do_registru"===Nt,onClick:()=>Ys("k_uverejneni_do_registru"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.k_uverejneni_do_registru}),(0,M.jsx)(Yo,{children:Wo("k_uverejneni_do_registru")})]}),(0,M.jsx)(Jo,{children:"Ke zve\u0159ejn\u011bn\xed"})]}),nd("uverejnena")&&(0,M.jsxs)(Uo,{$color:j.UVEREJNENA.dark,$clickable:!0,$isActive:"uverejnena"===Nt,onClick:()=>Ys("uverejnena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.uverejnena}),(0,M.jsx)(Yo,{children:Wo("uverejnena")})]}),(0,M.jsx)(Jo,{children:"Zve\u0159ejn\u011bno"})]}),nd("ceka_na_potvrzeni")&&(0,M.jsxs)(Uo,{$color:j.CEKA_POTVRZENI.dark,$clickable:!0,$isActive:"ceka_potvrzeni"===Nt,onClick:()=>Ys("ceka_potvrzeni"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.ceka_potvrzeni}),(0,M.jsx)(Yo,{children:Wo("ceka_potvrzeni")})]}),(0,M.jsx)(Jo,{children:"\u010cek\xe1 na potvrzen\xed"})]}),nd("ceka_se")&&(0,M.jsxs)(Uo,{$color:j.CEKA_SE.dark,$clickable:!0,$isActive:"ceka_se"===Nt,onClick:()=>Ys("ceka_se"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.ceka_se}),(0,M.jsx)(Yo,{children:Wo("ceka_se")})]}),(0,M.jsx)(Jo,{children:"\u010cek\xe1 se"})]}),nd("vecna_spravnost")&&(0,M.jsxs)(Uo,{$color:j.VECNA_SPRAVNOST.dark,$clickable:!0,$isActive:"vecna_spravnost"===Nt,onClick:()=>Ys("vecna_spravnost"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.vecna_spravnost}),(0,M.jsx)(Yo,{children:Wo("vecna_spravnost")})]}),(0,M.jsx)(Jo,{children:"V\u011bcn\xe1 spr\xe1vnost"})]}),nd("dokoncena")&&(0,M.jsxs)(Uo,{$color:j.DOKONCENA.dark,$clickable:!0,$isActive:"dokoncena"===Nt,onClick:()=>Ys("dokoncena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.dokoncena}),(0,M.jsx)(Yo,{children:Wo("dokoncena")})]}),(0,M.jsx)(Jo,{children:"Dokon\u010den\xe1"})]}),nd("zrusena")&&(0,M.jsxs)(Uo,{$color:j.ZRUSENA.dark,$clickable:!0,$isActive:"zrusena"===Nt,onClick:()=>Ys("zrusena"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.zrusena}),(0,M.jsx)(Yo,{children:Wo("zrusena")})]}),(0,M.jsx)(Jo,{children:"Zru\u0161en\xe1"})]}),nd("smazana")&&(0,M.jsxs)(Uo,{$color:j.SMAZANA.dark,$clickable:!0,$isActive:"smazana"===Nt,onClick:()=>Ys("smazana"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.smazana}),(0,M.jsx)(Yo,{children:Wo("smazana")})]}),(0,M.jsx)(Jo,{children:"Smazan\xe1"})]}),nd("archivovano")&&(0,M.jsxs)(Uo,{$color:j.ARCHIVOVANO.dark,$clickable:!0,$isActive:"archivovano"===Nt,onClick:()=>Ys("archivovano"),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.archivovano}),(0,M.jsx)(Yo,{children:Wo("archivovano")})]}),(0,M.jsx)(Jo,{children:"Archivov\xe1no / Import"})]}),nd("s_fakturou")&&(0,M.jsxs)(Uo,{$color:j.WITH_INVOICES.dark,$clickable:!0,$isActive:co,onClick:Xs,children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.withInvoices}),(0,M.jsx)(Yo,{children:"\ud83d\udcc4"})]}),(0,M.jsx)(Jo,{children:"S fakturou"})]}),nd("s_prilohami")&&(0,M.jsxs)(Uo,{$color:j.WITH_ATTACHMENTS.dark,$clickable:!0,$isActive:vo,onClick:qs,children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.withAttachments}),(0,M.jsx)(Yo,{children:"\ud83d\udcce"})]}),(0,M.jsx)(Jo,{children:"S p\u0159\xedlohami"})]}),nd("mimoradne_udalosti")&&(0,M.jsxs)(Uo,{$color:"#dc2626",$clickable:!0,$isActive:lo,onClick:Qs,children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:rs.mimoradneUdalosti}),(0,M.jsx)(Yo,{$color:"#dc2626",children:(0,M.jsx)(T.g,{icon:$.b6I})})]}),(0,M.jsx)(Jo,{children:"Mimo\u0159\xe1dn\xe9 ud\xe1losti"})]}),nd("moje_objednavky")&&(null===X||void 0===X||null===(D=X.roles)||void 0===D?void 0:D.some(e=>"SUPERADMIN"===e.kod_role||"ADMINISTRATOR"===e.kod_role))&&(()=>{const e=parseInt(Y,10),n=gs.filter(n=>{const t=n.uzivatel_id===e,o=n.garant_uzivatel_id===e,r=n.schvalovatel_id===e,a=n.prikazce_id===e;return t||o||r||a}).length;return(0,M.jsxs)(Uo,{$color:"#7c3aed",$clickable:!0,$isActive:Yi,onClick:td,children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:n}),(0,M.jsx)(Yo,{$color:"#7c3aed",children:(0,M.jsx)(T.g,{icon:$.X46})})]}),(0,M.jsx)(Jo,{children:"Moje objedn\xe1vky"})]})})(),nd("dodatecne_dokumenty")&&(()=>{let e=0;return gs.forEach(n=>{var t,o,r;null!==(t=n._enriched)&&void 0!==t&&t.dodatecne_dokumenty&&Array.isArray(n._enriched.dodatecne_dokumenty)&&(e+=n._enriched.dodatecne_dokumenty.length),null!==(o=n._enriched)&&void 0!==o&&o.dodatecne_dokumenty||null===(r=n._enriched)||void 0===r||!r.dodatecne_dokumenty_count||(e+=n._enriched.dodatecne_dokumenty_count)}),e>0?(0,M.jsxs)(Uo,{$color:"#06b6d4",children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:e}),(0,M.jsx)(Yo,{$color:"#06b6d4",children:(0,M.jsx)(T.g,{icon:$.h8M})})]}),(0,M.jsx)(Jo,{children:"Dodat. dokumenty"})]}):null})(),nd("vecna_kontrola")&&(()=>{let e=0,n=0;return gs.forEach(t=>{var o;null!==(o=t._enriched)&&void 0!==o&&o.vecna_kontrola&&(e++,"OK"!==t._enriched.vecna_kontrola.stav&&"SCHVALENO"!==t._enriched.vecna_kontrola.stav&&!0!==t._enriched.vecna_kontrola.provedena||n++),!0!==t.vecna_kontrola&&!0!==t.vecna_spravnost||(e++,n++)}),e>0?(0,M.jsxs)(Uo,{$color:"#10b981",title:"Schv\xe1leno: ".concat(n," z ").concat(e),children:[(0,M.jsxs)(Go,{children:[(0,M.jsxs)(Ho,{children:[n,"/",e]}),(0,M.jsx)(Yo,{$color:"#10b981",children:(0,M.jsx)(T.g,{icon:$.SGM})})]}),(0,M.jsx)(Jo,{children:"V\u011bcn\xe1 kontrola"})]}):null})(),nd("registr_smluv")&&(()=>{let e=0,n=0;return gs.forEach(t=>{var o,r;null!==(o=t._enriched)&&void 0!==o&&o.registr_smluv&&(e++,"AKTIVNI"!==t._enriched.registr_smluv.stav&&!0!==t._enriched.registr_smluv.aktivni||n++),(t.cislo_smlouvy||null!==(r=t._enriched)&&void 0!==r&&r.cislo_smlouvy)&&(e++,n++)}),e>0?(0,M.jsxs)(Uo,{$color:"#0ea5e9",title:"Aktivn\xedch: ".concat(n," z ").concat(e),children:[(0,M.jsxs)(Go,{children:[(0,M.jsx)(Ho,{children:e}),(0,M.jsx)(Yo,{$color:"#0ea5e9",children:(0,M.jsx)(T.g,{icon:$.IJd})})]}),(0,M.jsx)(Jo,{children:"Registr smluv"})]}):null})(),nd("faze_dokonceni")&&(()=>{let e=0,n=0;return gs.forEach(t=>{var o,r,a;(null!==(o=t._enriched)&&void 0!==o&&o.faze_dokonceni||t.dokonceno)&&(e++,1!==t.dokonceno&&"DOKONCENO"!==(null===(r=t._enriched)||void 0===r||null===(a=r.faze_dokonceni)||void 0===a?void 0:a.stav)||n++)}),e>0?(0,M.jsxs)(Uo,{$color:"#ec4899",title:"Dokon\u010deno: ".concat(n," z ").concat(e),children:[(0,M.jsxs)(Go,{children:[(0,M.jsxs)(Ho,{children:[n,"/",e]}),(0,M.jsx)(Yo,{$color:"#ec4899",children:(0,M.jsx)(T.g,{icon:$.KMJ})})]}),(0,M.jsx)(Jo,{children:"F\xe1ze dokon\u010den\xed"})]}):null})()]})})]}),ft&&(0,M.jsxs)(xr,{children:[(0,M.jsxs)(br,{children:[(0,M.jsxs)("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,M.jsx)(T.g,{icon:$.mRM,style:{color:"#3b82f6"}}),"Filtry a vyhled\xe1v\xe1n\xed"]}),(0,M.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,M.jsx)(So.z,{text:"Vymazat v\u0161echny filtry a zobrazit v\u0161echny objedn\xe1vky",icon:"warning",preferredPosition:"bottom",children:(0,M.jsxs)(Fo,{onClick:()=>{Tt(""),Vt([]),Ft(""),Wt([]),Zt([]),Ut([]),Yt(""),qt(""),eo(""),to(""),Et(null),bo({dt_objednavky:"",cislo_objednavky:"",predmet:"",objednatel:"",stav_objednavky:"",max_cena_s_dph:"",garant:"",schvalovatel:""});const e=Y||"anon";localStorage.removeItem("orders25List_globalFilter"),localStorage.removeItem("orders25List_statusFilter"),localStorage.removeItem("orders25List_userFilter"),localStorage.removeItem("orders25List_selectedObjednatel"),localStorage.removeItem("orders25List_selectedGarant"),localStorage.removeItem("orders25List_selectedSchvalovatel"),localStorage.removeItem("orders25_dateFrom_".concat(e)),localStorage.removeItem("orders25_dateTo_".concat(e)),localStorage.removeItem("orders25List_amountFrom"),localStorage.removeItem("orders25List_amountTo"),localStorage.removeItem("orders25List_activeStatusFilter")},style:{backgroundColor:"#dc2626",borderColor:"#dc2626",color:"white"},children:[(0,M.jsx)(T.g,{icon:$.IP$}),"Vymazat filtry"]})}),(0,M.jsx)(So.z,{text:"Na\u010d\xedst vlastn\xed filtr stav\u016f z va\u0161ich nastaven\xed (Profil \u2192 Nastaven\xed \u2192 V\xfdchoz\xed filtry stav\u016f objedn\xe1vek)",icon:"info",preferredPosition:"bottom",children:(0,M.jsxs)(Fo,{onClick:()=>{try{const e=ie("orders25List_statusFilter");localStorage.removeItem(e);const n=(0,v.loadSettingsFromLocalStorage)(parseInt(Y,10));if(null!==n&&void 0!==n&&n.vychozi_filtry_stavu_objednavek&&Array.isArray(n.vychozi_filtry_stavu_objednavek)){const e=n.vychozi_filtry_stavu_objednavek;Vt(e),se("orders25List_statusFilter",e),te&&te("Na\u010dten vlastn\xed filtr stav\u016f (".concat(e.length," ").concat(1===e.length?"stav":e.length<5?"stavy":"stav\u016f",")"),"success")}else te&&te("Vlastn\xed filtr stav\u016f nen\xed nastaven. Nastavte ho v Profilu \u2192 Nastaven\xed.","info")}catch(e){console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed vlastn\xedho filtru:",e),te&&te("Chyba p\u0159i na\u010d\xedt\xe1n\xed vlastn\xedho filtru stav\u016f","error")}},style:{backgroundColor:(()=>{try{const e=(0,v.loadSettingsFromLocalStorage)(parseInt(Y,10)),n=null===e||void 0===e?void 0:e.vychozi_filtry_stavu_objednavek;if(n&&Array.isArray(n)&&n.length>0&&$t.length===n.length&&$t.every(e=>n.includes(e)))return"#3b82f6"}catch(e){}return"transparent"})(),borderColor:"#3b82f6",color:(()=>{try{const e=(0,v.loadSettingsFromLocalStorage)(parseInt(Y,10)),n=null===e||void 0===e?void 0:e.vychozi_filtry_stavu_objednavek;if(n&&Array.isArray(n)&&n.length>0&&$t.length===n.length&&$t.every(e=>n.includes(e)))return"white"}catch(e){}return"#3b82f6"})()},children:[(0,M.jsx)(T.g,{icon:$.mRM}),"Vlastn\xed"]})}),(0,M.jsx)(So.z,{text:bt?"Skr\xfdt roz\u0161\xed\u0159en\xe9 filtry (zobrazit pouze z\xe1kladn\xed vyhled\xe1v\xe1n\xed)":"Zobrazit roz\u0161\xed\u0159en\xe9 filtry (stav, fakturace, u\u017eivatel\xe9, lokality...)",icon:"info",preferredPosition:"bottom",children:(0,M.jsxs)(Fo,{onClick:()=>{const e=!bt;jt(e),se("orders25List_showFilters",e)},children:[(0,M.jsx)(T.g,{icon:bt?$.w2A:$.Jt$}),bt?"Skr\xfdt filtry":"Roz\u0161\xed\u0159en\xfd filtr"]})}),(0,M.jsx)(So.z,{text:"Skr\xfdt cel\xfd panel filtr\u016f a vyhled\xe1v\xe1n\xed",icon:"info",preferredPosition:"bottom",children:(0,M.jsxs)(Fo,{onClick:()=>{xt(!1),se("orders25List_showFiltersPanel",!1)},children:[(0,M.jsx)(T.g,{icon:$.GRI}),"Skr\xfdt"]})})]})]}),(0,M.jsxs)(kr,{children:[(0,M.jsxs)(_r,{children:[(0,M.jsx)(T.g,{icon:$.MjD}),"Fulltext vyhled\xe1v\xe1n\xed",(0,M.jsxs)(lr,{title:"Vyhled\xe1v\xe1n\xed bez diakritiky a bez rozli\u0161en\xed velikosti p\xedsmen. \ud83d\udca1 Tip: SHIFT+Enter rozbal\xed/zabal\xed v\u0161echny \u0159\xe1dky se shodou vyhled\xe1v\xe1n\xed",children:["\ud83d\udca1 Bez diakritiky \u2022 ",(0,M.jsx)("kbd",{children:"Shift"})," + ",(0,M.jsx)("kbd",{children:"Enter"})," rozbal\xed \u0159\xe1dky se shodou vyhled\xe1v\xe1n\xed"]})]}),(0,M.jsxs)(Ar,{children:[(0,M.jsx)(T.g,{icon:$.MjD}),(0,M.jsx)(Sr,{type:"text",placeholder:"Hledat v eviden\u010dn\xedm \u010d\xedsle, p\u0159edm\u011btu, objednateli...",value:Lt,onChange:e=>Tt(e.target.value),onKeyDown:e=>{if("Enter"===e.key&&e.shiftKey&&(e.preventDefault(),gs&&gs.length>0)){if(gs.every((e,n)=>$l[n]))Vl({}),null===te||void 0===te||te("Zabaleno ".concat(gs.length," ").concat(1===gs.length?"objedn\xe1vka":gs.length<5?"objedn\xe1vky":"objedn\xe1vek"),{type:"info",duration:2e3});else{const e={};gs.forEach((n,t)=>{e[t]=!0}),Vl(e),null===te||void 0===te||te("Rozbaleno ".concat(gs.length," ").concat(1===gs.length?"objedn\xe1vka":gs.length<5?"objedn\xe1vky":"objedn\xe1vek"),{type:"success",duration:2e3})}}},hasIcon:!0,title:"Fulltextov\xe9 vyhled\xe1v\xe1n\xed bez diakritiky a bez rozli\u0161en\xed velikosti p\xedsmen.\n\ud83d\udca1 Tip: SHIFT+Enter pro rozbalen\xed/zabalen\xed v\u0161ech v\xfdsledk\u016f"}),Lt&&(0,M.jsx)(wr,{onClick:()=>Tt(""),title:"Vymazat",children:(0,M.jsx)(T.g,{icon:$.GRI})})]})]}),bt&&(0,M.jsxs)(jr,{children:[(0,M.jsxs)(kr,{children:[(0,M.jsxs)(_r,{children:[(0,M.jsxs)(yr,{children:[(0,M.jsx)(T.g,{icon:$.X46}),"Objednatel"]}),(0,M.jsx)(zr,{type:"button",visible:Mt.length>0,onClick:()=>{Wt([]),ko(e=>(0,o.A)((0,o.A)({},e),{},{objednatel:""})),se("orders25List_selectedObjednatel",[])},title:"Vymazat filtr",children:(0,M.jsx)(T.g,{icon:$.GRI})})]}),(0,M.jsx)(F.y,{children:(0,M.jsx)(Bi,{field:"selectedObjednatel",value:Mt,onChange:e=>{const n=e.target.options,t=[];for(let o=0;o<n.length;o++)n[o].selected&&n[o].value&&t.push(n[o].value);if(Wt(t),se("orders25List_selectedObjednatel",t),0===t.length)ko(e=>(0,o.A)((0,o.A)({},e),{},{objednatel:""}));else{const e=t.join("|");ko(n=>(0,o.A)((0,o.A)({},n),{},{objednatel:e}))}},options:Nl,placeholder:"Vyberte objednatele...",icon:(0,M.jsx)(T.g,{icon:$.X46})})})]}),(0,M.jsxs)(kr,{children:[(0,M.jsxs)(_r,{children:[(0,M.jsxs)(yr,{children:[(0,M.jsx)(T.g,{icon:$.X46}),"Garant"]}),(0,M.jsx)(zr,{type:"button",visible:Bt.length>0,onClick:()=>{Zt([]),ko(e=>(0,o.A)((0,o.A)({},e),{},{garant:""})),se("orders25List_selectedGarant",[])},title:"Vymazat filtr",children:(0,M.jsx)(T.g,{icon:$.GRI})})]}),(0,M.jsx)(F.y,{children:(0,M.jsx)(Bi,{field:"selectedGarant",value:Bt,onChange:e=>{const n=e.target.options,t=[];for(let o=0;o<n.length;o++)n[o].selected&&n[o].value&&t.push(n[o].value);if(Zt(t),se("orders25List_selectedGarant",t),0===t.length)ko(e=>(0,o.A)((0,o.A)({},e),{},{garant:""}));else{const e=t.join("|");ko(n=>(0,o.A)((0,o.A)({},n),{},{garant:e}))}},options:Nl,placeholder:"Vyberte garanty...",icon:(0,M.jsx)(T.g,{icon:$.X46})})})]}),(0,M.jsxs)(kr,{children:[(0,M.jsxs)(_r,{children:[(0,M.jsxs)(yr,{children:[(0,M.jsx)(T.g,{icon:$.X46}),"P\u0159\xedkazce"]}),(0,M.jsx)(zr,{type:"button",visible:Ht.length>0,onClick:()=>{Jt([]),ko(e=>(0,o.A)((0,o.A)({},e),{},{prikazce:""})),se("orders25List_selectedPrikazce",[])},title:"Vymazat filtr",children:(0,M.jsx)(T.g,{icon:$.GRI})})]}),(0,M.jsx)(F.y,{children:(0,M.jsx)(Bi,{field:"selectedPrikazce",value:Ht,onChange:e=>{const n=e.target.options,t=[];for(let o=0;o<n.length;o++)n[o].selected&&n[o].value&&t.push(n[o].value);if(Jt(t),se("orders25List_selectedPrikazce",t),0===t.length)ko(e=>(0,o.A)((0,o.A)({},e),{},{prikazce:""}));else{const e=t.join("|");ko(n=>(0,o.A)((0,o.A)({},n),{},{prikazce:e}))}},options:Cl,placeholder:"Vyberte p\u0159\xedkazce...",icon:(0,M.jsx)(T.g,{icon:$.X46})})})]}),(0,M.jsxs)(kr,{children:[(0,M.jsxs)(_r,{children:[(0,M.jsxs)(yr,{children:[(0,M.jsx)(T.g,{icon:$.V2x}),"Schvalovatel"]}),(0,M.jsx)(zr,{type:"button",visible:Kt.length>0,onClick:()=>{Ut([]),ko(e=>(0,o.A)((0,o.A)({},e),{},{schvalovatel:""})),se("orders25List_selectedSchvalovatel",[])},title:"Vymazat filtr",children:(0,M.jsx)(T.g,{icon:$.GRI})})]}),(0,M.jsx)(F.y,{children:(0,M.jsx)(Bi,{field:"selectedSchvalovatel",value:Kt,onChange:e=>{const n=e.target.options,t=[];for(let o=0;o<n.length;o++)n[o].selected&&n[o].value&&t.push(n[o].value);if(Ut(t),se("orders25List_selectedSchvalovatel",t),0===t.length)ko(e=>(0,o.A)((0,o.A)({},e),{},{schvalovatel:""}));else{const e=t.join("|");ko(n=>(0,o.A)((0,o.A)({},n),{},{schvalovatel:e}))}},options:Cl,placeholder:"Vyberte schvalovatele...",icon:(0,M.jsx)(T.g,{icon:$.V2x})})})]}),(0,M.jsxs)(kr,{children:[(0,M.jsxs)(_r,{children:[(0,M.jsxs)(yr,{children:[(0,M.jsx)(T.g,{icon:$.ITF}),"Stav objedn\xe1vky"]}),(0,M.jsx)(zr,{type:"button",visible:$t.length>0,onClick:()=>{Vt([]),se("orders25List_statusFilter",[])},title:"Vymazat filtr",children:(0,M.jsx)(T.g,{icon:$.GRI})})]}),(0,M.jsx)(F.y,{children:(0,M.jsx)(Bi,{field:"statusFilter",value:$t,onChange:e=>{const n=e.target.options,t=[];for(let o=0;o<n.length;o++)n[o].selected&&n[o].value&&t.push(n[o].value);Vt(t),se("orders25List_statusFilter",t)},options:El,placeholder:"Vyberte stavy...",icon:(0,M.jsx)(T.g,{icon:$.ITF})})})]}),(0,M.jsxs)(Rr,{children:[(0,M.jsxs)(_r,{children:[(0,M.jsxs)(yr,{children:[(0,M.jsx)(T.g,{icon:$.BEE}),"Datum od - do"]}),(0,M.jsx)(zr,{type:"button",visible:Gt||Xt,onClick:()=>{Yt(""),qt("");const e=Y||"anon";localStorage.removeItem("orders25_dateFrom_".concat(e)),localStorage.removeItem("orders25_dateTo_".concat(e))},title:"Vymazat filtr",children:(0,M.jsx)(T.g,{icon:$.GRI})})]}),(0,M.jsxs)(Dr,{children:[(0,M.jsx)(Ir,{children:(0,M.jsx)(Zi,{value:Gt||"",onChange:e=>Yt(e||""),placeholder:"Datum od"})}),(0,M.jsx)(Lr,{children:"\u2014"}),(0,M.jsx)(Ir,{children:(0,M.jsx)(Zi,{value:Xt||"",onChange:e=>qt(e||""),placeholder:"Datum do"})})]})]}),(0,M.jsxs)(Cr,{children:[(0,M.jsxs)(_r,{children:[(0,M.jsxs)(yr,{children:[(0,M.jsx)(T.g,{icon:$.ymQ}),"Cena od - do (K\u010d)"]}),(0,M.jsx)(zr,{type:"button",visible:Qt||no,onClick:()=>{eo(""),to("")},title:"Vymazat filtr",children:(0,M.jsx)(T.g,{icon:$.GRI})})]}),(0,M.jsxs)(Nr,{children:[(0,M.jsxs)(Er,{children:[(0,M.jsx)(T.g,{icon:$.ymQ}),(0,M.jsx)(Sr,{type:"text",placeholder:"0",value:Us(Qt),onChange:e=>{const n=e.target.value,t=Hs(n);eo(t)},hasIcon:!0,style:{textAlign:"right",paddingRight:"2.5rem"}})]}),(0,M.jsx)(Or,{children:"\u2014"}),(0,M.jsxs)(Er,{children:[(0,M.jsx)(T.g,{icon:$.ymQ}),(0,M.jsx)(Sr,{type:"text",placeholder:"\u221e",value:Us(no),onChange:e=>{const n=e.target.value,t=Hs(n);to(t)},hasIcon:!0,style:{textAlign:"right",paddingRight:"2.5rem"}})]})]})]}),(0,M.jsxs)(kr,{children:[(0,M.jsx)(_r,{children:(0,M.jsxs)(yr,{children:[(0,M.jsx)(T.g,{icon:$.IJd}),"Stav registru"]})}),(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,M.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:oo?"600":"400",color:oo?"#f59e0b":"#4b5563"},children:[(0,M.jsx)("input",{type:"checkbox",checked:oo,onChange:e=>{ro(e.target.checked),se("orders25List_filterMaBytZverejneno",e.target.checked)},style:{cursor:"pointer",width:"16px",height:"16px",accentColor:"#f59e0b"}}),(0,M.jsx)("span",{children:"M\xe1 b\xfdt zve\u0159ejn\u011bno"})]}),(0,M.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:ao?"600":"400",color:ao?"#10b981":"#4b5563"},children:[(0,M.jsx)("input",{type:"checkbox",checked:ao,onChange:e=>{io(e.target.checked),se("orders25List_filterByloZverejneno",e.target.checked)},style:{cursor:"pointer",width:"16px",height:"16px",accentColor:"#10b981"}}),(0,M.jsx)("span",{children:"Bylo ji\u017e zve\u0159ejn\u011bno"})]})]})]}),(0,M.jsxs)(kr,{children:[(0,M.jsx)(_r,{children:(0,M.jsxs)(yr,{children:[(0,M.jsx)(T.g,{icon:$.b6I}),"Mimo\u0159\xe1dn\xe9 ud\xe1losti"]})}),(0,M.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:(0,M.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:lo?"600":"400",color:lo?"#dc2626":"#4b5563"},children:[(0,M.jsx)("input",{type:"checkbox",checked:lo,onChange:e=>{so(e.target.checked),se("orders25List_filterMimoradneObjednavky",e.target.checked)},style:{cursor:"pointer",width:"16px",height:"16px",accentColor:"#dc2626"}}),(0,M.jsx)("span",{style:{display:"flex",alignItems:"center",gap:"0.35rem"},children:"Krize / Hav\xe1rie"})]})})]})]})]}),(0,M.jsx)(Kr,{ref:Me,$showLeftShadow:Se,$showRightShadow:Ne,children:(0,M.jsxs)(Ur,{ref:Fe,children:[(0,M.jsxs)(Xr,{children:[(0,M.jsxs)(qr,{children:[xs.getHeaderGroups().map(e=>(0,M.jsx)("tr",{children:e.headers.map(e=>(0,M.jsx)(ea,{onClick:e.column.getCanSort()?e.column.getToggleSortingHandler():void 0,style:{cursor:e.column.getCanSort()?"pointer":"default",width:e.getSize()},children:(0,M.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,Do.Kv)(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&e.column.getIsSorted()&&(0,M.jsx)(T.g,{icon:"asc"===e.column.getIsSorted()?$.w2A:$.Jt$})]})},e.id))},e.id)),(0,M.jsx)("tr",{children:null===(V=xs.getHeaderGroups()[0])||void 0===V?void 0:V.headers.map(e=>(0,M.jsx)(ea,{style:{padding:"0.5rem",backgroundColor:"#f8f9fa",borderTop:"1px solid #e5e7eb"},children:"select"===e.id?(0,M.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"32px"},children:(0,M.jsx)("input",{type:"checkbox",checked:xs.getIsAllRowsSelected(),ref:e=>{e&&(e.indeterminate=xs.getIsSomeRowsSelected()&&!xs.getIsAllRowsSelected())},onChange:xs.getToggleAllRowsSelectedHandler(),style:{cursor:"pointer",width:"18px",height:"18px"},title:xs.getIsAllRowsSelected()?"Zru\u0161it v\xfdb\u011br v\u0161ech":"Vybrat v\u0161e"})}):"expander"===e.id?(0,M.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"32px"},children:(0,M.jsx)(Fr,{onClick:fs,title:xs.getIsSomeRowsExpanded()?"Sbalit v\u0161echny \u0159\xe1dky":"Rozbalit v\u0161echny \u0159\xe1dky",children:(0,M.jsx)(T.g,{icon:xs.getIsSomeRowsExpanded()?$.EZy:$.QLR})})}):"actions"===e.id?(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"3px",height:"32px"},children:[(()=>{const e=xs.getSelectedRowModel().rows.length;if(e>0){const n=xs.getSelectedRowModel().rows.map(e=>e.original),t=n.filter(e=>"Ke schv\xe1len\xed"===e.stav_objednavky).length,o=n.filter(e=>_s(e)).length;return(0,M.jsxs)(M.Fragment,{children:[t>0&&(J("ADMIN")||J("ORDER_APPROVE"))&&(0,M.jsxs)(Fr,{onClick:()=>{const e=n.filter(e=>"Ke schv\xe1len\xed"===e.stav_objednavky);et(e),qn(!0)},title:"Schv\xe1lit ".concat(t," vybran\xfdch objedn\xe1vek (stav Ke schv\xe1len\xed)"),style:{color:"#059669"},children:[(0,M.jsx)(T.g,{icon:$.SGM}),(0,M.jsx)(Pr,{children:t})]}),o>0&&(0,M.jsxs)(Fr,{onClick:()=>{const e=n.filter(e=>_s(e));Un(e);const t={},o={};e.forEach(e=>{t[e.id]=e.schvalovatel_id||e.schvalovatel||null;const n=zs(e);n.length>0&&(o[e.id]=n[0].value)}),Jn(t),Yn(o),Zn(!0)},title:"Generovat DOCX pro ".concat(o," vybran\xfdch objedn\xe1vek (f\xe1ze Rozpracovan\xe1+)"),style:{color:"#0891b2"},children:[(0,M.jsx)(T.g,{icon:$.W1P}),(0,M.jsx)(Pr,{children:o})]}),(0,M.jsxs)(Fr,{onClick:()=>{rt(n),tt(!0)},title:"Smazat ".concat(e," vybran\xfdch objedn\xe1vek"),style:{color:"#dc2626"},children:[(0,M.jsx)(T.g,{icon:$.yLS}),(0,M.jsx)(Pr,{children:e})]})]})}return null})(),(0,M.jsx)(Fr,{onClick:Js,title:"Vymazat filtry sloupc\u016f",children:(0,M.jsx)(T.g,{icon:$.IP$})}),(0,M.jsx)(Fr,{onClick:Gs,title:_o?"Vypnout zv\xfdraz\u0148ov\xe1n\xed \u0159\xe1dk\u016f podle stavu objedn\xe1vky\n(koncepty z\u016fstanou v\u017edy zv\xfdrazn\u011bn\xe9)":"Zapnout zv\xfdraz\u0148ov\xe1n\xed \u0159\xe1dk\u016f podle stavu objedn\xe1vky\n(ka\u017ed\xfd stav m\xe1 svou barvu)",className:_o?"active":"",children:(0,M.jsx)(T.g,{icon:$.fyG})})]}):"dt_objednavky"===e.column.columnDef.accessorKey?(0,M.jsx)("div",{style:{position:"relative"},children:(0,M.jsx)(Zi,{fieldName:"filter_".concat(e.column.columnDef.accessorKey),value:xo[e.column.columnDef.accessorKey]||"",onChange:n=>{const t=(0,o.A)({},xo);t[e.column.columnDef.accessorKey]=n,bo(t)},placeholder:"Datum",variant:"compact"})}):(0,M.jsxs)(Tr,{children:[(0,M.jsx)(T.g,{icon:$.MjD}),(0,M.jsx)(Vr,{type:"text",placeholder:"Hledat ".concat(e.column.columnDef.header,"..."),value:xo[e.column.columnDef.accessorKey]||"",onChange:n=>{const t=(0,o.A)({},xo);t[e.column.columnDef.accessorKey]=n.target.value,bo(t)}}),xo[e.column.columnDef.accessorKey]&&(0,M.jsx)($r,{onClick:()=>{const n=(0,o.A)({},xo);delete n[e.column.columnDef.accessorKey],bo(n)},title:"Vymazat",children:(0,M.jsx)(T.g,{icon:$.GRI})})]})},"filter-".concat(e.id)))})]}),(0,M.jsx)("tbody",{children:0===ve.length?(0,M.jsx)("tr",{children:(0,M.jsx)("td",{colSpan:hs.length,style:{padding:0},children:(0,M.jsxs)(Mr,{children:[(0,M.jsx)(Wr,{children:(0,M.jsx)(T.g,{icon:$.HoF})}),(0,M.jsx)(Br,{children:"Zat\xedm nem\xe1te \u017e\xe1dnou objedn\xe1vku"}),(0,M.jsx)(Zr,{children:'Vytvo\u0159te svou prvn\xed objedn\xe1vku kliknut\xedm na tla\u010d\xedtko "Nov\xe1 objedn\xe1vka" v\xfd\u0161e.'})]})})}):0===xs.getRowModel().rows.length?(0,M.jsx)("tr",{children:(0,M.jsxs)("td",{colSpan:hs.length,style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:[(0,M.jsx)(T.g,{icon:$.mRM,style:{fontSize:"2rem",marginBottom:"1rem",opacity:.5}}),(0,M.jsx)("div",{children:"\u017d\xe1dn\xe9 objedn\xe1vky nevyhovuj\xed nastaven\xfdm filtr\u016fm"})]})}):xs.getRowModel().rows.map((e,n)=>(0,M.jsxs)(a.Fragment,{children:[(0,M.jsx)(Qr,{$order:e.original,$isDraft:e.original.isDraft||!1,$hasLocalChanges:e.original.hasLocalDraftChanges||!1,$showHighlighting:_o,$isHighlighted:go&&(e.original.id===go||e.original.cislo_objednavky===go),onContextMenu:Os,onDoubleClick:()=>ws(e.original),"data-order-id":e.original.cislo_objednavky||e.original.id,"data-order-index":n+Dl*Ol,children:e.getVisibleCells().map(e=>(0,M.jsx)(na,{children:(0,Do.Kv)(e.column.columnDef.cell,e.getContext())},e.id))}),e.getIsExpanded()&&(0,M.jsx)(Qr,{$order:e.original,$showHighlighting:_o,children:(0,M.jsx)(na,{colSpan:hs.length,style:{padding:0,borderBottom:"1px solid #000"},children:ld(e.original)})})]},e.id))})]}),(0,M.jsxs)(ya,{children:[(0,M.jsxs)(za,{children:["Zobrazeno ",xs.getRowModel().rows.length," z ",gs.length," objedn\xe1vek",gs.length!==ve.length&&(0,M.jsxs)("span",{children:[" (filtrov\xe1no z ",ve.length,")"]})]}),(0,M.jsxs)(Aa,{children:[(0,M.jsx)("span",{style:{fontSize:"0.875rem",color:"#64748b",marginRight:"1rem"},children:"Zobrazit:"}),(0,M.jsxs)(Sa,{value:Ol,onChange:e=>{const n=parseInt(e.target.value);Rl(n),se("orders25List_pageSize",n),Il(0),se("orders25List_pageIndex",0)},children:[(0,M.jsx)("option",{value:10,children:"10"}),(0,M.jsx)("option",{value:25,children:"25"}),(0,M.jsx)("option",{value:50,children:"50"}),(0,M.jsx)("option",{value:100,children:"100"}),(0,M.jsx)("option",{value:250,children:"250"})]}),(0,M.jsx)(wa,{onClick:()=>{Yl(),Il(0),se("orders25List_pageIndex",0)},disabled:!xs.getCanPreviousPage(),children:"\xab\xab"}),(0,M.jsx)(wa,{onClick:()=>{Yl();const e=Math.max(0,Dl-1);Il(e),se("orders25List_pageIndex",e)},disabled:!xs.getCanPreviousPage(),children:"\u2039"}),(0,M.jsxs)("span",{style:{fontSize:"0.875rem",color:"#64748b",margin:"0 1rem"},children:["Str\xe1nka ",xs.getState().pagination.pageIndex+1," z ",xs.getPageCount()]}),(0,M.jsx)(wa,{onClick:()=>{Yl();const e=Math.min(bs-1,Dl+1);Il(e),se("orders25List_pageIndex",e)},disabled:!xs.getCanNextPage(),children:"\u203a"}),(0,M.jsx)(wa,{onClick:()=>{Yl();const e=bs-1;Il(e),se("orders25List_pageIndex",e)},disabled:!xs.getCanNextPage(),children:"\xbb\xbb"})]})]})]})}),i.createPortal((0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(Gr,{$visible:ye,$tableHovered:Oe,$arrowHovered:De,onClick:()=>{const e=Fe.current;if(!e)return;const n=.8*e.clientWidth;e.scrollBy({left:-n,behavior:"smooth"})},onMouseEnter:()=>Ie(!0),onMouseLeave:()=>Ie(!1),disabled:!ye,"aria-label":"Scrollovat doleva",children:(0,M.jsx)(T.g,{icon:$.Wzs})}),(0,M.jsx)(Yr,{$visible:Ae,$tableHovered:Oe,$arrowHovered:De,onClick:()=>{const e=Fe.current;if(!e)return;const n=.8*e.clientWidth;e.scrollBy({left:n,behavior:"smooth"})},onMouseEnter:()=>Ie(!0),onMouseLeave:()=>Ie(!1),disabled:!Ae,"aria-label":"Scrollovat doprava",children:(0,M.jsx)(T.g,{icon:$.XkK})})]}),document.body),(0,M.jsxs)(p.A,{isOpen:kn,onClose:()=>{_n(!1),zn(null),wn(null)},onConfirm:()=>{yn?Ss():(No.default.setCurrentUser(Y),No.default.deleteDraft(),localStorage.removeItem("activeOrderEditId"),_n(!1),zn(null),wn(null),"/order-form-25"===window.location.pathname?window.location.href="/order-form-25":W("/order-form-25"))},title:yn?"Potvrzen\xed editace objedn\xe1vky":"Potvrzen\xed vytvo\u0159en\xed nov\xe9 objedn\xe1vky",icon:$.zpE,variant:"warning",confirmText:"Ano, pokra\u010dovat",cancelText:"Ne, zru\u0161it",children:[yn?(0,M.jsxs)("p",{children:["Chyst\xe1te se editovat objedn\xe1vku ",(0,M.jsxs)("strong",{children:['"',(null===yn||void 0===yn?void 0:yn.cislo_objednavky)||(null===yn||void 0===yn?void 0:yn.predmet)||(null===yn||void 0===yn?void 0:yn.ev_cislo)||(null!==yn&&void 0!==yn&&yn.id?"ID ".concat(yn.id):"nezn\xe1m\xe1 objedn\xe1vka"),'"']}),"."]}):(0,M.jsxs)("p",{children:["Chyst\xe1te se vytvo\u0159it ",(0,M.jsx)("strong",{children:"novou objedn\xe1vku"}),"."]}),!1,(()=>{if(!An)return null;try{const e=An.formData||An,n=e.ev_cislo||e.cislo_objednavky||e.predmet||"\u2605 KONCEPT \u2605",t=(0,Co.V5)(An);return(0,M.jsxs)("p",{style:{background:"#fef3c7",padding:"0.75rem",borderRadius:"6px",border:"1px solid #f59e0b",margin:"0.5rem 0"},children:[(0,M.jsx)("strong",{children:"Pozor:"})," M\xe1te rozepracovanou ",t?"novou objedn\xe1vku":"editaci objedn\xe1vky"," ",(0,M.jsx)("strong",{children:n}),". ",yn?"P\u0159epnut\xedm na jinou objedn\xe1vku":"Vytvo\u0159en\xedm nov\xe9 objedn\xe1vky"," p\u0159ijdete o neulo\u017een\xe9 zm\u011bny!"]})}catch(ge){return null}})(),yn?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("p",{children:[(0,M.jsx)("strong",{children:"Varov\xe1n\xed:"})," T\xedmto budou zru\u0161eny v\u0161echny p\u0159\xedpadn\xe9 neulo\u017een\xe9 zm\u011bny v jin\xfdch objedn\xe1vk\xe1ch a m\u016f\u017ee doj\xedt ke ztr\xe1t\u011b dat."]}),(0,M.jsx)("p",{children:"Chcete pokra\u010dovat v editaci?"})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("p",{children:[(0,M.jsx)("strong",{children:"Varov\xe1n\xed:"})," T\xedmto budou zru\u0161eny v\u0161echny neulo\u017een\xe9 zm\u011bny v sou\u010dasn\xe9 objedn\xe1vce a m\u016f\u017ee doj\xedt ke ztr\xe1t\u011b dat."]}),(0,M.jsx)("p",{children:"Chcete vytvo\u0159it novou objedn\xe1vku a zahodit neulo\u017een\xe9 zm\u011bny?"})]})]}),(0,M.jsxs)(p.A,{isOpen:On,onClose:()=>{Rn(!1),zn(null)},onConfirm:async()=>{Rn(!1),No.default.setCurrentUser(Y);let e=!1,n=!1;if(await No.default.hasDraft())try{var t;const o=await No.default.loadDraft(),r=o.savedOrderId||(null===(t=o.formData)||void 0===t?void 0:t.id),a=null===yn||void 0===yn?void 0:yn.id;if(r&&a&&String(r)===String(a))e=!1,n=!0;else{const n=(0,Co.V5)(o),t=(0,Co.NN)(o);e=n||t}}catch(ge){e=!1}if(n&&yn){try{No.default.setCurrentUser(Y),No.default.saveUIState({highlightOrderId:yn.id,editOrderId:yn.id})}catch(o){console.error("\u274c Chyba p\u0159i ukl\xe1d\xe1n\xed highlightOrderId:",o)}W("/order-form-25?edit=".concat(yn.id,"&archivovano=1"))}else e?_n(!0):Ss(yn)},title:"Varov\xe1n\xed - Importovan\xe1 objedn\xe1vka",icon:$.zpE,variant:"warning",confirmText:"Ano, rozum\xedm rizik\u016fm a chci pokra\u010dovat",cancelText:"Ne, zru\u0161it",children:[(0,M.jsxs)("p",{children:["Chyst\xe1te se editovat archivovanou objedn\xe1vku ",(0,M.jsxs)("strong",{children:['"',(null===yn||void 0===yn?void 0:yn.cislo_objednavky)||(null===yn||void 0===yn?void 0:yn.ev_cislo)||"nezn\xe1m\xe1 objedn\xe1vka",'"']}),"."]}),(0,M.jsxs)("p",{style:{background:"#fef3c7",padding:"0.75rem",borderRadius:"6px",border:"1px solid #f59e0b",margin:"0.75rem 0"},children:[(0,M.jsx)("strong",{children:"\u26a0 UPOZORN\u011aN\xcd:"})," Tato objedn\xe1vka byla importov\xe1na z p\u016fvodn\xedho syst\xe9mu EEO a m\xe1 stav ",(0,M.jsx)("strong",{children:"ARCHIVOV\xc1NO"}),"."]}),(0,M.jsx)("p",{children:"Editace t\xe9to objedn\xe1vky m\u016f\u017ee ovlivnit p\u0159\xedpadn\xfd opakovan\xfd import dat, pokud bude prov\xe1d\u011bna aktualizace objedn\xe1vek ze star\xe9ho syst\xe9mu."}),(0,M.jsx)("p",{children:(0,M.jsx)("strong",{children:"D\u016fsledky editace:"})}),(0,M.jsxs)("ul",{style:{marginLeft:"1.5rem",marginTop:"0.5rem"},children:[(0,M.jsx)("li",{children:"Zm\u011bny v objedn\xe1vce mohou b\xfdt p\u0159eps\xe1ny p\u0159i opakovan\xe9m importu"}),(0,M.jsx)("li",{children:"Data nemus\xed odpov\xeddat p\u016fvodn\xedmu syst\xe9mu EEO"}),(0,M.jsx)("li",{children:"M\u016f\u017ee doj\xedt ke ztr\xe1t\u011b va\u0161ich \xfaprav"})]}),(0,M.jsx)("p",{style:{marginTop:"1rem"},children:"Opravdu chcete pokra\u010dovat v editaci?"})]}),(0,M.jsxs)(p.A,{isOpen:Dn,onClose:()=>{In(!1),zn(null)},onConfirm:()=>{In(!1),No.default.setCurrentUser(Y),No.default.deleteDraft(),yn&&Ss(yn)},title:"D\u016fle\u017eit\xe9 varov\xe1n\xed",icon:$.zpE,variant:"warning",confirmText:"Ano, rozum\xedm a chci pokra\u010dovat",cancelText:"Ne, zru\u0161it",children:[(0,M.jsxs)("p",{children:["Chyst\xe1te se editovat archivovanou objedn\xe1vku ",(0,M.jsxs)("strong",{children:['"',(null===yn||void 0===yn?void 0:yn.cislo_objednavky)||(null===yn||void 0===yn?void 0:yn.ev_cislo)||"nezn\xe1m\xe1 objedn\xe1vka",'"']}),"."]}),(0,M.jsxs)("div",{style:{background:"#fef3c7",padding:"0.75rem",borderRadius:"6px",border:"1px solid #f59e0b",margin:"0.75rem 0"},children:[(0,M.jsx)("strong",{children:"\u26a0 VAROV\xc1N\xcd - ARCHIVOV\xc1NO:"}),(0,M.jsx)("br",{}),"Tato objedn\xe1vka byla importov\xe1na z p\u016fvodn\xedho syst\xe9mu EEO a m\xe1 stav ",(0,M.jsx)("strong",{children:"ARCHIVOV\xc1NO"}),". Editace m\u016f\u017ee b\xfdt p\u0159eps\xe1na p\u0159i opakovan\xe9m importu dat."]}),(0,M.jsxs)("div",{style:{background:"#fee2e2",padding:"0.75rem",borderRadius:"6px",border:"1px solid #ef4444",margin:"0.75rem 0"},children:[(0,M.jsx)("strong",{children:"\ud83d\uddd1 ZTR\xc1TA KONCEPTU:"}),(0,M.jsx)("br",{}),"M\xe1te rozpracovanou objedn\xe1vku, kter\xe1 bude p\u0159i pokra\u010dov\xe1n\xed ",(0,M.jsx)("strong",{children:"ZTRACENA"})," a nelze ji obnovit!"]}),(0,M.jsx)("p",{style:{marginTop:"1rem"},children:(0,M.jsx)("strong",{children:"Co se stane po pokra\u010dov\xe1n\xed:"})}),(0,M.jsxs)("ul",{style:{marginLeft:"1.5rem",marginTop:"0.5rem"},children:[(0,M.jsxs)("li",{children:["V\xe1\u0161 rozpracovan\xfd koncept bude ",(0,M.jsx)("strong",{children:"trvale smaz\xe1n"})]}),(0,M.jsx)("li",{children:"Otev\u0159ete archivovanou objedn\xe1vku k editaci"}),(0,M.jsx)("li",{children:"Zm\u011bny mohou b\xfdt p\u0159eps\xe1ny p\u0159i budouc\xedm importu"})]}),(0,M.jsx)("p",{style:{marginTop:"1rem",fontWeight:"bold",color:"#dc2626"},children:"Opravdu chcete pokra\u010dovat a ztratit rozpracovanou objedn\xe1vku?"})]}),(0,M.jsxs)(p.A,{isOpen:Sn,onClose:()=>{Cn(!1),En(null)},onConfirm:()=>{J("ORDER_MANAGE")||J("ORDER_2025")?Ws("hard"):Ws("soft")},title:"Smaz\xe1n\xed objedn\xe1vky",icon:$.yLS,variant:"danger",confirmText:J("ORDER_MANAGE")||J("ORDER_2025")?"Smazat \xfapln\u011b":"Ozna\u010dit neaktivn\xed",cancelText:"Zru\u0161it",children:[(0,M.jsxs)("p",{children:["Chyst\xe1te se smazat objedn\xe1vku ",(0,M.jsxs)("strong",{children:['"',(null===Nn||void 0===Nn?void 0:Nn.cislo_objednavky)||(null===Nn||void 0===Nn?void 0:Nn.predmet)||"ID ".concat(null===Nn||void 0===Nn?void 0:Nn.id),'"']}),"."]}),J("ORDER_MANAGE")||J("ORDER_2025")?(0,M.jsxs)("div",{children:[(0,M.jsx)("p",{children:(0,M.jsx)("strong",{children:"M\xe1te administr\xe1torsk\xe1 pr\xe1va. Vyberte zp\u016fsob smaz\xe1n\xed:"})}),(0,M.jsxs)("div",{style:{background:"#f3f4f6",padding:"1rem",borderRadius:"6px",margin:"1rem 0"},children:[(0,M.jsxs)("p",{children:[(0,M.jsx)("strong",{children:"Ozna\u010dit jako neaktivn\xed:"})," Objedn\xe1vka z\u016fstane v datab\xe1zi, ale nebude se zobrazovat v seznamech."]}),(0,M.jsxs)("p",{children:[(0,M.jsx)("strong",{children:"Smazat \xfapln\u011b:"})," Objedn\xe1vka bude natrvalo smaz\xe1na v\u010detn\u011b v\u0161ech polo\u017eek a p\u0159\xedloh. Tuto akci nelze vr\xe1tit zp\u011bt!"]})]}),(0,M.jsx)("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1rem"},children:(0,M.jsx)("button",{onClick:()=>Ws("soft"),style:{padding:"0.875rem 1.75rem",border:"2px solid #d1d5db",borderRadius:"10px",fontWeight:"700",background:"white",color:"#6b7280",cursor:"pointer",fontSize:"0.9375rem",transition:"all 0.2s ease"},children:"Ozna\u010dit neaktivn\xed"})})]}):(0,M.jsx)("p",{children:"Objedn\xe1vka bude ozna\u010dena jako neaktivn\xed. Z\u016fstane v datab\xe1zi, ale nebude se zobrazovat v seznamech."})]}),$n&&(0,M.jsx)(p.A,{isOpen:Ln,onClose:Cs,onConfirm:$n.canForceUnlock?async()=>{if($n)try{const e=await(0,g.MU)({token:K,username:H,orderId:$n.orderId,force:!0});if(e.success&&"forced"===e.unlock_type){te("Objedn\xe1vka byla n\xe1siln\u011b odem\u010dena u\u017eivateli ".concat($n.lockedByUserName," a p\u0159evzata"),{type:"success"});(await(0,g.ro)({token:K,username:H,orderId:$n.orderId})).success&&te("Objedn\xe1vka byla zamknuta pro editaci",{type:"success"}),Tn(!1),Vn(null),yn&&Ss(yn)}}catch(e){te("Nepoda\u0159ilo se n\xe1siln\u011b odemknout objedn\xe1vku: ".concat(e.message),{type:"error"}),Tn(!1),Vn(null),zn(null)}}:Cs,title:$n.canForceUnlock?"Objedn\xe1vka je zam\u010den\xe1":"Objedn\xe1vka nen\xed dostupn\xe1",icon:$.DW4,variant:"success",confirmText:$n.canForceUnlock?"Odemknout a p\u0159evz\xedt":"Zav\u0159\xedt",cancelText:"Zru\u0161it",showCancel:$n.canForceUnlock,children:$n.canForceUnlock?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(Ka,{children:"\u26a0 Objedn\xe1vka je aktu\xe1ln\u011b editov\xe1na u\u017eivatelem:"}),(0,M.jsx)(Ba,{children:(0,M.jsx)("strong",{children:$n.lockedByUserName})}),($n.lockedByUserEmail||$n.lockedByUserTelefon)&&(0,M.jsxs)(Ua,{children:[$n.lockedByUserEmail&&(0,M.jsxs)(Ha,{children:[(0,M.jsx)(T.g,{icon:$.y_8}),(0,M.jsx)(Ja,{children:"Email:"}),(0,M.jsx)("a",{href:"mailto:".concat($n.lockedByUserEmail),children:$n.lockedByUserEmail})]}),$n.lockedByUserTelefon&&(0,M.jsxs)(Ha,{children:[(0,M.jsx)(T.g,{icon:$.KKr}),(0,M.jsx)(Ja,{children:"Telefon:"}),(0,M.jsx)("a",{href:"tel:".concat($n.lockedByUserTelefon),children:$n.lockedByUserTelefon})]})]}),null!==$n.lockAgeMinutes&&void 0!==$n.lockAgeMinutes&&(0,M.jsxs)(Ni,{children:[(0,M.jsx)(T.g,{icon:$.a$}),"Zam\u010deno p\u0159ed ",$n.lockAgeMinutes," ",1===$n.lockAgeMinutes?"minutou":($n.lockAgeMinutes,"minutami")]}),(0,M.jsxs)(Za,{children:["Jako ",(0,M.jsx)("strong",{children:$n.userRoleName})," m\u016f\u017eete objedn\xe1vku n\xe1siln\u011b odemknout a p\u0159evz\xedt."]}),(0,M.jsx)(Ka,{children:"\u26a0 P\u016fvodn\xed u\u017eivatel bude informov\xe1n o p\u0159evzet\xed objedn\xe1vky a ztrat\xed neulo\u017een\xe9 zm\u011bny."})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(Za,{children:"Objedn\xe1vka je aktu\xe1ln\u011b editov\xe1na u\u017eivatelem:"}),(0,M.jsx)(Ba,{children:(0,M.jsx)("strong",{children:$n.lockedByUserName})}),($n.lockedByUserEmail||$n.lockedByUserTelefon)&&(0,M.jsxs)(Ua,{children:[$n.lockedByUserEmail&&(0,M.jsxs)(Ha,{children:[(0,M.jsx)(T.g,{icon:$.y_8}),(0,M.jsx)(Ja,{children:"Email:"}),(0,M.jsx)("a",{href:"mailto:".concat($n.lockedByUserEmail),children:$n.lockedByUserEmail})]}),$n.lockedByUserTelefon&&(0,M.jsxs)(Ha,{children:[(0,M.jsx)(T.g,{icon:$.KKr}),(0,M.jsx)(Ja,{children:"Telefon:"}),(0,M.jsx)("a",{href:"tel:".concat($n.lockedByUserTelefon),children:$n.lockedByUserTelefon})]})]}),null!==$n.lockAgeMinutes&&void 0!==$n.lockAgeMinutes&&(0,M.jsxs)(Ni,{children:[(0,M.jsx)(T.g,{icon:$.a$}),"Zam\u010deno p\u0159ed ",$n.lockAgeMinutes," ",1===$n.lockAgeMinutes?"minutou":($n.lockAgeMinutes,"minutami")]}),(0,M.jsx)(Za,{children:"Nelze ji na\u010d\xedst pro editaci. Po\u010dkejte, a\u017e bude u\u017eivatel s editac\xed hotov\xfd, nebo ho kontaktujte."})]})}),Pn&&Mn&&i.createPortal((0,M.jsx)(Ei,{onClick:e=>e.target===e.currentTarget&&Ns(),children:(0,M.jsxs)(Oi,{onClick:e=>e.stopPropagation(),children:[(0,M.jsxs)(Ri,{children:[(0,M.jsx)(Di,{children:"\u26a0"}),(0,M.jsx)(Ii,{children:"N\xc1SILN\xc9 P\u0158EVZET\xcd OBJEDN\xc1VKY"})]}),(0,M.jsxs)(Li,{children:[(0,M.jsxs)(Ti,{children:[(0,M.jsx)("p",{children:(0,M.jsx)("strong",{children:"Va\u0161e objedn\xe1vka byla n\xe1siln\u011b p\u0159evzata jin\xfdm u\u017eivatelem!"})}),(0,M.jsxs)("p",{children:["Objedn\xe1vka ",(0,M.jsx)("strong",{children:Mn.orderNumber})," byla n\xe1siln\u011b odem\u010dena a p\u0159evzata. Va\u0161e neulo\u017een\xe9 zm\u011bny mohly b\xfdt ztraceny."]})]}),(0,M.jsxs)($i,{children:[(0,M.jsxs)(Vi,{children:[(0,M.jsx)(T.g,{icon:$.h8M}),(0,M.jsx)(Pi,{children:"Objedn\xe1vka:"}),(0,M.jsx)(Fi,{children:Mn.orderNumber})]}),(0,M.jsxs)(Vi,{children:[(0,M.jsx)(T.g,{icon:$.X46}),(0,M.jsx)(Pi,{children:"P\u0159evzal:"}),(0,M.jsx)(Fi,{children:Mn.lockedBy})]}),Mn.lockedByEmail&&(0,M.jsxs)(Vi,{children:[(0,M.jsx)(T.g,{icon:$.y_8}),(0,M.jsx)(Pi,{children:"Email:"}),(0,M.jsx)(Fi,{children:(0,M.jsx)("a",{href:"mailto:".concat(Mn.lockedByEmail),style:{color:"#991b1b",textDecoration:"underline"},children:Mn.lockedByEmail})})]}),Mn.lockedByPhone&&(0,M.jsxs)(Vi,{children:[(0,M.jsx)(T.g,{icon:$.KKr}),(0,M.jsx)(Pi,{children:"Telefon:"}),(0,M.jsx)(Fi,{children:(0,M.jsx)("a",{href:"tel:".concat(Mn.lockedByPhone),style:{color:"#991b1b",textDecoration:"underline"},children:Mn.lockedByPhone})})]}),(0,M.jsxs)(Vi,{children:[(0,M.jsx)(T.g,{icon:$.a$}),(0,M.jsx)(Pi,{children:"\u010cas:"}),(0,M.jsx)(Fi,{children:new Date(Mn.lockedAt).toLocaleString("cs-CZ")})]})]}),(0,M.jsxs)(Mi,{children:[(0,M.jsx)(Wi,{onClick:Ns,children:"Zav\u0159\xedt"}),(0,M.jsxs)(Wi,{$primary:!0,onClick:async()=>{null!==Mn&&void 0!==Mn&&Mn.notificationId,await Ql(!0),Ns(),null===te||void 0===te||te("Seznam objedn\xe1vek byl aktualizov\xe1n",{type:"info"})},children:[(0,M.jsx)(T.g,{icon:$.SGM,style:{marginRight:"0.5rem"}}),"Rozum\xedm, aktualizovat seznam"]})]})]})]})}),document.body),gl&&(0,M.jsx)(U,{x:gl.x,y:gl.y,order:gl.order,selectedData:gl.selectedData,onClose:Rs,onAddToTodo:Ds,onAddAlarm:Is,onEdit:Ls,onDelete:Ts,onGenerateDocx:$s,onGenerateFinancialControl:Vs,canDelete:J("ORDER_MANAGE")||J("ORDER_DELETE_ALL")||J("ORDER_2025")||J("ORDER_DELETE_OWN")&&gl.order.uzivatel_id===ae}),xl&&(0,M.jsx)(a.Suspense,{fallback:(0,M.jsx)("div",{children:"Na\u010d\xedt\xe1n\xed..."}),children:(0,M.jsx)(Lo,{order:jl,isOpen:xl,onClose:Ps})}),_l&&(0,M.jsx)(a.Suspense,{fallback:(0,M.jsx)("div",{children:"Na\u010d\xedt\xe1n\xed finan\u010dn\xed kontroly..."}),children:(0,M.jsx)(To,{order:zl,onClose:()=>{yl(!1),Al(null)},generatedBy:{fullName:"".concat((null===X||void 0===X?void 0:X.titul_pred)||""," ").concat((null===X||void 0===X?void 0:X.jmeno)||""," ").concat((null===X||void 0===X?void 0:X.prijmeni)||""," ").concat((null===X||void 0===X?void 0:X.titul_za)||"").trim(),position:(null===X||void 0===X?void 0:X.pozice)||"Pracovn\xedk"}})}),Bn&&i.createPortal((0,M.jsx)(hi,{children:(0,M.jsxs)(mi,{onClick:e=>e.stopPropagation(),children:[(0,M.jsxs)(gi,{children:[(0,M.jsxs)(fi,{children:[(0,M.jsx)(T.g,{icon:$.W1P}),"Hromadn\xe9 generov\xe1n\xed DOCX"]}),(0,M.jsx)("button",{onClick:()=>Zn(!1),style:{background:"transparent",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center"},children:(0,M.jsx)(T.g,{icon:$.GRI})})]}),(0,M.jsx)(xi,{children:Kn.map((e,n)=>(0,M.jsxs)(bi,{children:[(0,M.jsxs)(ji,{children:[(0,M.jsxs)(ki,{children:[(0,M.jsx)(T.g,{icon:$.p4e,style:{color:"#0891b2"}}),"Objedn\xe1vka #",e.cislo_objednavky||e.id]}),(0,M.jsx)("span",{style:{fontSize:"0.875rem",color:"#64748b",background:"#f1f5f9",padding:"0.25rem 0.75rem",borderRadius:"6px",fontWeight:"600"},children:e.stav_objednavky||"N/A"})]}),(0,M.jsxs)(_i,{children:[(0,M.jsx)("strong",{children:"P\u0159edm\u011bt objedn\xe1vky:"})," ",e.predmet||"Bez p\u0159edm\u011btu"]}),(0,M.jsxs)(_i,{children:[(0,M.jsx)("strong",{children:"Max. cena s DPH:"})," ",e.max_cena_s_dph?"".concat(parseFloat(e.max_cena_s_dph).toLocaleString("cs-CZ")," K\u010d"):"Neuvedeno"]}),(0,M.jsxs)(_i,{children:[(0,M.jsx)("strong",{children:"Dodavatel:"})," ",e.dodavatel_nazev||"N/A"]}),(0,M.jsxs)(yi,{children:[(0,M.jsx)(zi,{children:"\u0160ablona:"}),(0,M.jsxs)("select",{value:Gn[e.id]||"",onChange:n=>{const t=(0,o.A)((0,o.A)({},Gn),{},{[e.id]:n.target.value});Yn(t),se("bulkDocxTemplates",t)},style:{flex:1,padding:"0.75rem",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"0.875rem",cursor:"pointer",fontWeight:Gn[e.id]?"600":"400",color:Gn[e.id]?"#1f2937":"#9ca3af",background:"white",transition:"all 0.2s ease"},children:[(0,M.jsx)("option",{value:"",children:"-- Vyberte \u0161ablonu --"}),zs(e).map(e=>(0,M.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,M.jsxs)(yi,{children:[(0,M.jsx)(zi,{children:"Podepisovatel:"}),(0,M.jsxs)("select",{value:Hn[e.id]||"",onChange:n=>{const t=(0,o.A)((0,o.A)({},Hn),{},{[e.id]:n.target.value});Jn(t),se("bulkDocxSigners",t)},style:{flex:1,padding:"0.75rem",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"0.875rem",cursor:"pointer",fontWeight:Hn[e.id]?"600":"400",color:Hn[e.id]?"#1f2937":"#9ca3af",background:"white",transition:"all 0.2s ease"},children:[(0,M.jsx)("option",{value:"",children:"Vyberte podepisovatele..."}),((n,t,o,r)=>{const a=[];return e.garant_uzivatel_id&&null!==(n=e.garant_uzivatel)&&void 0!==n&&n.cele_jmeno&&"Nezad\xe1no"!==e.garant_uzivatel.cele_jmeno&&"Nezadano"!==e.garant_uzivatel.cele_jmeno&&a.push({id:e.garant_uzivatel_id,name:e.garant_uzivatel.cele_jmeno,role:"Garant"}),e.prikazce_id&&null!==(t=e.prikazce)&&void 0!==t&&t.cele_jmeno&&"Nezad\xe1no"!==e.prikazce.cele_jmeno&&"Nezadano"!==e.prikazce.cele_jmeno&&a.push({id:e.prikazce_id,name:e.prikazce.cele_jmeno,role:"P\u0159\xedkazce"}),e.schvalovatel_id&&null!==(o=e.schvalovatel)&&void 0!==o&&o.cele_jmeno&&"Nezad\xe1no"!==e.schvalovatel.cele_jmeno&&"Nezadano"!==e.schvalovatel.cele_jmeno&&a.push({id:e.schvalovatel_id,name:e.schvalovatel.cele_jmeno,role:"Schvalovatel"}),e.objednatel_id&&null!==(r=e.objednatel)&&void 0!==r&&r.cele_jmeno&&"Nezad\xe1no"!==e.objednatel.cele_jmeno&&"Nezadano"!==e.objednatel.cele_jmeno&&a.push({id:e.objednatel_id,name:e.objednatel.cele_jmeno,role:"Objednatel"}),a.map((n,t)=>(0,M.jsxs)("option",{value:n.id,children:[n.name," (",n.role,")"]},"".concat(e.id,"-").concat(n.id,"-").concat(n.role,"-").concat(t)))})()]})]})]},e.id||n))}),(0,M.jsxs)(Ai,{children:[(0,M.jsxs)(wi,{children:["Celkem: ",Kn.length," objedn\xe1vek"]}),(0,M.jsxs)(Si,{children:[(0,M.jsx)(Ci,{className:"secondary",onClick:()=>Zn(!1),children:"Zru\u0161it"}),(0,M.jsxs)(Ci,{className:"primary",onClick:()=>{const e=Kn.filter(e=>!Gn[e.id]);if(e.length>0){const n=e.map(e=>"#".concat(e.cislo_objednavky||e.id)).join(", ");return void(te&&te("Vyberte \u0161ablonu pro v\u0161echny objedn\xe1vky. Chyb\xed u: ".concat(n),{type:"error"}))}const n=Kn.filter(e=>!Hn[e.id]);if(n.length>0){const e=n.map(e=>"#".concat(e.cislo_objednavky||e.id)).join(", ");return void(te&&te("Vyberte podepisovatele pro v\u0161echny objedn\xe1vky. Chyb\xed u: ".concat(e),{type:"error"}))}alert("TODO: Implementovat hromadn\xe9 generov\xe1n\xed DOCX"),Zn(!1)},children:[(0,M.jsx)(T.g,{icon:$.W1P,style:{marginRight:"0.5rem"}}),"Generovat DOCX"]})]})]})]})}),document.body),Xn&&(0,M.jsx)(p.A,{isOpen:Xn,onClose:()=>qn(!1),onConfirm:async()=>{try{me(!0);const e=await Promise.allSettled(Qn.map(async e=>{let n=[];try{Array.isArray(e.stav_workflow_kod)?n=e.stav_workflow_kod:"string"===typeof e.stav_workflow_kod&&(n=JSON.parse(e.stav_workflow_kod))}catch(r){n=[]}const t=[...n,{kod_stavu:"SCHVALENA",nazev_stavu:"Schv\xe1len\xe1",timestamp:(new Date).toISOString(),uzivatel_id:ae}],o={stav_objednavky:"Schv\xe1len\xe1",stav_workflow_kod:JSON.stringify(t),datum_schvaleni:(new Date).toISOString()};if(!(await fetch("".concat("https://erdms.zachranka.cz/api","/api.eeo/orders-v2.php"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(K)},body:JSON.stringify({action:"update",id:e.id,data:o,username:H})})).ok)throw new Error("Chyba p\u0159i schvalov\xe1n\xed objedn\xe1vky #".concat(e.cislo_objednavky));return{success:!0,orderId:e.id}})),n=e.filter(e=>"fulfilled"===e.status).length,t=e.filter(e=>"rejected"===e.status).length;n>0&&(te("\u2705 Schv\xe1leno: ".concat(n," objedn\xe1vek"),"success"),await Ql(),xs.toggleAllRowsSelected(!1)),t>0&&te("\u26a0 Selhalo: ".concat(t," objedn\xe1vek"),"error"),qn(!1)}catch(ge){console.error("Chyba p\u0159i hromadn\xe9m schvalov\xe1n\xed:",ge),te("Chyba p\u0159i hromadn\xe9m schvalov\xe1n\xed","error")}finally{me(!1)}},title:"Hromadn\xe9 schv\xe1len\xed objedn\xe1vek",icon:$.SGM,variant:"success",confirmText:"Schv\xe1lit v\u0161e",cancelText:"Zru\u0161it",children:(0,M.jsxs)("div",{style:{padding:"1rem 0"},children:[(0,M.jsxs)("p",{style:{marginBottom:"1rem",fontSize:"1.05rem"},children:["Opravdu chcete schv\xe1lit ",(0,M.jsx)("strong",{children:Qn.length})," vybran\xfdch objedn\xe1vek?"]}),(0,M.jsxs)("div",{style:{background:"#f0fdf4",border:"2px solid #86efac",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:[(0,M.jsx)("h4",{style:{margin:"0 0 0.75rem 0",color:"#166534"},children:"\ud83d\udccb Seznam objedn\xe1vek ke schv\xe1len\xed:"}),(0,M.jsx)("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#166534"},children:Qn.map(e=>(0,M.jsxs)("li",{style:{marginBottom:"0.5rem"},children:[(0,M.jsxs)("strong",{children:["#",e.cislo_objednavky]})," - ",e.nazev||"Bez n\xe1zvu"]},e.id))})]}),(0,M.jsxs)("p",{style:{color:"#64748b",fontSize:"0.95rem",lineHeight:"1.6"},children:["Po schv\xe1len\xed budou objedn\xe1vky p\u0159esunuty do stavu ",(0,M.jsx)("strong",{children:'"Schv\xe1len\xe1"'})," a bude zaznamen\xe1no datum schv\xe1len\xed."]})]})}),nt&&(0,M.jsx)(p.A,{isOpen:nt,onClose:()=>tt(!1),onConfirm:async()=>{try{me(!0);const e=(J("ADMIN")||J("ORDER_DELETE_ALL"))&&"hard"===at,n=await Promise.allSettled(ot.map(async n=>{await(0,f.kg)(n.id,K,H,e);return{success:!0,orderId:n.id}})),t=n.filter(e=>"fulfilled"===e.status).length,o=n.filter(e=>"rejected"===e.status).length;t>0&&(pe(e=>e.filter(e=>!ot.find(n=>n.id===e.id))),te("\u2705 Smaz\xe1no: ".concat(t," objedn\xe1vek"),"success"),xs.toggleAllRowsSelected(!1)),o>0&&te("\u26a0 Selhalo: ".concat(o," objedn\xe1vek"),"error"),tt(!1)}catch(ge){console.error("Chyba p\u0159i hromadn\xe9m maz\xe1n\xed:",ge),te("Chyba p\u0159i hromadn\xe9m maz\xe1n\xed","error")}finally{me(!1)}},title:"Hromadn\xe9 maz\xe1n\xed objedn\xe1vek",icon:$.yLS,variant:"danger",confirmText:(J("ADMIN")||J("ORDER_DELETE_ALL"))&&"hard"===at?"\u26a0 Smazat \xfapln\u011b":"Smazat (soft)",cancelText:"Zru\u0161it",children:(0,M.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",padding:"1rem 0"},children:[(0,M.jsxs)("div",{children:[(0,M.jsxs)("p",{style:{marginBottom:"1rem",fontSize:"1.05rem"},children:["Opravdu chcete smazat ",(0,M.jsx)("strong",{children:ot.length})," vybran\xfdch objedn\xe1vek?"]}),J("ADMIN")||J("ORDER_DELETE_ALL")?(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)("div",{style:{background:"#f8fafc",border:"2px solid #cbd5e1",borderRadius:"8px",padding:"1rem"},children:[(0,M.jsx)("h4",{style:{margin:"0 0 0.75rem 0",color:"#475569",fontSize:"1rem"},children:"Vyberte typ smaz\xe1n\xed:"}),(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(0,M.jsxs)("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",cursor:"pointer",padding:"0.75rem",border:"2px solid ".concat("soft"===at?"#3b82f6":"#e2e8f0"),borderRadius:"6px",background:"soft"===at?"#eff6ff":"white",transition:"all 0.2s"},children:[(0,M.jsx)("input",{type:"radio",name:"deleteType",value:"soft",checked:"soft"===at,onChange:e=>it(e.target.value),style:{marginTop:"0.25rem",accentColor:"#3b82f6",cursor:"pointer"}}),(0,M.jsxs)("div",{children:[(0,M.jsx)("div",{style:{fontWeight:"600",color:"#1f2937",marginBottom:"0.25rem"},children:"M\u011bkk\xe9 smaz\xe1n\xed (SOFT DELETE)"}),(0,M.jsx)("div",{style:{fontSize:"0.875rem",color:"#64748b"},children:"Objedn\xe1vky budou ozna\u010deny jako neaktivn\xed. Lze pozd\u011bji obnovit."})]})]}),(0,M.jsxs)("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",cursor:"pointer",padding:"0.75rem",border:"2px solid ".concat("hard"===at?"#dc2626":"#e2e8f0"),borderRadius:"6px",background:"hard"===at?"#fef2f2":"white",transition:"all 0.2s"},children:[(0,M.jsx)("input",{type:"radio",name:"deleteType",value:"hard",checked:"hard"===at,onChange:e=>it(e.target.value),style:{marginTop:"0.25rem",accentColor:"#dc2626",cursor:"pointer"}}),(0,M.jsxs)("div",{children:[(0,M.jsx)("div",{style:{fontWeight:"600",color:"#991b1b",marginBottom:"0.25rem"},children:"\u26a0 \xdapln\xe9 smaz\xe1n\xed (HARD DELETE)"}),(0,M.jsxs)("div",{style:{fontSize:"0.875rem",color:"#991b1b"},children:[(0,M.jsx)("strong",{children:"NEVRATN\xc9!"})," Sma\u017ee v\u0161e v\u010detn\u011b polo\u017eek, p\u0159\xedloh a historie."]})]})]})]})]})}):(0,M.jsxs)("div",{style:{background:"#fef3c7",border:"2px solid #fcd34d",borderRadius:"8px",padding:"1rem"},children:[(0,M.jsx)("h4",{style:{margin:"0 0 0.75rem 0",color:"#92400e"},children:"\u2139 M\u011bkk\xe9 smaz\xe1n\xed (SOFT DELETE)"}),(0,M.jsxs)("p",{style:{margin:0,color:"#92400e",fontSize:"0.95rem"},children:["Objedn\xe1vky budou pouze ",(0,M.jsx)("strong",{children:"ozna\u010deny jako neaktivn\xed"}),". Administr\xe1tor je m\u016f\u017ee pozd\u011bji obnovit."]})]})]}),(0,M.jsxs)("div",{style:{background:"#f8fafc",border:"2px solid #cbd5e1",borderRadius:"8px",padding:"1rem"},children:[(0,M.jsx)("h4",{style:{margin:"0 0 0.75rem 0",color:"#475569"},children:"\ud83d\udccb Seznam objedn\xe1vek ke smaz\xe1n\xed:"}),(0,M.jsx)("div",{style:{margin:0,color:"#475569",maxHeight:"300px",overflowY:"auto"},children:ot.map(e=>(0,M.jsxs)("div",{style:{marginBottom:"0.75rem",padding:"0.5rem",background:"white",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[(0,M.jsxs)("div",{style:{fontSize:"1rem",fontWeight:"700",color:"#1f2937",marginBottom:"0.25rem"},children:["#",e.cislo_objednavky]}),(0,M.jsx)("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:e.predmet||e.nazev||"Bez n\xe1zvu"})]},e.id))})]})]})})]})}),qi&&el&&(0,M.jsx)(Ga,{children:(0,M.jsxs)(Ya,{children:[(0,M.jsxs)(Xa,{children:[(0,M.jsxs)(qa,{children:[(0,M.jsx)(T.g,{icon:$.o1d}),"N\xe1hled exportu CSV"]}),(0,M.jsx)(Qa,{onClick:()=>Qi(!1),children:(0,M.jsx)(T.g,{icon:$.GRI})})]}),(0,M.jsxs)(ei,{children:[(0,M.jsxs)(ni,{children:[(0,M.jsxs)(ti,{children:[(0,M.jsx)(oi,{children:"Po\u010det z\xe1znam\u016f"}),(0,M.jsxs)(ri,{children:[(0,M.jsx)(T.g,{icon:$.hem}),el.rowCount]})]}),(0,M.jsxs)(ti,{children:[(0,M.jsx)(oi,{children:"Po\u010det sloupc\u016f"}),(0,M.jsxs)(ri,{children:[(0,M.jsx)(T.g,{icon:$.fq7}),el.columnCount]})]}),(0,M.jsxs)(ti,{children:[(0,M.jsx)(oi,{children:"Odd\u011blova\u010d sloupc\u016f"}),(0,M.jsxs)(ri,{children:[(0,M.jsx)(T.g,{icon:$.UNK}),el.separatorName]})]}),(0,M.jsxs)(ti,{children:[(0,M.jsx)(oi,{children:"Odd\u011blova\u010d multiline"}),(0,M.jsxs)(ri,{children:[(0,M.jsx)(T.g,{icon:$.UNK}),el.multilineSeparatorName]})]}),(0,M.jsxs)(ti,{children:[(0,M.jsx)(oi,{children:"Aktivn\xed filtry"}),(0,M.jsxs)(ri,{children:[(0,M.jsx)(T.g,{icon:$.mRM}),(()=>{let e=0;return Lt&&e++,zo!==(new Date).getFullYear()&&e++,"all"!==wo&&e++,$t&&$t.length>0&&e++,Mt&&Mt.length>0&&e++,Bt&&Bt.length>0&&e++,Kt&&Kt.length>0&&e++,Ht&&Ht.length>0&&e++,(Gt||Xt)&&e++,(Qt||no)&&e++,e||"\u017d\xe1dn\xe9"})()]})]})]}),(0,M.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem"},children:"N\xe1hled prvn\xedch 5 \u0159\xe1dk\u016f"}),(0,M.jsx)("div",{style:{overflowX:"auto",maxWidth:"100%"},children:(0,M.jsxs)(ai,{children:[(0,M.jsx)(ii,{children:Object.keys(el.data[0]||{}).map((e,n)=>{const t=e.length,o=Math.max(...el.data.slice(0,5).map(n=>String(n[e]||"").length)),r=Math.max(t,o),a=Math.min(Math.max(8*r+32,100),400);return(0,M.jsx)(li,{style:{width:"".concat(a,"px"),minWidth:"".concat(a,"px")},children:e},n)})}),el.data.slice(0,5).map((e,n)=>(0,M.jsx)(si,{children:Object.entries(e).map((e,n)=>{let[t,o]=e;const r=t.length,a=Math.max(...el.data.slice(0,5).map(e=>String(e[t]||"").length)),i=Math.max(r,a),l=Math.min(Math.max(8*i+32,100),400);return(0,M.jsx)(di,{style:{width:"".concat(l,"px"),minWidth:"".concat(l,"px")},title:o,children:o},n)})},n))]})})]}),(0,M.jsxs)(ci,{children:[(0,M.jsxs)(ui,{children:[(0,M.jsx)(T.g,{icon:$.iW_}),"Export bude obsahovat pouze ",el.rowCount," vyfiltrovan\xfdch objedn\xe1vek"]}),(0,M.jsxs)(vi,{children:[(0,M.jsxs)(pi,{$variant:"cancel",onClick:()=>Qi(!1),children:[(0,M.jsx)(T.g,{icon:$.GRI}),"Zru\u0161it"]}),(0,M.jsxs)(pi,{$variant:"confirm",onClick:()=>{el&&((0,y.z9)(el.data,"objednavky_2025",{separator:el.separator,includeBOM:!0}),Qi(!1),nl(null),te("Export byl \xfasp\u011b\u0161n\u011b sta\u017een","success"))},children:[(0,M.jsx)(T.g,{icon:$.cbP}),"St\xe1hnout CSV"]})]})]})]})}),Te&&i.createPortal((0,M.jsx)(Hr,{$visible:Te,children:(0,M.jsx)(Jr,{"data-floating-header-wrapper":!0,children:(0,M.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed"},children:[Ve.length>0&&(0,M.jsx)("colgroup",{children:Ve.map((e,n)=>(0,M.jsx)("col",{style:{width:"".concat(e,"px")}},n))}),(0,M.jsxs)(qr,{children:[xs.getHeaderGroups().map(e=>(0,M.jsx)("tr",{children:e.headers.map(e=>(0,M.jsx)(ea,{onClick:e.column.getCanSort()?e.column.getToggleSortingHandler():void 0,style:{cursor:e.column.getCanSort()?"pointer":"default",width:e.getSize()},children:(0,M.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,Do.Kv)(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&e.column.getIsSorted()&&(0,M.jsx)(T.g,{icon:"desc"===e.column.getIsSorted()?$.Jt$:$.w2A,style:{fontSize:"0.75rem",opacity:.7}})]})},e.id))},e.id)),(0,M.jsx)("tr",{children:null===(P=xs.getHeaderGroups()[0])||void 0===P?void 0:P.headers.map(e=>(0,M.jsx)(ea,{style:{padding:"0.5rem",backgroundColor:"#f8f9fa",borderTop:"1px solid #e5e7eb"},children:"select"===e.id?(0,M.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"32px"},children:(0,M.jsx)("input",{type:"checkbox",checked:xs.getIsAllRowsSelected(),ref:e=>{e&&(e.indeterminate=xs.getIsSomeRowsSelected()&&!xs.getIsAllRowsSelected())},onChange:xs.getToggleAllRowsSelectedHandler(),style:{cursor:"pointer",width:"18px",height:"18px"},title:xs.getIsAllRowsSelected()?"Zru\u0161it v\xfdb\u011br v\u0161ech":"Vybrat v\u0161e"})}):"expander"===e.id?(0,M.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"32px"},children:(0,M.jsx)(Fr,{onClick:fs,title:xs.getIsSomeRowsExpanded()?"Sbalit v\u0161echny \u0159\xe1dky":"Rozbalit v\u0161echny \u0159\xe1dky",children:(0,M.jsx)(T.g,{icon:xs.getIsSomeRowsExpanded()?$.EZy:$.QLR})})}):"actions"===e.id?(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"3px",height:"32px"},children:[(()=>{const e=xs.getSelectedRowModel().rows.length;if(e>0){const n=xs.getSelectedRowModel().rows.map(e=>e.original),t=n.filter(e=>"Ke schv\xe1len\xed"===e.stav_objednavky).length,o=n.filter(e=>_s(e)).length;return(0,M.jsxs)(M.Fragment,{children:[t>0&&(J("ADMIN")||J("ORDER_APPROVE"))&&(0,M.jsxs)(Fr,{onClick:()=>{const e=n.filter(e=>"Ke schv\xe1len\xed"===e.stav_objednavky);et(e),qn(!0)},title:"Schv\xe1lit ".concat(t," vybran\xfdch objedn\xe1vek"),style:{color:"#059669"},children:[(0,M.jsx)(T.g,{icon:$.SGM}),(0,M.jsx)(Pr,{children:t})]}),o>0&&(0,M.jsxs)(Fr,{onClick:()=>{const e=n.filter(e=>_s(e));Un(e);const t={},o={};e.forEach(e=>{t[e.id]=e.schvalovatel_id||e.schvalovatel||null;const n=zs(e);n.length>0&&(o[e.id]=n[0].value)}),Jn(t),Yn(o),Zn(!0)},title:"Generovat DOCX pro ".concat(o," vybran\xfdch objedn\xe1vek"),style:{color:"#0891b2"},children:[(0,M.jsx)(T.g,{icon:$.W1P}),(0,M.jsx)(Pr,{children:o})]}),(0,M.jsxs)(Fr,{onClick:()=>{rt(n),tt(!0)},title:"Smazat ".concat(e," vybran\xfdch objedn\xe1vek"),style:{color:"#dc2626"},children:[(0,M.jsx)(T.g,{icon:$.yLS}),(0,M.jsx)(Pr,{children:e})]})]})}return null})(),(0,M.jsx)(Fr,{onClick:Js,title:"Vymazat filtry sloupc\u016f",children:(0,M.jsx)(T.g,{icon:$.IP$})}),(0,M.jsx)(Fr,{onClick:Gs,title:_o?"Vypnout zv\xfdraz\u0148ov\xe1n\xed \u0159\xe1dk\u016f":"Zapnout zv\xfdraz\u0148ov\xe1n\xed \u0159\xe1dk\u016f",className:_o?"active":"",children:(0,M.jsx)(T.g,{icon:$.fyG})})]}):"dt_objednavky"===e.column.columnDef.accessorKey?(0,M.jsx)("div",{style:{position:"relative"},children:(0,M.jsx)(Zi,{fieldName:"filter_floating_".concat(e.column.columnDef.accessorKey),value:xo[e.column.columnDef.accessorKey]||"",onChange:n=>{const t=(0,o.A)({},xo);t[e.column.columnDef.accessorKey]=n,bo(t)},placeholder:"Datum",variant:"compact"})}):(0,M.jsxs)(Tr,{children:[(0,M.jsx)(T.g,{icon:$.MjD}),(0,M.jsx)(Vr,{type:"text",placeholder:"Hledat ".concat(e.column.columnDef.header,"..."),value:xo[e.column.columnDef.accessorKey]||"",onChange:n=>{const t=(0,o.A)({},xo);t[e.column.columnDef.accessorKey]=n.target.value,bo(t)}}),xo[e.column.columnDef.accessorKey]&&(0,M.jsx)($r,{onClick:()=>{const n=(0,o.A)({},xo);delete n[e.column.columnDef.accessorKey],bo(n)},title:"Vymazat",children:(0,M.jsx)(T.g,{icon:$.GRI})})]})},"filter-floating-".concat(e.id)))})]})]})})}),document.body),J("HELPER_VIEW")&&(0,M.jsx)(h.A,{pageContext:"orders"})]});var sd}},54153:(e,n,t)=>{function o(e){if(!e||"string"!==typeof e)return e||"Nezn\xe1m\xe1 chyba";if(e.includes("timeout")&&e.includes("exceeded")){const n=e.match(/timeout of (\d+)ms exceeded/);if(n){const e=n[1],t=Math.round(e/1e3);return"P\u0159ekro\u010den \u010dasov\xfd limit ".concat(t,"s - server neodpov\u011bd\u011bl v\u010das")}return"P\u0159ekro\u010den \u010dasov\xfd limit - server neodpov\u011bd\u011bl v\u010das"}return e.includes("Network Error")?"Chyba s\xedt\u011b - zkontrolujte internetov\xe9 p\u0159ipojen\xed":e.includes("Request failed with status code 500")?"Chyba serveru (k\xf3d 500) - zkuste to znovu pozd\u011bji":e.includes("Request failed with status code 404")?"Po\u017eadovan\xfd zdroj nebyl nalezen (k\xf3d 404)":e.includes("Request failed with status code 403")?"Nem\xe1te opr\xe1vn\u011bn\xed k t\xe9to operaci (k\xf3d 403)":e.includes("Request failed with status code 401")?"Neautorizovan\xfd p\u0159\xedstup - zkuste se znovu p\u0159ihl\xe1sit (k\xf3d 401)":e.includes("ECONNREFUSED")||e.includes("connection refused")?"Nelze se p\u0159ipojit k serveru - server je pravd\u011bpodobn\u011b nedostupn\xfd":e.includes("ENOTFOUND")||e.includes("getaddrinfo ENOTFOUND")?"Server nenalezen - zkontrolujte adresu serveru":e}function r(e){if(!e||"string"!==typeof e)return e||"Nezn\xe1m\xe1 chyba";if(e.includes("timeout")&&e.includes("exceeded")){const n=e.match(/timeout of (\d+)ms exceeded/);if(n){const e=n[1],t=Math.round(e/1e3);return"P\u0159ekro\u010den \u010dasov\xfd limit ".concat(t,"s")}return"P\u0159ekro\u010den \u010dasov\xfd limit"}return o(e)}t.d(n,{E:()=>o,g:()=>r})},74714:(e,n,t)=>{t.d(n,{WL:()=>o});const o=e=>e?e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""):""},98951:(e,n,t)=>{t.d(n,{cR:()=>r,zJ:()=>a});var o=t(97929);const r=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")){case"nova":return o.ijD;case"ke_schvaleni":case"keSchvaleni":return o.TuH;case"schvalena":case"kontrola_potvrzena":case"vecnaSpravnost":case"vecna_spravnost":return o.SGM;case"zamitnuta":case"zrusena":return o.s0Q;case"rozpracovana":case"kontrola_ceka":case"cekaKontrola":return o.a$;case"odeslana":return o.raf;case"potvrzena":return o.V2x;case"uverejnena":case"registr_zverejnena":case"registrzverejnena":return o.IJd;case"dokoncena":return o.pvD;case"ceka_potvrzeni":case"cekaPotvrzeni":case"ceka_se":case"cekaSe":return o.G1Y;case"archivovano":case"archivovana":return o.Oh6;default:return o.iW_}},a=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")){case"nova":case"koncept":return"\ud83d\udcdd";case"ke_schvaleni":case"keschvaleni":return"\ud83d\udccb";case"schvalena":return"\ud83d\udc4d";case"zamitnuta":return"\u274c";case"rozpracovana":return"\ud83d\udd50";case"odeslana":return"\ud83d\udce4";case"potvrzena":return"\u2714\ufe0f";case"uverejnena":case"registr_zverejnena":case"registrzverejnena":return"\ud83d\udce2";case"dokoncena":return"\ud83c\udfaf";case"ceka_potvrzeni":case"cekapotvrzeni":case"ceka_se":case"cekase":return"\u23f8\ufe0f";case"zrusena":return"\ud83d\udeab";case"smazana":return"\ud83d\uddd1\ufe0f";case"archivovano":case"archivovana":return"\ud83d\udce6";case"ceka_kontrola":case"cekakontrola":return"\ud83d\udd0d";case"vecna_spravnost":case"vecnaspravnost":return"\u2705";default:return"\ud83d\udcca"}}}}]);
//# sourceMappingURL=7023.7a54390b.chunk.js.map