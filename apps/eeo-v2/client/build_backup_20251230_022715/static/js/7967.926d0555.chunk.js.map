{"version":3,"file":"static/js/7967.926d0555.chunk.js","mappings":"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","sources":["components/mobile/MobileHeader.jsx","components/mobile/MobileMenu.jsx","services/activityLogService.js","components/mobile/MobileActivityLog.jsx","components/mobile/MobileSuccessAnimation.jsx","components/mobile/OrderApprovalCard.jsx","components/mobile/MobileConfirmDialog.jsx","services/mobileDataService.js","components/mobile/MobileDashboard.jsx","utils/orderStatsUtils.js","services/hierarchyService.js","components/SplashScreen.js","services/globalSettingsApi.js","theme/useThemeMode.js","utils/iconMapping.js"],"sourcesContent":["import { useState, useContext, useEffect } from 'react';\nimport { AuthContext } from '../../context/AuthContext';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faClockRotateLeft } from '@fortawesome/free-solid-svg-icons';\nimport './MobileHeader.css';\n\nconst logoZZS = '/eeo-v2/logo-ZZS.png';\n\n/**\n * Mobiln hlavika s logem a zkratkou EEO\n * Obsahuje hamburger menu pro oteven navigace\n * @param {string} title - Vlastn nadpis (pepe vchoz \"EEO\")\n * @param {boolean} showBackButton - Zobrazit tlatko zpt\n * @param {function} onBackClick - Handler pro tlatko zpt\n * @param {function} onActivityClick - Handler pro oteven historie aktivit\n * @param {number} activityCount - Poet aktivit v historii\n */\nfunction MobileHeader({ title, onMenuClick, notificationCount = 0, showBackButton = false, onBackClick, onActivityClick, activityCount = 0 }) {\n  const { isLoggedIn, token, user } = useContext(AuthContext);\n  const [hierarchyInfo, setHierarchyInfo] = useState(null);\n  \n  // Ziskt verzi z ENV promnn a extrahovat slo verze\n  const fullVersion = process.env.REACT_APP_VERSION || '1.88';\n  const versionNumber = fullVersion.match(/(\\d+\\.\\d+[a-z]?)/)?.[1] || fullVersion;\n  \n  // Detekce dev prosted\n  const isDevEnv = typeof window !== 'undefined' && window.location.pathname.startsWith('/dev/');\n  \n  //  HIERARCHIE: Nast stav hierarchie pi pihlen (stejn jako v Layout.js)\n  useEffect(() => {\n    if (!isLoggedIn || !token || !user?.username) {\n      setHierarchyInfo(null);\n      return;\n    }\n    \n    const loadHierarchyStatus = async () => {\n      try {\n        const { getGlobalSettings } = await import('../../services/globalSettingsApi');\n        const { getUserDetailApi2 } = await import('../../services/api2auth');\n        \n        const settings = await getGlobalSettings(token, user.username);\n        const userDetail = await getUserDetailApi2(user.username, token, user.id);\n        \n        // Zkontrolovat HIERARCHY_IMMUNE prvo\n        const hasImmunity = userDetail?.roles?.some(role => \n          role.prava?.some(pravo => pravo.kod_prava === 'HIERARCHY_IMMUNE')\n        ) || false;\n        \n        // Nastavit info o hierarchii pro hlaviku\n        if (settings.hierarchy_enabled && settings.hierarchy_profile_id) {\n          setHierarchyInfo({\n            profileId: settings.hierarchy_profile_id,\n            enabled: true,\n            isImmune: hasImmunity\n          });\n        } else {\n          setHierarchyInfo({ enabled: false });\n        }\n      } catch (error) {\n        console.error(' [MobileHeader] Chyba pi natn hierarchie:', error);\n        setHierarchyInfo(null);\n      }\n    };\n    \n    loadHierarchyStatus();\n  }, [isLoggedIn, token, user?.username, user?.id]);\n  \n  return (\n    <header \n      className=\"mobile-header\"\n      style={{\n        background: isDevEnv \n          ? 'linear-gradient(135deg, #654321 0%, #8B4513 40%, #A0522D 70%, #8B0000 100%)'\n          : 'linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%)'\n      }}\n    >\n      <div className=\"mobile-header-container\">\n        {/* Tlatko zpt (pokud je showBackButton) */}\n        {showBackButton ? (\n          <button className=\"mobile-back-btn\" onClick={onBackClick} aria-label=\"Zpt\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"24\" height=\"24\">\n              <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/>\n            </svg>\n          </button>\n        ) : (\n          <>\n            {/* Logo */}\n            <div className=\"mobile-logo\">\n              <img src={logoZZS} alt=\"ZZS Logo\" className=\"mobile-logo-img\" />\n            </div>\n          </>\n        )}\n\n        {/* Nzev aplikace s verz a profilem */}\n        <div className=\"mobile-app-title\">\n          <h1>\n            {title || 'EEO'}\n            {!title && (\n              <sup style={{ \n                fontSize: '0.45em', \n                marginLeft: '4px', \n                fontWeight: '600', \n                color: '#fbbf24',\n                textShadow: '0 1px 2px rgba(0,0,0,0.3)'\n              }}>\n                {/* DEVELOP label pro dev prosted */}\n                {isDevEnv && (\n                  <span style={{ \n                    color: '#ff6b6b', \n                    fontWeight: '700',\n                    backgroundColor: 'rgba(220, 38, 38, 0.2)',\n                    padding: '1px 4px',\n                    borderRadius: '2px',\n                    marginRight: '4px',\n                    border: '1px solid rgba(220, 38, 38, 0.4)',\n                    textShadow: '0 1px 3px rgba(0,0,0,0.5)',\n                    fontSize: '0.95em'\n                  }}>DEVELOP</span>\n                )}\n                {versionNumber}\n                {hierarchyInfo?.enabled && hierarchyInfo?.profileId && (\n                  <span style={{ \n                    color: hierarchyInfo.isImmune ? '#9ca3af' : '#10b981', \n                    fontWeight: '700',\n                    opacity: hierarchyInfo.isImmune ? 0.6 : 1\n                  }}>.H{hierarchyInfo.profileId}</span>\n                )}\n              </sup>\n            )}\n          </h1>\n          {!title && <span className=\"mobile-app-subtitle\">Elektronick evidence objednvek</span>}\n        </div>\n\n        {/* Historie aktivit a menu */}\n        <div className=\"mobile-header-actions\">\n          {/* Historie aktivit (vlevo od hamburgeru) */}\n          {!showBackButton && onActivityClick && (\n            <button \n              className=\"mobile-activity-btn\" \n              onClick={onActivityClick}\n              aria-label=\"Historie aktivit\"\n            >\n              <FontAwesomeIcon icon={faClockRotateLeft} />\n              {activityCount > 0 && (\n                <span className=\"mobile-activity-badge\">{activityCount > 9 ? '9+' : activityCount}</span>\n              )}\n            </button>\n          )}\n\n          {/* Zvoneek s notifikacemi */}\n          {notificationCount > 0 && (\n            <button className=\"mobile-notification-btn\" aria-label=\"Notifikace\">\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z\"/>\n              </svg>\n              {notificationCount > 0 && (\n                <span className=\"mobile-notification-badge\">{notificationCount > 99 ? '99+' : notificationCount}</span>\n              )}\n            </button>\n          )}\n\n          {/* Hamburger menu */}\n          <button \n            className=\"mobile-menu-btn\" \n            onClick={onMenuClick}\n            aria-label=\"Menu\"\n          >\n            <span></span>\n            <span></span>\n            <span></span>\n          </button>\n        </div>\n      </div>\n    </header>\n  );\n}\n\nexport default MobileHeader;\n","import { useContext } from 'react';\nimport { AuthContext } from '../../context/AuthContext';\nimport useThemeMode from '../../theme/useThemeMode';\nimport './MobileMenu.css';\n\n/**\n * Mobiln menu (slide-in) s monost odhlen a pepnaem reimu\n */\nfunction MobileMenu({ isOpen, onClose, user, userDetail, authUser, onNavigate }) {\n  const { logout } = useContext(AuthContext);\n  const { mode, preference, setThemePreference } = useThemeMode();\n\n  // Sestavit cel jmno s titulem\n  const getFullName = () => {\n    if (!userDetail) return authUser?.displayName || authUser?.username || 'Uivatel';\n    \n    const parts = [];\n    if (userDetail.titul_pred) parts.push(userDetail.titul_pred);\n    if (userDetail.jmeno) parts.push(userDetail.jmeno);\n    if (userDetail.prijmeni) parts.push(userDetail.prijmeni);\n    if (userDetail.titul_za) parts.push(userDetail.titul_za);\n    \n    return parts.length > 0 ? parts.join(' ') : (authUser?.displayName || authUser?.username || 'Uivatel');\n  };\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      // AuthContext u se postar o redirect\n    } catch (error) {\n      console.error('Logout failed:', error);\n    }\n  };\n\n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return (\n    <>\n      {/* Overlay */}\n      <div \n        className={`mobile-menu-overlay ${isOpen ? 'open' : ''}`}\n        onClick={handleOverlayClick}\n      />\n\n      {/* Menu panel */}\n      <div className={`mobile-menu ${isOpen ? 'open' : ''}`}>\n        <div className=\"mobile-menu-header\">\n          <button \n            className=\"mobile-menu-close\" \n            onClick={onClose}\n            aria-label=\"Zavt menu\"\n          >\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n            </svg>\n          </button>\n          <h3>Menu</h3>\n        </div>\n\n        <div className=\"mobile-menu-content\">\n          {/* Info o uivateli */}\n          {user && (\n            <div className=\"mobile-menu-user\">\n              <div className=\"mobile-menu-user-avatar\">\n                {userDetail?.jmeno ? userDetail.jmeno.charAt(0).toUpperCase() : (authUser?.displayName ? authUser.displayName.charAt(0).toUpperCase() : 'U')}\n              </div>\n              <div className=\"mobile-menu-user-info\">\n                <div className=\"mobile-menu-user-name\">\n                  {getFullName()}\n                </div>\n                <div className=\"mobile-menu-user-details\">\n                  {userDetail?.usek_nazev && (\n                    <span className=\"user-detail-item\">\n                      {typeof userDetail.usek_nazev === 'object' ? userDetail.usek_nazev?.nazev : userDetail.usek_nazev}\n                    </span>\n                  )}\n                  {userDetail?.lokalita_nazev && (\n                    <span className=\"user-detail-item\">\n                      {typeof userDetail.lokalita_nazev === 'object' ? userDetail.lokalita_nazev?.nazev : userDetail.lokalita_nazev}\n                    </span>\n                  )}\n                </div>\n                <div className=\"mobile-menu-user-email\">{userDetail?.email || authUser?.mail || authUser?.upn || authUser?.username || ''}</div>\n              </div>\n            </div>\n          )}\n\n          {/* Navigace */}\n          <nav className=\"mobile-menu-nav\">\n            <button className=\"mobile-menu-item\" onClick={() => { onNavigate('dashboard'); onClose(); }}>\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/>\n              </svg>\n              <span>Dashboard</span>\n            </button>\n            <button className=\"mobile-menu-item\" onClick={() => { onNavigate('activity'); onClose(); }}>\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z\"/>\n              </svg>\n              <span>Aktivita</span>\n            </button>\n          </nav>\n\n          {/* Reim zobrazen */}\n          <div className=\"mobile-menu-section\">\n            <div className=\"mobile-menu-section-title\">Reim zobrazen</div>\n            <div className=\"mobile-menu-theme-options\">\n              <button \n                className={`mobile-menu-theme-btn ${preference === 'auto' ? 'active' : ''}`}\n                onClick={() => setThemePreference('auto')}\n              >\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n                </svg>\n                <span>Automaticky</span>\n                {preference === 'auto' && (\n                  <span className=\"mobile-menu-theme-current\">({mode === 'dark' ? 'Tmav' : 'Svtl'})</span>\n                )}\n              </button>\n              <button \n                className={`mobile-menu-theme-btn ${preference === 'light' ? 'active' : ''}`}\n                onClick={() => setThemePreference('light')}\n              >\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z\"/>\n                </svg>\n                <span>Svtl</span>\n              </button>\n              <button \n                className={`mobile-menu-theme-btn ${preference === 'dark' ? 'active' : ''}`}\n                onClick={() => setThemePreference('dark')}\n              >\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.06 7 9.54 0 4.48-2.94 8.27-7 9.54.95.3 1.95.46 3 .46 5.52 0 10-4.48 10-10S14.52 2 9 2z\"/>\n                </svg>\n                <span>Tmav</span>\n              </button>\n            </div>\n          </div>\n\n          {/* Odhlen */}\n          <div className=\"mobile-menu-footer\">\n            <button \n              className=\"mobile-menu-logout\" \n              onClick={handleLogout}\n            >\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z\"/>\n              </svg>\n              <span>Odhlsit se</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default MobileMenu;\n","/**\n *  Activity Log Service\n * \n * Spravuje historii uivatelskch aktivit (schvlen, zamtnut, atd.)\n * - Ukld do localStorage\n * - Dr pouze zznamy z poslednho dne\n * - Univerzln pro rzn typy objekt (objednvky, faktury, pokladna, ...)\n */\n\nconst STORAGE_KEY = 'eeo_activity_log';\nconst MAX_AGE_HOURS = 24; // Historie pouze z poslednch 24 hodin\n\n/**\n * Typy aktivit\n */\nexport const ACTIVITY_TYPES = {\n  // Objednvky\n  ORDER_APPROVED: 'order_approved',\n  ORDER_REJECTED: 'order_rejected',\n  ORDER_WAITING: 'order_waiting',\n  ORDER_CREATED: 'order_created',\n  ORDER_UPDATED: 'order_updated',\n  ORDER_DELETED: 'order_deleted',\n  \n  // Faktury (pipraveno do budoucna)\n  INVOICE_APPROVED: 'invoice_approved',\n  INVOICE_REJECTED: 'invoice_rejected',\n  INVOICE_CREATED: 'invoice_created',\n  INVOICE_UPDATED: 'invoice_updated',\n  \n  // Pokladna (pipraveno do budoucna)\n  CASHBOOK_CREATED: 'cashbook_created',\n  CASHBOOK_UPDATED: 'cashbook_updated',\n  CASHBOOK_DELETED: 'cashbook_deleted',\n};\n\n/**\n * Typ entity\n */\nexport const ENTITY_TYPES = {\n  ORDER: 'order',\n  INVOICE: 'invoice',\n  CASHBOOK: 'cashbook',\n};\n\n/**\n * Struktura aktivity:\n * {\n *   id: string,              // Uniktn ID aktivity\n *   timestamp: number,       // Unix timestamp\n *   entityType: string,      // Typ entity (order, invoice, cashbook, ...)\n *   entityId: number|string, // ID entity\n *   activityType: string,    // Typ aktivity (approved, rejected, ...)\n *   title: string,           // Nzev/popis entity\n *   amount: number,          // stka (voliteln)\n *   userName: string,        // Jmno uivatele\n *   description: string,     // Popis aktivity\n *   metadata: object         // Dal metadata (voliteln)\n * }\n */\n\n/**\n * Nate vechny aktivity z localStorage a vyfiltruje star\n */\nexport const getActivities = () => {\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (!stored) return [];\n    \n    const activities = JSON.parse(stored);\n    const now = Date.now();\n    const maxAge = MAX_AGE_HOURS * 60 * 60 * 1000; // 24h v ms\n    \n    // Filtrovat pouze aktivity z poslednch 24 hodin\n    const recentActivities = activities.filter(activity => {\n      return (now - activity.timestamp) < maxAge;\n    });\n    \n    // Uloit zpt vyfiltrovan seznam\n    if (recentActivities.length !== activities.length) {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(recentActivities));\n    }\n    \n    // Vrtit seazen od nejnovjch\n    return recentActivities.sort((a, b) => b.timestamp - a.timestamp);\n    \n  } catch (error) {\n    console.error('[ActivityLog] Chyba pi natn aktivit:', error);\n    return [];\n  }\n};\n\n/**\n * Pid novou aktivitu\n */\nexport const addActivity = ({\n  entityType,\n  entityId,\n  activityType,\n  title,\n  amount = null,\n  userName,\n  description,\n  metadata = {}\n}) => {\n  try {\n    const activities = getActivities();\n    \n    const newActivity = {\n      id: `${entityType}_${entityId}_${Date.now()}`,\n      timestamp: Date.now(),\n      entityType,\n      entityId,\n      activityType,\n      title,\n      amount,\n      userName,\n      description,\n      metadata\n    };\n    \n    activities.unshift(newActivity); // Pidat na zatek\n    \n    // Omezit poet aktivit (max 100)\n    const limitedActivities = activities.slice(0, 100);\n    \n    localStorage.setItem(STORAGE_KEY, JSON.stringify(limitedActivities));\n    \n    console.log('[ActivityLog] Aktivita pidna:', newActivity);\n    return newActivity;\n    \n  } catch (error) {\n    console.error('[ActivityLog] Chyba pi pidvn aktivity:', error);\n    return null;\n  }\n};\n\n/**\n * Vymae vechny aktivity\n */\nexport const clearActivities = () => {\n  try {\n    localStorage.removeItem(STORAGE_KEY);\n    console.log('[ActivityLog] Vechny aktivity vymazny');\n    return true;\n  } catch (error) {\n    console.error('[ActivityLog] Chyba pi mazn aktivit:', error);\n    return false;\n  }\n};\n\n/**\n * Zsk ikonu pro typ aktivity\n */\nexport const getActivityIcon = (activityType) => {\n  const iconMap = {\n    // Schvlen\n    [ACTIVITY_TYPES.ORDER_APPROVED]: 'faCheckCircle',\n    [ACTIVITY_TYPES.INVOICE_APPROVED]: 'faCheckCircle',\n    \n    // Zamtnut\n    [ACTIVITY_TYPES.ORDER_REJECTED]: 'faTimesCircle',\n    [ACTIVITY_TYPES.INVOICE_REJECTED]: 'faTimesCircle',\n    \n    // ekn\n    [ACTIVITY_TYPES.ORDER_WAITING]: 'faHourglassHalf',\n    \n    // Vytvoen\n    [ACTIVITY_TYPES.ORDER_CREATED]: 'faPlusCircle',\n    [ACTIVITY_TYPES.INVOICE_CREATED]: 'faPlusCircle',\n    [ACTIVITY_TYPES.CASHBOOK_CREATED]: 'faPlusCircle',\n    \n    // prava\n    [ACTIVITY_TYPES.ORDER_UPDATED]: 'faEdit',\n    [ACTIVITY_TYPES.INVOICE_UPDATED]: 'faEdit',\n    [ACTIVITY_TYPES.CASHBOOK_UPDATED]: 'faEdit',\n    \n    // Smazn\n    [ACTIVITY_TYPES.ORDER_DELETED]: 'faTrash',\n    [ACTIVITY_TYPES.CASHBOOK_DELETED]: 'faTrash',\n  };\n  \n  return iconMap[activityType] || 'faInfoCircle';\n};\n\n/**\n * Zsk CSS tdu pro typ aktivity (pro barvu)\n */\nexport const getActivityColorClass = (activityType) => {\n  if (activityType.includes('approved')) return 'activity-success';\n  if (activityType.includes('rejected')) return 'activity-danger';\n  if (activityType.includes('waiting')) return 'activity-warning';\n  if (activityType.includes('created')) return 'activity-info';\n  if (activityType.includes('updated')) return 'activity-info';\n  if (activityType.includes('deleted')) return 'activity-danger';\n  return 'activity-default';\n};\n\n/**\n * Formtuje asov rozdl (nap. \"ped 5 minutami\")\n */\nexport const formatTimeAgo = (timestamp) => {\n  const now = Date.now();\n  const diff = now - timestamp;\n  \n  const minutes = Math.floor(diff / 60000);\n  const hours = Math.floor(diff / 3600000);\n  \n  if (minutes < 1) return 'prv te';\n  if (minutes < 60) return `ped ${minutes} min`;\n  if (hours < 24) return `ped ${hours} h`;\n  return 'ped 1 dnem';\n};\n\nexport default {\n  getActivities,\n  addActivity,\n  clearActivities,\n  getActivityIcon,\n  getActivityColorClass,\n  formatTimeAgo,\n  ACTIVITY_TYPES,\n  ENTITY_TYPES\n};\n","import { useState, useEffect } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { \n  faCheckCircle, \n  faTimesCircle, \n  faHourglassHalf, \n  faPlusCircle,\n  faEdit,\n  faTrash,\n  faInfoCircle,\n  faTimes\n} from '@fortawesome/free-solid-svg-icons';\nimport { \n  getActivities, \n  clearActivities, \n  getActivityColorClass, \n  formatTimeAgo,\n  ENTITY_TYPES \n} from '../../services/activityLogService';\nimport './MobileActivityLog.css';\n\n/**\n *  Mobiln Activity Log\n * Zobrazuje historii poslednch aktivit uivatele (24h)\n * - Schvlen/zamtnut objednvek\n * - Vytven/pravy faktur, pokladny atd.\n * \n * Design: Podobn jako OrderApprovalCard\n */\nfunction MobileActivityLog({ isOpen, onClose }) {\n  const [activities, setActivities] = useState([]);\n\n  // Nast aktivity pi oteven\n  useEffect(() => {\n    if (isOpen) {\n      loadActivities();\n    }\n  }, [isOpen]);\n\n  const loadActivities = () => {\n    const loadedActivities = getActivities();\n    setActivities(loadedActivities);\n  };\n\n  const handleClearAll = () => {\n    if (window.confirm('Opravdu smazat celou historii aktivit?')) {\n      clearActivities();\n      setActivities([]);\n    }\n  };\n\n  const getIconComponent = (activityType) => {\n    if (activityType.includes('approved')) return faCheckCircle;\n    if (activityType.includes('rejected')) return faTimesCircle;\n    if (activityType.includes('waiting')) return faHourglassHalf;\n    if (activityType.includes('created')) return faPlusCircle;\n    if (activityType.includes('updated')) return faEdit;\n    if (activityType.includes('deleted')) return faTrash;\n    return faInfoCircle;\n  };\n\n  const getEntityLabel = (entityType) => {\n    const labels = {\n      [ENTITY_TYPES.ORDER]: 'Objednvka',\n      [ENTITY_TYPES.INVOICE]: 'Faktura',\n      [ENTITY_TYPES.CASHBOOK]: 'Pokladna',\n    };\n    return labels[entityType] || entityType;\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"mobile-activity-overlay\" onClick={onClose}>\n      <div className=\"mobile-activity-panel\" onClick={(e) => e.stopPropagation()}>\n        {/* Hlavika */}\n        <div className=\"mobile-activity-header\">\n          <h2>\n             Historie aktivit\n            <span className=\"mobile-activity-count\">{activities.length}</span>\n          </h2>\n          <button className=\"mobile-activity-close\" onClick={onClose} aria-label=\"Zavt\">\n            <FontAwesomeIcon icon={faTimes} />\n          </button>\n        </div>\n\n        {/* Subtitle */}\n        <div className=\"mobile-activity-subtitle\">\n          Posledn aktivity za 24 hodin\n        </div>\n\n        {/* Seznam aktivit */}\n        <div className=\"mobile-activity-list\">\n          {activities.length === 0 ? (\n            <div className=\"mobile-activity-empty\">\n              <FontAwesomeIcon icon={faInfoCircle} className=\"empty-icon\" />\n              <p>Zatm dn aktivity</p>\n              <span className=\"empty-hint\">Schvlen a dal akce se zobraz zde</span>\n            </div>\n          ) : (\n            activities.map((activity) => (\n              <div \n                key={activity.id} \n                className={`mobile-activity-card ${getActivityColorClass(activity.activityType)}`}\n                data-entity-id={activity.metadata?.orderId || activity.id}\n              >\n                {/* Ikona aktivity */}\n                <div className=\"activity-icon\">\n                  <FontAwesomeIcon icon={getIconComponent(activity.activityType)} />\n                </div>\n\n                {/* Obsah */}\n                <div className=\"activity-content\">\n                  {/* Typ entity + asov raztko */}\n                  <div className=\"activity-meta\">\n                    <span className=\"activity-entity\">{getEntityLabel(activity.entityType)}</span>\n                    <span className=\"activity-time\">{formatTimeAgo(activity.timestamp)}</span>\n                  </div>\n\n                  {/* Evidenn slo objednvky */}\n                  <div className=\"activity-title\">\n                    Ev. slo: {activity.metadata?.orderNumber || activity.entityId}\n                  </div>\n                  \n                  {/* Nzev objednvky */}\n                  {activity.title && !activity.title.startsWith('Objednvka') && (\n                    <div className=\"activity-description\" style={{ fontWeight: 600, color: '#212529', marginBottom: '0.25rem' }}>\n                      {activity.title}\n                    </div>\n                  )}\n                  \n                  {/* Popis akce */}\n                  <div className=\"activity-description\">{activity.description}</div>\n\n                  {/* stka (pokud je) */}\n                  {activity.amount && (\n                    <div className=\"activity-amount\">\n                      {new Intl.NumberFormat('cs-CZ', {\n                        style: 'currency',\n                        currency: 'CZK',\n                        minimumFractionDigits: 0,\n                        maximumFractionDigits: 0,\n                      }).format(activity.amount)}\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n\n        {/* Footer s tlatkem vymazat */}\n        {activities.length > 0 && (\n          <div className=\"mobile-activity-footer\">\n            <button className=\"mobile-activity-clear-btn\" onClick={handleClearAll}>\n              <FontAwesomeIcon icon={faTrash} />\n              Vymazat historii\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default MobileActivityLog;\n","import { useEffect, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheckCircle, faTimesCircle, faHourglassHalf } from '@fortawesome/free-solid-svg-icons';\nimport './MobileSuccessAnimation.css';\n\n/**\n *  Success Animation Component\n * Zobraz animaci spchu s efektem \"odltnut\" do ikony historie\n * \n * @param {boolean} show - Zobrazit animaci\n * @param {string} type - Typ akce: 'approved' | 'rejected' | 'waiting'\n * @param {string} message - Zprva k zobrazen\n * @param {function} onComplete - Callback po dokonen animace\n */\nfunction MobileSuccessAnimation({ show, type = 'approved', message = 'spn provedeno', onComplete }) {\n  const [animationPhase, setAnimationPhase] = useState('hidden'); // hidden | show | flyaway\n\n  useEffect(() => {\n    if (show) {\n      // Fze 1: Zobrazit\n      setAnimationPhase('show');\n      \n      // Fze 2: Po 1.2s zat odltat\n      const flyTimeout = setTimeout(() => {\n        setAnimationPhase('flyaway');\n      }, 1200);\n\n      // Fze 3: Po dokonen animace zavolat callback\n      const completeTimeout = setTimeout(() => {\n        setAnimationPhase('hidden');\n        if (onComplete) {\n          onComplete();\n        }\n      }, 2000);\n\n      return () => {\n        clearTimeout(flyTimeout);\n        clearTimeout(completeTimeout);\n      };\n    }\n  }, [show, onComplete]);\n\n  if (animationPhase === 'hidden') return null;\n\n  const getIcon = () => {\n    switch (type) {\n      case 'approved':\n        return faCheckCircle;\n      case 'rejected':\n        return faTimesCircle;\n      case 'waiting':\n        return faHourglassHalf;\n      default:\n        return faCheckCircle;\n    }\n  };\n\n  const getColorClass = () => {\n    switch (type) {\n      case 'approved':\n        return 'success-animation-approved';\n      case 'rejected':\n        return 'success-animation-rejected';\n      case 'waiting':\n        return 'success-animation-waiting';\n      default:\n        return 'success-animation-approved';\n    }\n  };\n\n  return (\n    <div className={`mobile-success-animation ${animationPhase} ${getColorClass()}`}>\n      <div className=\"success-animation-content\">\n        <div className=\"success-animation-icon\">\n          <FontAwesomeIcon icon={getIcon()} />\n        </div>\n        <div className=\"success-animation-message\">{message}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default MobileSuccessAnimation;\n","import { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck, faTimes, faClock, faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport './OrderApprovalCard.css';\n\n/**\n *  Karta objednvky ke schvlen v mobilnm dashboardu\n * Zobrazuje: Pedmt, Max cena s DPH, Zdroj financovn\n * Akce: Schvlit, Zamtnout, ek se\n */\nfunction OrderApprovalCard({ order, onApprove, onReject, onWait, loading }) {\n  const [localLoading, setLocalLoading] = useState(null); // 'approve', 'reject', 'wait'\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('cs-CZ', {\n      style: 'currency',\n      currency: 'CZK',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  const handleAction = async (action, handler) => {\n    setLocalLoading(action);\n    try {\n      await handler(order);\n    } finally {\n      setLocalLoading(null);\n    }\n  };\n\n  //  NOV LOGIKA: Celkov cena podle priority faktury > poloky > max cena\n  const getCelkovaCena = (order) => {\n    // 1. PRIORITA: Faktury (pokud existuj)\n    if (order.faktury_celkova_castka_s_dph != null && order.faktury_celkova_castka_s_dph !== '') {\n      const value = parseFloat(order.faktury_celkova_castka_s_dph);\n      if (!isNaN(value) && value > 0) return value;\n    }\n    \n    // 2. PRIORITA: Poloky (pokud existuj)\n    if (order.polozky_celkova_cena_s_dph != null && order.polozky_celkova_cena_s_dph !== '') {\n      const value = parseFloat(order.polozky_celkova_cena_s_dph);\n      if (!isNaN(value) && value > 0) return value;\n    }\n\n    // Fallback: Spotej z pole poloek\n    if (order.polozky && Array.isArray(order.polozky) && order.polozky.length > 0) {\n      const total = order.polozky.reduce((sum, item) => {\n        const cena = parseFloat(item.cena_s_dph || 0);\n        return sum + (isNaN(cena) ? 0 : cena);\n      }, 0);\n      if (total > 0) return total;\n    }\n\n    // 3. FALLBACK: Max cena s DPH (schvlen limit)\n    if (order.max_cena_s_dph != null && order.max_cena_s_dph !== '') {\n      const value = parseFloat(order.max_cena_s_dph);\n      if (!isNaN(value)) return value;\n    }\n\n    return 0;\n  };\n\n  const celkovaCena = getCelkovaCena(order);\n  \n  //  Zdroj financovn - parsovn a zobrazen detail\n  let zdrojFinancovani = 'Neuvedeno';\n  let financovaniDetail = null;\n  let financovaniData = null;\n  \n  if (order.financovani) {\n    // Parsovat financovani objekt\n    if (typeof order.financovani === 'object') {\n      financovaniData = order.financovani;\n    } else if (typeof order.financovani === 'string') {\n      try {\n        financovaniData = JSON.parse(order.financovani);\n      } catch {\n        // Nen JSON, pouij jako string\n        zdrojFinancovani = order.financovani;\n      }\n    }\n    \n    if (financovaniData) {\n      // Zskat TYP financovn (kod_stavu nebo typ)\n      const typKod = financovaniData.kod_stavu || financovaniData.typ || '';\n      \n      // Mapovn kod na lidsk nzvy (podle OrderForm25 financovaniOptions)\n      const typyFinancovaniMap = {\n        'LP': 'Limitovan pslib',\n        'SMLOUVA': 'Smlouva',\n        'INDIVIDUALNI_SCHVALENI': 'Individuln schvlen',\n        'INDIVIDUALNI': 'Individuln schvlen',\n        'POJISTNA_UDALOST': 'Pojistn udlost',\n        'POJISTNE_UDALOSTI': 'Pojistn udlost'\n      };\n      \n      // Nzev zdroje - priorita: nazev_stavu > nazev > mapovn z kdu > kd\n      zdrojFinancovani = financovaniData.nazev_stavu \n        || financovaniData.nazev \n        || typyFinancovaniMap[typKod] \n        || typKod \n        || 'Neuvedeno';\n      \n      // Detail podle typu\n      if (typKod === 'LP') {\n        // LP kdy - zobrazit cislo_lp (zkratky) msto ID\n        if (financovaniData.lp_nazvy && Array.isArray(financovaniData.lp_nazvy)) {\n          // lp_nazvy je array objekt: [{id, cislo_lp, nazev}, ...]\n          const lpCodes = financovaniData.lp_nazvy\n            .map(lp => lp.cislo_lp || lp.id)\n            .filter(Boolean)\n            .join(', ');\n          financovaniDetail = lpCodes || 'LP';\n        } else if (financovaniData.lp_kody && Array.isArray(financovaniData.lp_kody)) {\n          // Fallback: zobrazit ID\n          financovaniDetail = financovaniData.lp_kody.join(', ');\n        }\n      } else if (typKod === 'SMLOUVA' && financovaniData.cislo_smlouvy) {\n        // slo smlouvy\n        financovaniDetail = financovaniData.cislo_smlouvy;\n      } else if ((typKod === 'INDIVIDUALNI_SCHVALENI' || typKod === 'INDIVIDUALNI') && financovaniData.individualni_schvaleni) {\n        // Individuln schvlen\n        financovaniDetail = financovaniData.individualni_schvaleni;\n      } else if ((typKod === 'POJISTNA_UDALOST' || typKod === 'POJISTNE_UDALOSTI') && financovaniData.pojistna_udalost_cislo) {\n        // Pojistn udlost\n        financovaniDetail = financovaniData.pojistna_udalost_cislo;\n      }\n    }\n  } else if (order.zpusob_financovani) {\n    zdrojFinancovani = order.zpusob_financovani;\n  }\n  \n  const predmet = order.predmet || 'Bez nzvu';\n  const orderNumber = order.cislo_objednavky || order.ev_cislo || `#${order.id}`;\n  const isMimoradna = order.mimoradna_udalost === 1 || order.mimoradna_udalost === true;\n  \n  //  Objednatel - enriched data jsou pmo v order.objednatel (ne v _enriched)\n  let objednatel = 'Neznm';\n  if (order.objednatel?.cele_jmeno) {\n    objednatel = order.objednatel.cele_jmeno;\n  } else if (order._enriched?.objednatel?.cele_jmeno) {\n    objednatel = order._enriched.objednatel.cele_jmeno;\n  } else if (order.objednatel_cele_jmeno) {\n    objednatel = order.objednatel_cele_jmeno;\n  } else if (order.objednatel_jmeno) {\n    objednatel = order.objednatel_jmeno;\n  } else if (order.jmeno) {\n    objednatel = order.jmeno;\n  }\n  \n  //  Garant - enriched data jsou v order.garant_uzivatel (ne _enriched.garant)\n  let garant = null;\n  if (order.garant_uzivatel?.cele_jmeno) {\n    garant = order.garant_uzivatel.cele_jmeno;\n  } else if (order._enriched?.garant?.cele_jmeno) {\n    garant = order._enriched.garant.cele_jmeno;\n  } else if (order.garant_cele_jmeno) {\n    garant = order.garant_cele_jmeno;\n  } else if (order.garant_jmeno) {\n    garant = order.garant_jmeno;\n  }\n\n  return (\n    <div className={`mobile-approval-card ${isMimoradna ? 'urgent' : ''}`}>\n      {/* Header s slem objednvky a objednatelem */}\n      <div className=\"mobile-approval-header\">\n        <span className=\"mobile-approval-number\">\n          {orderNumber}\n          {isMimoradna && <span className=\"mobile-approval-urgent-badge\"> </span>}\n        </span>\n        <span className=\"mobile-approval-objednatel\">{objednatel}</span>\n      </div>\n\n      {/* Obsah - pedmt */}\n      <div className=\"mobile-approval-subject\">\n        {predmet}\n      </div>\n\n      {/* Detaily - cena a zdroj */}\n      <div className=\"mobile-approval-details\">\n        <div className=\"mobile-approval-detail-row\">\n          {garant && (\n            <div className=\"mobile-approval-detail mobile-approval-detail-half\">\n              <span className=\"mobile-approval-label\">Garant:</span>\n              <span className=\"mobile-approval-value\">{garant}</span>\n            </div>\n          )}\n          <div className=\"mobile-approval-detail mobile-approval-detail-half\">\n            <span className=\"mobile-approval-label\">Celkov cena s DPH:</span>\n            <span className=\"mobile-approval-value\">{formatCurrency(celkovaCena)}</span>\n          </div>\n        </div>\n        <div className=\"mobile-approval-detail\">\n          <span className=\"mobile-approval-label\">Zdroj financovn:</span>\n          <span className=\"mobile-approval-value\">\n            {financovaniDetail ? `${zdrojFinancovani} : ${financovaniDetail}` : zdrojFinancovani}\n          </span>\n        </div>\n        {order.financovani?.poznamka && (\n          <div className=\"mobile-approval-detail\">\n            <span className=\"mobile-approval-label\">Poznmka:</span>\n            <span className=\"mobile-approval-value\">{order.financovani.poznamka}</span>\n          </div>\n        )}\n      </div>\n\n      {/* Akce - 3 tvercov tlatka */}\n      <div className=\"mobile-approval-actions\">\n        <button\n          className=\"mobile-approval-btn approve\"\n          onClick={() => handleAction('approve', onApprove)}\n          disabled={loading || localLoading !== null}\n          title=\"Schvlit objednvku\"\n        >\n          {localLoading === 'approve' ? (\n            <FontAwesomeIcon icon={faSpinner} spin />\n          ) : (\n            <FontAwesomeIcon icon={faCheck} />\n          )}\n          <span>Schvlit</span>\n        </button>\n\n        <button\n          className=\"mobile-approval-btn reject\"\n          onClick={() => handleAction('reject', onReject)}\n          disabled={loading || localLoading !== null}\n          title=\"Zamtnout objednvku\"\n        >\n          {localLoading === 'reject' ? (\n            <FontAwesomeIcon icon={faSpinner} spin />\n          ) : (\n            <FontAwesomeIcon icon={faTimes} />\n          )}\n          <span>Zamtnout</span>\n        </button>\n\n        <button\n          className=\"mobile-approval-btn wait\"\n          onClick={() => handleAction('wait', onWait)}\n          disabled={loading || localLoading !== null}\n          title=\"Oznait jako ek se\"\n        >\n          {localLoading === 'wait' ? (\n            <FontAwesomeIcon icon={faSpinner} spin />\n          ) : (\n            <FontAwesomeIcon icon={faClock} />\n          )}\n          <span>ek se</span>\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default OrderApprovalCard;\n","import { useState, useEffect } from 'react';\nimport './MobileConfirmDialog.css';\n\n/**\n * Mobiln confirm dialog s podporou dark/light mode\n * \n * @param {boolean} isOpen - Zda je dialog oteven\n * @param {function} onClose - Callback pro zaven dialogu\n * @param {function} onConfirm - Callback pro potvrzen (dostane text dvodu)\n * @param {string} title - Nadpis dialogu\n * @param {string} message - Zprva v dialogu\n * @param {string} confirmText - Text potvrzovacho tlatka\n * @param {string} cancelText - Text zruovacho tlatka\n * @param {boolean} requireReason - Zda je dvod povinn\n * @param {string} reasonPlaceholder - Placeholder pro textarea\n * @param {string} variant - Barevn styl: 'danger' | 'warning' | 'primary'\n */\nfunction MobileConfirmDialog({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message,\n  confirmText = 'Potvrdit',\n  cancelText = 'Zruit',\n  requireReason = false,\n  reasonPlaceholder = 'Zadejte dvod...',\n  variant = 'primary' // 'danger' | 'warning' | 'primary'\n}) {\n  const [reason, setReason] = useState('');\n  const [error, setError] = useState('');\n\n  // Reset pi oteven/zaven\n  useEffect(() => {\n    if (isOpen) {\n      setReason('');\n      setError('');\n    }\n  }, [isOpen]);\n\n  // Zabrnit scrollovn pozad kdy je dialog oteven\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isOpen]);\n\n  const handleConfirm = () => {\n    if (requireReason && !reason.trim()) {\n      setError('Dvod je povinn');\n      return;\n    }\n    onConfirm(reason.trim());\n    onClose();\n  };\n\n  const handleCancel = () => {\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"mobile-confirm-overlay\" onClick={handleCancel}>\n      <div \n        className={`mobile-confirm-dialog ${variant}`}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Nadpis */}\n        <div className=\"mobile-confirm-header\">\n          <h3>{title}</h3>\n        </div>\n\n        {/* Obsah */}\n        <div className=\"mobile-confirm-body\">\n          {message && <p className=\"mobile-confirm-message\">{message}</p>}\n          \n          {requireReason && (\n            <div className=\"mobile-confirm-reason\">\n              <textarea\n                value={reason}\n                onChange={(e) => {\n                  setReason(e.target.value);\n                  setError('');\n                }}\n                placeholder={reasonPlaceholder}\n                rows={4}\n                autoFocus\n              />\n              {error && (\n                <div className=\"mobile-confirm-error\">\n                  {error}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Tlatka */}\n        <div className=\"mobile-confirm-actions\">\n          <button\n            className=\"mobile-confirm-btn cancel\"\n            onClick={handleCancel}\n          >\n            {cancelText}\n          </button>\n          <button\n            className={`mobile-confirm-btn confirm ${variant}`}\n            onClick={handleConfirm}\n          >\n            {confirmText}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MobileConfirmDialog;\n","/**\n *  Mobile Data Service\n * Servis pro zskvn dat pro mobiln dashboard\n * \n *  Pouv centrln hierarchyService pro konzistentn chovn s desktop verz\n *  Pouv spolen utility (orderStatsUtils) pro identick vsledky s desktop verz\n */\n\nimport { listOrdersV2 } from './apiOrderV2';\nimport { listInvoices25 } from './api25invoices';\nimport cashbookAPI from './cashbookService';\nimport hierarchyService, { HierarchyModules } from './hierarchyService';\nimport { \n  filterOrders, \n  calculateOrderStats, \n  getOrderSystemStatus,\n  getOrderTotalPriceWithDPH \n} from '../utils/orderStatsUtils';\n\nconst mobileDataService = {\n  /**\n   * Hlavn metoda pro naten vech dat pro mobiln dashboard\n   * @param {Object} params - { token, username, year, userId, isAdmin }\n   * \n   * DLEIT: Pouvme STEJN API jako desktop (listOrdersV2, listInvoices25, cashbookAPI).\n   * Potme statistiky lokln ze seznam.\n   * \n   * @param {number} userId - ID aktulnho uivatele (pro filtrovn objednvek dle pikzce)\n   * @param {boolean} isAdmin - Pokud true, zobraz vechny objednvky; jinak jen ty, kde je userId pikzce\n   * @param {boolean} showArchived - Pokud true, zahrne archivovan objednvky; jinak je vyfiltruje\n   */\n  async getAllMobileData({ token, username, year = new Date().getFullYear(), userId = null, isAdmin = false, showArchived = false }) {\n    try {\n      // Nati data paraleln pro rychlej natn\n      const currentMonth = new Date().getMonth() + 1; // 1-12\n      \n      //  Naten hierarchie (pro metadata)\n      const hierarchyConfig = await hierarchyService.getHierarchyConfigCached(token, username);\n      \n      const [ordersResult, invoicesResult, cashbookResult] = await Promise.allSettled([\n        // 1. Objednvky pro dan rok - SPRVN POAD PARAMETR!\n        // listOrdersV2(filters, token, username, returnFullResponse, enriched)\n        listOrdersV2({ rok: year }, token, username, false, true),\n        \n        // 2. Faktury pro dan rok\n        listInvoices25({ token, username, year, page: 1, per_page: 1000 }),\n        \n        // 3. Pokladn knihy pro aktuln msc (pro zskn aktivnch pokladen)\n        cashbookAPI.getCashboxListByPeriod(year, currentMonth, true, true)\n      ]);\n\n      // === OBJEDNVKY ===\n      let ordersData = null;\n      if (ordersResult.status === 'fulfilled' && Array.isArray(ordersResult.value)) {\n        ordersData = this.calculateOrdersStats(ordersResult.value, userId, isAdmin, showArchived);\n      } else {\n        console.error('[MobileData]  Orders API FAILED! Reason:', ordersResult.reason);\n        ordersData = { total: 0, totalAmount: 0, pending: { count: 0, amount: 0 }, approved: { count: 0, amount: 0 }, inProgress: { count: 0, amount: 0 }, completed: { count: 0, amount: 0 }, rejected: { count: 0, amount: 0 }, cancelled: { count: 0, amount: 0 } };\n      }\n\n      // === FAKTURY ===\n      let invoicesData = null;\n      if (invoicesResult.status === 'fulfilled' && invoicesResult.value?.faktury) {\n        invoicesData = this.calculateInvoicesStats(invoicesResult.value.faktury);\n      } else {\n        console.error('[MobileData]  Invoices API FAILED! Reason:', invoicesResult.reason);\n        invoicesData = { total: 0, totalAmount: 0, paid: { count: 0, amount: 0 }, unpaid: { count: 0, amount: 0 }, overdue: { count: 0, amount: 0 }, regular: { count: 0, amount: 0 }, advance: { count: 0, amount: 0 }, corrective: { count: 0, amount: 0 }, proforma: { count: 0, amount: 0 }, creditNote: { count: 0, amount: 0 }, withoutAssignment: { count: 0, amount: 0 } };\n      }\n\n      // === POKLADNA ===\n      let cashbookData = null;\n      if (cashbookResult.status === 'fulfilled' && cashbookResult.value?.status === 'ok') {\n        cashbookData = this.calculateCashbookStats(cashbookResult.value.data);\n      } else {\n        console.error('[MobileData]  Cashbook API FAILED! Reason:', cashbookResult.reason);\n        cashbookData = { count: 0, balance: 0, pokladny: [] };\n      }\n\n      return {\n        success: true,\n        data: {\n          orders: ordersData,\n          invoices: invoicesData,\n          cashbook: cashbookData,\n          notifications: { unread: 0 }\n        },\n        // Metadata - informace o zdroji dat a obdob\n        meta: {\n          year: year,\n          period: `Rok ${year}`,\n          dataSource: {\n            orders: ordersResult.status === 'fulfilled' ? 'API' : 'MOCK',\n            invoices: invoicesResult.status === 'fulfilled' ? 'API' : 'MOCK',\n            cashbook: cashbookResult.status === 'fulfilled' ? 'API' : 'MOCK'\n          },\n          //  Hierarchie info\n          hierarchy: {\n            status: hierarchyConfig.status,\n            enabled: hierarchyConfig.enabled,\n            profileName: hierarchyConfig.profileName,\n            logic: hierarchyConfig.logic,\n            message: hierarchyService.getHierarchyInfoMessage(hierarchyConfig, HierarchyModules.ORDERS)\n          }\n        }\n      };\n    } catch (error) {\n      console.error('[MobileData]  CRITICAL ERROR loading mobile data:', error);\n      // Vrtit przdn data msto mock dat\n      return {\n        success: false,\n        error: error.message,\n        data: {\n          orders: { total: 0, totalAmount: 0, pending: { count: 0, amount: 0 }, approved: { count: 0, amount: 0 }, inProgress: { count: 0, amount: 0 }, completed: { count: 0, amount: 0 }, rejected: { count: 0, amount: 0 }, cancelled: { count: 0, amount: 0 } },\n          invoices: { total: 0, totalAmount: 0, paid: { count: 0, amount: 0 }, unpaid: { count: 0, amount: 0 }, overdue: { count: 0, amount: 0 }, regular: { count: 0, amount: 0 }, advance: { count: 0, amount: 0 }, corrective: { count: 0, amount: 0 }, proforma: { count: 0, amount: 0 }, creditNote: { count: 0, amount: 0 }, withoutAssignment: { count: 0, amount: 0 } },\n          cashbook: { count: 0, balance: 0, pokladny: [] },\n          notifications: { unread: 0 }\n        },\n        meta: {\n          year: new Date().getFullYear(),\n          period: 'ERROR',\n          dataSource: { orders: 'ERROR', invoices: 'ERROR', cashbook: 'ERROR' }\n        }\n      };\n    }\n  },\n\n  /**\n   * Pot statistiky ze seznamu objednvek - POUV SPOLEN FUNKCE!\n   * @param {Array} orders - Seznam objednvek z API\n   * @param {number} userId - ID aktulnho uivatele (pro filtrovn objednvek dle pikzce)\n   * @param {boolean} isAdmin - Pokud true, zobraz vechny objednvky; jinak jen ty, kde je userId pikzce\n   * @param {boolean} showArchived - Pokud true, zahrne archivovan objednvky; jinak je vyfiltruje\n   * @returns {Object} - Statistiky ve formtu { pending: {count, amount}, ... }\n   */\n  calculateOrdersStats(orders, userId = null, isAdmin = false, showArchived = false) {\n    //  POUIJ SPOLEN FUNKCE pro filtrovn a vpoet statistik\n    const filteredOrders = filterOrders(orders, { showArchived, userId, isAdmin });\n    const stats = calculateOrderStats(filteredOrders);\n\n    // Pepotej stky pro jednotliv stavy\n    const getAmountForStatus = (status) => {\n      return filteredOrders\n        .filter(o => getOrderSystemStatus(o) === status)\n        .reduce((sum, o) => sum + getOrderTotalPriceWithDPH(o), 0);\n    };\n\n    return {\n      total: stats.total,\n      totalAmount: stats.totalAmount,\n      // Mapovn stav\n      pending: { \n        count: stats.byStatus.ODESLANA_KE_SCHVALENI || 0, \n        amount: getAmountForStatus('ODESLANA_KE_SCHVALENI')\n      },\n      approved: { \n        count: stats.byStatus.SCHVALENA || 0, \n        amount: getAmountForStatus('SCHVALENA')\n      },\n      maBytZverejnena: { \n        count: stats.byStatus.K_UVEREJNENI_DO_REGISTRU || 0, \n        amount: getAmountForStatus('K_UVEREJNENI_DO_REGISTRU')\n      },\n      uverejnena: { \n        count: stats.byStatus.UVEREJNENA || 0, \n        amount: getAmountForStatus('UVEREJNENA')\n      },\n      vecnaSpravnost: { \n        count: stats.byStatus.VECNA_SPRAVNOST || 0, \n        amount: getAmountForStatus('VECNA_SPRAVNOST')\n      },\n      completed: { \n        count: stats.byStatus.DOKONCENA || 0, \n        amount: getAmountForStatus('DOKONCENA')\n      },\n      rejected: { \n        count: stats.byStatus.ZAMITNUTA || 0, \n        amount: getAmountForStatus('ZAMITNUTA')\n      },\n      cancelled: { \n        count: stats.byStatus.ZRUSENA || 0, \n        amount: getAmountForStatus('ZRUSENA')\n      }\n    };\n  },\n\n  /**\n   * Pot statistiky ze seznamu faktur (podobn jako desktop Invoices25List)\n   * @param {Array} invoices - Seznam faktur z API\n   * @returns {Object} - Statistiky ve formtu { paid: {count, amount}, regular: {count, amount}, ... }\n   */\n  calculateInvoicesStats(invoices) {\n    const now = new Date();\n    now.setHours(0, 0, 0, 0);\n    \n    // Pomocn funkce pro uren statusu faktury\n    const getInvoiceStatus = (invoice) => {\n      if (invoice.fa_zaplacena === 1 || invoice.fa_zaplacena === true) {\n        return 'paid';\n      }\n      if (invoice.fa_datum_splatnosti) {\n        const splatnost = new Date(invoice.fa_datum_splatnosti);\n        splatnost.setHours(0, 0, 0, 0);\n        if (splatnost < now) {\n          return 'overdue';\n        }\n      }\n      return 'unpaid';\n    };\n\n    // Inicializace statistik\n    const stats = {\n      total: invoices.length,\n      totalAmount: 0,\n      // STAVY ZAPLACEN\n      paid: { count: 0, amount: 0 },\n      unpaid: { count: 0, amount: 0 },\n      overdue: { count: 0, amount: 0 },\n      // TYPY FAKTUR\n      regular: { count: 0, amount: 0 },      // BEZNA\n      advance: { count: 0, amount: 0 },      // ZALOHA\n      corrective: { count: 0, amount: 0 },   // OPRAVNA\n      proforma: { count: 0, amount: 0 },     // PROFORMA\n      creditNote: { count: 0, amount: 0 },   // DOBROPISY\n      withoutAssignment: { count: 0, amount: 0 } // BEZ_PRIRAZENI\n    };\n\n    invoices.forEach(invoice => {\n      const amount = parseFloat(invoice.fa_castka || 0);\n      stats.totalAmount += amount;\n\n      // Status zaplacen - PESN PODLE INVOICES25LIST\n      const status = getInvoiceStatus(invoice);\n      \n      // Zaplacen\n      if (status === 'paid') {\n        stats.paid.count++;\n        stats.paid.amount += amount;\n      } else {\n        // NEZAPLACENO = vechny nezaplacen (vetn po splatnosti)\n        stats.unpaid.count++;\n        stats.unpaid.amount += amount;\n        \n        // PO SPLATNOSTI = podmnoina nezaplacench\n        if (status === 'overdue') {\n          stats.overdue.count++;\n          stats.overdue.amount += amount;\n        }\n      }\n\n      // Typ faktury - bezpen zskn (PESN PODLE INVOICES25LIST!)\n      const typRaw = invoice.fa_typ;\n      const typ = (typRaw && typeof typRaw === 'string') ? typRaw.toUpperCase() : 'BEZNA';\n      switch (typ) {\n        case 'BEZNA':\n          stats.regular.count++;\n          stats.regular.amount += amount;\n          break;\n        case 'ZALOHOVA':\n          stats.advance.count++;\n          stats.advance.amount += amount;\n          break;\n        case 'OPRAVNA':\n          stats.corrective.count++;\n          stats.corrective.amount += amount;\n          break;\n        case 'PROFORMA':\n          stats.proforma.count++;\n          stats.proforma.amount += amount;\n          break;\n        case 'DOBROPIS':\n          stats.creditNote.count++;\n          stats.creditNote.amount += amount;\n          break;\n        default:\n          stats.regular.count++;\n          stats.regular.amount += amount;\n      }\n      \n      // BEZ PIAZEN = faktury bez objednvky ANI smlouvy\n      if (!invoice.objednavka_id && !invoice.smlouva_id) {\n        stats.withoutAssignment.count++;\n        stats.withoutAssignment.amount += amount;\n      }\n    });\n\n    return stats;\n  },\n\n  /**\n   * Pot statistiky z pokladnch knih\n   * @param {Object} cashboxData - Data z API (response.data)\n   * @returns {Object} - Statistiky ve formtu { count, balance, pokladny: [...] }\n   */\n  calculateCashbookStats(cashboxData) {\n    // cashboxData.pokladny obsahuje pole pokladen s piazenmi uivateli\n    const pokladny = cashboxData?.pokladny || [];\n    \n    if (pokladny.length === 0) {\n      return {\n        count: 0,\n        balance: 0,\n        pokladny: []\n      };\n    }\n\n    // Agreguj statistiky z vech pokladen\n    let totalCount = 0;\n    let totalBalance = 0;\n\n    const pokladnyList = pokladny.map(pokladna => {\n      const pocetZaznamu = parseInt(pokladna.pocet_zaznamu || 0, 10);\n      const koncovyStav = parseFloat(pokladna.koncovy_stav || 0);\n      const pocatecniStav = parseFloat(pokladna.pocatecni_stav || 0);\n      \n      //  API VRAC celkove_prijmy, celkove_vydaje, prijmy_pocet, vydaje_pocet z DB\n      const celkovePrijmy = parseFloat(pokladna.celkove_prijmy || 0);\n      const celkoveVydaje = parseFloat(pokladna.celkove_vydaje || 0);\n      const prijmyPocet = parseInt(pokladna.prijmy_pocet || 0, 10);\n      const vydajePocet = parseInt(pokladna.vydaje_pocet || 0, 10);\n      \n      totalCount += pocetZaznamu;\n      totalBalance += koncovyStav;\n\n      //  Pevod z pedchozho msce (pichz z DB)\n      const prevod = parseFloat(pokladna.prevod_z_predchoziho || 0);\n      \n      return {\n        id: pokladna.id,\n        cislo_pokladny: pokladna.cislo_pokladny,\n        nazev: pokladna.nazev,\n        pocet_zaznamu: pocetZaznamu,\n        koncovy_stav: koncovyStav,\n        pocatecni_stav: pocatecniStav,\n        prevod: prevod,\n        aktivni: pokladna.aktivni === 1 || pokladna.aktivni === '1',\n        //  PJMY A VDAJE - poty i stky z DB\n        prijmy_castka: celkovePrijmy,\n        prijmy_pocet: prijmyPocet,\n        vydaje_castka: celkoveVydaje,\n        vydaje_pocet: vydajePocet\n      };\n    });\n\n    return {\n      count: totalCount,\n      balance: totalBalance,\n      pokladny: pokladnyList\n    };\n  }\n};\n\nexport default mobileDataService;\n","import { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../../context/AuthContext';\nimport useThemeMode from '../../theme/useThemeMode';\nimport MobileHeader from './MobileHeader';\nimport MobileMenu from './MobileMenu';\nimport MobileActivityLog from './MobileActivityLog';\nimport MobileSuccessAnimation from './MobileSuccessAnimation';\nimport OrderApprovalCard from './OrderApprovalCard';\nimport MobileConfirmDialog from './MobileConfirmDialog';\nimport SplashScreen from '../SplashScreen';\nimport mobileDataService from '../../services/mobileDataService';\nimport { fetchActiveUsersWithStats } from '../../services/api2auth';\nimport { listOrdersV2, getOrderV2, updateOrderV2 } from '../../services/apiOrderV2';\nimport { getStavyWorkflow25 } from '../../services/api25orders';\nimport { getActivities, addActivity, ACTIVITY_TYPES, ENTITY_TYPES } from '../../services/activityLogService';\nimport { getStatusIcon } from '../../utils/iconMapping';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { \n  faCheckCircle, \n  faHourglassHalf, \n  faExclamationTriangle, \n  faTimesCircle \n} from '@fortawesome/free-solid-svg-icons';\nimport './MobileDashboard.css';\n\n/**\n *  Mobiln dashboard s widget dladicemi\n * Zobrazuje statistiky dle prv uivatele:\n * - Objednvky (dle stav workflow)\n * - Faktury (dle stav)\n * - Pokladna (zznamy v msci)\n * \n *  Podporuje light/dark mode dle system preference\n */\nfunction MobileDashboard() {\n  const { user: authUser, userDetail, token, username } = useContext(AuthContext);\n  //  Inicializace theme mode - automatick detekce systmovho reimu + run pepna v menu\n  const { mode } = useThemeMode();\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState({\n    orders: null,\n    invoices: null,\n    cashbook: null,\n    notifications: null\n  });\n  const [refreshing, setRefreshing] = useState(false);\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\n  const [activeUsers, setActiveUsers] = useState([]);\n  const [pendingApprovalOrders, setPendingApprovalOrders] = useState([]);\n  const [loadingApprovals, setLoadingApprovals] = useState(false);\n  const [showApprovalDetail, setShowApprovalDetail] = useState(false);\n  const [approvalFilter, setApprovalFilter] = useState('all'); // 'all' | 'normal' | 'urgent'\n  const [approvalSearchQuery, setApprovalSearchQuery] = useState('');\n  const [rejectDialogOpen, setRejectDialogOpen] = useState(false);\n  const [waitDialogOpen, setWaitDialogOpen] = useState(false);\n  const [currentOrder, setCurrentOrder] = useState(null);\n  const [stavyWorkflowMap, setStavyWorkflowMap] = useState({});\n  const [activityLogOpen, setActivityLogOpen] = useState(false);\n  const [activityCount, setActivityCount] = useState(0);\n  const [successAnimation, setSuccessAnimation] = useState({ show: false, type: 'approved', message: '' });\n\n  // Nast selnk stav workflow z DB\n  useEffect(() => {\n    const loadStavy = async () => {\n      if (!token || !username) return;\n      \n      // Guard - zkontrolovat, e funkce existuje\n      if (typeof getStavyWorkflow25 !== 'function') {\n        console.error('[MobileDashboard] getStavyWorkflow25 nen dostupn funkce!');\n        return;\n      }\n      \n      try {\n        const stavy = await getStavyWorkflow25({ token, username });\n        setStavyWorkflowMap(stavy || {});\n      } catch (error) {\n        console.error('[MobileDashboard] Chyba natn selnku stav:', error);\n      }\n    };\n    loadStavy();\n  }, [token, username]);\n\n  // Helper funkce pro zskn nzvu stavu z selnku\n  const getStavObjednavky = (workflowKod) => {\n    const stavZCiselniku = stavyWorkflowMap[workflowKod];\n    if (stavZCiselniku) {\n      return stavZCiselniku.nazev;\n    }\n    // Fallback hodnoty - MLY BY SE POUVAT POUZE PI CHYB NATEN\n    const fallbackMap = {\n      'SCHVALENA': 'Schvlen',\n      'ZAMITNUTA': 'Zamtnut',\n      'CEKA_SE': 'ek se',\n      'ODESLANA_KE_SCHVALENI': 'Ke schvlen',\n      'NOVA': 'Nov'\n    };\n    return fallbackMap[workflowKod] || workflowKod;\n  };\n\n  // Helper funkce pro MySQL datetime formt\n  const toMySQLDateTime = () => {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, '0');\n    const day = String(now.getDate()).padStart(2, '0');\n    const hours = String(now.getHours()).padStart(2, '0');\n    const minutes = String(now.getMinutes()).padStart(2, '0');\n    const seconds = String(now.getSeconds()).padStart(2, '0');\n    return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n  };\n\n  // Sestavme user objekt pro kompatibilitu\n  const user = authUser ? {\n    ...authUser,\n    displayName: userDetail?.jmeno_prijmeni_titul || userDetail?.jmeno_prijmeni || authUser.username,\n    mail: userDetail?.email || '',\n    upn: authUser.username\n  } : null;\n\n  // Kontrola admin funkce role\n  const isAdmin = userDetail?.roles?.some(role => \n    role.kod_role === 'SUPERADMIN' || role.kod_role === 'ADMINISTRATOR'\n  ) || false;\n\n  // Kontrola oprvnn ke schvalovn (ADMIN nebo m prvo APPROVE)\n  const canApprove = isAdmin || userDetail?.permissions?.some(p => \n    p.kod_opravneni === 'ORDER_APPROVE'\n  ) || false;\n\n  // Scroll s offsetem pro fixn hlaviku (60px) + nav bar (48px) + 8px mezera = 116px\n  const scrollToSection = (sectionName) => {\n    const element = document.querySelector(`[data-section=\"${sectionName}\"]`);\n    if (element) {\n      const remInPx = parseFloat(getComputedStyle(document.documentElement).fontSize);\n      const extraSpace = 0.5 * remInPx; // 0.5em v pixelech\n      const offsetTop = element.offsetTop - 108 - extraSpace;\n      window.scrollTo({\n        top: offsetTop,\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  useEffect(() => {\n    loadInitialData();\n    loadActivityCount();\n  }, [selectedYear]);\n\n  // Nast poet aktivit\n  const loadActivityCount = () => {\n    const activities = getActivities();\n    setActivityCount(activities.length);\n  };\n\n  // Navigace z menu\n  const handleNavigate = (target) => {\n    if (target === 'dashboard') {\n      // Zavt approval detail pokud je oteven a vrtit na dashboard\n      setShowApprovalDetail(false);\n      // Scroll na zatek\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n      // Refresh dat BEZ loading gate (na pozad)\n      loadDashboardData();\n      loadActivityCount();\n    } else if (target === 'activity') {\n      // Otevt historii aktivit\n      setActivityLogOpen(true);\n    }\n  };\n\n  const loadInitialData = async () => {\n    try {\n      setLoading(true);\n      await loadDashboardData();\n    } catch (error) {\n      // Error handled silently\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadActiveUsers = async () => {\n    if (!token || !username || !isAdmin) return;\n    \n    try {\n      const users = await fetchActiveUsersWithStats({ token, username });\n      setActiveUsers(users || []);\n    } catch (error) {\n      console.error('[MobileDashboard] Error loading active users:', error);\n    }\n  };\n\n  // Nast objednvky ke schvlen (pouze pro uivatele s prvy)\n  const loadPendingApprovals = async () => {\n    if (!token || !username || !canApprove) {\n      return;\n    }\n    \n    if (!userDetail?.id) {\n      return;\n    }\n    \n    try {\n      setLoadingApprovals(true);\n      // Nati objednvky z aktulnho roku\n      // Backend automaticky filtruje podle oprvnn (aktivni=1 + role-based filter nebo hierarchie)\n      const orders = await listOrdersV2({ rok: selectedYear }, token, username, false, true);\n      \n      if (Array.isArray(orders)) {\n        // Debug: kolik objednvek m ODESLANA_KE_SCHVALENI\n        const allPending = orders.filter(order => {\n          if (!order.id || order.id <= 1) return false;\n          try {\n            const workflowStates = Array.isArray(order.stav_workflow_kod) \n              ? order.stav_workflow_kod \n              : JSON.parse(order.stav_workflow_kod || '[]');\n            return Array.isArray(workflowStates) && workflowStates.includes('ODESLANA_KE_SCHVALENI');\n          } catch {\n            return false;\n          }\n        });\n        \n        // Vyfiltruj pouze objednvky ve stavu ODESLANA_KE_SCHVALENI\n        // A kde je aktuln uivatel pikzce (prikazce_id == userDetail.id)\n        const pending = allPending.filter(order => {\n          return order.prikazce_id === userDetail?.id;\n        });\n        \n        setPendingApprovalOrders(pending);\n      }\n    } catch (error) {\n      setPendingApprovalOrders([]);\n    } finally {\n      setLoadingApprovals(false);\n    }\n  };\n\n  const loadDashboardData = async () => {\n    try {\n      // Pokud nemme token, zobraz przdn data\n      if (!token || !username) {\n        setData({\n          orders: null,\n          invoices: null,\n          cashbook: null,\n          notifications: { unread: 0 }\n        });\n        return;\n      }\n\n      // Nati ostr data s tokenem\n      const result = await mobileDataService.getAllMobileData({ \n        token, \n        username,\n        year: selectedYear,\n        userId: isAdmin ? null : userDetail?.id,  //  FIX: Admin nem userId (vid vechny), non-admin m userId (vid jen sv)\n        isAdmin: isAdmin,        // Admin vid vechny objednvky\n        showArchived: false      //  FIX: Mobile vdy filtruje archivovan objednvky\n      });\n      \n      if (result.success) {\n        setData(result.data);\n        // Nati aktivn uivatele pro adminy\n        if (isAdmin) {\n          await loadActiveUsers();\n        }\n        // Nati objednvky ke schvlen (pokud m prva)\n        if (canApprove) {\n          await loadPendingApprovals();\n        }\n      }\n    } catch (error) {\n      // Error handled silently\n    }\n  };\n\n  const handleManualRefresh = async () => {\n    setRefreshing(true);\n    await loadDashboardData();\n    setRefreshing(false);\n  };\n\n  // Schvlen objednvky\n  const handleApproveOrder = async (order) => {\n    if (!token || !username || !order.id) return;\n    \n    try {\n      // Nati aktuln objednvku\n      const currentOrder = await getOrderV2(order.id, token, username, true);\n      if (!currentOrder) {\n        alert('Objednvku se nepodailo nast');\n        return;\n      }\n\n      // Zpracuj workflow stavy\n      let workflowStates = [];\n      try {\n        workflowStates = Array.isArray(currentOrder.stav_workflow_kod)\n          ? currentOrder.stav_workflow_kod\n          : JSON.parse(currentOrder.stav_workflow_kod || '[]');\n      } catch {\n        workflowStates = [];\n      }\n\n      // Odstra ODESLANA_KE_SCHVALENI, CEKA_SE, ZAMITNUTA\n      workflowStates = workflowStates.filter(s => \n        !['ODESLANA_KE_SCHVALENI', 'CEKA_SE', 'ZAMITNUTA'].includes(s)\n      );\n\n      // Pidej SCHVALENA\n      if (!workflowStates.includes('SCHVALENA')) {\n        workflowStates.push('SCHVALENA');\n      }\n\n      // Aktualizuj objednvku\n      const updateData = {\n        stav_workflow_kod: JSON.stringify(workflowStates),\n        stav_objednavky: getStavObjednavky('SCHVALENA'),\n        schvalovatel_id: userDetail?.id || null,\n        dt_schvaleni: toMySQLDateTime(),\n        schvaleni_komentar: '' // Vymazat koment pi schvlen\n      };\n\n      await updateOrderV2(order.id, updateData, token, username);\n      \n      // Zaznamenat aktivitu\n      addActivity({\n        entityType: ENTITY_TYPES.ORDER,\n        entityId: order.ev_cislo || order.cislo_objednavky || order.id,\n        activityType: ACTIVITY_TYPES.ORDER_APPROVED,\n        title: order.nazev_obj || `Objednvka ${order.ev_cislo || order.cislo_objednavky || order.id}`,\n        amount: order.castka_obj || null,\n        userName: username,\n        description: ' Objednvka byla schvlena',\n        metadata: { \n          orderNumber: order.ev_cislo || order.cislo_objednavky,\n          orderId: order.id \n        }\n      });\n      \n      // Zobrazit success animaci\n      setSuccessAnimation({\n        show: true,\n        type: 'approved',\n        message: ' Objednvka schvlena!'\n      });\n      \n      // Obnovit seznam a poet aktivit na pozad (bez loading stavu)\n      loadPendingApprovals();\n      loadActivityCount();\n    } catch (error) {\n      alert(`Chyba: ${error.message || 'Nepodailo se schvlit objednvku'}`);\n    }\n  };\n\n  // Zamtnut objednvky - oteven dialogu\n  const handleRejectOrder = (order) => {\n    setCurrentOrder(order);\n    setRejectDialogOpen(true);\n  };\n\n  // Potvrzen zamtnut\n  const confirmRejectOrder = async (reason) => {\n    if (!token || !username || !currentOrder?.id) {\n      setRejectDialogOpen(false);\n      return;\n    }\n    \n    try {\n      // Nati aktuln objednvku pro zskn fresh dat\n      const freshOrder = await getOrderV2(currentOrder.id, token, username, true);\n      if (!freshOrder) {\n        alert('Objednvku se nepodailo nast');\n        setRejectDialogOpen(false);\n        return;\n      }\n\n      // Zpracuj workflow stavy\n      let workflowStates = [];\n      try {\n        workflowStates = Array.isArray(freshOrder.stav_workflow_kod)\n          ? freshOrder.stav_workflow_kod\n          : JSON.parse(freshOrder.stav_workflow_kod || '[]');\n      } catch {\n        workflowStates = [];\n      }\n\n      // Odstra ODESLANA_KE_SCHVALENI, CEKA_SE, SCHVALENA\n      workflowStates = workflowStates.filter(s => \n        !['ODESLANA_KE_SCHVALENI', 'CEKA_SE', 'SCHVALENA'].includes(s)\n      );\n\n      // Pidej ZAMITNUTA\n      if (!workflowStates.includes('ZAMITNUTA')) {\n        workflowStates.push('ZAMITNUTA');\n      }\n\n      // Aktualizuj objednvku\n      const updateData = {\n        stav_workflow_kod: JSON.stringify(workflowStates),\n        stav_objednavky: getStavObjednavky('ZAMITNUTA'),\n        schvalovatel_id: userDetail?.id || null,\n        dt_schvaleni: toMySQLDateTime(),\n        schvaleni_komentar: reason\n      };\n\n      await updateOrderV2(currentOrder.id, updateData, token, username);\n      \n      // Zaznamenat aktivitu\n      addActivity({\n        entityType: ENTITY_TYPES.ORDER,\n        entityId: currentOrder.ev_cislo || currentOrder.cislo_objednavky || currentOrder.id,\n        activityType: ACTIVITY_TYPES.ORDER_REJECTED,\n        title: currentOrder.nazev_obj || `Objednvka ${currentOrder.ev_cislo || currentOrder.cislo_objednavky || currentOrder.id}`,\n        amount: currentOrder.castka_obj || null,\n        userName: username,\n        description: ` Objednvka byla zamtnuta${reason ? `: ${reason}` : ''}`,\n        metadata: { \n          orderNumber: currentOrder.ev_cislo || currentOrder.cislo_objednavky,\n          orderId: currentOrder.id \n        }\n      });\n      \n      // Zobrazit success animaci\n      setSuccessAnimation({\n        show: true,\n        type: 'rejected',\n        message: ' Objednvka zamtnuta'\n      });\n      \n      // Zavt dialog a obnovit seznam na pozad\n      setRejectDialogOpen(false);\n      setCurrentOrder(null);\n      loadPendingApprovals();\n      loadActivityCount();\n    } catch (error) {\n      alert(`Chyba: ${error.message || 'Nepodailo se zamtnout objednvku'}`);\n      setRejectDialogOpen(false);\n    }\n  };\n\n  // Oznait jako \"ek se\" - oteven dialogu\n  const handleWaitOrder = (order) => {\n    setCurrentOrder(order);\n    setWaitDialogOpen(true);\n  };\n\n  // Potvrzen pozastaven\n  const confirmWaitOrder = async (reason) => {\n    if (!token || !username || !currentOrder?.id) {\n      setWaitDialogOpen(false);\n      return;\n    }\n    \n    try {\n      // Nati aktuln objednvku pro zskn fresh dat\n      const freshOrder = await getOrderV2(currentOrder.id, token, username, true);\n      if (!freshOrder) {\n        alert('Objednvku se nepodailo nast');\n        setWaitDialogOpen(false);\n        return;\n      }\n\n      // Zpracuj workflow stavy\n      let workflowStates = [];\n      try {\n        workflowStates = Array.isArray(freshOrder.stav_workflow_kod)\n          ? freshOrder.stav_workflow_kod\n          : JSON.parse(freshOrder.stav_workflow_kod || '[]');\n      } catch {\n        workflowStates = [];\n      }\n\n      // Odstra ODESLANA_KE_SCHVALENI, SCHVALENA, ZAMITNUTA\n      workflowStates = workflowStates.filter(s => \n        !['ODESLANA_KE_SCHVALENI', 'SCHVALENA', 'ZAMITNUTA'].includes(s)\n      );\n\n      // Pidej CEKA_SE\n      if (!workflowStates.includes('CEKA_SE')) {\n        workflowStates.push('CEKA_SE');\n      }\n\n      // Aktualizuj objednvku\n      const updateData = {\n        stav_workflow_kod: JSON.stringify(workflowStates),\n        stav_objednavky: getStavObjednavky('CEKA_SE'),\n        schvalovatel_id: userDetail?.id || null,\n        dt_schvaleni: toMySQLDateTime(),\n        schvaleni_komentar: reason\n      };\n      // Zaznamenat aktivitu\n      addActivity({\n        entityType: ENTITY_TYPES.ORDER,\n        entityId: currentOrder.ev_cislo || currentOrder.cislo_objednavky || currentOrder.id,\n        activityType: ACTIVITY_TYPES.ORDER_WAITING,\n        title: currentOrder.nazev_obj || `Objednvka ${currentOrder.ev_cislo || currentOrder.cislo_objednavky || currentOrder.id}`,\n        amount: currentOrder.castka_obj || null,\n        userName: username,\n        description: ` Objednvka oznaena jako \"ek se\"${reason ? `: ${reason}` : ''}`,\n        metadata: { \n          orderNumber: currentOrder.ev_cislo || currentOrder.cislo_objednavky,\n          orderId: currentOrder.id \n        }\n      });\n      \n      // Zobrazit success animaci\n      setSuccessAnimation({\n        show: true,\n        type: 'waiting',\n        message: ' Objednvka pozastavena'\n      });\n      \n      // Zavt dialog a obnovit seznam na pozad\n      setWaitDialogOpen(false);\n      setCurrentOrder(null);\n      loadPendingApprovals();\n      loadActivityCount();\n    } catch (error) {\n      alert(`Chyba: ${error.message || 'Nepodailo se pozastavit objednvku'}`);\n      setWaitDialogOpen(false);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('cs-CZ', {\n      style: 'currency',\n      currency: 'CZK',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  // Bhem natn zobrazme SplashScreen\n  if (loading) {\n    return <SplashScreen message={refreshing ? \"Obnovuji data...\" : \"Natm dashboard...\"} />;\n  }\n\n  // Notifikace - poet nepetench\n  const notificationCount = data.notifications?.unread || 0;\n\n  // Sestaven widget pro objednvky\n  //  IKONY z desktop modulu (Orders25List.js + iconMapping.js)\n  const orderWidgets = [];\n  if (data.orders) {\n    // KE SCHVLEN - vdy zobrazit (i kdy 0)\n    orderWidgets.push({\n      id: 'orders-pending',\n      title: 'Ke schvlen',\n      count: data.orders.pending?.count || 0,\n      amount: data.orders.pending?.amount || 0,\n      icon: getStatusIcon('ke_schvaleni'), //  Desktop: faHourglassHalf\n      color: 'orange',\n      category: 'orders'\n    });\n    \n    if (data.orders.approved?.count > 0) {\n      orderWidgets.push({\n        id: 'orders-approved',\n        title: 'Schvleno',\n        count: data.orders.approved.count,\n        amount: data.orders.approved.amount,\n        icon: getStatusIcon('schvalena'), //  Desktop: faCheckCircle\n        color: 'green',\n        category: 'orders'\n      });\n    }\n    \n    // M BT ZVEEJNNA - vdy zobrazit (i kdy 0)\n    orderWidgets.push({\n      id: 'orders-ma-byt-zverejnena',\n      title: 'M bt zveejnna',\n      count: data.orders.maBytZverejnena?.count || 0,\n      amount: data.orders.maBytZverejnena?.amount || 0,\n      icon: getStatusIcon('k_uverejneni_do_registru'), // Desktop icon\n      color: 'teal',\n      category: 'orders'\n    });\n    \n    // UVEEJNN - vdy zobrazit (i kdy 0)\n    orderWidgets.push({\n      id: 'orders-uverejnena',\n      title: 'Uveejnn',\n      count: data.orders.uverejnena?.count || 0,\n      amount: data.orders.uverejnena?.amount || 0,\n      icon: getStatusIcon('uverejnena'), // Desktop icon\n      color: 'blue',\n      category: 'orders'\n    });\n    \n    // VCN SPRVNOST\n    if (data.orders.vecnaSpravnost?.count > 0) {\n      orderWidgets.push({\n        id: 'orders-vecna-spravnost',\n        title: 'Vcn sprvnost',\n        count: data.orders.vecnaSpravnost.count,\n        amount: data.orders.vecnaSpravnost.amount,\n        icon: getStatusIcon('vecna_spravnost'), // Desktop icon\n        color: 'purple',\n        category: 'orders'\n      });\n    }\n    \n    if (data.orders.completed?.count > 0) {\n      orderWidgets.push({\n        id: 'orders-completed',\n        title: 'Dokoneno',\n        count: data.orders.completed.count,\n        amount: data.orders.completed.amount,\n        icon: getStatusIcon('dokoncena'), //  Desktop: faBullseye\n        color: 'teal',\n        category: 'orders'\n      });\n    }\n    if (data.orders.rejected?.count > 0) {\n      orderWidgets.push({\n        id: 'orders-rejected',\n        title: 'Zamtnuto',\n        count: data.orders.rejected.count,\n        amount: data.orders.rejected.amount,\n        icon: getStatusIcon('zamitnuta'), //  Desktop: faTimesCircle\n        color: 'red',\n        category: 'orders'\n      });\n    }\n    if (data.orders.cancelled?.count > 0) {\n      orderWidgets.push({\n        id: 'orders-cancelled',\n        title: 'Zrueno',\n        count: data.orders.cancelled.count,\n        amount: data.orders.cancelled.amount,\n        icon: getStatusIcon('zrusena'), //  Desktop: faTimesCircle\n        color: 'gray',\n        category: 'orders'\n      });\n    }\n  }\n\n  // Widgety pro faktury - STAVY (zaplacen)\n  //  IKONY z desktop modulu\n  const invoiceStatusWidgets = [];\n  const invoiceTypeWidgets = [];\n  \n  if (data.invoices) {\n    // === STAVY ZAPLACEN ===\n    if (data.invoices.paid?.count > 0) {\n      invoiceStatusWidgets.push({\n        id: 'invoices-paid',\n        title: 'Zaplaceno',\n        count: data.invoices.paid.count,\n        amount: data.invoices.paid.amount,\n        icon: faCheckCircle,\n        color: 'green',\n        category: 'invoices-status'\n      });\n    }\n    if (data.invoices.unpaid?.count > 0) {\n      invoiceStatusWidgets.push({\n        id: 'invoices-unpaid',\n        title: 'Nezaplaceno',\n        count: data.invoices.unpaid.count,\n        amount: data.invoices.unpaid.amount,\n        icon: faHourglassHalf,\n        color: 'orange',\n        category: 'invoices-status'\n      });\n    }\n    if (data.invoices.overdue?.count > 0) {\n      invoiceStatusWidgets.push({\n        id: 'invoices-overdue',\n        title: 'Po splatnosti',\n        count: data.invoices.overdue.count,\n        amount: data.invoices.overdue.amount,\n        icon: faExclamationTriangle,\n        color: 'red',\n        category: 'invoices-status'\n      });\n    }\n    \n    // === TYPY FAKTUR ===\n    if (data.invoices.regular?.count > 0) {\n      invoiceTypeWidgets.push({\n        id: 'invoices-regular',\n        title: 'Bn',\n        count: data.invoices.regular.count,\n        amount: data.invoices.regular.amount,\n        icon: getStatusIcon('schvalena'), //  Desktop: faCheckCircle\n        color: 'blue',\n        category: 'invoices'\n      });\n    }\n    if (data.invoices.advance?.count > 0) {\n      invoiceTypeWidgets.push({\n        id: 'invoices-advance',\n        title: 'Zlohov',\n        count: data.invoices.advance.count,\n        amount: data.invoices.advance.amount,\n        icon: getStatusIcon('ke_schvaleni'), //  Desktop: faHourglassHalf\n        color: 'purple',\n        category: 'invoices'\n      });\n    }\n    if (data.invoices.corrective?.count > 0) {\n      invoiceTypeWidgets.push({\n        id: 'invoices-corrective',\n        title: 'Opravn',\n        count: data.invoices.corrective.count,\n        amount: data.invoices.corrective.amount,\n        icon: getStatusIcon('rozpracovana'), //  Desktop: faClock\n        color: 'teal',\n        category: 'invoices'\n      });\n    }\n    if (data.invoices.proforma?.count > 0) {\n      invoiceTypeWidgets.push({\n        id: 'invoices-proforma',\n        title: 'Proforma',\n        count: data.invoices.proforma.count,\n        amount: data.invoices.proforma.amount,\n        icon: getStatusIcon('potvrzena'), //  Desktop: faShield\n        color: 'blue',\n        category: 'invoices'\n      });\n    }\n    if (data.invoices.creditNote?.count > 0) {\n      invoiceTypeWidgets.push({\n        id: 'invoices-creditnote',\n        title: 'Dobropis',\n        count: data.invoices.creditNote.count,\n        amount: data.invoices.creditNote.amount,\n        icon: getStatusIcon('zrusena'), //  Desktop: faTimesCircle\n        color: 'gray',\n        category: 'invoices'\n      });\n    }\n    //  Bez piazen (bez obj. ANI smlouvy)\n    if (data.invoices.withoutAssignment?.count > 0) {\n      invoiceTypeWidgets.push({\n        id: 'invoices-without-assignment',\n        title: 'Bez piazen',\n        count: data.invoices.withoutAssignment.count,\n        amount: data.invoices.withoutAssignment.amount,\n        icon: faTimesCircle, //  STEJN ikona jako desktop Invoices25List.js\n        color: 'gray',\n        category: 'invoices'\n      });\n    }\n  }\n\n  // Pokladny - speciln komponenta s 2x2 gridem\n  const cashbookData = [];\n  if (data.cashbook && data.cashbook.pokladny && data.cashbook.pokladny.length > 0) {\n    const pokladny = data.cashbook.pokladny;\n    \n    pokladny.forEach(pokladna => {\n      if (pokladna.aktivni) {\n        cashbookData.push({\n          id: pokladna.id,\n          cislo: pokladna.cislo_pokladny,\n          nazev: pokladna.nazev || '',\n          zaznamy: pokladna.pocet_zaznamu || 0,\n          prevod: pokladna.prevod || 0,\n          zustatek: pokladna.koncovy_stav || 0,\n          prijmy: pokladna.prijmy_pocet || 0,\n          prijmyCastka: pokladna.prijmy_castka || 0,\n          vydaje: pokladna.vydaje_pocet || 0,\n          vydajeCastka: pokladna.vydaje_castka || 0\n        });\n      }\n    });\n  }\n\n  return (\n    <div className=\"mobile-dashboard\">\n      {/* Fixn hlavika - vdy viditeln */}\n      <MobileHeader \n        onMenuClick={() => setMenuOpen(true)}\n        notificationCount={notificationCount}\n        onActivityClick={() => setActivityLogOpen(true)}\n        activityCount={activityCount}\n      />\n      \n      {/* Subheader pro approval screen */}\n      {showApprovalDetail && (\n        <div className=\"mobile-subheader\">\n          <button \n            className=\"mobile-subheader-back\"\n            onClick={() => setShowApprovalDetail(false)}\n          >\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"20\" height=\"20\">\n              <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/>\n            </svg>\n            Zpt\n          </button>\n          <h2 className=\"mobile-subheader-title\">\n            Ke schvlen ({(() => {\n              const total = pendingApprovalOrders.length;\n              const normal = pendingApprovalOrders.filter(o => !o.mimoradna_udalost).length;\n              const urgent = pendingApprovalOrders.filter(o => o.mimoradna_udalost).length;\n              \n              if (approvalFilter === 'all') {\n                return `${total}/${normal}/${urgent}`;\n              } else if (approvalFilter === 'normal') {\n                return normal;\n              } else {\n                return urgent;\n              }\n            })()})\n          </h2>\n          <div className=\"mobile-subheader-filters\">\n            <button\n              className={`mobile-filter-btn ${approvalFilter === 'all' ? 'active' : ''}`}\n              onClick={() => setApprovalFilter('all')}\n              title=\"Vechny objednvky\"\n            >\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"18\" height=\"18\">\n                <path d=\"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z\"/>\n              </svg>\n            </button>\n            <button\n              className={`mobile-filter-btn ${approvalFilter === 'normal' ? 'active' : ''}`}\n              onClick={() => setApprovalFilter('normal')}\n              title=\"Normln objednvky\"\n            >\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"18\" height=\"18\">\n                <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\n              </svg>\n            </button>\n            <button\n              className={`mobile-filter-btn ${approvalFilter === 'urgent' ? 'active' : ''}`}\n              onClick={() => setApprovalFilter('urgent')}\n              title=\"Mimodn objednvky\"\n            >\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"18\" height=\"18\">\n                <path d=\"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"/>\n              </svg>\n            </button>\n          </div>\n        </div>\n      )}\n      \n      <MobileMenu \n        isOpen={menuOpen}\n        onClose={() => setMenuOpen(false)}\n        user={user}\n        userDetail={userDetail}\n        authUser={authUser}\n        onNavigate={handleNavigate}\n      />\n\n      {/* Obsah pod fixn hlavikou */}\n      {showApprovalDetail ? (\n        <>\n          {loadingApprovals ? (\n            <div className=\"mobile-dashboard-content\">\n              <div className=\"mobile-refresh-indicator\">\n                <div className=\"spinner-circle small\"></div>\n                <span>Natm objednvky...</span>\n              </div>\n            </div>\n          ) : pendingApprovalOrders.length > 0 ? (\n            <div className=\"mobile-approval-list\">\n              <div className=\"mobile-approval-search\">\n                <div className=\"mobile-approval-search-wrapper\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Vyhledat objednvku...\"\n                    value={approvalSearchQuery}\n                    onChange={(e) => setApprovalSearchQuery(e.target.value)}\n                  />\n                  {approvalSearchQuery && (\n                    <button\n                      className=\"mobile-approval-search-clear\"\n                      onClick={() => setApprovalSearchQuery('')}\n                      title=\"Vymazat vyhledvn\"\n                    >\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"20\" height=\"20\">\n                        <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n                      </svg>\n                    </button>\n                  )}\n                </div>\n              </div>\n                {pendingApprovalOrders\n                  .filter(order => {\n                    // Filtr podle typu (normal/urgent)\n                    if (approvalFilter === 'urgent' && !order.mimoradna_udalost) return false;\n                    if (approvalFilter === 'normal' && order.mimoradna_udalost) return false;\n                    \n                    // Filtr podle vyhledvacho etzce\n                    if (approvalSearchQuery.trim()) {\n                      const query = approvalSearchQuery.toLowerCase();\n                      const orderNumber = (order.cislo_objednavky || order.ev_cislo || '').toLowerCase();\n                      const predmet = (order.predmet || '').toLowerCase();\n                      const objednatel = (order.objednatel?.cele_jmeno || '').toLowerCase();\n                      const garant = (order.garant_uzivatel?.cele_jmeno || '').toLowerCase();\n                      \n                      return orderNumber.includes(query) || \n                             predmet.includes(query) || \n                             objednatel.includes(query) ||\n                             garant.includes(query);\n                    }\n                    \n                    return true;\n                  })\n                  .map(order => (\n                  <OrderApprovalCard\n                    key={order.id}\n                    order={order}\n                    onApprove={async (order) => {\n                      await handleApproveOrder(order);\n                      if (pendingApprovalOrders.length === 1) {\n                        setShowApprovalDetail(false);\n                      }\n                    }}\n                    onReject={async (order) => {\n                      await handleRejectOrder(order);\n                      if (pendingApprovalOrders.length === 1) {\n                        setShowApprovalDetail(false);\n                      }\n                    }}\n                    onWait={async (order) => {\n                      await handleWaitOrder(order);\n                      if (pendingApprovalOrders.length === 1) {\n                        setShowApprovalDetail(false);\n                      }\n                    }}\n                    loading={loadingApprovals}\n                  />\n                ))}\n          </div>\n          ) : (\n            <div className=\"mobile-dashboard-content\">\n              <div className=\"mobile-empty-state-inline\">\n                <p> dn objednvky ke schvlen</p>\n              </div>\n            </div>\n          )}\n        </>\n      ) : (\n        <>\n          {/* Normln dashboard obsah */}\n\n          {/* Fixn rychl navigace */}\n      <nav className=\"mobile-quick-nav\">\n        {isAdmin && activeUsers.length > 0 && (\n          <button \n            className=\"mobile-quick-nav-btn\"\n            onClick={() => scrollToSection('users')}\n          >\n            UZI\n          </button>\n        )}\n        <button \n          className=\"mobile-quick-nav-btn\"\n          onClick={() => scrollToSection('orders')}\n        >\n          OBJ\n        </button>\n        <button \n          className=\"mobile-quick-nav-btn\"\n          onClick={() => scrollToSection('invoices')}\n        >\n          FAK\n        </button>\n        <button \n          className=\"mobile-quick-nav-btn\"\n          onClick={() => scrollToSection('cashbook')}\n        >\n          POK\n        </button>\n      </nav>\n\n      <main className=\"mobile-dashboard-content\">\n        {/* Pull to refresh indicator */}\n        {refreshing && (\n          <div className=\"mobile-refresh-indicator\">\n            <div className=\"spinner-circle small\"></div>\n            <span>Obnovuji data...</span>\n          </div>\n        )}\n\n        {/*  AKTIVN UIVATEL - Pouze pro ADMIN */}\n        {isAdmin && activeUsers.length > 0 && (\n          <section data-section=\"users\" className=\"mobile-widget-section\">\n            <div className=\"mobile-section-header\">\n              <h2>Aktivn uivatel</h2>\n              <div className=\"mobile-section-summary\">\n                <span className=\"mobile-summary-count\">{activeUsers.length} online</span>\n              </div>\n            </div>\n            \n            {/* Jedna velk dladice se seznamem */}\n            <div className=\"mobile-users-card\">\n              {/* Detail prvnch 5 uivatel */}\n              <div className=\"mobile-users-list\">\n                {activeUsers.slice(0, 5).map((user, index) => {\n                  const now = new Date();\n                  const activityTime = new Date(user.dt_posledni_aktivita);\n                  const diffSec = Math.floor((now - activityTime) / 1000);\n                  const diffMin = Math.floor(diffSec / 60);\n                  \n                  // Formtovn asu\n                  let timeText = '';\n                  if (diffSec < 60) {\n                    timeText = `${diffSec}s`;\n                  } else if (diffMin < 60) {\n                    timeText = `${diffMin}m`;\n                  } else {\n                    const hours = Math.floor(diffMin / 60);\n                    timeText = `${hours}h`;\n                  }\n                  \n                  // Status color\n                  const statusColor = diffSec < 270 ? '#22c55e' : diffSec < 300 ? '#f59e0b' : '#ef4444';\n                  \n                  // Formtovn data a asu\n                  const dateTimeText = activityTime.toLocaleString('cs-CZ', {\n                    day: '2-digit',\n                    month: '2-digit',\n                    hour: '2-digit',\n                    minute: '2-digit'\n                  });\n                  \n                  // Formtovn statistik\n                  const stats = user.stats || {};\n                  const statsText = [];\n                  if (stats.objednavky > 0) statsText.push(`OBJ: ${stats.objednavky}`);\n                  if (stats.faktury > 0) statsText.push(`FA: ${stats.faktury}`);\n                  if (stats.pokladna_zustatek !== null) {\n                    const zustatek = new Intl.NumberFormat('cs-CZ', {\n                      style: 'currency',\n                      currency: 'CZK',\n                      minimumFractionDigits: 0,\n                      maximumFractionDigits: 0\n                    }).format(stats.pokladna_zustatek);\n                    statsText.push(`POKL: ${zustatek}`);\n                  }\n                  \n                  return (\n                    <div key={index} className=\"mobile-user-item\">\n                      <div \n                        className=\"mobile-user-status\" \n                        style={{ background: statusColor }}\n                      />\n                      <div className=\"mobile-user-info\">\n                        <div className=\"mobile-user-row\">\n                          <span className=\"mobile-user-name\">{user.cele_jmeno || user.username}</span>\n                          <span className=\"mobile-user-time\">{dateTimeText} ({timeText})</span>\n                        </div>\n                        {statsText.length > 0 && (\n                          <span className=\"mobile-user-stats\">({statsText.join(', ')})</span>\n                        )}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n              \n              {/* Zbytek jako prost seznam */}\n              {activeUsers.length > 5 && (\n                <div className=\"mobile-users-more\">\n                  <div className=\"mobile-users-more-title\">\n                    +{activeUsers.length - 5} dalch aktivnch\n                  </div>\n                  <div className=\"mobile-users-more-list\">\n                    {activeUsers.slice(5).map((user, index) => (\n                      <span key={index} className=\"mobile-users-more-name\">\n                        {user.cele_jmeno || user.username}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </section>\n        )}\n\n        {/*  KE SCHVLEN - irok dladice 2x1 pro ADMIN nebo uivatele s prvy APPROVE */}\n        {canApprove && (loadingApprovals || pendingApprovalOrders.length > 0) && (() => {\n          const normalniCount = pendingApprovalOrders.filter(o => !o.mimoradna_udalost).length;\n          const mimoradneCount = pendingApprovalOrders.filter(o => o.mimoradna_udalost).length;\n          \n          // Vpoet celkov max ceny s DPH\n          const totalMaxPrice = pendingApprovalOrders.reduce((sum, order) => {\n            const maxPrice = parseFloat(order.max_cena_s_dph || 0);\n            return sum + (isNaN(maxPrice) ? 0 : maxPrice);\n          }, 0);\n          \n          return (\n            <section data-section=\"approvals\" className=\"mobile-widget-section\">\n              <div className=\"mobile-section-header\">\n                <h2>Objednvky ekaj na m schvlen</h2>\n              </div>\n              <div \n                className=\"mobile-approval-widget\"\n                onClick={() => !loadingApprovals && pendingApprovalOrders.length > 0 && setShowApprovalDetail(true)}\n              >\n                <div className=\"mobile-approval-widget-header\">\n                  <div className=\"mobile-approval-widget-count\">\n                    {loadingApprovals ? '...' : pendingApprovalOrders.length}\n                  </div>\n                  <div className=\"mobile-approval-widget-breakdown\">\n                    {loadingApprovals ? (\n                      <div className=\"mobile-approval-loading\">Natm...</div>\n                    ) : (\n                      <>\n                        <div className=\"mobile-approval-normal\">\n                          {normalniCount} normlnch\n                        </div>\n                        {mimoradneCount > 0 && (\n                          <div className=\"mobile-approval-urgent\">\n                            {mimoradneCount} mimodnch \n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n                  <div className=\"mobile-approval-widget-icon\">\n                    <FontAwesomeIcon icon={getStatusIcon('ke_schvaleni')} />\n                  </div>\n                </div>\n                <div className=\"mobile-approval-widget-info\">\n                  <div className=\"mobile-approval-widget-title-row\">\n                    <div className=\"mobile-approval-widget-title\">Ke schvlen</div>\n                    <div className=\"mobile-approval-widget-action\">Kliknte pro schvlen</div>\n                  </div>\n                  <div className=\"mobile-approval-widget-title-row\">\n                    <div className=\"mobile-approval-widget-subtitle\">Max. celkem s DPH</div>\n                    <div className=\"mobile-approval-widget-price\">{formatCurrency(totalMaxPrice)}</div>\n                  </div>\n                </div>\n              </div>\n            </section>\n          );\n        })()}\n\n        {/* Sekce objednvky */}\n        {orderWidgets.length > 0 && (\n          <section data-section=\"orders\" className=\"mobile-widget-section\">\n            <div className=\"mobile-section-header\">\n              <h2>Objednvky</h2>\n              <div className=\"mobile-section-summary\">\n                {data.orders.total > 0 && (\n                  <>\n                    <span className=\"mobile-summary-count\">{data.orders.total} ks</span>\n                    {data.orders.totalAmount > 0 && (\n                      <span className=\"mobile-summary-amount\">{formatCurrency(data.orders.totalAmount)}</span>\n                    )}\n                  </>\n                )}\n              </div>\n            </div>\n            <div className=\"mobile-widget-grid\">\n              {orderWidgets.map(widget => (\n                <WidgetCard key={widget.id} widget={widget} />\n              ))}\n            </div>\n          </section>\n        )}\n\n        {/* Sekce faktury - STAVY */}\n        {invoiceStatusWidgets.length > 0 && (\n          <section data-section=\"invoices\" className=\"mobile-widget-section\">\n            <div className=\"mobile-section-header\">\n              <h2>Faktury - stavy</h2>\n              <div className=\"mobile-section-summary\">\n                {data.invoices.total > 0 && (\n                  <>\n                    <span className=\"mobile-summary-count\">{data.invoices.total} ks</span>\n                    {data.invoices.totalAmount > 0 && (\n                      <span className=\"mobile-summary-amount\">{formatCurrency(data.invoices.totalAmount)}</span>\n                    )}\n                  </>\n                )}\n              </div>\n            </div>\n            <div className=\"mobile-widget-grid\">\n              {invoiceStatusWidgets.map(widget => (\n                <WidgetCard key={widget.id} widget={widget} />\n              ))}\n            </div>\n          </section>\n        )}\n\n        {/* Sekce faktury - TYPY */}\n        {invoiceTypeWidgets.length > 0 && (\n          <section className=\"mobile-widget-section\">\n            <div className=\"mobile-section-header\">\n              <h2>Faktury - typy</h2>\n            </div>\n            <div className=\"mobile-widget-grid\">\n              {invoiceTypeWidgets.map(widget => (\n                <WidgetCard key={widget.id} widget={widget} />\n              ))}\n            </div>\n          </section>\n        )}\n\n        {/* Sekce pokladna - speciln 2x2 grid */}\n        {cashbookData.length > 0 && (\n          <section data-section=\"cashbook\" className=\"mobile-widget-section\">\n            <div className=\"mobile-section-header\">\n              <h2>Pokladna</h2>\n              <div className=\"mobile-section-summary\">\n                <span className=\"mobile-summary-count\">Aktuln msc</span>\n              </div>\n            </div>\n            {cashbookData.map(pokladna => (\n              <CashbookCard key={pokladna.id} cashbook={pokladna} formatCurrency={formatCurrency} />\n            ))}\n          </section>\n        )}\n\n        {/* Przdn stav */}\n        {orderWidgets.length === 0 && invoiceStatusWidgets.length === 0 && invoiceTypeWidgets.length === 0 && cashbookData.length === 0 && (\n          <div className=\"mobile-empty-state\">\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n            </svg>\n            <p>dn data k zobrazen</p>\n          </div>\n        )}\n\n      </main>\n\n      {/* Fixn patika s tlatkem obnovit */}\n      <footer className=\"mobile-footer\">\n        <button \n          className=\"mobile-footer-refresh-btn\"\n          onClick={handleManualRefresh}\n          disabled={refreshing}\n        >\n          <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className={refreshing ? 'spinning' : ''}>\n            <path d=\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"/>\n          </svg>\n          <span>{refreshing ? 'Obnovuji...' : 'Obnovit data'}</span>\n        </button>\n      </footer>\n        </>\n      )}\n\n      {/* Dialogy pro schvalovn */}\n      <MobileConfirmDialog\n        isOpen={rejectDialogOpen}\n        onClose={() => setRejectDialogOpen(false)}\n        onConfirm={confirmRejectOrder}\n        title=\"Zamtnout objednvku\"\n        message={`Opravdu chcete zamtnout objednvku ${currentOrder?.cislo_objednavky || currentOrder?.ev_cislo || ''}?`}\n        confirmText=\"Zamtnout\"\n        cancelText=\"Zruit\"\n        requireReason={true}\n        reasonPlaceholder=\"Zadejte dvod zamtnut (povinn)...\"\n        variant=\"danger\"\n      />\n\n      <MobileConfirmDialog\n        isOpen={waitDialogOpen}\n        onClose={() => setWaitDialogOpen(false)}\n        onConfirm={confirmWaitOrder}\n        title=\"Pozastavit objednvku\"\n        message={`Objednvka ${currentOrder?.cislo_objednavky || currentOrder?.ev_cislo || ''} bude oznaena jako \"ek se\".`}\n        confirmText=\"Pozastavit\"\n        cancelText=\"Zruit\"\n        requireReason={true}\n        reasonPlaceholder=\"Zadejte dvod pozastaven (povinn)...\"\n        variant=\"warning\"\n      />\n\n      {/* Activity Log Panel */}\n      <MobileActivityLog \n        isOpen={activityLogOpen}\n        onClose={() => {\n          setActivityLogOpen(false);\n          loadActivityCount(); // Aktualizovat poet pi zaven\n        }}\n      />\n\n      {/* Success Animation */}\n      <MobileSuccessAnimation\n        show={successAnimation.show}\n        type={successAnimation.type}\n        message={successAnimation.message}\n        onComplete={() => setSuccessAnimation({ show: false, type: 'approved', message: '' })}\n      />\n    </div>\n  );\n}\n\n/**\n * Komponenta pro jednotlivou dladici\n *  Pouv FontAwesome ikony z desktop modulu (stejn jako Orders25List.js)\n */\n\n/**\n * Komponenta pro jednotlivou dladici\n *  Pouv FontAwesome ikony z desktop modulu (stejn jako Orders25List.js)\n */\nfunction WidgetCard({ widget }) {\n  \n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('cs-CZ', {\n      style: 'currency',\n      currency: 'CZK',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  return (\n    <div className={`mobile-widget-card ${widget.color}`}>\n      {/* Horn ada: slo + Ikona */}\n      <div className=\"mobile-widget-header\">\n        {widget.count !== null && widget.count !== undefined && (\n          <div className=\"mobile-widget-count\">{widget.count}</div>\n        )}\n        <div className=\"mobile-widget-icon\">\n          <FontAwesomeIcon icon={widget.icon} />\n        </div>\n      </div>\n      \n      {/* Nzev stavu a stka - bez mezery */}\n      <div className=\"mobile-widget-info\">\n        <div className=\"mobile-widget-title\">{widget.title}</div>\n        {widget.amount !== null && widget.amount !== undefined && (\n          <div className=\"mobile-widget-amount\">{formatCurrency(widget.amount)}</div>\n        )}\n      </div>\n      {widget.subtitle && (\n        <div className=\"mobile-widget-subtitle\">{widget.subtitle}</div>\n      )}\n    </div>\n  );\n}\n\n/**\n * Speciln komponenta pro pokladnu - 2x2 grid s pehledem\n */\nfunction CashbookCard({ cashbook, formatCurrency }) {\n  const title = cashbook.cislo ? `Pokladna ${cashbook.cislo}` : 'Pokladna';\n  \n  return (\n    <div className=\"mobile-cashbook-card\">\n      {cashbook.nazev && (\n        <div className=\"mobile-cashbook-title\">{title} - {cashbook.nazev}</div>\n      )}\n      <div className=\"mobile-cashbook-grid\">\n        {/* Pevod */}\n        <div className=\"mobile-cashbook-item\">\n          <div className=\"mobile-cashbook-label\">Pevod</div>\n          <div className=\"mobile-cashbook-value\">{formatCurrency(cashbook.prevod)}</div>\n        </div>\n        \n        {/* Zstatek */}\n        <div className=\"mobile-cashbook-item highlight\">\n          <div className=\"mobile-cashbook-label\">Zstatek</div>\n          <div className=\"mobile-cashbook-value\">{formatCurrency(cashbook.zustatek)}</div>\n        </div>\n        \n        {/* Pjmy */}\n        <div className=\"mobile-cashbook-item\">\n          <div className=\"mobile-cashbook-label\">Pjmy</div>\n          <div className=\"mobile-cashbook-count\">{cashbook.prijmy} ks</div>\n          <div className=\"mobile-cashbook-amount\">{formatCurrency(cashbook.prijmyCastka)}</div>\n        </div>\n        \n        {/* Vdaje */}\n        <div className=\"mobile-cashbook-item\">\n          <div className=\"mobile-cashbook-label\">Vdaje</div>\n          <div className=\"mobile-cashbook-count\">{cashbook.vydaje} ks</div>\n          <div className=\"mobile-cashbook-amount\">{formatCurrency(cashbook.vydajeCastka)}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MobileDashboard;\n","/**\n *  SPOLEN UTILITY PRO VPOET STATISTIK OBJEDNVEK\n * \n * Sdleno mezi Desktop (Orders25List.js) a Mobile (mobileDataService.js)\n * aby mly ob verze IDENTICK vsledky.\n */\n\n/**\n * Mapovn uivatelsky pvtivch nzv stav na systmov kdy\n */\nfunction mapUserStatusToSystemCode(userStatus) {\n  // Kontrola na zatek textu pro rzn varianty\n  if (userStatus && typeof userStatus === 'string') {\n    if (userStatus.startsWith('Zamtnut')) return 'ZAMITNUTA';\n    if (userStatus.startsWith('Schvlen')) return 'SCHVALENA';\n    if (userStatus.startsWith('Dokonen')) return 'DOKONCENA';\n    if (userStatus.startsWith('Zruen')) return 'ZRUSENA';\n    if (userStatus.startsWith('Archivovn')) return 'ARCHIVOVANO';\n  }\n  \n  const mapping = {\n    'Ke schvlen': 'KE_SCHVALENI',\n    'Nov': 'NOVA',\n    'Rozpracovan': 'ROZPRACOVANA',\n    'Odeslan dodavateli': 'ODESLANA',\n    'Potvrzen dodavatelem': 'POTVRZENA',\n    'M bt zveejnna': 'K_UVEREJNENI_DO_REGISTRU',\n    'Uveejnn': 'UVEREJNENA',\n    'ek na potvrzen': 'CEKA_POTVRZENI',\n    'ek se': 'CEKA_SE',\n    'Vcn sprvnost': 'VECNA_SPRAVNOST',\n    'Smazan': 'SMAZANA',\n    'Koncept': 'NOVA'\n  };\n  return mapping[userStatus] || userStatus;\n}\n\n/**\n * Vrac systmov stav objednvky (PESN PODLE ORDERS25LIST)\n */\nexport function getOrderSystemStatus(order) {\n  // Speciln ppad pro koncepty\n  if (order.isDraft || order.je_koncept) {\n    return 'NOVA';\n  }\n\n  // Zskej zkladn systmov stav\n  let systemStatus;\n\n  //  PRIORITA 1: Pokud mme uivatelsky pvtiv stav, zmapuj na systmov kd\n  if (order.stav_objednavky) {\n    systemStatus = mapUserStatusToSystemCode(order.stav_objednavky);\n  }\n  // PRIORITA 2: Fallback na posledn stav z stav_workflow_kod\n  else if (order.stav_workflow_kod) {\n    try {\n      const workflowStates = Array.isArray(order.stav_workflow_kod)\n        ? order.stav_workflow_kod\n        : JSON.parse(order.stav_workflow_kod);\n      systemStatus = Array.isArray(workflowStates) \n        ? workflowStates[workflowStates.length - 1] \n        : order.stav_workflow_kod;\n    } catch {\n      systemStatus = order.stav_workflow_kod;\n    }\n  }\n  else {\n    systemStatus = 'DRAFT';\n  }\n\n  //  SPECILN LOGIKA PRO UVEEJNN V REGISTRU SMLUV\n  // Kontroluj data o publikaci - m pednost ped obecnm stavem\n  if (order.registr_smluv || order.stav_workflow_kod) {\n    const registr = order.registr_smluv || {};\n    \n    // 1. UVEREJNENA: Pokud m dt_zverejneni A registr_iddt -> byla zveejnna\n    if (registr.dt_zverejneni && registr.registr_iddt) {\n      return 'UVEREJNENA';\n    }\n    \n    // Zskej workflow status pro kontrolu UVEREJNIT\n    let workflowStatus = null;\n    if (order.stav_workflow_kod) {\n      try {\n        let workflowStates = [];\n        if (Array.isArray(order.stav_workflow_kod)) {\n          workflowStates = order.stav_workflow_kod;\n        } else if (typeof order.stav_workflow_kod === 'string') {\n          workflowStates = JSON.parse(order.stav_workflow_kod);\n          if (!Array.isArray(workflowStates)) {\n            workflowStates = [];\n          }\n        }\n        if (workflowStates.length > 0) {\n          const lastState = workflowStates[workflowStates.length - 1];\n          workflowStatus = typeof lastState === 'object' ? lastState.kod_stavu : lastState;\n        }\n      } catch (e) {\n        // Pokud parsing sele, ignoruj\n      }\n    }\n    \n    // 2. K_UVEREJNENI_DO_REGISTRU: Pokud m bt zveejnna (3 podmnky):\n    // a) workflow status je UVEREJNIT\n    // b) registr.zverejnit === 'ANO'\n    // c) registr.ma_byt_zverejnena === true/1\n    const maZverejnit = workflowStatus === 'UVEREJNIT' || \n                        registr.zverejnit === 'ANO' || \n                        registr.ma_byt_zverejnena === true ||\n                        registr.ma_byt_zverejnena === 1 ||\n                        registr.ma_byt_zverejnena === '1';\n    \n    if (maZverejnit && !registr.registr_iddt) {\n      return 'K_UVEREJNENI_DO_REGISTRU';\n    }\n  }\n\n  return systemStatus;\n}\n\n/**\n * Vypot celkovou cenu objednvky s DPH (PESN PODLE ORDERS25LIST)\n * Priority: 1) faktury, 2) poloky, 3) max_cena_s_dph\n */\nexport function getOrderTotalPriceWithDPH(order) {\n  // 1. PRIORITA: Faktury (pokud existuj) - skuten utracen penze\n  if (order.faktury_celkova_castka_s_dph != null && order.faktury_celkova_castka_s_dph !== '') {\n    const value = parseFloat(order.faktury_celkova_castka_s_dph);\n    if (!isNaN(value) && value > 0) return value;\n  }\n  \n  // 2. PRIORITA: Poloky - objednan ale jet nefakturovan\n  if (order.polozky_celkova_cena_s_dph != null && order.polozky_celkova_cena_s_dph !== '') {\n    const value = parseFloat(order.polozky_celkova_cena_s_dph);\n    if (!isNaN(value) && value > 0) return value;\n  }\n  \n  // Spotej z poloek jako fallback\n  if (order.polozky && Array.isArray(order.polozky) && order.polozky.length > 0) {\n    const total = order.polozky.reduce((sum, item) => {\n      const cena = parseFloat(item.cena_s_dph || 0);\n      return sum + (isNaN(cena) ? 0 : cena);\n    }, 0);\n    if (total > 0) return total;\n  }\n\n  // 3. PRIORITA: Max cena ke schvlen - schvlen limit\n  if (order.max_cena_s_dph != null && order.max_cena_s_dph !== '') {\n    const value = parseFloat(order.max_cena_s_dph);\n    if (!isNaN(value) && value > 0) return value;\n  }\n\n  return 0;\n}\n\n/**\n * Vyfiltruje objednvky podle zkladnch pravidel (spolen pro desktop i mobil)\n * @param {Array} orders - Seznam objednvek z API\n * @param {Object} options - Monosti filtrovn\n * @returns {Array} Vyfiltrovan objednvky\n */\nexport function filterOrders(orders, options = {}) {\n  const {\n    showArchived = false,     // Zobrazit archivovan?\n    userId = null,            // ID uivatele pro filtrovn podle pkazce\n    isAdmin = false           // Je uivatel admin? (admin vid vechny)\n  } = options;\n\n  // 1. Zkladn filtrovn: ID > 1 (systmov obj) a !isLocalConcept\n  //  VJIMKA: Koncepty (isDraft nebo je_koncept) VDY projdou filtrem!\n  let filtered = orders.filter(o => {\n    // Koncepty vdy projdou\n    if (o.isDraft || o.je_koncept) return true;\n    \n    // Ostatn objednvky: ID > 1 a !isLocalConcept\n    return o.id && o.id > 1 && !o.isLocalConcept;\n  });\n\n  // 2. Archivovan objednvky\n  //  VJIMKA: Koncepty nejsou nikdy archivovan\n  if (!showArchived) {\n    filtered = filtered.filter(o => {\n      // Koncepty vdy projdou\n      if (o.isDraft || o.je_koncept) return true;\n      \n      const status = getOrderSystemStatus(o);\n      return status !== 'ARCHIVOVANO';\n    });\n  }\n\n  // 3. Filtrovn podle pkazce (pouze pro non-admin)\n  //  VJIMKA: Koncepty pat vdy aktulnmu uivateli (objednatel_id)\n  if (!isAdmin && userId) {\n    filtered = filtered.filter(o => {\n      // Koncepty: kontroluj objednatel_id nebo uzivatel_id\n      if (o.isDraft || o.je_koncept) {\n        return o.objednatel_id === userId || o.uzivatel_id === userId;\n      }\n      \n      // Ostatn: kontroluj pkazce\n      return o.prikazce_id === userId;\n    });\n  }\n\n  return filtered;\n}\n\n/**\n * Vypot statistiky ze seznamu objednvek (spolen pro desktop i mobil)\n * @param {Array} orders - Seznam VYFILTROVANCH objednvek\n * @returns {Object} Statistiky ve formtu { total, byStatus, totalAmount, ... }\n */\nexport function calculateOrderStats(orders) {\n  const total = orders.length;\n  \n  // Poty podle stav\n  const byStatus = orders.reduce((acc, order) => {\n    const systemStatus = getOrderSystemStatus(order);\n    acc[systemStatus] = (acc[systemStatus] || 0) + 1;\n    return acc;\n  }, {});\n\n  // Celkov stka\n  const totalAmount = orders.reduce((sum, order) => {\n    const amount = getOrderTotalPriceWithDPH(order);\n    return sum + (isNaN(amount) ? 0 : amount);\n  }, 0);\n\n  // stka dokonench objednvek\n  const completedAmount = orders.reduce((sum, order) => {\n    const status = getOrderSystemStatus(order);\n    const isCompleted = ['DOKONCENA', 'VYRIZENA', 'COMPLETED'].includes(status);\n    if (isCompleted) {\n      const amount = getOrderTotalPriceWithDPH(order);\n      return sum + (isNaN(amount) ? 0 : amount);\n    }\n    return sum;\n  }, 0);\n\n  const pendingAmount = totalAmount - completedAmount;\n\n  return {\n    total,\n    byStatus,\n    totalAmount,\n    completedAmount,\n    pendingAmount\n  };\n}\n","/**\n *  Centrln sluba pro hierarchick zen viditelnosti dat\n * \n * Univerzln sluba pro desktop i mobiln aplikaci.\n * Poskytuje jednotn API pro prci s hierarchi nap vemi moduly.\n * \n * @author GitHub Copilot & robex08\n * @date 15. prosince 2025\n * @version 1.0\n */\n\nimport { getGlobalSettings } from './globalSettingsApi';\n\n/**\n *  Typy modul, kter podporuj hierarchii\n */\nexport const HierarchyModules = {\n  ORDERS: 'orders',\n  INVOICES: 'invoices',\n  CASHBOOK: 'cashbook'\n};\n\n/**\n *  Stav hierarchie\n */\nexport const HierarchyStatus = {\n  DISABLED: 'disabled',           // Hierarchie vypnuta\n  IMMUNE: 'immune',               // Uivatel m HIERARCHY_IMMUNE prvo\n  ACTIVE: 'active',               // Hierarchie aktivn\n  NO_PROFILE: 'no_profile',       // Nen vybrn profil\n  ERROR: 'error'                  // Chyba natn\n};\n\n/**\n *  Nate nastaven hierarchie z global_settings\n * \n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<{\n *   status: string,\n *   enabled: boolean,\n *   profileId: number|null,\n *   profileName: string|null,\n *   logic: string,\n *   logicDescription: string,\n *   error?: string\n * }>}\n */\nexport const getHierarchyConfig = async (token, username) => {\n  try {\n    const settings = await getGlobalSettings(token, username);\n    \n    const enabled = Boolean(settings.hierarchy_enabled);\n    const profileId = settings.hierarchy_profile_id || null;\n    const logic = settings.hierarchy_logic || 'OR';\n    \n    //  Nast nzev profilu podle ID\n    let profileName = null;\n    if (profileId) {\n      try {\n        const { getHierarchyProfiles } = await import('./hierarchyProfilesApi');\n        const profiles = await getHierarchyProfiles(token, username);\n        const profile = profiles.find(p => p.id === parseInt(profileId, 10));\n        profileName = profile ? profile.name : null;\n      } catch (error) {\n        console.warn(' [HierarchyService] Nelze nast nzev profilu:', error);\n        // Pokrauj bez nzvu - nen kritick\n      }\n    }\n    \n    // Uren statusu\n    let status = HierarchyStatus.DISABLED;\n    if (enabled) {\n      if (!profileId) {\n        status = HierarchyStatus.NO_PROFILE;\n      } else {\n        status = HierarchyStatus.ACTIVE;\n      }\n    }\n    \n    return {\n      status,\n      enabled,\n      profileId,\n      profileName,\n      logic,\n      logicDescription: getLogicDescription(logic),\n      modules: {\n        orders: enabled && profileId !== null,\n        invoices: false, // TODO: Sprint 3\n        cashbook: false  // TODO: Sprint 2\n      }\n    };\n    \n  } catch (error) {\n    console.error(' [HierarchyService] Chyba pi natn nastaven:', error);\n    \n    return {\n      status: HierarchyStatus.ERROR,\n      enabled: false,\n      profileId: null,\n      profileName: null,\n      logic: 'OR',\n      logicDescription: getLogicDescription('OR'),\n      error: error.message,\n      modules: {\n        orders: false,\n        invoices: false,\n        cashbook: false\n      }\n    };\n  }\n};\n\n/**\n *  Zkontroluje, zda je hierarchie aktivn pro dan modul\n * \n * @param {string} module - Typ modulu (HierarchyModules.ORDERS, ...)\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<boolean>}\n */\nexport const isHierarchyActiveForModule = async (module, token, username) => {\n  try {\n    const config = await getHierarchyConfig(token, username);\n    \n    // Kontrola podle modulu\n    switch (module) {\n      case HierarchyModules.ORDERS:\n        return config.modules.orders;\n      case HierarchyModules.INVOICES:\n        return config.modules.invoices;\n      case HierarchyModules.CASHBOOK:\n        return config.modules.cashbook;\n      default:\n        console.warn(` [HierarchyService] Neznm modul: ${module}`);\n        return false;\n    }\n    \n  } catch (error) {\n    console.error(' [HierarchyService] Chyba pi kontrole modulu:', error);\n    return false;\n  }\n};\n\n/**\n *  Zsk popisn text pro logiku hierarchie\n * \n * @param {string} logic - 'OR' nebo 'AND'\n * @returns {string}\n */\nexport const getLogicDescription = (logic) => {\n  if (logic === 'AND') {\n    return 'Restriktivn (A ZROVE) - mus splovat vechny rovn souasn';\n  }\n  \n  return 'Liberln (NEBO) - sta splnit alespo jednu rove';\n};\n\n/**\n *  Vytvo informan zprvu o hierarchii pro uivatele\n * \n * @param {Object} config - Konfigurace hierarchie z getHierarchyConfig()\n * @param {string} module - Typ modulu\n * @returns {string|null} - Textov zprva nebo null\n */\nexport const getHierarchyInfoMessage = (config, module = HierarchyModules.ORDERS) => {\n  if (!config) return null;\n  \n  switch (config.status) {\n    case HierarchyStatus.DISABLED:\n      return null; // dn zprva\n      \n    case HierarchyStatus.NO_PROFILE:\n      return ' Hierarchie je zapnut, ale nen vybrn dn profil. Kontaktujte administrtora.';\n      \n    case HierarchyStatus.IMMUNE:\n      return ' Mte neomezen pstup k datm (HIERARCHY_IMMUNE).';\n      \n    case HierarchyStatus.ACTIVE:\n      const moduleName = {\n        [HierarchyModules.ORDERS]: 'objednvky',\n        [HierarchyModules.INVOICES]: 'faktury',\n        [HierarchyModules.CASHBOOK]: 'pokladnu'\n      }[module] || 'data';\n      \n      return ` Hierarchie aktivn: Vidte ${moduleName} podle organizanho du \"${config.profileName}\" (${config.logicDescription}).`;\n      \n    case HierarchyStatus.ERROR:\n      return ' Chyba pi natn hierarchie. Kontaktujte administrtora.';\n      \n    default:\n      return null;\n  }\n};\n\n/**\n *  Zsk barvu pro informan banner\n * \n * @param {Object} config - Konfigurace hierarchie\n * @returns {string} - 'info', 'warning', 'error', 'success'\n */\nexport const getHierarchyBannerColor = (config) => {\n  if (!config) return 'info';\n  \n  switch (config.status) {\n    case HierarchyStatus.DISABLED:\n      return 'info';\n    case HierarchyStatus.NO_PROFILE:\n      return 'warning';\n    case HierarchyStatus.IMMUNE:\n      return 'success';\n    case HierarchyStatus.ACTIVE:\n      return 'info';\n    case HierarchyStatus.ERROR:\n      return 'error';\n    default:\n      return 'info';\n  }\n};\n\n/**\n *  Hook pro React komponenty - nate a cachuje hierarchii\n * Pouit: const hierarchyConfig = useHierarchyConfig(token, username);\n */\nexport const createHierarchyHook = () => {\n  let cachedConfig = null;\n  let cacheTime = 0;\n  const CACHE_DURATION = 60000; // 60 sekund\n  \n  return async (token, username, forceRefresh = false) => {\n    const now = Date.now();\n    \n    if (!forceRefresh && cachedConfig && (now - cacheTime < CACHE_DURATION)) {\n      return cachedConfig;\n    }\n    \n    cachedConfig = await getHierarchyConfig(token, username);\n    cacheTime = now;\n    \n    return cachedConfig;\n  };\n};\n\n// Singleton instance hooku\nexport const getHierarchyConfigCached = createHierarchyHook();\n\n/**\n *  Vyist cache hierarchie\n */\nexport const clearHierarchyCache = () => {\n  // Cache se resetuje automaticky pi ptm voln\n};\n\n// Export vech funkc jako default objekt\nexport default {\n  HierarchyModules,\n  HierarchyStatus,\n  getHierarchyConfig,\n  getHierarchyConfigCached,\n  isHierarchyActiveForModule,\n  getLogicDescription,\n  getHierarchyInfoMessage,\n  getHierarchyBannerColor,\n  clearHierarchyCache\n};\n","import React from 'react';\nimport { keyframes } from '@emotion/react';\nimport styled from '@emotion/styled';\n\n// Animace pro spinner\nconst spin = keyframes`\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n`;\n\nconst fadeIn = keyframes`\n  from { opacity: 0; }\n  to { opacity: 1; }\n`;\n\nconst fadeOut = keyframes`\n  from { opacity: 1; }\n  to { opacity: 0; }\n`;\n\nconst pulse = keyframes`\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.6; }\n`;\n\n// Styled components\nconst SplashContainer = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, #1f2a57 0%, #2c3e7a 100%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  animation: ${fadeIn} 0.2s ease-in;\n  \n  &.hidden {\n    animation: ${fadeOut} 0.3s ease-out forwards;\n  }\n`;\n\nconst LogoContainer = styled.div`\n  margin-bottom: 2rem;\n  animation: ${fadeIn} 0.5s ease-in;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst LogoImage = styled.img`\n  width: 225px;\n  height: 225px;\n  object-fit: contain;\n  filter: drop-shadow(0 4px 20px rgba(0, 0, 0, 0.3));\n  animation: ${fadeIn} 0.6s ease-in;\n`;\n\nconst Logo = styled.div`\n  font-size: 2.5rem;\n  font-weight: 700;\n  color: #ffffff;\n  text-align: center;\n  letter-spacing: 3px;\n  text-shadow: 0 4px 20px rgba(37, 99, 235, 0.5);\n  background: linear-gradient(135deg, #ffffff 0%, #e0e7ff 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n`;\n\nconst Subtitle = styled.div`\n  font-size: 1rem;\n  color: rgba(255, 255, 255, 0.8);\n  text-align: center;\n  margin-top: 0.5rem;\n  letter-spacing: 1px;\n`;\n\nconst SpinnerContainer = styled.div`\n  margin: 2rem 0;\n`;\n\nconst Spinner = styled.div`\n  width: 50px;\n  height: 50px;\n  border: 4px solid rgba(255, 255, 255, 0.1);\n  border-top: 4px solid #ffffff;\n  border-radius: 50%;\n  animation: ${spin} 1s linear infinite;\n`;\n\nconst LoadingText = styled.div`\n  color: rgba(255, 255, 255, 0.9);\n  font-size: 0.95rem;\n  margin-top: 1.5rem;\n  animation: ${pulse} 1.5s ease-in-out infinite;\n  letter-spacing: 0.5px;\n`;\n\nconst VersionText = styled.div`\n  position: absolute;\n  bottom: 2rem;\n  color: rgba(255, 255, 255, 0.4);\n  font-size: 0.85rem;\n`;\n\n/**\n * SplashScreen - Zobrazuje se POUZE pi cold start (prvn naten v novm tabu/okn)\n *  OPTIMALIZACE: Pi F5/reload se NEzobrazuje (zeno v index.js pomoc sessionStorage)\n * @param {Object} props\n * @param {string} [props.message] - Voliteln zprva pro zobrazen\n */\nconst SplashScreen = ({ message = 'Spoutn aplikace...' }) => {\n  return (\n    <SplashContainer>\n      <LogoContainer>\n        <LogoImage src={`${process.env.PUBLIC_URL}/logo512.png`} alt=\"ZZS Logo\" />\n        <Logo>ERDMS</Logo>\n        <Subtitle>Systm sprvy a workflow objednvek</Subtitle>\n      </LogoContainer>\n\n      <SpinnerContainer>\n        <Spinner />\n      </SpinnerContainer>\n\n      <LoadingText>{message}</LoadingText>\n\n      <VersionText>verze {process.env.REACT_APP_VERSION || '1.86.V2.08122025 (LP financovn fix, DatePicker portal fix, UI cleanup)'}</VersionText>\n    </SplashContainer>\n  );\n};\n\nexport default SplashScreen;\n","/**\n * API sluba pro globln nastaven systmu\n * Pattern: POST s token a username v body (jako OrderV2)\n */\n\nconst API_BASE_URL = (process.env.REACT_APP_API2_BASE_URL || '/api.eeo').replace(/\\/$/, '');\n\n/**\n * Nate vechna globln nastaven\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<Object>} Objekt s nastavenmi\n */\nexport const getGlobalSettings = async (token, username) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/global-settings`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token,\n        username,\n        operation: 'get'\n      })\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    const data = result.data || result;\n    \n    return data;\n    \n  } catch (error) {\n    console.error('Chyba pi natn globlnho nastaven:', error);\n    throw error;\n  }\n};\n\n/**\n * Ulo globln nastaven\n * @param {Object} settings - Objekt s nastavenmi k uloen\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<Object>} Response z API\n */\nexport const saveGlobalSettings = async (settings, token, username) => {\n  try {\n    const payload = {\n      token,\n      username,\n      operation: 'save',\n      settings\n    };\n    \n    console.group(' SAVE GLOBAL SETTINGS');\n    console.log('Settings to save:', settings);\n    console.log('Full payload:', payload);\n    console.groupEnd();\n    \n    const response = await fetch(`${API_BASE_URL}/global-settings`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    return result;\n    \n  } catch (error) {\n    console.error('Chyba pi ukldn globlnho nastaven:', error);\n    throw error;\n  }\n};\n\n/**\n * Nate drbovou zprvu (dostupn pro vechny pihlen uivatele)\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<string>} drbov zprva\n */\nexport const getMaintenanceMessage = async (token, username) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/maintenance-message`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token,\n        username\n      })\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    return result.message || 'Systm je momentln v drb. Omlouvme se za komplikace.';\n    \n  } catch (error) {\n    console.error('Chyba pi natn drbov zprvy:', error);\n    throw error;\n  }\n};\n\n/**\n * Nate jedno konkrtn nastaven podle kle\n * @param {string} key - Kl nastaven\n * @returns {Promise<any>} Hodnota nastaven\n */\nexport const getSingleSetting = async (key) => {\n  try {\n    const token = localStorage.getItem('token');\n    \n    const response = await fetch(`${API_BASE_URL}/global-settings/${key}`, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const data = await response.json();\n    return data.value;\n    \n  } catch (error) {\n    console.error(`Chyba pi natn nastaven ${key}:`, error);\n    throw error;\n  }\n};\n\n/**\n * Zkontroluje, zda je aktivn maintenance mode\n * @returns {Promise<boolean>} True pokud je drba aktivn\n */\nexport const checkMaintenanceMode = async () => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/maintenance-status`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    \n    // Pokud endpoint neexistuje nebo je nedostupn, vra false\n    if (!response.ok) {\n      if (response.status === 404) {\n        console.warn('Maintenance check endpoint not found (404)');\n      } else {\n        console.warn('Maintenance check failed with status:', response.status);\n      }\n      return false;\n    }\n    \n    // Zkontroluj, zda je odpov JSON\n    const contentType = response.headers.get('content-type');\n    if (!contentType || !contentType.includes('application/json')) {\n      console.warn('Maintenance check: Response is not JSON, got:', contentType);\n      return false;\n    }\n    \n    const data = await response.json();\n    return data.maintenance_mode === true || data.maintenance_mode === 1;\n    \n  } catch (error) {\n    // Tich chyba - maintenance check by neml blokovat aplikaci\n    console.debug('Chyba pi kontrole maintenance mode:', error.message);\n    return false;\n  }\n};\n","import { useState, useEffect, useCallback } from 'react';\n\n/**\n * Hook pro zen light/dark reimu\n * - auto: detekuje systmov nastaven\n * - light: vynucen svtl reim\n * - dark: vynucen tmav reim\n */\nexport const useThemeMode = () => {\n  // Preference: 'auto', 'light', 'dark'\n  const [preference, setPreference] = useState(() => {\n    if (typeof window !== 'undefined') {\n      try {\n        const stored = localStorage.getItem('app_theme_preference');\n        if (stored) return stored;\n      } catch {}\n    }\n    return 'auto';\n  });\n\n  // Aktuln reim (vypotan z preference)\n  const [mode, setMode] = useState('light');\n\n  // Detekce systmovho reimu\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    \n    const updateMode = () => {\n      if (preference === 'auto') {\n        setMode(mediaQuery.matches ? 'dark' : 'light');\n      } else {\n        setMode(preference);\n      }\n    };\n\n    updateMode();\n    mediaQuery.addEventListener('change', updateMode);\n    \n    return () => mediaQuery.removeEventListener('change', updateMode);\n  }, [preference]);\n\n  // Aplikuj reim na document\n  useEffect(() => {\n    document.documentElement.setAttribute('data-theme', mode);\n  }, [mode]);\n\n  // Uloen preference\n  useEffect(() => {\n    try {\n      localStorage.setItem('app_theme_preference', preference);\n    } catch {}\n  }, [preference]);\n\n  const setThemePreference = useCallback((pref) => {\n    setPreference(pref);\n  }, []);\n\n  const toggle = useCallback(() => {\n    setMode(m => m === 'light' ? 'dark' : 'light');\n  }, []);\n\n  return { mode, preference, setThemePreference, toggle };\n};\n\nexport default useThemeMode;","/**\n *  CENTRALIZED ICON MAPPING\n *\n * Tento modul poskytuje jednotnou logiku pro mapovn stav objednvek,\n * notifikac a dalch entit na FontAwesome ikony.\n *\n * Vechny komponenty by mly pouvat tyto funkce msto vlastnch implementac,\n * aby byla zachovna konzistence nap celou aplikac.\n */\n\nimport {\n  faPlay, faHourglassHalf, faCheckCircle, faBan, faClock,\n  faTruck, faShield, faFileContract, faStop, faPause,\n  faTimesCircle, faArchive, faInfoCircle, faExclamationCircle,\n  faBell, faExclamationTriangle, faBolt, faBullseye\n} from '@fortawesome/free-solid-svg-icons';\n\n/**\n * Mapovn stav objednvek na FontAwesome ikony\n *\n * @param {string} status - Stav objednvky (nap. 'nova', 'schvalena', 'odeslana')\n * @returns {object} FontAwesome ikona\n */\nexport const getStatusIcon = (status) => {\n  // Normalizace: odstrann diakritiky a pevod na lowercase\n  const normalizedStatus = status?.toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, ''); // Odstrann diakritiky\n\n  switch (normalizedStatus) {\n    // Zkladn stavy\n    case 'nova':\n      return faPlay;\n    case 'ke_schvaleni':\n    case 'keSchvaleni':\n      return faHourglassHalf;\n    case 'schvalena':\n      return faCheckCircle;\n    case 'zamitnuta':\n      return faTimesCircle;\n    case 'rozpracovana':\n      return faClock;\n\n    // Pracovn stavy\n    case 'odeslana':\n      return faTruck;\n    case 'potvrzena':\n      return faShield;\n    case 'uverejnena':\n    case 'registr_zverejnena':\n    case 'registrzverejnena':\n      return faFileContract;\n    case 'dokoncena':\n      return faBullseye; // Pouv se v tabulce, kompaktn reim m pmo emoji\n    case 'ceka_potvrzeni':\n    case 'cekaPotvrzeni':\n    case 'ceka_se':\n    case 'cekaSe':\n      return faPause;\n    case 'zrusena':\n      return faTimesCircle;\n    case 'archivovano':\n    case 'archivovana':\n      return faArchive;\n\n    // Kontroln stavy\n    case 'kontrola_ceka':\n    case 'cekaKontrola':\n      return faClock;\n    case 'kontrola_potvrzena':\n    case 'vecnaSpravnost':\n    case 'vecna_spravnost':\n      return faCheckCircle;\n\n    // Vchoz ikona pro neznm stavy\n    default:\n      return faInfoCircle;\n  }\n};\n\n/**\n * Mapovn typ notifikac na FontAwesome ikony\n *\n * Pro notifikace souvisejc s objednvkami se pouije ikona podle stavu.\n * Pro ostatn notifikace jsou definovny specifick ikony.\n *\n * @param {string} notificationType - Typ notifikace (nap. 'order_status_nova', 'todo_alarm')\n * @param {string} priority - Priorita notifikace ('low', 'normal', 'high', 'urgent')\n * @returns {object} FontAwesome ikona\n */\nexport const getNotificationIcon = (notificationType, priority = 'normal') => {\n  // Pokud je to notifikace o zmn stavu objednvky, pouij ikonu podle stavu\n  if (notificationType?.startsWith('order_status_')) {\n    const status = notificationType.replace('order_status_', '');\n    return getStatusIcon(status);\n  }\n\n  // Specifick typy notifikac\n  switch (notificationType) {\n    // TODO alarmy\n    case 'todo_alarm':\n      return faBell;\n    case 'todo_alarm_high':\n      return faExclamationTriangle;\n    case 'todo_alarm_expired':\n      return faExclamationCircle;\n\n    // Force unlock\n    case 'order_unlock_forced':\n      return faBolt;\n\n    // Obecn notifikace (deprecated, ale ponechno pro zptnou kompatibilitu)\n    case 'order_approved':\n      return faCheckCircle;\n    case 'order_rejected':\n      return faBan;\n    case 'order_created':\n      return faPlay;\n\n    // Vchoz podle priority\n    default:\n      return getPriorityIcon(priority);\n  }\n};\n\n/**\n * Zskn ikony podle priority notifikace\n *\n * @param {string} priority - Priorita ('low', 'normal', 'high', 'urgent')\n * @returns {object} FontAwesome ikona\n */\nexport const getPriorityIcon = (priority) => {\n  switch (priority) {\n    case 'urgent':\n    case 'high':\n      return faExclamationCircle;\n    case 'normal':\n      return faBell;\n    case 'low':\n    default:\n      return faInfoCircle;\n  }\n};\n\n/**\n * Helper funkce: Extrahuje stav objednvky z typu notifikace\n *\n * @param {string} notificationType - Typ notifikace (nap. 'order_status_schvalena')\n * @returns {string|null} Stav objednvky nebo null\n */\nexport const extractOrderStatusFromNotificationType = (notificationType) => {\n  if (!notificationType?.startsWith('order_status_')) {\n    return null;\n  }\n  return notificationType.replace('order_status_', '');\n};\n\n/**\n *  Mapovn typ notifikac na EMOJI ikony\n * \n *  DEPRECATED od 17.12.2025 - Msto emoji se nyn pouvaj FontAwesome ikony podle priority\n * @see NotificationsPage.js -> getPriorityIconComponent()\n * \n * Nov ikony:\n * - INFO: faInfoCircle (modr kruh)\n * - APPROVAL/HIGH: faExclamation (oranov vykink)\n * - EXCEPTIONAL/URGENT: faBolt (erven blesk)\n *\n * Pro notifikace souvisejc s objednvkami se pouije emoji podle stavu.\n * Pro ostatn notifikace jsou definovny specifick emoji.\n *\n * @deprecated Pouv se pouze pro zptnou kompatibilitu\n * @param {string} notificationType - Typ notifikace (nap. 'order_status_nova', 'todo_alarm')\n * @param {string} priority - Priorita notifikace ('low', 'normal', 'high', 'urgent')\n * @returns {string} Emoji ikona\n */\nexport const getNotificationEmoji = (notificationType, priority = 'normal') => {\n  // Pokud je to notifikace o zmn stavu objednvky, pouij emoji podle stavu\n  if (notificationType?.startsWith('order_status_')) {\n    const status = notificationType.replace('order_status_', '');\n    return getStatusEmoji(status);\n  }\n\n  // Specifick typy notifikac\n  switch (notificationType) {\n    // TODO alarmy\n    case 'todo_alarm':\n      return '';\n    case 'todo_alarm_high':\n      return '';\n    case 'todo_alarm_expired':\n      return '';\n\n    // Force unlock\n    case 'order_unlock_forced':\n      return '';\n\n    // Obecn notifikace (deprecated, ale ponechno pro zptnou kompatibilitu)\n    case 'order_approved':\n      return '';\n    case 'order_rejected':\n      return '';\n    case 'order_created':\n      return '';\n\n    // Vchoz podle priority\n    default:\n      return getPriorityEmoji(priority);\n  }\n};\n\n/**\n *  Zskn emoji podle priority notifikace\n *\n * @param {string} priority - Priorita ('low', 'normal', 'high', 'urgent')\n * @returns {string} Emoji ikona\n */\nexport const getPriorityEmoji = (priority) => {\n  switch (priority) {\n    case 'urgent':\n      return '';\n    case 'high':\n      return '';\n    case 'normal':\n      return '';\n    case 'low':\n    default:\n      return '';\n  }\n};\n\n/**\n *  Helper funkce pro emoji ikony stav (pro pouit v notifikacch)\n *\n * @param {string} status - Stav objednvky\n * @returns {string} Emoji ikona\n */\nexport const getStatusEmoji = (status) => {\n  const normalizedStatus = status?.toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, ''); // Odstrann diakritiky\n\n  switch (normalizedStatus) {\n    case 'nova':\n    case 'koncept':\n      return '';\n    case 'ke_schvaleni':\n    case 'keschvaleni':\n      return '';\n    case 'schvalena':\n      return '';\n    case 'zamitnuta':\n      return '';\n    case 'rozpracovana':\n      return '';\n    case 'odeslana':\n      return '';\n    case 'potvrzena':\n      return '';\n    case 'uverejnena':\n    case 'registr_zverejnena':\n    case 'registrzverejnena':\n      return '';\n    case 'dokoncena':\n      return '';\n    case 'ceka_potvrzeni':\n    case 'cekapotvrzeni':\n      return '';\n    case 'ceka_se':\n    case 'cekase':\n      return '';\n    case 'zrusena':\n      return '';\n    case 'smazana':\n      return '';\n    case 'archivovano':\n    case 'archivovana':\n      return '';\n    case 'ceka_kontrola':\n    case 'cekakontrola':\n      return '';\n    case 'vecna_spravnost':\n    case 'vecnaspravnost':\n      return '';\n    default:\n      return '';\n  }\n};\n\n"],"names":["_ref","_fullVersion$match","title","onMenuClick","notificationCount","showBackButton","onBackClick","onActivityClick","activityCount","isLoggedIn","token","user","useContext","AuthContext","hierarchyInfo","setHierarchyInfo","useState","fullVersion","process","versionNumber","match","isDevEnv","window","location","pathname","startsWith","useEffect","username","async","_userDetail$roles","getGlobalSettings","getUserDetailApi2","settings","userDetail","id","hasImmunity","roles","some","role","_role$prava","prava","pravo","kod_prava","hierarchy_enabled","hierarchy_profile_id","profileId","enabled","isImmune","error","console","loadHierarchyStatus","_jsx","className","style","background","children","_jsxs","onClick","viewBox","fill","width","height","d","_Fragment","src","alt","fontSize","marginLeft","fontWeight","color","textShadow","backgroundColor","padding","borderRadius","marginRight","border","opacity","FontAwesomeIcon","icon","faClockRotateLeft","_userDetail$usek_naze","_userDetail$lokalita_","isOpen","onClose","authUser","onNavigate","logout","mode","preference","setThemePreference","useThemeMode","concat","e","target","currentTarget","jmeno","charAt","toUpperCase","displayName","getFullName","parts","titul_pred","push","prijmeni","titul_za","length","join","usek_nazev","nazev","lokalita_nazev","email","mail","upn","STORAGE_KEY","ACTIVITY_TYPES","ORDER_APPROVED","ORDER_REJECTED","ORDER_WAITING","ORDER_CREATED","ORDER_UPDATED","ORDER_DELETED","INVOICE_APPROVED","INVOICE_REJECTED","INVOICE_CREATED","INVOICE_UPDATED","CASHBOOK_CREATED","CASHBOOK_UPDATED","CASHBOOK_DELETED","ENTITY_TYPES","ORDER","INVOICE","CASHBOOK","getActivities","stored","localStorage","getItem","activities","JSON","parse","now","Date","maxAge","MAX_AGE_HOURS","recentActivities","filter","activity","timestamp","setItem","stringify","sort","a","b","addActivity","entityType","entityId","activityType","amount","userName","description","metadata","newActivity","unshift","limitedActivities","slice","log","clearActivities","removeItem","getActivityColorClass","includes","formatTimeAgo","diff","minutes","Math","floor","hours","setActivities","loadActivities","loadedActivities","stopPropagation","faTimes","faInfoCircle","map","_activity$metadata","_activity$metadata2","orderId","faCheckCircle","faTimesCircle","faHourglassHalf","faPlusCircle","faEdit","faTrash","orderNumber","marginBottom","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","format","handleClearAll","confirm","show","type","message","onComplete","animationPhase","setAnimationPhase","flyTimeout","setTimeout","completeTimeout","clearTimeout","getColorClass","getIcon","_order$objednatel","_order$_enriched","_order$_enriched$obje","_order$garant_uzivate","_order$_enriched2","_order$_enriched2$gar","_order$financovani","order","onApprove","onReject","onWait","loading","localLoading","setLocalLoading","handleAction","action","handler","celkovaCena","faktury_celkova_castka_s_dph","value","parseFloat","isNaN","polozky_celkova_cena_s_dph","polozky","Array","isArray","total","reduce","sum","item","cena","cena_s_dph","max_cena_s_dph","getCelkovaCena","zdrojFinancovani","financovaniDetail","financovaniData","financovani","_unused","typKod","kod_stavu","typ","typyFinancovaniMap","nazev_stavu","lp_nazvy","lp","cislo_lp","Boolean","lp_kody","cislo_smlouvy","individualni_schvaleni","pojistna_udalost_cislo","zpusob_financovani","predmet","cislo_objednavky","ev_cislo","isMimoradna","mimoradna_udalost","objednatel","cele_jmeno","_enriched","objednatel_cele_jmeno","objednatel_jmeno","garant","garant_uzivatel","garant_cele_jmeno","garant_jmeno","poznamka","disabled","faSpinner","spin","faCheck","faClock","onConfirm","confirmText","cancelText","requireReason","reasonPlaceholder","variant","reason","setReason","setError","document","body","overflow","handleCancel","onChange","placeholder","rows","autoFocus","handleConfirm","trim","getAllMobileData","year","getFullYear","userId","isAdmin","showArchived","_invoicesResult$value","_cashbookResult$value","currentMonth","getMonth","hierarchyConfig","hierarchyService","ordersResult","invoicesResult","cashbookResult","Promise","allSettled","listOrdersV2","rok","listInvoices25","page","per_page","cashbookAPI","getCashboxListByPeriod","ordersData","status","this","calculateOrdersStats","totalAmount","pending","count","approved","inProgress","completed","rejected","cancelled","invoicesData","faktury","calculateInvoicesStats","paid","unpaid","overdue","regular","advance","corrective","proforma","creditNote","withoutAssignment","cashbookData","calculateCashbookStats","data","balance","pokladny","success","orders","invoices","cashbook","notifications","unread","meta","period","dataSource","hierarchy","profileName","logic","HierarchyModules","ORDERS","arguments","undefined","filteredOrders","filterOrders","stats","calculateOrderStats","getAmountForStatus","o","getOrderSystemStatus","getOrderTotalPriceWithDPH","byStatus","ODESLANA_KE_SCHVALENI","SCHVALENA","maBytZverejnena","K_UVEREJNENI_DO_REGISTRU","uverejnena","UVEREJNENA","vecnaSpravnost","VECNA_SPRAVNOST","DOKONCENA","ZAMITNUTA","ZRUSENA","setHours","forEach","invoice","fa_castka","fa_zaplacena","fa_datum_splatnosti","splatnost","getInvoiceStatus","typRaw","fa_typ","objednavka_id","smlouva_id","cashboxData","totalCount","totalBalance","pokladnyList","pokladna","pocetZaznamu","parseInt","pocet_zaznamu","koncovyStav","koncovy_stav","pocatecniStav","pocatecni_stav","celkovePrijmy","celkove_prijmy","celkoveVydaje","celkove_vydaje","prijmyPocet","prijmy_pocet","vydajePocet","vydaje_pocet","prevod","prevod_z_predchoziho","cislo_pokladny","aktivni","prijmy_castka","vydaje_castka","WidgetCard","widget","subtitle","CashbookCard","_ref2","formatCurrency","cislo","zustatek","prijmy","prijmyCastka","vydaje","vydajeCastka","_userDetail$permissio","_data$notifications","menuOpen","setMenuOpen","setLoading","setData","refreshing","setRefreshing","selectedYear","setSelectedYear","activeUsers","setActiveUsers","pendingApprovalOrders","setPendingApprovalOrders","loadingApprovals","setLoadingApprovals","showApprovalDetail","setShowApprovalDetail","approvalFilter","setApprovalFilter","approvalSearchQuery","setApprovalSearchQuery","rejectDialogOpen","setRejectDialogOpen","waitDialogOpen","setWaitDialogOpen","currentOrder","setCurrentOrder","stavyWorkflowMap","setStavyWorkflowMap","activityLogOpen","setActivityLogOpen","setActivityCount","successAnimation","setSuccessAnimation","getStavyWorkflow25","stavy","loadStavy","getStavObjednavky","workflowKod","stavZCiselniku","toMySQLDateTime","month","String","padStart","day","getDate","getHours","getMinutes","seconds","getSeconds","_objectSpread","jmeno_prijmeni_titul","jmeno_prijmeni","kod_role","canApprove","permissions","p","kod_opravneni","scrollToSection","sectionName","element","querySelector","extraSpace","getComputedStyle","documentElement","offsetTop","scrollTo","top","behavior","loadInitialData","loadActivityCount","loadDashboardData","loadPendingApprovals","workflowStates","stav_workflow_kod","prikazce_id","result","mobileDataService","users","fetchActiveUsersWithStats","loadActiveUsers","SplashScreen","orderWidgets","_data$orders$pending","_data$orders$pending2","_data$orders$approved","_data$orders$maBytZve","_data$orders$maBytZve2","_data$orders$uverejne","_data$orders$uverejne2","_data$orders$vecnaSpr","_data$orders$complete","_data$orders$rejected","_data$orders$cancelle","getStatusIcon","category","invoiceStatusWidgets","invoiceTypeWidgets","_data$invoices$paid","_data$invoices$unpaid","_data$invoices$overdu","_data$invoices$regula","_data$invoices$advanc","_data$invoices$correc","_data$invoices$profor","_data$invoices$credit","_data$invoices$withou","faExclamationTriangle","zaznamy","MobileHeader","normal","urgent","MobileMenu","query","toLowerCase","OrderApprovalCard","getOrderV2","alert","_unused2","s","updateData","stav_objednavky","schvalovatel_id","dt_schvaleni","schvaleni_komentar","updateOrderV2","nazev_obj","castka_obj","handleApproveOrder","handleRejectOrder","handleWaitOrder","index","activityTime","dt_posledni_aktivita","diffSec","diffMin","timeText","statusColor","dateTimeText","toLocaleString","hour","minute","statsText","objednavky","pokladna_zustatek","normalniCount","mimoradneCount","totalMaxPrice","maxPrice","MobileConfirmDialog","freshOrder","_unused3","_unused4","MobileActivityLog","MobileSuccessAnimation","isDraft","je_koncept","systemStatus","userStatus","mapUserStatusToSystemCode","registr_smluv","registr","dt_zverejneni","registr_iddt","workflowStatus","lastState","zverejnit","ma_byt_zverejnena","options","filtered","isLocalConcept","objednatel_id","uzivatel_id","acc","completedAmount","pendingAmount","INVOICES","HierarchyStatus","DISABLED","IMMUNE","ACTIVE","NO_PROFILE","ERROR","getHierarchyConfig","hierarchy_logic","getHierarchyProfiles","profile","find","name","warn","logicDescription","getLogicDescription","modules","getHierarchyConfigCached","createHierarchyHook","cachedConfig","cacheTime","forceRefresh","isHierarchyActiveForModule","module","config","getHierarchyInfoMessage","moduleName","getHierarchyBannerColor","clearHierarchyCache","keyframes","_templateObject","_taggedTemplateLiteral","fadeIn","_templateObject2","fadeOut","_templateObject3","pulse","_templateObject4","SplashContainer","styled","div","_templateObject5","LogoContainer","_templateObject6","LogoImage","img","_templateObject7","Logo","_templateObject8","Subtitle","_templateObject9","SpinnerContainer","_templateObject0","Spinner","_templateObject1","LoadingText","_templateObject10","VersionText","_templateObject11","API_BASE_URL","replace","response","fetch","method","headers","operation","ok","Error","statusText","json","saveGlobalSettings","payload","group","groupEnd","getMaintenanceMessage","checkMaintenanceMode","contentType","get","maintenance_mode","debug","setPreference","setMode","mediaQuery","matchMedia","updateMode","matches","addEventListener","removeEventListener","setAttribute","useCallback","pref","toggle","m","normalize","faPlay","faTruck","faShield","faFileContract","faBullseye","faPause","faArchive","getStatusEmoji"],"sourceRoot":""}