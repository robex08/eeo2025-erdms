"use strict";(self.webpackChunkr_app_zzs_eeo=self.webpackChunkr_app_zzs_eeo||[]).push([[8319],{58319:(t,n,e)=>{e.d(n,{checkMaintenanceMode:()=>r,getGlobalSettings:()=>a,l:()=>c,saveGlobalSettings:()=>s});const o="https://erdms.zachranka.cz/api.eeo/".replace(/\/$/,""),a=async(t,n)=>{try{const e=await fetch("".concat(o,"/global-settings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,username:n,operation:"get"})});if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));const a=await e.json();return a.data||a}catch(e){throw console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed glob\xe1ln\xedho nastaven\xed:",e),e}},s=async(t,n,e)=>{try{const a={token:n,username:e,operation:"save",settings:t};console.group("\ud83d\udcbe SAVE GLOBAL SETTINGS"),console.log("Settings to save:",t),console.log("Full payload:",a),console.groupEnd();const s=await fetch("".concat(o,"/global-settings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw new Error("HTTP ".concat(s.status,": ").concat(s.statusText));return await s.json()}catch(a){throw console.error("Chyba p\u0159i ukl\xe1d\xe1n\xed glob\xe1ln\xedho nastaven\xed:",a),a}},c=async(t,n)=>{try{const e=await fetch("".concat(o,"/maintenance-message"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,username:n})});if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));return(await e.json()).message||"Syst\xe9m je moment\xe1ln\u011b v \xfadr\u017eb\u011b. Omlouv\xe1me se za komplikace."}catch(e){throw console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed \xfadr\u017ebov\xe9 zpr\xe1vy:",e),e}},r=async()=>{try{const t=await fetch("".concat(o,"/maintenance-status"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)return 404===t.status?console.warn("Maintenance check endpoint not found (404)"):console.warn("Maintenance check failed with status:",t.status),!1;const n=t.headers.get("content-type");if(!n||!n.includes("application/json"))return console.warn("Maintenance check: Response is not JSON, got:",n),!1;const e=await t.json();return!0===e.maintenance_mode||1===e.maintenance_mode}catch(t){return console.debug("Chyba p\u0159i kontrole maintenance mode:",t.message),!1}}}}]);
//# sourceMappingURL=8319.499c2fa3.chunk.js.map