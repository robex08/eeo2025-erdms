{"version":3,"file":"static/js/5645.7015ed4c.chunk.js","mappings":"6JAOO,MAAMA,EAAiB,CAC5BC,YAAa,CACXC,KAAM,cACNC,MAAO,uBACPC,QAAS,yDACTC,KAAM,UACNC,SAAU,KAGZC,cAAe,CACbL,KAAM,gBACNC,MAAO,oDACPC,QAAS,yFACTC,KAAM,UACNC,SAAU,KAGZE,cAAe,CACbN,KAAM,gBACNC,MAAO,yCACPC,QAAS,0FACTC,KAAM,UACNC,SAAU,KAGZG,aAAc,CACZP,KAAM,eACNC,MAAO,gBACPC,QAAS,wFACTC,KAAM,QACNC,SAAU,KAGZI,oBAAqB,CACnBR,KAAM,sBACNC,MAAO,8BACPC,QAAS,8EACTC,KAAM,QACNC,SAAU,KAGZK,gBAAiB,CACfT,KAAM,kBACNC,MAAO,yBACPC,QAAS,0GACTC,KAAM,UACNC,SAAU,KAGZM,iBAAkB,CAChBV,KAAM,mBACNC,MAAO,mDACPC,QAAS,8FACTC,KAAM,OACNC,SAAU,KAGZO,iBAAkB,CAChBX,KAAM,mBACNC,MAAO,6BACPC,QAAS,+FACTC,KAAM,UACNC,SAAU,KAGZQ,kBAAmB,CACjBZ,KAAM,oBACNC,MAAO,uBACPC,QAAS,iFACTC,KAAM,OACNC,SAAU,MAKDS,EAAkB,SAACC,GAA2E,IAAhEC,EAAMC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGlB,EAAeC,YAAaoB,EAAcH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAC/F,MAAMI,EAAiC,kBAAXL,EACxBjB,EAAeiB,IAAWjB,EAAeC,YACzCgB,EAEJ,IAAIb,EAAUkB,EAAalB,QAGvBiB,IAC4B,kBAAnBA,EACTjB,GAAO,IAAAmB,OAAQF,GACNA,EAAeG,UACxBpB,GAAO,aAAAmB,OAAiBF,EAAeG,WAI3C,MAAMC,EAAe,CACnBpB,KAAMiB,EAAajB,KACnBF,MAAOmB,EAAanB,MACpBG,SAAUgB,EAAahB,SACvBoB,SAAU,cAIIC,EAAAA,EAAAA,IAAUX,EAAWZ,EAASqB,IAGR,UAAtBH,EAAajB,MACF,wBAAtBiB,EAAapB,MAAwD,iBAAtBoB,EAAapB,OAC/D0B,EAAAA,EAAAA,IAAe,GAADL,OAAID,EAAanB,MAAK,MAAAoB,OAAKnB,GAAW,QAIxD,ECnFayB,EAAkB,SAACb,GAA2D,IAApBQ,EAAON,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAC/E,IAAKF,EACH,OAGF,MAAMC,EAASjB,EALoCkB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,eAMjDD,GAILF,EAAgBC,EAAWC,EAAQO,EAAU,CAAEA,WAAY,KAC7D,EAGsB,qBAAXM,SACTA,OAAOC,kBAAoB,CACzBC,QAAUhB,GAxCsBA,KAClC,IAAKA,EACH,OAIF,MAAMiB,EAAUC,OAAOC,OAAOnC,GAC9B,IAAIoC,EAAQ,EAaZ,OAXAH,EAAQI,QAAQ,CAACpB,EAAQqB,KACvBC,WAAW,KACTxB,EAAgBC,EAAWC,EAAQ,CACjCO,QAAQ,QAADD,OAAUe,EAAQ,EAAC,KAAAf,OAAIU,EAAQd,OAAM,MAAAI,OAAKN,EAAOf,SAEzDkC,GAGHA,GAASnB,EAAOX,SAAW,MAGtB8B,GAoBmBI,CAAoBxB,GAC5CyB,KAAMA,CAACzB,EAAWC,EAAQO,IAAYK,EAAgBb,EAAWC,EAAQO,GACzES,QAASjC,G","sources":["utils/logoutNotifications.js","utils/logoutToastUtils.js"],"sourcesContent":["/**\n * Utility pro logout notifikace a důvody odhlášení\n */\n\nimport { safeToast, emergencyToast } from './globalToast';\n\n// Důvody odhlášení s user-friendly zprávami\nexport const LOGOUT_REASONS = {\n  USER_MANUAL: {\n    code: 'USER_MANUAL',\n    title: 'Odhlášení',\n    message: 'Byli jste úspěšně odhlášeni.',\n    type: 'success',\n    duration: 3000\n  },\n\n  TOKEN_EXPIRED: {\n    code: 'TOKEN_EXPIRED',\n    title: 'Platnost přihlášení vypršela',\n    message: 'Vaše přihlášení vypršelo. Prosím přihlaste se znovu.',\n    type: 'warning',\n    duration: 5000\n  },\n\n  TOKEN_INVALID: {\n    code: 'TOKEN_INVALID',\n    title: 'Neplatné přihlášení',\n    message: 'Vaše přihlášení je neplatné. Prosím přihlaste se znovu.',\n    type: 'warning',\n    duration: 5000\n  },\n\n  SERVER_ERROR: {\n    code: 'SERVER_ERROR',\n    title: 'Chyba serveru',\n    message: 'Došlo k chybě při komunikaci se serverem. Byli jste odhlášeni.',\n    type: 'error',\n    duration: 6000\n  },\n\n  ACCOUNT_DEACTIVATED: {\n    code: 'ACCOUNT_DEACTIVATED',\n    title: 'Účet deaktivován',\n    message: 'Váš účet byl deaktivován. Kontaktujte administrátora.',\n    type: 'error',\n    duration: 8000\n  },\n\n  DATA_CORRUPTION: {\n    code: 'DATA_CORRUPTION',\n    title: 'Poškozená data',\n    message: 'Byla detekována poškozená přihlašovací data. Prosím přihlaste se znovu.',\n    type: 'warning',\n    duration: 6000\n  },\n\n  SECURITY_CLEANUP: {\n    code: 'SECURITY_CLEANUP',\n    title: 'Bezpečnostní vyčištění',\n    message: 'Z bezpečnostních důvodů byla provedena obnova přihlášení.',\n    type: 'info',\n    duration: 5000\n  },\n\n  ENCRYPTION_ERROR: {\n    code: 'ENCRYPTION_ERROR',\n    title: 'Chyba šifrování',\n    message: 'Došlo k chybě při zabezpečení dat. Prosím přihlaste se znovu.',\n    type: 'warning',\n    duration: 6000\n  },\n\n  DEVELOPMENT_RESET: {\n    code: 'DEVELOPMENT_RESET',\n    title: 'Vývojový reset',\n    message: 'Přihlašovací data byla resetována (vývojový režim).',\n    type: 'info',\n    duration: 4000\n  }\n};\n\n// Funkce pro zobrazení logout toast notifikace\nexport const showLogoutToast = (showToast, reason = LOGOUT_REASONS.USER_MANUAL, additionalInfo = null) => {\n  const logoutReason = typeof reason === 'string'\n    ? LOGOUT_REASONS[reason] || LOGOUT_REASONS.USER_MANUAL\n    : reason;\n\n  let message = logoutReason.message;\n\n  // Přidej dodatečné informace pokud jsou k dispozici\n  if (additionalInfo) {\n    if (typeof additionalInfo === 'string') {\n      message += ` ${additionalInfo}`;\n    } else if (additionalInfo.details) {\n      message += ` Detaily: ${additionalInfo.details}`;\n    }\n  }\n\n  const toastOptions = {\n    type: logoutReason.type,\n    title: logoutReason.title,\n    duration: logoutReason.duration,\n    position: 'top-right'\n  };\n\n  // Použij safe toast s fallbackem na global toast\n  const success = safeToast(showToast, message, toastOptions);\n\n  // Pro kritické chyby použij emergency toast pokud normální selhal\n  if (!success && logoutReason.type === 'error' &&\n      (logoutReason.code === 'ACCOUNT_DEACTIVATED' || logoutReason.code === 'SERVER_ERROR')) {\n    emergencyToast(`${logoutReason.title}: ${message}`, 'error');\n  }\n\n  // Log pro debugging\n};\n\n// Detekce důvodu odhlášení na základě chyby/kontextu\nexport const detectLogoutReason = (error, context = {}) => {\n  if (!error) return LOGOUT_REASONS.USER_MANUAL;\n\n  const errorMessage = error.message || error.toString().toLowerCase();\n  const errorCode = error.code || error.status;\n\n  // Server errors\n  if (errorCode === 401 || errorMessage.includes('unauthorized')) {\n    return LOGOUT_REASONS.TOKEN_EXPIRED;\n  }\n\n  if (errorCode === 403 || errorMessage.includes('forbidden')) {\n    return LOGOUT_REASONS.TOKEN_INVALID;\n  }\n\n  if (errorCode >= 500 || errorMessage.includes('server') || errorMessage.includes('network')) {\n    return LOGOUT_REASONS.SERVER_ERROR;\n  }\n\n  // Encryption errors\n  if (errorMessage.includes('decrypt') || errorMessage.includes('encrypt') ||\n      errorMessage.includes('operationerror') || errorMessage.includes('crypto')) {\n    return LOGOUT_REASONS.ENCRYPTION_ERROR;\n  }\n\n  // JSON/Data parsing errors\n  if (errorMessage.includes('json') || errorMessage.includes('parse') ||\n      errorMessage.includes('syntax')) {\n    return LOGOUT_REASONS.DATA_CORRUPTION;\n  }\n\n  // Account status\n  if (errorMessage.includes('deactivat') || errorMessage.includes('disabled') ||\n      errorMessage.includes('suspended')) {\n    return LOGOUT_REASONS.ACCOUNT_DEACTIVATED;\n  }\n\n  // Context-based detection\n  if (context.isDataCorrupted) {\n    return LOGOUT_REASONS.DATA_CORRUPTION;\n  }\n\n  if (context.isSecurityCleanup) {\n    return LOGOUT_REASONS.SECURITY_CLEANUP;\n  }\n\n  if (context.isDevelopmentReset) {\n    return LOGOUT_REASONS.DEVELOPMENT_RESET;\n  }\n\n  // Default fallback\n  return LOGOUT_REASONS.TOKEN_INVALID;\n};\n\n// Utility pro logování logout events\nexport const logLogoutEvent = (reason, additionalData = {}) => {\n  const logData = {\n    timestamp: new Date().toISOString(),\n    reason: typeof reason === 'string' ? reason : reason.code,\n    userAgent: navigator.userAgent,\n    url: window.location.href,\n    ...additionalData\n  };\n\n  if (process.env.NODE_ENV === 'development') {\n  }\n\n  // V produkci zde můžeš přidat analytics tracking\n  // analytics.track('user_logout', logData);\n\n  return logData;\n};","/**\n * Debug utility pro testování logout toast notifikací\n * Používá se pouze pro development testing\n */\n\nimport { showLogoutToast, LOGOUT_REASONS } from './logoutNotifications.js';\n\n// Test všech typů logout notifikací\nexport const testAllLogoutToasts = (showToast) => {\n  if (!showToast) {\n    return;\n  }\n\n\n  const reasons = Object.values(LOGOUT_REASONS);\n  let delay = 0;\n\n  reasons.forEach((reason, index) => {\n    setTimeout(() => {\n      showLogoutToast(showToast, reason, {\n        details: `Test ${index + 1}/${reasons.length}: ${reason.code}`\n      });\n    }, delay);\n\n    // Postupné zobrazení s delay\n    delay += reason.duration + 500;\n  });\n\n  return delay;\n};\n\n// Test konkrétního typu\nexport const testLogoutToast = (showToast, reasonCode = 'USER_MANUAL', details = null) => {\n  if (!showToast) {\n    return;\n  }\n\n  const reason = LOGOUT_REASONS[reasonCode];\n  if (!reason) {\n    return;\n  }\n\n  showLogoutToast(showToast, reason, details ? { details } : null);\n};\n\n// Export pro browser console\nif (typeof window !== 'undefined') {\n  window.debugLogoutToasts = {\n    testAll: (showToast) => testAllLogoutToasts(showToast),\n    test: (showToast, reason, details) => testLogoutToast(showToast, reason, details),\n    reasons: LOGOUT_REASONS\n  };\n\n}"],"names":["LOGOUT_REASONS","USER_MANUAL","code","title","message","type","duration","TOKEN_EXPIRED","TOKEN_INVALID","SERVER_ERROR","ACCOUNT_DEACTIVATED","DATA_CORRUPTION","SECURITY_CLEANUP","ENCRYPTION_ERROR","DEVELOPMENT_RESET","showLogoutToast","showToast","reason","arguments","length","undefined","additionalInfo","logoutReason","concat","details","toastOptions","position","safeToast","emergencyToast","testLogoutToast","window","debugLogoutToasts","testAll","reasons","Object","values","delay","forEach","index","setTimeout","testAllLogoutToasts","test"],"sourceRoot":""}