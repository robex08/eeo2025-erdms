{"version":3,"file":"static/js/7516.84a8263c.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/briefcase.ts","../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js","components/ResetPasswordModal.js","../node_modules/lucide-react/src/icons/shuffle.ts","../node_modules/lucide-react/src/icons/award.ts","components/userManagement/UserManagementModal.js","components/UserContextMenu.js","pages/Users.js","../node_modules/lucide-react/src/icons/user.ts","../node_modules/lucide-react/src/icons/map-pin.ts","../node_modules/lucide-react/src/icons/eye.ts","../node_modules/lucide-react/src/icons/mail.ts","../node_modules/lucide-react/src/icons/check.ts","../node_modules/lucide-react/src/icons/search.ts","../node_modules/lucide-react/src/icons/x.ts","../node_modules/lucide-react/src/icons/shield.ts","../node_modules/lucide-react/src/icons/circle-x.ts","../node_modules/lucide-react/src/icons/key.ts","../node_modules/lucide-react/src/icons/circle-alert.ts","../node_modules/lucide-react/src/icons/circle-check-big.ts","../node_modules/lucide-react/src/icons/save.ts","../node_modules/lucide-react/src/icons/phone.ts","components/PasswordStrengthValidator.js","../node_modules/lucide-react/src/icons/eye-off.ts","../node_modules/lucide-react/src/icons/building.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16', key: 'jecpp' }],\n  ['rect', { width: '20', height: '14', x: '2', y: '6', rx: '2', key: 'i6l2r4' }],\n];\n\n/**\n * @component @name Briefcase\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjBWNGEyIDIgMCAwIDAtMi0yaC00YTIgMiAwIDAgMC0yIDJ2MTYiIC8+CiAgPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjE0IiB4PSIyIiB5PSI2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/briefcase\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Briefcase = createLucideIcon('briefcase', __iconNode);\n\nexport default Briefcase;\n","import * as ReactJSXRuntime from 'react/jsx-runtime';\nimport { h as hasOwn, E as Emotion, c as createEmotionProps } from '../../dist/emotion-element-f0de968e.browser.esm.js';\nimport 'react';\nimport '@emotion/cache';\nimport '@babel/runtime/helpers/extends';\nimport '@emotion/weak-memoize';\nimport '../../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport 'hoist-non-react-statics';\nimport '@emotion/utils';\nimport '@emotion/serialize';\nimport '@emotion/use-insertion-effect-with-fallbacks';\n\nvar Fragment = ReactJSXRuntime.Fragment;\nvar jsx = function jsx(type, props, key) {\n  if (!hasOwn.call(props, 'css')) {\n    return ReactJSXRuntime.jsx(type, props, key);\n  }\n\n  return ReactJSXRuntime.jsx(Emotion, createEmotionProps(type, props), key);\n};\nvar jsxs = function jsxs(type, props, key) {\n  if (!hasOwn.call(props, 'css')) {\n    return ReactJSXRuntime.jsxs(type, props, key);\n  }\n\n  return ReactJSXRuntime.jsxs(Emotion, createEmotionProps(type, props), key);\n};\n\nexport { Fragment, jsx, jsxs };\n","/** @jsxImportSource @emotion/react */\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { css } from '@emotion/react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEye, faEyeSlash, faCheckCircle, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\n\nconst overlayStyle = css`\n  position: fixed;\n  inset: 0;\n  background-color: rgba(0, 0, 0, 0.4);\n  backdrop-filter: blur(12px);\n  -webkit-backdrop-filter: blur(12px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 999999;\n  animation: fadeIn 0.2s ease-out;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n\nconst dialogStyle = css`\n  background: #fff;\n  padding: 20px;\n  border-radius: 12px;\n  box-shadow: 0 10px 30px rgba(2, 6, 23, 0.25);\n  max-width: 92%;\n  width: 500px;\n  box-sizing: border-box;\n  font-family: var(--app-font-family, Roboto, -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, 'Inter', 'Helvetica Neue', Arial, sans-serif);\n`;\n\nconst headerStyle = css`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 12px;\n  border-bottom: 2px solid #eef2f7;\n  margin-bottom: 16px;\n`;\n\nconst titleStyle = css`\n  font-size: 18px;\n  font-weight: 700;\n  color: #111827;\n`;\n\nconst closeBtnStyle = css`\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  color: #6b7280;\n  padding: 6px;\n  border-radius: 6px;\n  &:hover {\n    background: #f3f4f6;\n    color: #374151;\n  }\n`;\n\nconst formGroupStyle = css`\n  margin-bottom: 20px;\n`;\n\nconst labelStyle = css`\n  display: block;\n  font-weight: 600;\n  color: #374151;\n  margin-bottom: 8px;\n  font-size: 14px;\n`;\n\nconst inputWrapperStyle = css`\n  position: relative;\n  display: flex;\n  align-items: center;\n`;\n\nconst inputStyle = css`\n  width: 100%;\n  padding: 10px 40px 10px 12px;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 14px;\n  transition: all 0.2s;\n  box-sizing: border-box;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &.error {\n    border-color: #dc2626;\n  }\n\n  &.success {\n    border-color: #16a34a;\n  }\n`;\n\nconst toggleButtonStyle = css`\n  position: absolute;\n  right: 10px;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  color: #6b7280;\n  padding: 6px;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    color: #374151;\n  }\n`;\n\nconst requirementsStyle = css`\n  margin-top: 12px;\n  padding: 12px;\n  background: #f9fafb;\n  border-radius: 8px;\n  border: 1px solid #e5e7eb;\n`;\n\nconst requirementsTitleStyle = css`\n  font-size: 13px;\n  font-weight: 600;\n  color: #374151;\n  margin-bottom: 8px;\n`;\n\nconst requirementItemStyle = css`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 13px;\n  color: #6b7280;\n  margin-bottom: 4px;\n\n  &.valid {\n    color: #16a34a;\n  }\n\n  &.invalid {\n    color: #dc2626;\n  }\n`;\n\nconst errorMessageStyle = css`\n  color: #dc2626;\n  font-size: 13px;\n  margin-top: 8px;\n  padding: 8px 12px;\n  background: #fef2f2;\n  border-radius: 6px;\n  border: 1px solid #fecaca;\n`;\n\nconst userInfoStyle = css`\n  background: #eff6ff;\n  padding: 12px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  border: 1px solid #bfdbfe;\n`;\n\nconst userInfoLabelStyle = css`\n  font-size: 12px;\n  font-weight: 600;\n  color: #1e40af;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  margin-bottom: 4px;\n`;\n\nconst userInfoValueStyle = css`\n  font-size: 14px;\n  color: #1e293b;\n  font-weight: 500;\n`;\n\nconst buttonsStyle = css`\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 24px;\n`;\n\nconst cancelButtonStyle = css`\n  background: white;\n  color: #374151;\n  border: 2px solid #d1d5db;\n  padding: 10px 18px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  transition: all 0.2s;\n\n  &:hover {\n    background: #f8fafc;\n    border-color: #9ca3af;\n  }\n`;\n\nconst confirmButtonStyle = css`\n  background: #3b82f6;\n  color: white;\n  border: 2px solid #3b82f6;\n  padding: 10px 18px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  transition: all 0.2s;\n\n  &:hover:not(:disabled) {\n    background: #2563eb;\n    border-color: #2563eb;\n  }\n\n  &:disabled {\n    background: #9ca3af;\n    border-color: #9ca3af;\n    cursor: not-allowed;\n    opacity: 0.6;\n  }\n`;\n\nconst validatePassword = (password) => {\n  return {\n    minLength: password.length >= 8,\n    hasUpperCase: /[A-Z]/.test(password),\n    hasLowerCase: /[a-z]/.test(password),\n    hasNumber: /[0-9]/.test(password),\n    hasSpecialChar: /[!@#$%^&*(),.?\":{}|<>]/.test(password)\n  };\n};\n\nconst ResetPasswordModal = ({ isOpen, onClose, onConfirm, userData }) => {\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [error, setError] = useState('');\n  const [touched, setTouched] = useState({ password: false, confirm: false });\n\n  useEffect(() => {\n    if (!isOpen) {\n      // Reset pi zaven\n      setPassword('');\n      setConfirmPassword('');\n      setShowPassword(false);\n      setShowConfirmPassword(false);\n      setError('');\n      setTouched({ password: false, confirm: false });\n    }\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  const validation = validatePassword(password);\n  const isPasswordValid = Object.values(validation).every(v => v);\n  const doPasswordsMatch = password === confirmPassword;\n  const isFormValid = isPasswordValid && doPasswordsMatch && password.length > 0;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!isFormValid) {\n      setError('Prosm opravte chyby ve formuli');\n      return;\n    }\n\n    onConfirm(password);\n  };\n\n  const handlePasswordBlur = () => {\n    setTouched(prev => ({ ...prev, password: true }));\n  };\n\n  const handleConfirmBlur = () => {\n    setTouched(prev => ({ ...prev, confirm: true }));\n  };\n\n  const getInputClassName = (field) => {\n    if (!touched[field]) return '';\n\n    if (field === 'password') {\n      return isPasswordValid ? 'success' : 'error';\n    }\n\n    if (field === 'confirm') {\n      return doPasswordsMatch && confirmPassword.length > 0 ? 'success' : 'error';\n    }\n\n    return '';\n  };\n\n  return ReactDOM.createPortal(\n    <div css={overlayStyle} role=\"dialog\" aria-modal=\"true\">\n      <div css={dialogStyle}>\n        <div css={headerStyle}>\n          <div css={titleStyle}>Reset hesla</div>\n          <button aria-label=\"Zavt\" css={closeBtnStyle} onClick={onClose}>\n            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n              <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n            </svg>\n          </button>\n        </div>\n\n        {userData && (\n          <div css={userInfoStyle}>\n            <div css={userInfoLabelStyle}>Uivatel:</div>\n            <div css={userInfoValueStyle} style={{ fontSize: '16px', fontWeight: 700 }}>\n              {userData.fullName || `${userData.surname || ''} ${userData.name || ''}`.trim() || userData.username}\n              {userData.username && (\n                <span style={{ fontWeight: 500, color: '#64748b', marginLeft: '8px' }}>\n                  ({userData.username})\n                </span>\n              )}\n            </div>\n            {userData.email && userData.email !== 'N/A' && (\n              <div css={userInfoValueStyle} style={{ fontSize: '13px', color: '#64748b', marginTop: '4px', fontWeight: 400 }}>\n                {userData.email}\n              </div>\n            )}\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit}>\n          <div css={formGroupStyle}>\n            <label css={labelStyle}>Nov heslo *</label>\n            <div css={inputWrapperStyle}>\n              <input\n                css={inputStyle}\n                type={showPassword ? 'text' : 'password'}\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                onBlur={handlePasswordBlur}\n                placeholder=\"Zadejte nov heslo\"\n                className={getInputClassName('password')}\n                autoComplete=\"new-password\"\n              />\n              <button\n                type=\"button\"\n                css={toggleButtonStyle}\n                onClick={() => setShowPassword(!showPassword)}\n                aria-label={showPassword ? 'Skrt heslo' : 'Zobrazit heslo'}\n              >\n                <FontAwesomeIcon icon={showPassword ? faEyeSlash : faEye} />\n              </button>\n            </div>\n\n            <div css={requirementsStyle}>\n              <div css={requirementsTitleStyle}>Poadavky na heslo:</div>\n              <div css={requirementItemStyle} className={validation.minLength ? 'valid' : 'invalid'}>\n                <FontAwesomeIcon icon={validation.minLength ? faCheckCircle : faTimesCircle} />\n                Minimln 8 znak\n              </div>\n              <div css={requirementItemStyle} className={validation.hasUpperCase ? 'valid' : 'invalid'}>\n                <FontAwesomeIcon icon={validation.hasUpperCase ? faCheckCircle : faTimesCircle} />\n                Alespo jedno velk psmeno (A-Z)\n              </div>\n              <div css={requirementItemStyle} className={validation.hasLowerCase ? 'valid' : 'invalid'}>\n                <FontAwesomeIcon icon={validation.hasLowerCase ? faCheckCircle : faTimesCircle} />\n                Alespo jedno mal psmeno (a-z)\n              </div>\n              <div css={requirementItemStyle} className={validation.hasNumber ? 'valid' : 'invalid'}>\n                <FontAwesomeIcon icon={validation.hasNumber ? faCheckCircle : faTimesCircle} />\n                Alespo jedna slice (0-9)\n              </div>\n              <div css={requirementItemStyle} className={validation.hasSpecialChar ? 'valid' : 'invalid'}>\n                <FontAwesomeIcon icon={validation.hasSpecialChar ? faCheckCircle : faTimesCircle} />\n                Alespo jeden speciln znak (!@#$%^&*...)\n              </div>\n            </div>\n          </div>\n\n          <div css={formGroupStyle}>\n            <label css={labelStyle}>Potvrdit heslo *</label>\n            <div css={inputWrapperStyle}>\n              <input\n                css={inputStyle}\n                type={showConfirmPassword ? 'text' : 'password'}\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                onBlur={handleConfirmBlur}\n                placeholder=\"Zadejte heslo znovu\"\n                className={getInputClassName('confirm')}\n                autoComplete=\"new-password\"\n              />\n              <button\n                type=\"button\"\n                css={toggleButtonStyle}\n                onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                aria-label={showConfirmPassword ? 'Skrt heslo' : 'Zobrazit heslo'}\n              >\n                <FontAwesomeIcon icon={showConfirmPassword ? faEyeSlash : faEye} />\n              </button>\n            </div>\n            {touched.confirm && !doPasswordsMatch && confirmPassword.length > 0 && (\n              <div css={errorMessageStyle}>\n                Hesla se neshoduj\n              </div>\n            )}\n          </div>\n\n          {error && (\n            <div css={errorMessageStyle}>\n              {error}\n            </div>\n          )}\n\n          <div css={buttonsStyle}>\n            <button type=\"button\" css={cancelButtonStyle} onClick={onClose}>\n              Zruit\n            </button>\n            <button type=\"submit\" css={confirmButtonStyle} disabled={!isFormValid}>\n              Resetovat heslo\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>,\n    document.body\n  );\n};\n\nexport default ResetPasswordModal;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm18 14 4 4-4 4', key: '10pe0f' }],\n  ['path', { d: 'm18 2 4 4-4 4', key: 'pucp1d' }],\n  ['path', { d: 'M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22', key: '1ailkh' }],\n  ['path', { d: 'M2 6h1.972a4 4 0 0 1 3.6 2.2', key: 'km57vx' }],\n  ['path', { d: 'M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45', key: 'os18l9' }],\n];\n\n/**\n * @component @name Shuffle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTggMTQgNCA0LTQgNCIgLz4KICA8cGF0aCBkPSJtMTggMiA0IDQtNCA0IiAvPgogIDxwYXRoIGQ9Ik0yIDE4aDEuOTczYTQgNCAwIDAgMCAzLjMtMS43bDUuNDU0LTguNmE0IDQgMCAwIDEgMy4zLTEuN0gyMiIgLz4KICA8cGF0aCBkPSJNMiA2aDEuOTcyYTQgNCAwIDAgMSAzLjYgMi4yIiAvPgogIDxwYXRoIGQ9Ik0yMiAxOGgtNi4wNDFhNCA0IDAgMCAxLTMuMy0xLjhsLS4zNTktLjQ1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/shuffle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shuffle = createLucideIcon('shuffle', __iconNode);\n\nexport default Shuffle;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526',\n      key: '1yiouv',\n    },\n  ],\n  ['circle', { cx: '12', cy: '8', r: '6', key: '1vp47v' }],\n];\n\n/**\n * @component @name Award\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUuNDc3IDEyLjg5IDEuNTE1IDguNTI2YS41LjUgMCAwIDEtLjgxLjQ3bC0zLjU4LTIuNjg3YTEgMSAwIDAgMC0xLjE5NyAwbC0zLjU4NiAyLjY4NmEuNS41IDAgMCAxLS44MS0uNDY5bDEuNTE0LTguNTI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iOCIgcj0iNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/award\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Award = createLucideIcon('award', __iconNode);\n\nexport default Award;\n","import React, { useState, useEffect, useContext, useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from '@emotion/styled';\nimport { keyframes } from '@emotion/react';\nimport { AuthContext } from '../../context/AuthContext';\nimport { useActivity } from '../../context/ActivityContext';\nimport {\n  createUser,\n  updateUser,\n  fetchUserDetail,\n  fetchLokality,\n  fetchPozice,\n  fetchOrganizace,\n  fetchRole,\n  fetchRoleDetail,\n  fetchPrava,\n  fetchUseky\n} from '../../services/api2auth';\nimport { User, Shield, Building, X, Save, AlertCircle, Check, Mail, Phone, Key, MapPin, Briefcase, Award, Search, Eye, EyeOff, Shuffle } from 'lucide-react';\nimport { CustomSelect } from '../CustomSelect';\nimport PasswordStrengthValidator, { validatePasswordStrength } from '../PasswordStrengthValidator';\n\n// ============================================================================\n// ANIMACE\n// ============================================================================\n\nconst slideInUp = keyframes`\n  0% {\n    opacity: 0;\n    transform: translateY(20px) scale(0.95);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n`;\n\n// ============================================================================\n// STYLED COMPONENTS - PODLE ContactEditDialog.js\n// ============================================================================\n\nconst ModalOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.4);\n  backdrop-filter: blur(12px);\n  -webkit-backdrop-filter: blur(12px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  padding: 1rem;\n  animation: fadeIn 0.2s ease-out;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n\nconst ModalContainer = styled.div`\n  background: white;\n  border-radius: 16px;\n  width: 100%;\n  max-width: 900px;\n  max-height: 92vh;\n  overflow: hidden;\n  box-shadow:\n    0 25px 50px -12px rgba(0, 0, 0, 0.25),\n    0 0 0 1px rgba(255, 255, 255, 0.2);\n  animation: ${slideInUp} 0.4s cubic-bezier(0.16, 1, 0.3, 1);\n`;\n\nconst ModalHeader = styled.div`\n  padding: 1.25rem 1.5rem 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #1f2a57 0%, #2563eb 70%, #1d4ed8 100%);\n  color: white;\n  position: relative;\n  overflow: hidden;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: url('data:image/svg+xml,<svg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><g fill=\"%23ffffff\" fill-opacity=\"0.05\"><circle cx=\"30\" cy=\"30\" r=\"1\"/></g></svg>');\n    pointer-events: none;\n  }\n`;\n\nconst ModalHeaderContent = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  position: relative;\n  z-index: 1;\n`;\n\nconst HeaderLeft = styled.div`\n  flex: 1;\n`;\n\nconst ModalTitle = styled.h2`\n  margin: 0;\n  color: white;\n  font-size: 1.25rem;\n  font-weight: 700;\n  line-height: 1.2;\n`;\n\nconst ModalSubtitle = styled.p`\n  margin: 0.375rem 0 0 0;\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 0.8125rem;\n  font-weight: 400;\n`;\n\nconst CloseButton = styled.button`\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  color: white;\n  cursor: pointer;\n  padding: 0.625rem;\n  border-radius: 10px;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n    transform: scale(1.05);\n  }\n`;\n\nconst TabsContainer = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  padding: 1rem 1.5rem 0;\n  background: white;\n  border-bottom: 2px solid #e2e8f0;\n`;\n\nconst Tab = styled.button`\n  padding: 0.625rem 1.25rem;\n  border: none;\n  background: ${props => props.$active ? 'linear-gradient(135deg, #3b82f6, #1d4ed8)' : 'transparent'};\n  color: ${props => props.$active ? 'white' : '#64748b'};\n  font-weight: ${props => props.$active ? '600' : '500'};\n  font-size: 0.8125rem;\n  cursor: pointer;\n  border-radius: 10px 10px 0 0;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  position: relative;\n\n  &:hover {\n    background: ${props => props.$active ? 'linear-gradient(135deg, #3b82f6, #1d4ed8)' : '#f1f5f9'};\n    color: ${props => props.$active ? 'white' : '#3b82f6'};\n  }\n\n  ${props => props.$active && `\n    &::after {\n      content: '';\n      position: absolute;\n      bottom: -2px;\n      left: 0;\n      right: 0;\n      height: 2px;\n      background: linear-gradient(90deg, #3b82f6, #1d4ed8);\n    }\n  `}\n`;\n\nconst ModalBody = styled.div`\n  max-height: calc(92vh - 220px);\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: #f8fafc;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: #cbd5e1;\n    border-radius: 4px;\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background: #94a3b8;\n  }\n`;\n\nconst FormSection = styled.div`\n  padding: 1.25rem 1.5rem;\n  background: white;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid #f1f5f9;\n  }\n`;\n\nconst FormGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem 1.25rem; /* row-gap column-gap */\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst FormGrid3Col = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr); /* 3 sloupce pro Username | Heslo | Vynutit zmnu */\n  gap: 1rem 1.25rem; /* row-gap column-gap */\n\n  @media (max-width: 1024px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst FormGrid4Col = styled.div`\n  display: grid;\n  grid-template-columns: 0.7fr 1.5fr 1.5fr 0.8fr; /* Titul ped (u) | Pjmen | Jmno | Titul za (u) */\n  gap: 1rem 1.25rem; /* row-gap column-gap */\n\n  @media (max-width: 1024px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  grid-column: ${props => props.$fullWidth ? 'span 2' : 'span 1'};\n\n  @media (max-width: 768px) {\n    grid-column: span 1;\n  }\n`;\n\nconst Label = styled.label`\n  font-weight: 600;\n  font-size: 0.8125rem;\n  color: #374151;\n  margin-bottom: 0.375rem;\n  display: block;\n\n  &::after {\n    content: ${props => props.required ? '\" *\"' : '\"\"'};\n    color: #dc2626;\n    margin-left: 2px;\n  }\n`;\n\nconst Required = styled.span`\n  color: #dc2626;\n`;\n\n// Wrapper pro input s ikonou\nconst InputWithIcon = styled.div`\n  position: relative;\n  width: 100%;\n\n  > svg {\n    position: absolute;\n    left: 0.625rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 15px !important;\n    height: 15px !important;\n  }\n`;\n\n// Wrapper pro password input s vce ikonami\nconst PasswordInputWrapper = styled.div`\n  position: relative;\n  width: 100%;\n\n  > svg:first-of-type {\n    position: absolute;\n    left: 0.625rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 15px !important;\n    height: 15px !important;\n  }\n`;\n\nconst PasswordActionIcons = styled.div`\n  position: absolute;\n  right: 0.625rem;\n  top: 50%;\n  transform: translateY(-50%);\n  display: flex;\n  gap: 0.375rem;\n  z-index: 2;\n`;\n\nconst PasswordIcon = styled.div`\n  cursor: pointer;\n  padding: 6px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  background: rgba(248, 250, 252, 0.9);\n  border: 1px solid #e2e8f0;\n  \n  svg {\n    width: 14px !important;\n    height: 14px !important;\n    color: #64748b !important;\n  }\n  \n  &:hover {\n    background: #f1f5f9;\n    border-color: #cbd5e1;\n    \n    svg {\n      color: #334155 !important;\n    }\n  }\n  \n  &:active {\n    transform: scale(0.95);\n    background: #e2e8f0;\n  }\n`;\n\nconst PasswordInput = styled.input`\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0.625rem 5rem 0.625rem 2.25rem; /* Vce msta vpravo pro ikony */\n  border: 2px solid ${props => props.hasError ? '#dc2626' : '#e5e7eb'};\n  border-radius: 8px;\n  font-size: 0.8125rem;\n  transition: all 0.2s ease;\n  background: ${props => props.hasError ? '#fef2f2' : '#ffffff'};\n\n  color: ${props => props.value && props.value !== '' ? '#1f2937' : '#6b7280'};\n  font-weight: ${props => {\n    if (props.disabled) return '400';\n    return props.value && props.value !== '' ? '600' : '400';\n  }};\n\n  &:focus {\n    outline: none;\n    border-color: ${props => props.hasError ? '#dc2626' : '#3b82f6'};\n    box-shadow: 0 0 0 3px ${props => props.hasError ? 'rgba(220, 38, 38, 0.1)' : 'rgba(59, 130, 246, 0.1)'};\n  }\n\n  &:disabled {\n    background: #f9fafb;\n    color: #6b7280;\n    cursor: not-allowed;\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n    opacity: 1;\n    font-weight: 400;\n  }\n`;\n\nconst Input = styled.input`\n  width: 100%;\n  box-sizing: border-box;\n  padding: ${props => props.hasIcon ? '0.625rem 0.625rem 0.625rem 2.25rem' : '0.625rem'};\n  border: 2px solid ${props => props.hasError ? '#dc2626' : '#e5e7eb'};\n  border-radius: 8px;\n  font-size: 0.8125rem;\n  transition: all 0.2s ease;\n  background: ${props => props.hasError ? '#fef2f2' : '#ffffff'};\n\n  /* Zvraznn vyplnn hodnoty vs. placeholder - sladno s CustomSelect */\n  color: ${props => props.value && props.value !== '' ? '#1f2937' : '#6b7280'};\n  font-weight: ${props => {\n    if (props.disabled) return '400';\n    return props.value && props.value !== '' ? '600' : '400';\n  }};\n\n  &:focus {\n    outline: none;\n    border-color: ${props => props.hasError ? '#dc2626' : '#3b82f6'};\n    box-shadow: 0 0 0 3px ${props => props.hasError ? 'rgba(220, 38, 38, 0.1)' : 'rgba(59, 130, 246, 0.1)'};\n  }\n\n  &:focus + svg {\n    color: ${props => props.hasError ? '#dc2626' : '#3b82f6'};\n  }\n\n  &:disabled {\n    background: #f9fafb;\n    color: #6b7280;\n    cursor: not-allowed;\n  }\n\n  /* Sjednocen placeholder barvy se selecty */\n  &::placeholder {\n    color: #9ca3af;\n    opacity: 1;\n    font-weight: 400;\n  }\n`;\n\nconst SearchInputWrapper = styled.div`\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n\n  input {\n    padding-left: 2.25rem;\n    padding-right: ${props => props.hasValue ? '2.25rem' : '0.625rem'};\n  }\n\n  .search-icon {\n    position: absolute;\n    left: 0.625rem;\n    color: #9ca3af;\n    pointer-events: none;\n  }\n\n  .clear-icon {\n    position: absolute;\n    right: 0.625rem;\n    color: #9ca3af;\n    cursor: pointer;\n    transition: color 0.2s;\n\n    &:hover {\n      color: #dc2626;\n    }\n  }\n`;\n\nconst ErrorText = styled.span`\n  font-size: 0.75rem;\n  color: #dc2626;\n  margin-top: 0.25rem;\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n`;\n\nconst SectionHeader = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.625rem;\n  margin-bottom: 1rem;\n  padding-bottom: 0.625rem;\n  border-bottom: 1px solid #e5e7eb;\n`;\n\nconst SectionIcon = styled.div`\n  width: 1.75rem;\n  height: 1.75rem;\n  border-radius: 8px;\n  background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.8125rem;\n`;\n\nconst SectionTitle = styled.h3`\n  margin: 1.5rem 0 0.875rem 0;\n  padding-bottom: 0.5rem;\n  color: #64748b;\n  font-size: 0.8125rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  border-bottom: 1px solid #e5e7eb;\n\n  &:first-of-type {\n    margin-top: 0;\n  }\n`;\n\nconst CheckboxGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));\n  gap: 0.625rem;\n  max-height: 350px;\n  overflow-y: auto;\n  padding: 0.875rem;\n  background: #f9fafb;\n  border-radius: 8px;\n  border: 2px solid #e5e7eb;\n`;\n\n// Toggle Switch pro Aktivn checkbox\nconst ToggleSwitch = styled.label`\n  position: relative;\n  display: inline-block;\n  width: 56px;\n  height: 28px;\n  cursor: pointer;\n  flex-shrink: 0;\n\n  input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n\n  span {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #cbd5e1;\n    border-radius: 28px;\n    transition: all 0.3s ease;\n\n    &::before {\n      content: '';\n      position: absolute;\n      height: 20px;\n      width: 20px;\n      left: 4px;\n      bottom: 4px;\n      background-color: white;\n      border-radius: 50%;\n      transition: all 0.3s ease;\n    }\n  }\n\n  input:checked + span {\n    background-color: #3b82f6;\n  }\n\n  input:checked + span::before {\n    transform: translateX(28px);\n  }\n\n  input:focus + span {\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n`;\n\nconst ToggleContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  height: 2.375rem; /* Same height as input (padding 0.625rem top/bottom + border + content) */\n`;\n\nconst ToggleLabel = styled.div`\n  font-size: 0.8125rem;\n  color: ${props => props.$active ? '#16a34a' : '#64748b'};\n  font-weight: ${props => props.$active ? '600' : '400'};\n  transition: all 0.3s ease;\n`;\n\nconst CheckboxLabel = styled.label`\n  display: flex;\n  align-items: flex-start;\n  gap: 0.625rem;\n  padding: 0.625rem;\n  background: white;\n  border-radius: 8px;\n  border: 2px solid ${props => props.$checked ? '#3b82f6' : '#e5e7eb'};\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    border-color: #3b82f6;\n    background: #f0f9ff;\n  }\n`;\n\nconst Checkbox = styled.input`\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n  margin-top: 2px;\n  accent-color: #3b82f6;\n`;\n\nconst CheckboxContent = styled.div`\n  flex: 1;\n`;\n\nconst CheckboxTitle = styled.div`\n  font-weight: 600;\n  color: #1e293b;\n  font-size: 0.8125rem;\n  margin-bottom: 0.25rem;\n`;\n\nconst CheckboxDescription = styled.div`\n  font-size: 0.75rem;\n  color: #64748b;\n  line-height: 1.4;\n`;\n\nconst ModalFooter = styled.div`\n  padding: 1.25rem 1.5rem;\n  background: #f8fafc;\n  border-top: 1px solid #e2e8f0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst FooterLeft = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.8125rem;\n  color: #64748b;\n`;\n\nconst FooterRight = styled.div`\n  display: flex;\n  gap: 0.875rem;\n`;\n\nconst Button = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.625rem 1.25rem;\n  border-radius: 10px;\n  font-weight: 600;\n  font-size: 0.8125rem;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\n  &.cancel {\n    background: white;\n    color: #64748b;\n    border: 2px solid #e2e8f0;\n\n    &:hover {\n      background: #f8fafc;\n      border-color: #cbd5e1;\n    }\n  }\n\n  &.primary {\n    background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n    color: white;\n    border: 2px solid transparent;\n\n    &:hover:not(:disabled) {\n      transform: translateY(-2px);\n      box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);\n    }\n\n    &:disabled {\n      background: #e2e8f0;\n      color: #64748b;\n      cursor: not-allowed;\n      transform: none;\n      box-shadow: none;\n    }\n  }\n\n  /*  Success stav po spnm uloen */\n  &.success {\n    background: linear-gradient(135deg, #10b981, #059669) !important;\n    color: white;\n    border: 2px solid transparent;\n    animation: successPulse 0.5s ease-out;\n\n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 10px 20px rgba(16, 185, 129, 0.4);\n    }\n  }\n\n  @keyframes successPulse {\n    0% {\n      transform: scale(1);\n    }\n    50% {\n      transform: scale(1.05);\n    }\n    100% {\n      transform: scale(1);\n    }\n  }\n`;\n\nconst LoadingSpinner = styled.div`\n  width: 18px;\n  height: 18px;\n  border: 3px solid rgba(255, 255, 255, 0.3);\n  border-top-color: white;\n  border-radius: 50%;\n  animation: spin 0.8s linear infinite;\n\n  @keyframes spin {\n    to { transform: rotate(360deg); }\n  }\n`;\n\nconst SuccessMessage = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.625rem;\n  padding: 0.875rem;\n  background: #dcfce7;\n  border: 2px solid #86efac;\n  border-radius: 8px;\n  color: #166534;\n  font-weight: 500;\n  font-size: 0.8125rem;\n  margin-bottom: 0.875rem;\n`;\n\nconst ErrorMessage = styled.div`\n  display: flex;\n  align-items: flex-start;\n  gap: 0.625rem;\n  padding: 0.875rem;\n  background: #fee2e2;\n  border: 2px solid #fca5a5;\n  border-radius: 8px;\n  color: #991b1b;\n  font-weight: 500;\n  margin-bottom: 0.875rem;\n  white-space: pre-wrap;\n  word-break: break-word;\n  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n  font-size: 0.75rem;\n  max-height: 350px;\n  overflow-y: auto;\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 2rem 1rem;\n  color: #9ca3af;\n  font-size: 0.8125rem;\n`;\n\nconst FilterCheckboxLabel = styled.label`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n  color: #4b5563;\n  cursor: pointer;\n  user-select: none;\n  white-space: nowrap;\n  padding: 0.5rem 0.75rem;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n  background: ${props => props.$checked ? '#eff6ff' : 'white'};\n  border: 1px solid ${props => props.$checked ? '#3b82f6' : '#e5e7eb'};\n\n  &:hover {\n    background: ${props => props.$checked ? '#dbeafe' : '#f9fafb'};\n    border-color: ${props => props.$checked ? '#2563eb' : '#d1d5db'};\n  }\n\n  input[type=\"checkbox\"] {\n    cursor: pointer;\n    width: 16px;\n    height: 16px;\n    accent-color: #3b82f6;\n  }\n\n  span {\n    font-weight: ${props => props.$checked ? '600' : '500'};\n    color: ${props => props.$checked ? '#1e40af' : '#4b5563'};\n  }\n`;\n\n// ============================================================================\n// MAIN COMPONENT\n// ============================================================================\n\nconst UserManagementModal = ({\n  isOpen,\n  onClose,\n  mode, // 'create' | 'edit'\n  userData = null,\n  onSuccess,\n  addToast\n}) => {\n  const { token, user, userDetail } = useContext(AuthContext);\n  const { triggerActivity } = useActivity();\n  const [activeTab, setActiveTab] = useState('detail');\n  const [loading, setLoading] = useState(false);\n  const [isSaved, setIsSaved] = useState(false); //  Nov state pro success efekt\n  const [isClosing, setIsClosing] = useState(false); //  Flag pro prevenci duplicitnho zavrn\n  const [loadingData, setLoadingData] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [successMessage, setSuccessMessage] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  //  Kontrola oprvnn: Pouze SUPERADMIN a ADMINISTRATOR mohou mnit username\n  const canEditUsername = useMemo(() => {\n    if (!userDetail || !userDetail.roles) return false;\n    return userDetail.roles.some(role =>\n      role.kod_role === 'SUPERADMIN' || role.kod_role === 'ADMINISTRATOR'\n    );\n  }, [userDetail]);\n\n  // CustomSelect states\n  const [selectStates, setSelectStates] = useState({});\n  const [searchStates, setSearchStates] = useState({});\n  const [touchedSelectFields, setTouchedSelectFields] = useState(new Set());\n\n  // Helper: Vytvoen hierarchick struktury lokalit (okres -> stanovit)\n  const createHierarchicalLokality = (lokalityData) => {\n    if (!Array.isArray(lokalityData) || lokalityData.length === 0) return [];\n\n    const hierarchical = [];\n\n    // Rozdlen na okresy (typ === 'editelstv' nebo parent_id === null) a stanovit\n    const okresy = lokalityData.filter(l =>\n      l.typ === 'editelstv' ||\n      !l.parent_id ||\n      l.parent_id === null ||\n      l.parent_id === ''\n    );\n\n    const stanoviste = lokalityData.filter(l =>\n      l.typ !== 'editelstv' &&\n      l.parent_id &&\n      l.parent_id !== null &&\n      l.parent_id !== ''\n    );\n\n    // azen okres podle nzvu\n    okresy.sort((a, b) => (a.nazev || '').localeCompare(b.nazev || '', 'cs'));\n\n    // Pro kad okres pidme jej a jeho stanovit\n    okresy.forEach(okres => {\n      // Pidat okres jako parent\n      hierarchical.push({\n        ...okres,\n        level: 0,\n        isParent: true,\n        displayLabel: okres.nazev // Bez odsazen\n      });\n\n      // Najt stanovit tohoto okresu\n      const children = stanoviste.filter(s => String(s.parent_id) === String(okres.id));\n\n      // azen stanovi podle nzvu\n      children.sort((a, b) => (a.nazev || '').localeCompare(b.nazev || '', 'cs'));\n\n      // Pidat stanovit s odsazenm - CSS e odsazen pomoc level prop\n      children.forEach(child => {\n        hierarchical.push({\n          ...child,\n          level: 1,\n          isParent: false,\n          parentId: okres.id,\n          displayLabel: child.nazev // BEZ odsazen - CSS to udl\n        });\n      });\n    });\n\n    // Pidat osiel stanovit (pokud njak zbudou)\n    const processedIds = new Set(hierarchical.map(h => h.id));\n    const orphans = lokalityData.filter(l => !processedIds.has(l.id));\n\n    if (orphans.length > 0) {\n      // console.warn(' Osiel lokality:', orphans);\n      orphans.forEach(orphan => {\n        hierarchical.push({\n          ...orphan,\n          level: 1,\n          isParent: false,\n          isOrphan: true,\n          displayLabel: ` ${orphan.nazev}`\n        });\n      });\n    }\n\n    return hierarchical;\n  };\n\n  // Form data\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    jmeno: '',\n    prijmeni: '',\n    titul_pred: '',\n    titul_za: '',\n    email: '',\n    telefon: '',\n    usek_id: null,\n    lokalita_id: null,\n    pozice_id: null,\n    organizace_id: null,\n    aktivni: 1,\n    vynucena_zmena_hesla: 0,\n    roles: [],\n    direct_rights: []\n  });\n\n  // selnky\n  const [lokality, setLokality] = useState([]);\n  const [pozice, setPozice] = useState([]);\n  const [organizace, setOrganizace] = useState([]);\n  const [role, setRole] = useState([]);\n  const [prava, setPrava] = useState([]);\n  const [useky, setUseky] = useState([]);\n\n  // Filtry pro role a prva\n  const [roleFilter, setRoleFilter] = useState('');\n  const [pravaFilter, setPravaFilter] = useState('');\n  const [showOnlyUnassigned, setShowOnlyUnassigned] = useState(false); //  Checkbox pro zobrazen jen nepiazench prv\n  const [showPassword, setShowPassword] = useState(false); //  State pro zobrazen hesla\n\n  // Prva naten z rol (pro zobrazen jako disabled/readonly)\n  const [rightsFromRoles, setRightsFromRoles] = useState(new Set());\n\n  // Filtrovan role podle vyhledvacho filtru\n  const filteredRoles = useMemo(() => {\n    if (!roleFilter.trim()) return role;\n    const search = roleFilter.toLowerCase();\n    return role.filter(r =>\n      (r.nazev_role || r.nazev || '').toLowerCase().includes(search) ||\n      (r.popis || '').toLowerCase().includes(search)\n    );\n  }, [role, roleFilter]);\n\n  // Filtrovan prva podle vyhledvacho filtru a checkboxu \"Zobrazit jen nepiazen\"\n  const filteredPrava = useMemo(() => {\n    let filtered = prava;\n\n    //  Filtr: Zobrazit jen nepiazen prva = ta, kter NEJSOU checked (zakrtnut)\n    // Nepiazen = prva, kter uivatel NEM (nejsou ani z role, ani pmo piazen)\n    if (showOnlyUnassigned) {\n      filtered = filtered.filter(p => {\n        const pravoId = Number(p.id); //  Konverze na NUMBER\n        const isFromRole = rightsFromRoles.has(pravoId);\n        const isDirectlySelected = formData.direct_rights.includes(pravoId);\n        const isChecked = isFromRole || isDirectlySelected;\n        // Zobrazit pouze NEZAKRTNUT prva (uivatel je NEM)\n        return !isChecked;\n      });\n    }\n\n    //  Filtr podle vyhledvacho pole (aplikuje se A po filtru nepiazench)\n    if (pravaFilter.trim()) {\n      const search = pravaFilter.toLowerCase();\n      filtered = filtered.filter(p =>\n        (p.popis || '').toLowerCase().includes(search) ||\n        (p.kod_prava || '').toLowerCase().includes(search)\n      );\n    }\n\n    return filtered;\n  }, [prava, pravaFilter, showOnlyUnassigned, rightsFromRoles, formData.direct_rights]);\n\n  // Load selnky\n  useEffect(() => {\n    if (isOpen && token && user?.username) {\n      loadReferenceData();\n      // Reset success stavu pi oteven dialogu\n      setIsSaved(false);\n      setIsClosing(false); //  Reset closing flag\n    }\n  }, [isOpen, token, user]);\n\n  // Pre-fill data v edit mode - ROVNOU bez ekn na selnky!\n  useEffect(() => {\n    // Pi edit mode rovnou inicializuj formData z userData (CustomSelect si najde hodnoty sm)\n    if (isOpen && mode === 'edit' && userData) {\n      // Debug pouze pokud jsou problmy\n      // console.log(' UserManagementModal - userData:', userData);\n\n      // EXTRAHUJ ID z rznch formt dat - CustomSelect potebuje NUMBER pro strict comparison!\n      const extractedIds = {\n        // sek - me bt usek_id pmo nebo vnoen objekt usek.id\n        usek_id: userData.usek_id || userData.usek?.id || null,\n\n        // Lokalita - me bt lokalita_id pmo, vnoen objekt lokalita.id, nebo najdeme podle nzvu\n        lokalita_id: userData.lokalita_id ||\n          userData.lokalita?.id ||\n          (userData.lokalita_nazev ?\n            lokality.find(l => l.nazev === userData.lokalita_nazev)?.id\n            : null) || null,\n\n        // Pozice - me bt pozice_id pmo, vnoen objekt pozice.id, nebo najdeme podle nzvu\n        pozice_id: userData.pozice_id ||\n          userData.pozice?.id ||\n          (userData.nazev_pozice ?\n            pozice.find(p => p.nazev_pozice === userData.nazev_pozice)?.id\n            : null) || null,\n\n        // Organizace - me bt organizace_id pmo nebo vnoen objekt organizace.id\n        organizace_id: userData.organizace_id ||\n          userData.organizace?.id ||\n          null\n      };\n\n      // Zpracuj role - najdi ID podle nazev_role v natench rolch\n      let rolesIds = [];\n      if (Array.isArray(userData.roles)) {\n        rolesIds = userData.roles.map(r => {\n          let id = null;\n          if (typeof r === 'object' && r !== null) {\n            // Pokud m ID, pouij ho\n            if (r.id || r.role_id) {\n              id = r.id || r.role_id;\n            }\n            // Jinak najdi v selnku podle nazev_role nebo kod_role\n            else if (r.nazev_role || r.kod_role) {\n              const foundRole = role.find(roleItem => \n                roleItem.nazev_role === r.nazev_role || roleItem.kod_role === r.kod_role\n              );\n              id = foundRole?.id;\n            }\n          } else {\n            // Pokud je slo/string, pouij pmo\n            id = r;\n          }\n          //  KONVERZE NA NUMBER pro strict comparison v checkbox\n          return id != null ? Number(id) : null;\n        }).filter(x => x != null);\n      }\n\n      // Zpracuj prva - najdi ID podle kod_prava v natench prvech\n      let rightsIds = [];\n      if (Array.isArray(userData.direct_rights)) {\n        rightsIds = userData.direct_rights.map(p => {\n          let id = null;\n          if (typeof p === 'object' && p !== null) {\n            // Pokud m ID, pouij ho\n            if (p.id || p.pravo_id) {\n              id = p.id || p.pravo_id;\n            }\n            // Jinak najdi v selnku podle kod_prava\n            else if (p.kod_prava) {\n              const foundRight = prava.find(pravaItem => pravaItem.kod_prava === p.kod_prava);\n              id = foundRight?.id;\n            }\n          } else {\n            // Pokud je slo/string, pouij pmo\n            id = p;\n          }\n          //  KONVERZE NA NUMBER pro strict comparison v checkbox\n          return id != null ? Number(id) : null;\n        }).filter(x => x != null);\n      }\n\n      const newFormData = {\n        username: userData.username || '',\n        password: '',\n        jmeno: userData.jmeno || userData.name || '',\n        prijmeni: userData.prijmeni || userData.surname || '',\n        titul_pred: userData.titul_pred || '',\n        titul_za: userData.titul_za || '',\n        email: userData.email || '',\n        telefon: userData.telefon || '',\n        usek_id: extractedIds.usek_id,\n        lokalita_id: extractedIds.lokalita_id,\n        pozice_id: extractedIds.pozice_id,\n        organizace_id: extractedIds.organizace_id,\n        aktivni: userData.aktivni === 'Ano' || userData.aktivni === 1 || userData.aktivni === '1' ? 1 : 0,\n        vynucena_zmena_hesla: userData.vynucena_zmena_hesla === 1 || userData.vynucena_zmena_hesla === '1' ? 1 : 0,\n        roles: rolesIds,\n        direct_rights: rightsIds\n      };\n\n      setFormData(newFormData);\n      setErrors({});\n      setSuccessMessage('');\n      setErrorMessage('');\n    } else if (isOpen && mode === 'create') {\n      setFormData({\n        username: '',\n        password: '',\n        jmeno: '',\n        prijmeni: '',\n        titul_pred: '',\n        titul_za: '',\n        email: '',\n        telefon: '',\n        usek_id: null,\n        lokalita_id: null,\n        pozice_id: null,\n        organizace_id: null,\n        aktivni: 1,\n        vynucena_zmena_hesla: 0,\n        roles: [],\n        direct_rights: []\n      });\n      setErrors({});\n      setSuccessMessage('');\n      setErrorMessage('');\n    }\n  }, [isOpen, mode, userData]);\n\n  const loadReferenceData = async () => {\n    setLoadingData(true);\n    try {\n      const [\n        lokalityData,\n        poziceData,\n        organizaceData,\n        roleData,\n        pravaData,\n        usekyData\n      ] = await Promise.all([\n        fetchLokality({ token, username: user.username }),\n        fetchPozice({ token, username: user.username }),\n        fetchOrganizace({ token, username: user.username }),\n        fetchRole({ token, username: user.username }),\n        fetchPrava({ token, username: user.username }),\n        fetchUseky({ token, username: user.username })\n      ]);\n\n      // console.log(' Naten selnky:', {\n      //   lokality: lokalityData?.length,\n      //   pozice: poziceData?.length,\n      //   organizace: organizaceData?.length,\n      //   useky: usekyData?.length,\n      //   role: roleData?.length,\n      //   prava: pravaData?.length\n      // });\n\n      // DEBUG: Zjistit jestli role obsahuj prva\n      // if (roleData && roleData.length > 0) {\n      //   console.log(' Prvn role (kontrola struktury):', roleData[0]);\n      //   console.log(' M role prva?', roleData[0]?.rights ? 'ANO' : 'NE');\n      // }\n\n      // Vytvoen hierarchick struktury lokalit (okres -> stanovit)\n      const hierarchicalLokality = createHierarchicalLokality(lokalityData || []);\n\n      // Seazen rol abecedn podle nzvu\n      const sortedRole = (roleData || []).sort((a, b) => {\n        const nameA = (a.nazev_role || a.nazev || '').toLowerCase();\n        const nameB = (b.nazev_role || b.nazev || '').toLowerCase();\n        return nameA.localeCompare(nameB, 'cs');\n      });\n\n      // Seazen prv abecedn podle kdu\n      const sortedPrava = (pravaData || []).sort((a, b) => {\n        const codeA = (a.kod_prava || a.nazev || '').toLowerCase();\n        const codeB = (b.kod_prava || b.nazev || '').toLowerCase();\n        return codeA.localeCompare(codeB, 'cs');\n      });\n\n      setLokality(hierarchicalLokality);\n      setPozice(poziceData || []);\n      setOrganizace(organizaceData || []);\n      setRole(sortedRole);\n      setPrava(sortedPrava);\n      setUseky(usekyData || []);\n    } catch (error) {\n      // console.error('Chyba pi natn selnk:', error);\n      setErrorMessage('Chyba pi natn dat. Zkuste to prosm znovu.');\n    } finally {\n      setLoadingData(false);\n    }\n  };\n\n  // CustomSelect helper funkce\n  const toggleSelect = (field) => {\n    setSelectStates(prev => ({ ...prev, [field]: !prev[field] }));\n    if (!selectStates[field]) {\n      setSearchStates(prev => ({ ...prev, [field]: '' }));\n    }\n  };\n\n  const filterOptions = (options, searchTerm, field) => {\n    if (!searchTerm) return options;\n    const term = searchTerm.toLowerCase();\n\n    return options.filter(opt => {\n      if (field === 'usek_id') {\n        return (opt.usek_nazev?.toLowerCase().includes(term) ||\n                opt.usek_zkr?.toLowerCase().includes(term));\n      }\n      if (field === 'lokalita_id') {\n        return opt.nazev?.toLowerCase().includes(term);\n      }\n      if (field === 'pozice_id') {\n        return opt.nazev_pozice?.toLowerCase().includes(term);\n      }\n      if (field === 'organizace_id') {\n        return opt.nazev?.toLowerCase().includes(term);\n      }\n      return true;\n    });\n  };\n\n  const getOptionLabel = (option, field) => {\n    if (!option) return '';\n    if (field === 'usek_id') return `${option.usek_nazev} (${option.usek_zkr})`;\n    if (field === 'lokalita_id') {\n      // Hierarchick zobrazen - pesn jako OrderForm25\n      return option.displayLabel || option.nazev;\n    }\n    if (field === 'pozice_id') return option.nazev_pozice;\n    if (field === 'organizace_id') return option.nazev;\n    return '';\n  };\n\n  //  Funkce pro generovn nhodnho hesla\n  const generatePassword = (length = 12, complexity = 'high') => {\n    const lowercase = 'abcdefghijklmnopqrstuvwxyz';\n    const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    const numbers = '0123456789';\n    const special = '!@#$%^&*()_+-=[]{}|;:,.<>?';\n    \n    let charset = lowercase;\n    let password = '';\n    \n    if (complexity === 'medium' || complexity === 'high') {\n      charset += uppercase + numbers;\n    }\n    if (complexity === 'high') {\n      charset += special;\n    }\n    \n    // Zajistit alespo jeden znak z kad kategorie pi high complexity\n    if (complexity === 'high') {\n      password += lowercase.charAt(Math.floor(Math.random() * lowercase.length));\n      password += uppercase.charAt(Math.floor(Math.random() * uppercase.length));\n      password += numbers.charAt(Math.floor(Math.random() * numbers.length));\n      password += special.charAt(Math.floor(Math.random() * special.length));\n      length -= 4;\n    }\n    \n    // Doplnit zbvajc znaky nhodn\n    for (let i = 0; i < length; i++) {\n      password += charset.charAt(Math.floor(Math.random() * charset.length));\n    }\n    \n    // Zamchat znaky\n    return password.split('').sort(() => Math.random() - 0.5).join('');\n  };\n\n  //  Funkce pro pepnn zobrazen hesla\n  const togglePasswordVisibility = () => {\n    setShowPassword(!showPassword);\n  };\n\n  //  Funkce pro vygenerovn a nastaven novho hesla\n  const handleGeneratePassword = () => {\n    const newPassword = generatePassword(12, 'high');\n    handleChange('password', newPassword);\n  };\n\n  const handleChange = (field, value) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: null }));\n    }\n  };\n\n  // Funkce pro naten prv ze vech vybranch rol\n  const loadRightsFromRoles = async (roleIds) => {\n    if (!roleIds || roleIds.length === 0) {\n      // console.log(' dn role k naten');\n      setRightsFromRoles(new Set());\n      return;\n    }\n\n    // console.log(' Zanm natat prva pro role:', roleIds);\n\n    try {\n      const allRights = new Set();\n\n      // Nast detail kad role\n      for (const roleId of roleIds) {\n        // console.log(` Natm detail role ID: ${roleId}`);\n        const roleDetail = await fetchRoleDetail({\n          token,\n          username: user.username,\n          roleId: roleId\n        });\n\n        if (roleDetail && roleDetail.prava && Array.isArray(roleDetail.prava)) {\n          // console.log(`   Role ${roleId} m ${roleDetail.prava.length} prv:`, roleDetail.prava.map(p => p.kod_prava));\n          roleDetail.prava.forEach(p => {\n            if (p.id) {\n              allRights.add(Number(p.id)); //  Konverze na NUMBER\n            }\n          });\n        } else {\n          // console.log(`   Role ${roleId} nem prva nebo patn struktura`);\n        }\n      }\n\n      // console.log(` Nateno celkem ${allRights.size} uniktnch prv z ${roleIds.length} rol`);\n      setRightsFromRoles(allRights);\n    } catch (error) {\n      setRightsFromRoles(new Set());\n    }\n  };\n\n  // Pi zmn rol penast jejich prva\n  useEffect(() => {\n    if (isOpen && formData.roles && formData.roles.length > 0 && token && user?.username) {\n      // console.log(' Natm prva pro role:', formData.roles);\n      loadRightsFromRoles(formData.roles);\n    } else if (isOpen) {\n      // console.log(' dn role, vynulovn prv');\n      setRightsFromRoles(new Set());\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData.roles, isOpen, token, user?.username]);\n\n  // Pi zaven dialogu vyistit prva z rol\n  useEffect(() => {\n    if (!isOpen) {\n      setRightsFromRoles(new Set());\n    }\n  }, [isOpen]);\n\n  const handleCheckboxChange = (field, id) => {\n    // Standardn toggle pro vechna pole\n    setFormData(prev => {\n      const current = prev[field] || [];\n      const isChecked = current.includes(id);\n\n      return {\n        ...prev,\n        [field]: isChecked\n          ? current.filter(x => x !== id)\n          : [...current, id]\n      };\n    });\n  };\n\n  const validate = () => {\n    const newErrors = {};\n\n    if (!formData.username || formData.username.length < 3) {\n      newErrors.username = 'Username mus mt alespo 3 znaky';\n    }\n\n    if (formData.username && !/^[a-zA-Z0-9._-]+$/.test(formData.username)) {\n      newErrors.username = 'Username me obsahovat pouze psmena, slice, teky, pomlky a podtrtka';\n    }\n\n    // Validace hesla pro CREATE reim\n    if (mode === 'create') {\n      if (!formData.password) {\n        newErrors.password = 'Heslo je povinn';\n      } else if (formData.password.length < 8) {\n        newErrors.password = 'Heslo mus mt alespo 8 znak';\n      } else if (!validatePasswordStrength(formData.password)) {\n        newErrors.password = 'Heslo mus obsahovat alespo 8 znak, mal a velk psmeno, slo a speciln znak';\n      }\n    }\n\n    // Validace hesla pro EDIT reim (pouze pokud je zadno)\n    if (mode === 'edit' && formData.password) {\n      if (formData.password.length < 8) {\n        newErrors.password = 'Heslo mus mt alespo 8 znak';\n      } else if (!validatePasswordStrength(formData.password)) {\n        newErrors.password = 'Heslo mus obsahovat alespo 8 znak, mal a velk psmeno, slo a speciln znak';\n      }\n    }\n\n    if (!formData.jmeno || !formData.jmeno.trim()) {\n      newErrors.jmeno = 'Jmno je povinn';\n    }\n\n    if (!formData.prijmeni || !formData.prijmeni.trim()) {\n      newErrors.prijmeni = 'Pjmen je povinn';\n    }\n\n    if (!formData.email || !formData.email.trim()) {\n      newErrors.email = 'Email je povinn';\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      newErrors.email = 'Neplatn formt emailu';\n    }\n\n    if (!formData.telefon || !formData.telefon.trim()) {\n      newErrors.telefon = 'Telefon je povinn';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  //  Prevence Enter key submit - zabrn nechtnmu submitovn formule\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n    }\n  };\n\n  const handleSubmit = async () => {\n    //  Prevence duplicitnho submitu\n    if (loading || isClosing) {\n      return;\n    }\n\n    // Resetovat zprvy\n    setSuccessMessage('');\n    setErrorMessage('');\n\n    // Validace\n    if (!validate()) {\n      setErrorMessage('Opravte prosm chyby ve formuli');\n      setActiveTab('detail');\n      return;\n    }\n\n    // Nastavit loading stav - tlatko zobraz \"Ukldm...\"\n    setLoading(true);\n\n    try {\n      // Pipravit payload - data upravovanho/vytvenho uivatele\n      const userData_payload = {\n        jmeno: formData.jmeno,\n        prijmeni: formData.prijmeni,\n        titul_pred: formData.titul_pred?.trim() || '',  // Przdn string zstane przdn string\n        titul_za: formData.titul_za?.trim() || '',      // Przdn string zstane przdn string\n        email: formData.email || null,\n        telefon: formData.telefon || null,\n        usek_id: formData.usek_id || null,\n        lokalita_id: formData.lokalita_id || null,\n        pozice_id: formData.pozice_id || null,\n        organizace_id: formData.organizace_id || null,\n        aktivni: formData.aktivni,\n        vynucena_zmena_hesla: formData.vynucena_zmena_hesla,\n        roles: formData.roles,\n        direct_rights: formData.direct_rights\n      };\n\n      let result;\n\n      if (mode === 'create') {\n        // Pro CREATE: username je pmo v payloadu (nov uivatel)\n        const createPayload = {\n          token,\n          username: user.username, // Requestor (kdo vytv)\n          new_username: formData.username, // Nov username vytvenho uivatele\n          password: formData.password,\n          ...userData_payload\n        };\n\n        result = await createUser(createPayload);\n        const newUserName = `${formData.prijmeni || ''} ${formData.jmeno || ''}`.trim() || formData.username;\n        setSuccessMessage(`Uivatel ${newUserName} byl spn vytvoen`);\n        if (addToast) addToast(` Nov uivatel ${newUserName} (${formData.username}) byl spn vytvoen a uloen do databze`, { type: 'success' });\n      } else {\n        // Pro UPDATE: username je requestor, new_username je upravovan\n        const updatePayload = {\n          id: parseInt(userData.id), // ID upravovanho uivatele (MUS bt number!)\n          token,\n          username: user.username, // Requestor (kdo provd pravu)\n          ...userData_payload,\n          password: formData.password || null // Heslo pouze pokud se mn\n        };\n\n        //  Pidat new_username POUZE pokud:\n        // 1. Se username zmnil (formData.username !== userData.username)\n        // 2. A uivatel m oprvnn (canEditUsername)\n        const originalUsername = userData.username;\n        const hasUsernameChanged = formData.username !== originalUsername;\n\n        if (hasUsernameChanged && canEditUsername) {\n          updatePayload.new_username = formData.username;\n        } else if (hasUsernameChanged && !canEditUsername) {\n          // Varovn: username se zmnil, ale uivatel nem oprvnn\n          if (addToast) addToast('Nemte oprvnn ke zmn username', { type: 'warning' });\n          // Neposlat new_username, pout pvodn\n        }\n\n        result = await updateUser(updatePayload);\n        const updatedUserName = `${formData.prijmeni || ''} ${formData.jmeno || ''}`.trim() || formData.username;\n\n        // Zpracovn response - pokud backend vrtil informaci o zmn username\n        let successMsg = `Uivatel ${updatedUserName} byl spn aktualizovn`;\n        if (result.data?.username_changed && result.data?.old_username && result.data?.new_username) {\n          successMsg += ` (username zmnn: ${result.data.old_username}  ${result.data.new_username})`;\n        }\n\n        setSuccessMessage(successMsg);\n        if (addToast) {\n          if (result.data?.username_changed) {\n            addToast(` ${successMsg}`, { type: 'success' });\n          } else {\n            addToast(` Zmny uivatele ${updatedUserName} (${formData.username}) byly spn uloeny do databze`, { type: 'success' });\n          }\n        }\n      }\n\n      // Trigger activity update after successful save\n      triggerActivity();\n\n      //  SPCH - Nastavit success stav na tlatku\n      setIsSaved(true);\n\n      //  Nastavit flag zavrn - zabrn duplicitnmu close\n      if (isClosing) {\n        return;\n      }\n      setIsClosing(true);\n\n      //  DLEIT: onSuccess se vol A PO zaven dialogu\n      // Jinak parent spust refresh bhem zavrn  dialog blikne\n      const successData = result.data; // Uchovat data\n\n      //  Rychl animace - uivatel vid zelenou success animaci na tlatku\n      // Pokat 1.5 sekundy pro zobrazen success animace, pak zavt\n      setTimeout(() => {\n        onClose();\n\n        //  Okamit po zaven spustit reload dat na pozad v parentu\n        // Callback onSuccess - a AFTER close, aby se zabrnilo re-renderu bhem zavrn\n        if (onSuccess) {\n          // setTimeout zajist, e se zavol a po plnm zaven\n          setTimeout(() => {\n            onSuccess(successData);\n          }, 100); // Krtk pauza pro jistotu, e modal je unmounted\n        }\n      }, 1500); //  1.5 sekundy - rychl success animace, pak okamit reload na pozad\n\n    } catch (error) {\n      //  CHYBA - Dialog NEZAVRAT, zobrazit chybu\n\n      // Sestavit detailn chybovou zprvu\n      let errorDetails = error.message || 'Chyba pi ukldn uivatele';\n\n      // Pidat raw response pokud existuje\n      if (error.response) {\n        errorDetails += `\\n\\n Backend Response:\\n${JSON.stringify(error.response, null, 2)}`;\n      } else if (error.data) {\n        errorDetails += `\\n\\n Error Data:\\n${JSON.stringify(error.data, null, 2)}`;\n      }\n\n      // Pidat status code\n      if (error.status) {\n        errorDetails += `\\n\\n HTTP Status: ${error.status}`;\n      }\n\n      setErrorMessage(errorDetails);\n      if (addToast) addToast(` ${error.message || 'Chyba pi ukldn uivatele do databze'}`, { type: 'error' });\n\n      // Dialog ZSTV OTEVEN - uivatel me opravit chyby\n\n    } finally {\n      // Vypnout loading stav (tlatko zpt na \"Uloit zmny\")\n      // ALE POUZE pokud se dialog NEzavr (pi chyb)\n      if (!isClosing) {\n        setLoading(false);\n      }\n    }\n  };\n\n  //  KRITICK: Dialog zstv viditeln i kdy isClosing=true!\n  // Zabrn pouze OPTOVNMU oteven po zaven\n  // Uivatel MUS vidt success animaci po dobu 2 sekund\n  if (!isOpen) return null;\n\n  return ReactDOM.createPortal(\n    <ModalOverlay>\n      <ModalContainer\n        onClick={(e) => e.stopPropagation()}\n        onKeyDown={handleKeyDown}\n      >\n        <ModalHeader>\n          <ModalHeaderContent>\n            <HeaderLeft>\n              <ModalTitle>\n                {mode === 'create' ? 'Pidat novho uivatele' : 'Upravit uivatele'}\n              </ModalTitle>\n              <ModalSubtitle>\n                {mode === 'create'\n                  ? 'Vyplte zkladn daje uivatele'\n                  : `Aktualizujte informace o uivateli ${[userData?.titul_pred, userData?.jmeno, userData?.prijmeni, userData?.titul_za].filter(Boolean).join(' ')}`\n                }\n              </ModalSubtitle>\n            </HeaderLeft>\n            <CloseButton onClick={onClose} disabled={loading}>\n              <X size={20} />\n            </CloseButton>\n          </ModalHeaderContent>\n        </ModalHeader>\n\n        <TabsContainer>\n          <Tab $active={activeTab === 'detail'} onClick={() => setActiveTab('detail')}>\n            <User size={16} />\n            Detail uivatele\n          </Tab>\n          <Tab $active={activeTab === 'roles'} onClick={() => setActiveTab('roles')}>\n            <Shield size={16} />\n            Role ({formData.roles.length})\n          </Tab>\n          <Tab $active={activeTab === 'rights'} onClick={() => setActiveTab('rights')}>\n            <Shield size={16} />\n            Pm prva ({formData.direct_rights.length}/{rightsFromRoles.size})\n          </Tab>\n          <Tab $active={activeTab === 'organization'} onClick={() => setActiveTab('organization')}>\n            <Building size={16} />\n            Organizace\n          </Tab>\n        </TabsContainer>\n\n        <ModalBody>\n          {successMessage && (\n            <SuccessMessage>\n              <Check size={20} />\n              {successMessage}\n            </SuccessMessage>\n          )}\n\n          {errorMessage && (\n            <ErrorMessage>\n              <div style={{ flexShrink: 0 }}>\n                <AlertCircle size={20} />\n              </div>\n              <div style={{ flex: 1 }}>{errorMessage}</div>\n            </ErrorMessage>\n          )}\n\n          {loadingData ? (\n            <EmptyState>\n              <LoadingSpinner />\n              <div style={{ marginTop: '1rem' }}>Natn dat...</div>\n            </EmptyState>\n          ) : (\n            <>\n              {/* TAB: Detail uivatele */}\n              {activeTab === 'detail' && (\n                <FormSection>\n                  <SectionTitle>Pihlaovac daje</SectionTitle>\n                  <FormGrid3Col>\n                    <FormGroup>\n                      <Label required>\n                        Username\n                        {mode === 'edit' && !canEditUsername && (\n                          <span style={{ fontSize: '0.7rem', color: '#9ca3af', fontWeight: 400 }}>\n                            {' '}(zmna pouze pro SUPERADMIN/ADMINISTRATOR)\n                          </span>\n                        )}\n                      </Label>\n                      <InputWithIcon>\n                        <User size={16} />\n                        <Input\n                          hasIcon\n                          value={formData.username}\n                          onChange={(e) => handleChange('username', e.target.value)}\n                          disabled={mode === 'edit' && !canEditUsername}\n                          placeholder=\"novak.jan\"\n                          hasError={!!errors.username}\n                        />\n                      </InputWithIcon>\n                      {errors.username && <ErrorText><AlertCircle size={12} />{errors.username}</ErrorText>}\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label required={mode === 'create'}>\n                        Heslo\n                        {mode === 'edit' && <span style={{ fontSize: '0.75rem', color: '#9ca3af', fontWeight: 400 }}> (ponechat przdn)</span>}\n                      </Label>\n                      <PasswordInputWrapper>\n                        <Key size={16} />\n                        <PasswordInput\n                          type={showPassword ? 'text' : 'password'}\n                          value={formData.password}\n                          onChange={(e) => handleChange('password', e.target.value)}\n                          placeholder={mode === 'edit' ? 'Nov heslo (voliteln)' : 'Heslo'}\n                          autoComplete=\"new-password\"\n                          hasError={!!errors.password}\n                        />\n                        <PasswordActionIcons>\n                          <PasswordIcon \n                            onClick={handleGeneratePassword}\n                            title=\"Vygenerovat nhodn heslo\"\n                          >\n                            <Shuffle />\n                          </PasswordIcon>\n                          <PasswordIcon \n                            onClick={togglePasswordVisibility}\n                            title={showPassword ? 'Skrt heslo' : 'Zobrazit heslo'}\n                          >\n                            {showPassword ? <EyeOff /> : <Eye />}\n                          </PasswordIcon>\n                        </PasswordActionIcons>\n                      </PasswordInputWrapper>\n                      {errors.password && <ErrorText><AlertCircle size={12} />{errors.password}</ErrorText>}\n                      {formData.password && (\n                        <PasswordStrengthValidator\n                          password={formData.password}\n                          showRequirements={true}\n                        />\n                      )}\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label>Vynutit zmnu</Label>\n                      <ToggleContainer>\n                        <ToggleSwitch>\n                          <input\n                            type=\"checkbox\"\n                            checked={formData.vynucena_zmena_hesla === 1}\n                            onChange={(e) => handleChange('vynucena_zmena_hesla', e.target.checked ? 1 : 0)}\n                          />\n                          <span></span>\n                        </ToggleSwitch>\n                        <ToggleLabel $active={formData.vynucena_zmena_hesla === 1}>\n                          {formData.vynucena_zmena_hesla === 1 ? 'Vynutit' : 'Normln'}\n                        </ToggleLabel>\n                      </ToggleContainer>\n                    </FormGroup>\n                  </FormGrid3Col>\n\n                  <SectionTitle>Osobn daje</SectionTitle>\n                  <FormGrid4Col>\n                    <FormGroup>\n                      <Label>Titul ped</Label>\n                      <InputWithIcon>\n                        <Award size={16} />\n                        <Input\n                          hasIcon\n                          value={formData.titul_pred}\n                          onChange={(e) => handleChange('titul_pred', e.target.value)}\n                          placeholder=\"Ing.\"\n                        />\n                      </InputWithIcon>\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label required>Pjmen</Label>\n                      <InputWithIcon>\n                        <User size={16} />\n                        <Input\n                          hasIcon\n                          value={formData.prijmeni}\n                          onChange={(e) => handleChange('prijmeni', e.target.value)}\n                          placeholder=\"Novk\"\n                          hasError={!!errors.prijmeni}\n                        />\n                      </InputWithIcon>\n                      {errors.prijmeni && <ErrorText><AlertCircle size={12} />{errors.prijmeni}</ErrorText>}\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label required>Jmno</Label>\n                      <InputWithIcon>\n                        <User size={16} />\n                        <Input\n                          hasIcon\n                          value={formData.jmeno}\n                          onChange={(e) => handleChange('jmeno', e.target.value)}\n                          placeholder=\"Jan\"\n                          hasError={!!errors.jmeno}\n                        />\n                      </InputWithIcon>\n                      {errors.jmeno && <ErrorText><AlertCircle size={12} />{errors.jmeno}</ErrorText>}\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label>Titul za</Label>\n                      <InputWithIcon>\n                        <Award size={16} />\n                        <Input\n                          hasIcon\n                          value={formData.titul_za}\n                          onChange={(e) => handleChange('titul_za', e.target.value)}\n                          placeholder=\"Ph.D.\"\n                        />\n                      </InputWithIcon>\n                    </FormGroup>\n                  </FormGrid4Col>\n\n                  <FormGrid4Col style={{ marginTop: '1rem' }}>\n                    <FormGroup $fullWidth>\n                      <Label required>Email</Label>\n                      <InputWithIcon>\n                        <Mail size={16} />\n                        <Input\n                          hasIcon\n                          type=\"email\"\n                          value={formData.email}\n                          onChange={(e) => handleChange('email', e.target.value)}\n                          placeholder=\"jan.novak@example.com\"\n                          hasError={!!errors.email}\n                        />\n                      </InputWithIcon>\n                      {errors.email && <ErrorText><AlertCircle size={12} />{errors.email}</ErrorText>}\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label required>Telefon</Label>\n                      <InputWithIcon>\n                        <Phone size={16} />\n                        <Input\n                          hasIcon\n                          value={formData.telefon}\n                          onChange={(e) => handleChange('telefon', e.target.value)}\n                          placeholder=\"+420 123 456 789\"\n                          hasError={!!errors.telefon}\n                        />\n                      </InputWithIcon>\n                      {errors.telefon && <ErrorText><AlertCircle size={12} />{errors.telefon}</ErrorText>}\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label>Aktivn</Label>\n                      <ToggleContainer>\n                        <ToggleSwitch>\n                          <input\n                            type=\"checkbox\"\n                            checked={formData.aktivni === 1}\n                            onChange={(e) => handleChange('aktivni', e.target.checked ? 1 : 0)}\n                          />\n                          <span></span>\n                        </ToggleSwitch>\n                        <ToggleLabel $active={formData.aktivni === 1}>\n                          {formData.aktivni === 1 ? 'Aktivn' : 'Neaktivn'}\n                        </ToggleLabel>\n                      </ToggleContainer>\n                    </FormGroup>\n                  </FormGrid4Col>\n                </FormSection>\n              )}\n\n              {/* TAB: Role */}\n              {activeTab === 'roles' && (\n                <FormSection>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n                    <SectionTitle style={{ marginBottom: 0 }}>\n                      Piazen role\n                      <span style={{ fontSize: '0.875rem', fontWeight: 400, color: '#9ca3af', marginLeft: '0.5rem' }}>\n                        ({formData.roles.length} vybrno{filteredRoles.length !== role.length ? `, zobrazeno ${filteredRoles.length}` : ''})\n                      </span>\n                    </SectionTitle>\n                    <SearchInputWrapper hasValue={!!roleFilter}>\n                      <Search size={16} className=\"search-icon\" />\n                      <Input\n                        type=\"text\"\n                        placeholder=\"Vyhledat roli...\"\n                        value={roleFilter}\n                        onChange={(e) => setRoleFilter(e.target.value)}\n                        style={{ width: '290px' }}\n                      />\n                      {roleFilter && (\n                        <X\n                          size={16}\n                          className=\"clear-icon\"\n                          onClick={() => setRoleFilter('')}\n                        />\n                      )}\n                    </SearchInputWrapper>\n                  </div>\n                  {role.length === 0 ? (\n                    <EmptyState>dn role k dispozici</EmptyState>\n                  ) : filteredRoles.length === 0 ? (\n                    <EmptyState>dn role nenalezeny</EmptyState>\n                  ) : (\n                    <CheckboxGrid>\n                      {filteredRoles.map(r => {\n                        const roleId = Number(r.id); //  Konverze na NUMBER\n                        const isChecked = formData.roles.includes(roleId);\n                        return (\n                        <CheckboxLabel\n                          key={r.id}\n                          $checked={isChecked}\n                        >\n                          <Checkbox\n                            type=\"checkbox\"\n                            checked={isChecked}\n                            onChange={() => handleCheckboxChange('roles', roleId)}\n                          />\n                          <CheckboxContent>\n                            <CheckboxTitle>{r.nazev_role || r.nazev}</CheckboxTitle>\n                            {r.popis && <CheckboxDescription>{r.popis}</CheckboxDescription>}\n                          </CheckboxContent>\n                        </CheckboxLabel>\n                        );\n                      })}\n                    </CheckboxGrid>\n                  )}\n                </FormSection>\n              )}\n\n              {/* TAB: Pm prva */}\n              {activeTab === 'rights' && (\n                <FormSection>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n                    <SectionTitle style={{ marginBottom: 0 }}>\n                      Pm prva uivatele\n                      <span style={{ fontSize: '0.875rem', fontWeight: 400, color: '#9ca3af', marginLeft: '0.5rem' }}>\n                        ({formData.direct_rights.length}/{rightsFromRoles.size}/{filteredPrava.length})\n                      </span>\n                    </SectionTitle>\n                    <div style={{ display: 'flex', gap: '0.75rem', alignItems: 'center' }}>\n                      {/* Checkbox pro filtr nepiazench prv */}\n                      <FilterCheckboxLabel\n                        $checked={showOnlyUnassigned}\n                        title=\"Zobrazit pouze prva, kter uivatel NEM (nejsou zakrtnut)\"\n                      >\n                        <input\n                          type=\"checkbox\"\n                          checked={showOnlyUnassigned}\n                          onChange={(e) => setShowOnlyUnassigned(e.target.checked)}\n                        />\n                        <span>Jen nepiazen</span>\n                      </FilterCheckboxLabel>\n\n                      {/* Vyhledvac pole */}\n                      <SearchInputWrapper hasValue={!!pravaFilter}>\n                        <Search size={16} className=\"search-icon\" />\n                        <Input\n                          type=\"text\"\n                          placeholder=\"Vyhledat prvo...\"\n                          value={pravaFilter}\n                          onChange={(e) => setPravaFilter(e.target.value)}\n                          style={{ width: '290px' }}\n                        />\n                        {pravaFilter && (\n                          <X\n                            size={16}\n                            className=\"clear-icon\"\n                            onClick={() => setPravaFilter('')}\n                          />\n                        )}\n                      </SearchInputWrapper>\n                    </div>\n                  </div>\n                  {prava.length === 0 ? (\n                    <EmptyState>dn prva k dispozici</EmptyState>\n                  ) : filteredPrava.length === 0 ? (\n                    <EmptyState>dn prva nenalezena</EmptyState>\n                  ) : (\n                    <CheckboxGrid>\n                      {filteredPrava.map(p => {\n                        const pravoId = Number(p.id); //  Konverze na NUMBER\n                        const isFromRole = rightsFromRoles.has(pravoId);\n                        const isDirectlySelected = formData.direct_rights.includes(pravoId);\n                        const isChecked = isFromRole || isDirectlySelected;\n\n                        return (\n                          <CheckboxLabel\n                            key={p.id}\n                            $checked={isChecked}\n                            style={{\n                              opacity: isFromRole && !isDirectlySelected ? 0.7 : 1,\n                              background: isFromRole && !isDirectlySelected ? '#f0f9ff' : undefined\n                            }}\n                          >\n                            <Checkbox\n                              type=\"checkbox\"\n                              checked={isChecked}\n                              disabled={isFromRole && !isDirectlySelected}\n                              onChange={() => handleCheckboxChange('direct_rights', pravoId)}\n                              style={{ cursor: isFromRole && !isDirectlySelected ? 'not-allowed' : 'pointer' }}\n                            />\n                            <CheckboxContent>\n                              <CheckboxTitle style={{ fontFamily: 'monospace' }}>\n                                {p.kod_prava || p.nazev}\n                                {isFromRole && !isDirectlySelected && (\n                                  <span style={{\n                                    marginLeft: '0.5rem',\n                                    fontSize: '0.75rem',\n                                    color: '#0284c7',\n                                    fontWeight: 600\n                                  }}>\n                                    (z role)\n                                  </span>\n                                )}\n                              </CheckboxTitle>\n                              {p.popis && <CheckboxDescription>{p.popis}</CheckboxDescription>}\n                            </CheckboxContent>\n                          </CheckboxLabel>\n                        );\n                      })}\n                    </CheckboxGrid>\n                  )}\n                </FormSection>\n              )}\n\n              {/* TAB: Organizace */}\n              {activeTab === 'organization' && (\n                <FormSection>\n                  <SectionTitle>Organizan zaazen</SectionTitle>\n                  <FormGrid>\n                    <FormGroup>\n                      <Label>sek</Label>\n                      <CustomSelect\n                        icon={<Building size={16} />}\n                        value={formData.usek_id || ''}\n                        onChange={(e) => handleChange('usek_id', e.target.value || '')}\n                        options={useky}\n                        placeholder=\"-- Vyberte sek --\"\n                        field=\"usek_id\"\n                        selectStates={selectStates}\n                        setSelectStates={setSelectStates}\n                        searchStates={searchStates}\n                        setSearchStates={setSearchStates}\n                        touchedSelectFields={touchedSelectFields}\n                        setTouchedSelectFields={setTouchedSelectFields}\n                        toggleSelect={toggleSelect}\n                        filterOptions={filterOptions}\n                        getOptionLabel={getOptionLabel}\n                      />\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label>Lokalita</Label>\n                      <CustomSelect\n                        icon={<MapPin size={16} />}\n                        value={formData.lokalita_id || ''}\n                        onChange={(e) => handleChange('lokalita_id', e.target.value || '')}\n                        options={lokality}\n                        placeholder=\"-- Vyberte lokalitu --\"\n                        field=\"lokalita_id\"\n                        selectStates={selectStates}\n                        setSelectStates={setSelectStates}\n                        searchStates={searchStates}\n                        setSearchStates={setSearchStates}\n                        touchedSelectFields={touchedSelectFields}\n                        setTouchedSelectFields={setTouchedSelectFields}\n                        toggleSelect={toggleSelect}\n                        filterOptions={filterOptions}\n                        getOptionLabel={getOptionLabel}\n                      />\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label>Pozice</Label>\n                      <CustomSelect\n                        icon={<Briefcase size={16} />}\n                        value={formData.pozice_id || ''}\n                        onChange={(e) => handleChange('pozice_id', e.target.value || '')}\n                        options={pozice}\n                        placeholder=\"-- Vyberte pozici --\"\n                        field=\"pozice_id\"\n                        selectStates={selectStates}\n                        setSelectStates={setSelectStates}\n                        searchStates={searchStates}\n                        setSearchStates={setSearchStates}\n                        touchedSelectFields={touchedSelectFields}\n                        setTouchedSelectFields={setTouchedSelectFields}\n                        toggleSelect={toggleSelect}\n                        filterOptions={filterOptions}\n                        getOptionLabel={getOptionLabel}\n                      />\n                    </FormGroup>\n\n                    <FormGroup style={{ gridColumn: '1 / -1' }}>\n                      <Label>Organizace</Label>\n                      <CustomSelect\n                        icon={<Building size={16} />}\n                        value={formData.organizace_id || ''}\n                        onChange={(e) => handleChange('organizace_id', e.target.value || '')}\n                        options={organizace}\n                        placeholder=\"-- Vyberte organizaci --\"\n                        field=\"organizace_id\"\n                        selectStates={selectStates}\n                        setSelectStates={setSelectStates}\n                        searchStates={searchStates}\n                        setSearchStates={setSearchStates}\n                        touchedSelectFields={touchedSelectFields}\n                        setTouchedSelectFields={setTouchedSelectFields}\n                        toggleSelect={toggleSelect}\n                        filterOptions={filterOptions}\n                        getOptionLabel={getOptionLabel}\n                      />\n                    </FormGroup>\n                  </FormGrid>\n                </FormSection>\n              )}\n            </>\n          )}\n        </ModalBody>\n\n        <ModalFooter>\n          <FooterLeft>\n            {/* Placeholder pro levou stranu footer */}\n          </FooterLeft>\n          <FooterRight>\n            <Button\n              type=\"button\"\n              className=\"cancel\"\n              onClick={onClose}\n              disabled={loading}\n            >\n              <X size={16} />\n              Zruit\n            </Button>\n            <Button\n              type=\"button\"\n              className={isSaved ? 'success' : 'primary'}\n              onClick={handleSubmit}\n              disabled={loading || loadingData || isSaved}\n            >\n              {loading ? (\n                <>\n                  <LoadingSpinner />\n                  Ukldm...\n                </>\n              ) : isSaved ? (\n                <>\n                  <Check size={16} />\n                  Uloeno\n                </>\n              ) : (\n                <>\n                  <Save size={16} />\n                  {mode === 'create' ? 'Vytvoit uivatele' : 'Uloit zmny'}\n                </>\n              )}\n            </Button>\n          </FooterRight>\n        </ModalFooter>\n      </ModalContainer>\n    </ModalOverlay>,\n    document.body\n  );\n};\n\nexport default UserManagementModal;\n","import React, { useEffect, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from '@emotion/styled';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faEdit,\n  faTrash,\n  faUserCheck,\n  faUserSlash,\n  faUserMinus,\n  faBan,\n  faCut,\n  faCopy,\n  faPaste,\n  faTimes\n} from '@fortawesome/free-solid-svg-icons';\n\nconst MenuContainer = styled.div`\n  position: fixed;\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15), 0 4px 12px rgba(0, 0, 0, 0.1);\n  padding: 0.5rem 0;\n  min-width: 220px;\n  z-index: 999999;\n  font-size: 0.875rem;\n  animation: fadeIn 0.15s ease-out;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n      transform: scale(0.95) translateY(-8px);\n    }\n    to {\n      opacity: 1;\n      transform: scale(1) translateY(0);\n    }\n  }\n`;\n\nconst MenuItem = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  width: 100%;\n  padding: 0.65rem 1rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  font-size: 0.875rem;\n  color: ${props => props.danger ? '#dc2626' : props.success ? '#16a34a' : '#0f172a'};\n  transition: all 0.15s;\n  text-align: left;\n\n  &:hover {\n    background: ${props => props.danger ? '#fee2e2' : props.success ? '#dcfce7' : '#f1f5f9'};\n    color: ${props => props.danger ? '#991b1b' : props.success ? '#15803d' : '#0369a1'};\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    color: #94a3b8;\n\n    &:hover {\n      background: transparent;\n      color: #94a3b8;\n    }\n  }\n\n  svg {\n    width: 16px;\n    height: 16px;\n    color: ${props => props.danger ? '#dc2626' : props.success ? '#16a34a' : '#64748b'};\n  }\n\n  &:hover svg {\n    color: ${props => props.danger ? '#991b1b' : props.success ? '#15803d' : '#0369a1'};\n  }\n\n  &:disabled svg {\n    color: #94a3b8;\n  }\n`;\n\nconst MenuDivider = styled.div`\n  height: 1px;\n  background: #e2e8f0;\n  margin: 0.5rem 0;\n`;\n\nconst MenuLabel = styled.span`\n  flex: 1;\n  font-weight: 500;\n`;\n\n/**\n * Kontextov menu pro dky tabulky uivatel\n * @param {Object} props\n * @param {number} props.x - X pozice menu\n * @param {number} props.y - Y pozice menu\n * @param {Object} props.user - Vybran uivatel\n * @param {Function} props.onClose - Callback pro zaven menu\n * @param {Function} props.onEdit - Editovat uivatele\n * @param {Function} props.onDelete - Smazat uivatele\n * @param {Function} props.onToggleActive - Povolit/Zakzat uivatele\n * @param {boolean} props.canEdit - M uivatel prvo editovat?\n * @param {boolean} props.canDelete - M uivatel prvo smazat?\n * @param {Object} props.selectedData - Vybran data (buka nebo dek)\n */\nexport const UserContextMenu = ({\n  x,\n  y,\n  user,\n  onClose,\n  onEdit,\n  onDelete,\n  onToggleActive,\n  canEdit = true,\n  canDelete = false,\n  selectedData = null\n}) => {\n  const menuRef = useRef(null);\n  const [hasClipboardData, setHasClipboardData] = useState(false);\n  const [clipboardData, setClipboardData] = useState(null);\n\n  // Kontrola obsahu schrnky pi oteven menu\n  useEffect(() => {\n    const checkClipboard = async () => {\n      try {\n        if (navigator.clipboard && navigator.clipboard.readText) {\n          const text = await navigator.clipboard.readText();\n          setHasClipboardData(text && text.trim().length > 0);\n\n          try {\n            const data = JSON.parse(text);\n            if (data && typeof data === 'object') {\n              setClipboardData(data);\n            }\n          } catch {\n            setClipboardData(text);\n          }\n        }\n      } catch (error) {\n        const localData = localStorage.getItem('clipboard_data');\n        setHasClipboardData(!!localData);\n        if (localData) {\n          try {\n            setClipboardData(JSON.parse(localData));\n          } catch {\n            setClipboardData(localData);\n          }\n        }\n      }\n    };\n\n    checkClipboard();\n  }, []);\n\n  // Funkce pro koprovn do schrnky\n  const handleCopy = async () => {\n    let dataToCopy;\n    let description = '';\n\n    if (selectedData && selectedData.value) {\n      dataToCopy = selectedData.value;\n      description = `buka: \"${dataToCopy.substring(0, 50)}${dataToCopy.length > 50 ? '...' : ''}\"`;\n    } else {\n      dataToCopy = JSON.stringify(user, null, 2);\n      description = `uivatel ${user.username || user.id}`;\n    }\n\n    try {\n      const textToCopy = typeof dataToCopy === 'string' ? dataToCopy : JSON.stringify(dataToCopy);\n\n      if (navigator.clipboard && navigator.clipboard.writeText) {\n        await navigator.clipboard.writeText(textToCopy);\n      } else {\n        const textArea = document.createElement('textarea');\n        textArea.value = textToCopy;\n        document.body.appendChild(textArea);\n        textArea.select();\n        document.execCommand('copy');\n        document.body.removeChild(textArea);\n      }\n\n      const clipboardInfo = {\n        data: dataToCopy,\n        description: description,\n        type: selectedData ? 'cell' : 'row',\n        timestamp: Date.now()\n      };\n      localStorage.setItem('clipboard_data', JSON.stringify(clipboardInfo));\n      setHasClipboardData(true);\n      setClipboardData(dataToCopy);\n\n\n    } catch (error) {\n    }\n  };\n\n  // Funkce pro vysthnut\n  const handleCut = async () => {\n    await handleCopy();\n    const cutData = {\n      action: 'cut',\n      data: selectedData || user,\n      type: selectedData ? 'cell' : 'row',\n      userId: user.id || user.username,\n      timestamp: Date.now()\n    };\n\n    localStorage.setItem('clipboard_action', JSON.stringify(cutData));\n  };\n\n  // Funkce pro vloen ze schrnky\n  const handlePaste = async () => {\n    try {\n      let clipboardInfo = null;\n\n      // Zkus nast ze schrnky\n      try {\n        if (navigator.clipboard && navigator.clipboard.readText) {\n          const text = await navigator.clipboard.readText();\n          if (text) {\n            clipboardInfo = { data: text, type: 'external' };\n          }\n        }\n      } catch (error) {\n      }\n\n      // Pokud jsme nenaetli ze schrnky, zkus localStorage\n      if (!clipboardInfo) {\n        const localData = localStorage.getItem('clipboard_data');\n        if (localData) {\n          try {\n            clipboardInfo = JSON.parse(localData);\n          } catch {\n            clipboardInfo = { data: localData, type: 'text' };\n          }\n        }\n      }\n\n      if (clipboardInfo && clipboardInfo.data) {\n\n        alert(`Vloeno: ${clipboardInfo.description || 'data ze schrnky'}`);\n      }\n    } catch (error) {\n    }\n  };\n\n  // Detekce stavu uivatele (aktivn/neaktivn)\n  // Kontrolujeme rzn varianty pole: active (boolean z Users.js), is_active, aktivni\n  const isActive =\n    user?.active === true ||\n    user?.active === 1 ||\n    user?.is_active === 1 ||\n    user?.is_active === true ||\n    user?.aktivni === 1 ||\n    user?.aktivni === true;\n\n  // Zavt menu pi kliku mimo nj\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        onClose();\n      }\n    };\n\n    const handleKeyDown = (e) => {\n      if (e.key === 'Escape') {\n        onClose();\n      } else if (e.ctrlKey || e.metaKey) {\n        switch (e.key) {\n          case 'c':\n          case 'C':\n            e.preventDefault();\n            handleCopy();\n            onClose();\n            break;\n          case 'x':\n          case 'X':\n            e.preventDefault();\n            handleCut();\n            onClose();\n            break;\n          case 'v':\n          case 'V':\n            if (hasClipboardData) {\n              e.preventDefault();\n              handlePaste();\n              onClose();\n            }\n            break;\n        }\n      }\n    };\n\n    // Mal zpodn, aby se menu nestihlo zavt hned po oteven\n    setTimeout(() => {\n      document.addEventListener('mousedown', handleClickOutside);\n      document.addEventListener('keydown', handleKeyDown);\n    }, 50);\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  // Zajisti, aby se menu zobrazilo v rmci viewportu\n  const adjustedPosition = () => {\n    if (!menuRef.current) return { left: x, top: y };\n\n    const menuRect = menuRef.current.getBoundingClientRect();\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n\n    let left = x;\n    let top = y;\n\n    // Kontrola, zda menu pesahuje prav okraj\n    if (x + menuRect.width > viewportWidth) {\n      left = viewportWidth - menuRect.width - 10;\n    }\n\n    // Kontrola, zda menu pesahuje spodn okraj\n    if (y + menuRect.height > viewportHeight) {\n      top = viewportHeight - menuRect.height - 10;\n    }\n\n    return { left, top };\n  };\n\n  const position = adjustedPosition();\n\n  return ReactDOM.createPortal(\n    <MenuContainer\n      ref={menuRef}\n      style={{\n        left: `${position.left}px`,\n        top: `${position.top}px`\n      }}\n    >\n      <MenuItem\n        onClick={() => { handleCut(); onClose(); }}\n        title={`Vystrihnout ${selectedData ? 'obsah buky' : 'cel dek'} (Ctrl+X)`}\n      >\n        <FontAwesomeIcon icon={faCut} />\n        <MenuLabel>Vystrihnout</MenuLabel>\n      </MenuItem>\n\n      <MenuItem\n        onClick={() => { handleCopy(); onClose(); }}\n        title={`Koprovat ${selectedData ? 'obsah buky' : 'cel dek'} (Ctrl+C)`}\n      >\n        <FontAwesomeIcon icon={faCopy} />\n        <MenuLabel>Koprovat</MenuLabel>\n      </MenuItem>\n\n      <MenuItem\n        disabled={!hasClipboardData}\n        onClick={() => { if (hasClipboardData) { handlePaste(); onClose(); } }}\n        title={\n          !hasClipboardData\n            ? 'Schrnka je przdn'\n            : `Vloit ze schrnky${clipboardData ? ` (${typeof clipboardData === 'string' ? clipboardData.substring(0, 30) + '...' : 'strukturovan data'})` : ''}`\n        }\n      >\n        <FontAwesomeIcon icon={faPaste} />\n        <MenuLabel>Vloit</MenuLabel>\n      </MenuItem>\n\n      <MenuDivider />\n\n      <MenuItem\n        disabled={!canEdit}\n        onClick={() => { if (canEdit) { onEdit(user); onClose(); } }}\n        title={!canEdit ? 'Nemte oprvnn k editaci tohoto uivatele' : 'Editovat uivatele'}\n      >\n        <FontAwesomeIcon icon={faEdit} />\n        <MenuLabel>Editovat uivatele</MenuLabel>\n      </MenuItem>\n\n      <MenuDivider />\n\n      <MenuItem\n        success={!isActive}\n        danger={isActive}\n        onClick={() => { onToggleActive(user, isActive); onClose(); }}\n        title={isActive ? 'Zakzat uivatele' : 'Povolit uivatele'}\n      >\n        <FontAwesomeIcon icon={isActive ? faUserSlash : faUserCheck} />\n        <MenuLabel>{isActive ? 'Zakzat uivatele' : 'Povolit uivatele'}</MenuLabel>\n      </MenuItem>\n\n      <MenuDivider />\n\n      <MenuItem\n        danger\n        onClick={() => { onDelete(user); onClose(); }}\n        title={\n          !canDelete\n            ? 'Nemte oprvnn ke smazn - uivatel bude pouze deaktivovn'\n            : 'Trvale smazat uivatele z databze'\n        }\n      >\n        <FontAwesomeIcon icon={canDelete ? faTrash : faUserMinus} />\n        <MenuLabel>{canDelete ? 'Smazat uivatele' : 'Deaktivovat uivatele'}</MenuLabel>\n      </MenuItem>\n\n      <MenuDivider />\n\n      <MenuItem onClick={() => onClose()}>\n        <FontAwesomeIcon icon={faTimes} />\n        <MenuLabel>Storno</MenuLabel>\n      </MenuItem>\n    </MenuContainer>,\n    document.body\n  );\n};\n\nexport default UserContextMenu;\n","import React, { useEffect, useState, useMemo, useContext, useCallback, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { ProgressContext } from '../context/ProgressContext';\nimport { ToastContext } from '../context/ToastContext';\nimport { fetchAllUsers, fetchUserDetail, getErrorCodeCZ, fetchActiveUsers, partialUpdateUser, deleteUser, deactivateUser } from '../services/api2auth';\nimport { getOrdersCountByUser } from '../services/api25orders';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faUsers, faBuilding, faShield, faToggleOn, faToggleOff,\n  faKey, faEdit, faTrash, faPlus, faMinus, faSyncAlt,\n  faSearch, faFilter, faTimes, faFileExport, faUserCheck, faUserSlash,\n  faIdCard, faClock, faCheckCircle, faTimesCircle,\n  faChevronLeft, faChevronRight, faChevronDown, faChevronUp, faEraser, faDashboard, faUserCog, faPalette,\n  faShoppingCart, faQuestionCircle, faBolt, faMapMarkerAlt, faBriefcase, faExclamationTriangle\n} from '@fortawesome/free-solid-svg-icons';\nimport styled from '@emotion/styled';\nimport {\n  useReactTable,\n  getCoreRowModel,\n  getExpandedRowModel,\n  getSortedRowModel,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  flexRender,\n} from '@tanstack/react-table';\nimport { prettyDate } from '../utils/format';\nimport ConfirmDialog from '../components/ConfirmDialog';\nimport ResetPasswordModal from '../components/ResetPasswordModal';\nimport UserManagementModal from '../components/userManagement/UserManagementModal';\nimport UserContextMenu from '../components/UserContextMenu';\nimport ModernHelper from '../components/ModernHelper';\nimport { SmartTooltip } from '../styles/SmartTooltip';\n\n// =============================================================================\n// STYLED COMPONENTS\n// =============================================================================\n\nconst Container = styled.div`\n  padding: 1rem;\n  width: 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n  overflow: visible;\n\n  @keyframes pulse {\n    0%, 100% {\n      opacity: 0.3;\n      transform: scale(1);\n    }\n    50% {\n      opacity: 1;\n      transform: scale(1.1);\n    }\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nconst TitlePanel = styled.div`\n  background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n  padding: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n`;\n\nconst TitleLeft = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n`;\n\nconst RefreshButton = styled.button`\n  background: rgba(255, 255, 255, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  color: white;\n  width: 42px;\n  height: 42px;\n  border-radius: 6px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.1rem;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.25);\n    border-color: rgba(255, 255, 255, 0.4);\n    transform: translateY(-1px);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n`;\n\nconst PageTitle = styled.h1`\n  margin: 0;\n  font-size: calc(1.5rem + 3px);\n  font-weight: 700;\n  color: white;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n`;\n\nconst ActionBar = styled.div`\n  display: flex;\n  gap: 0.75rem;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  margin-bottom: 2rem;\n  padding-bottom: 1rem;\n  border-bottom: 3px solid #e5e7eb;\n`;\n\nconst ActionButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  border: 2px solid #3b82f6;\n  border-radius: 8px;\n  background: ${props => props.$primary ? '#3b82f6' : 'white'};\n  color: ${props => props.$primary ? 'white' : '#3b82f6'};\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ${props => props.$primary ? '#2563eb' : '#eff6ff'};\n    border-color: ${props => props.$primary ? '#2563eb' : '#2563eb'};\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n`;\n\n// Dashboard Panel\nconst DashboardPanel = styled.div`\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 60%, #e2e8f0 100%);\n  border: 1px solid #cbd5e1;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n`;\n\nconst DashboardGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(12, 1fr);\n  gap: 1.5rem;\n\n  @media (max-width: 1200px) {\n    grid-template-columns: repeat(6, 1fr);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n  }\n`;\n\nconst TallStatCard = styled.div`\n  grid-column: span 3;\n  grid-row: span 2;\n  background: linear-gradient(145deg, #ffffff, #f9fafb);\n  border-radius: 12px;\n  padding: 1rem;\n  border-left: 4px solid ${props => props.$color || '#16a34a'};\n  box-shadow:\n    0 2px 8px rgba(0, 0, 0, 0.06),\n    0 1px 3px rgba(0, 0, 0, 0.04);\n  transition: all 0.25s ease;\n  min-height: 260px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n\n  &:hover {\n    transform: translateY(-1px);\n    box-shadow:\n      0 4px 12px rgba(0, 0, 0, 0.1),\n      0 2px 6px rgba(0, 0, 0, 0.06);\n  }\n\n  @media (max-width: 1200px) {\n    grid-column: span 3;\n  }\n\n  @media (max-width: 768px) {\n    grid-column: span 1;\n    grid-row: span 1;\n    min-height: 200px;\n  }\n`;\n\nconst SmallStatCard = styled.div`\n  grid-column: span 3;\n  background: ${props => props.$isActive ?\n    `linear-gradient(145deg, ${props.$color || '#3b82f6'}20, ${props.$color || '#3b82f6'}10)` :\n    'linear-gradient(145deg, #ffffff, #f9fafb)'};\n  border-radius: 12px;\n  padding: 1rem;\n  border-left: 4px solid ${props => props.$color || '#3b82f6'};\n  box-shadow:\n    0 2px 8px rgba(0, 0, 0, 0.06),\n    0 1px 3px rgba(0, 0, 0, 0.04);\n  transition: all 0.25s ease;\n  cursor: ${props => props.$clickable ? 'pointer' : 'default'};\n  min-height: 120px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  &:hover {\n    transform: ${props => props.$clickable ? 'translateY(-2px)' : 'translateY(-1px)'};\n    box-shadow:\n      0 4px 12px rgba(0, 0, 0, 0.1),\n      0 2px 6px rgba(0, 0, 0, 0.06);\n    ${props => props.$clickable && `\n      background: linear-gradient(145deg, ${props.$color || '#3b82f6'}25, ${props.$color || '#3b82f6'}15);\n    `}\n  }\n\n  ${props => props.$isActive && `\n    border-left-width: 6px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12), 0 0 0 2px ${props.$color || '#3b82f6'}40;\n  `}\n\n  @media (max-width: 1200px) {\n    grid-column: span 3;\n  }\n\n  @media (max-width: 768px) {\n    grid-column: span 1;\n    min-height: 100px;\n  }\n`;\n\nconst StatCard = styled.div`\n  background: ${props => props.$isActive ?\n    `linear-gradient(145deg, ${props.$color || '#3b82f6'}20, ${props.$color || '#3b82f6'}10)` :\n    'linear-gradient(145deg, #ffffff, #f9fafb)'};\n  border-radius: 12px;\n  padding: 1rem;\n  border-left: 4px solid ${props => props.$color || '#3b82f6'};\n  box-shadow:\n    0 2px 8px rgba(0, 0, 0, 0.06),\n    0 1px 3px rgba(0, 0, 0, 0.04);\n  transition: all 0.25s ease;\n  cursor: ${props => props.$clickable ? 'pointer' : 'default'};\n\n  &:hover {\n    transform: ${props => props.$clickable ? 'translateY(-2px)' : 'translateY(-1px)'};\n    box-shadow:\n      0 4px 12px rgba(0, 0, 0, 0.1),\n      0 2px 6px rgba(0, 0, 0, 0.06);\n    ${props => props.$clickable && `\n      background: linear-gradient(145deg, ${props.$color || '#3b82f6'}25, ${props.$color || '#3b82f6'}15);\n    `}\n  }\n\n  ${props => props.$isActive && `\n    border-left-width: 6px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12), 0 0 0 2px ${props.$color || '#3b82f6'}40;\n  `}\n`;\n\nconst StatHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 0.5rem;\n`;\n\nconst StatIcon = styled.div`\n  color: ${props => props.$color || '#64748b'};\n  font-size: 1.25rem;\n  opacity: 0.7;\n`;\n\nconst StatLabel = styled.div`\n  font-size: 0.875rem;\n  color: #64748b;\n  font-weight: 500;\n  text-align: left;\n  line-height: 1.4;\n`;\n\nconst StatValue = styled.div`\n  font-size: 1.875rem;\n  font-weight: 700;\n  color: #1e293b;\n  line-height: 1.2;\n  text-align: left;\n`;\n\n// Filters Panel\nconst FiltersPanel = styled.div`\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 60%, #e2e8f0 100%);\n  border: 1px solid #cbd5e1;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 1.5rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n`;\n\nconst FiltersHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n`;\n\nconst FiltersTitle = styled.h3`\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #1e293b;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst ToggleButton = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #3b82f6;\n  font-size: 1.25rem;\n  padding: 0.25rem;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #eff6ff;\n  }\n`;\n\nconst FiltersGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1rem;\n  margin-top: 1rem;\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst FilterGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst FilterLabel = styled.label`\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #374151;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst FilterInputWithIcon = styled.div`\n  position: relative;\n  width: 100%;\n\n  > svg:first-of-type {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n`;\n\nconst ClearButton = styled.button`\n  position: absolute;\n  right: 0.75rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 0.25rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  z-index: 1;\n  width: 20px;\n  height: 20px;\n\n  &:hover {\n    color: #6b7280;\n  }\n\n  > svg {\n    width: 14px !important;\n    height: 14px !important;\n  }\n`;\n\nconst FilterInput = styled.input`\n  width: 100%;\n  box-sizing: border-box;\n  padding: ${props => props.hasIcon ? '0.75rem 2.5rem 0.75rem 2.5rem' : '0.75rem'};\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  background: white;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n  }\n`;\n\n// Wrapper pro select s ikonou\nconst FilterSelectWithIcon = styled.div`\n  position: relative;\n  width: 100%;\n\n  > svg {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n`;\n\nconst FilterSelect = styled.select`\n  width: 100%;\n  box-sizing: border-box;\n  padding: ${props => props.hasIcon ? '0.75rem 1.75rem 0.75rem 2.5rem' : '0.75rem 1.75rem 0.75rem 0.75rem'};\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  background: white;\n  cursor: pointer;\n  color: #1f2937;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  appearance: none;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &:hover {\n    border-color: #3b82f6;\n  }\n\n  /* Custom dropdown arrow */\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23374151' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: right 0.5rem center;\n  background-size: 16px 16px;\n\n  /* Styling pro placeholder option */\n  option[value=\"\"] {\n    color: #9ca3af;\n    font-weight: 400;\n  }\n\n  option {\n    color: #1f2937;\n    font-weight: 500;\n\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23374151' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: right 0.5rem center;\n  background-size: 16px 16px;\n`;\n\nconst ClearFiltersButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border: 2px solid #dc2626;\n  border-radius: 8px;\n  background: white;\n  color: #dc2626;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #fef2f2;\n    transform: translateY(-1px);\n  }\n`;\n\n// Table Styles\n//  Wrapper pro tabulku s shadow indiktory na krajch\nconst TableScrollWrapper = styled.div`\n  position: relative;\n  width: 100%;\n\n  /* Shadow indiktory na krajch */\n  &::before,\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    width: 40px;\n    pointer-events: none;\n    z-index: 2;\n    transition: opacity 0.3s ease;\n  }\n\n  /* Lev shadow */\n  &::before {\n    left: 0;\n    background: linear-gradient(to right, rgba(0,0,0,0.1), transparent);\n    opacity: ${props => props.$showLeftShadow ? 1 : 0};\n  }\n\n  /* Prav shadow */\n  &::after {\n    right: 0;\n    background: linear-gradient(to left, rgba(0,0,0,0.1), transparent);\n    opacity: ${props => props.$showRightShadow ? 1 : 0};\n  }\n`;\n\nconst TableContainer = styled.div`\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  overflow-x: auto;\n  overflow-y: visible;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  scroll-behavior: smooth;\n\n  /* Skryt scrollbar - mme ipky pro navigaci */\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  /* Firefox - skryt scrollbar */\n  scrollbar-width: none;\n`;\n\n// Scroll ipka - lev - FIXED position\nconst ScrollArrowLeft = styled.button`\n  position: fixed;\n  left: 50px;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 9999;\n\n  width: 56px;\n  height: 56px;\n  border-radius: 50%;\n  border: 2px solid #e5e7eb;\n  background: ${props => {\n    // Pln bl JEN kdy je hover pmo NAD IPKOU\n    if (props.$arrowHovered) {\n      return 'rgba(255, 255, 255, 0.98)';\n    }\n    return 'rgba(255, 255, 255, 0.25)'; // 75% prhledn (zobrazuje se kdy je hover nad tabulkou)\n  }};\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  /* Zobrazit kdy: 1) je poteba scrollovat A 2) je hover nad tabulkou NEBO nad ipkou */\n  opacity: ${props => (props.$visible && (props.$tableHovered || props.$arrowHovered)) ? 1 : 0};\n  pointer-events: ${props => (props.$visible && (props.$tableHovered || props.$arrowHovered)) ? 'auto' : 'none'};\n  transform: translateY(-50%); /* Vdy stejn velikost, dn scale */\n\n  &:hover:not(:disabled) {\n    background: rgba(248, 250, 252, 0.98);\n    border-color: #3b82f6;\n    box-shadow: 0 6px 16px rgba(59, 130, 246, 0.3);\n  }\n\n  &:active:not(:disabled) {\n    transform: translateY(-50%) scale(1.05);\n  }\n\n  &:disabled {\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  svg {\n    width: 22px;\n    height: 22px;\n    color: #3b82f6;\n  }\n`;\n\n// Scroll ipka - prav - FIXED position\nconst ScrollArrowRight = styled(ScrollArrowLeft)`\n  left: auto;\n  right: 50px;\n`;\n\nconst Table = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n`;\n\nconst TableHead = styled.thead`\n  background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);\n`;\n\nconst TableRow = styled.tr`\n  background: ${props => {\n    // Pokud je zapnut zvrazovn podle statusu\n    if (props.$showHighlighting) {\n      if (props.$isActive === false) {\n        return '#fef2f2'; // Svtle erven pro neaktivn\n      }\n      return '#f0fdf4'; // Svtle zelen pro aktivn\n    }\n    // Standardn stdn dk\n    return props.$isEven ? '#f8fafc' : 'white';\n  }};\n\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ${props => {\n      if (props.$showHighlighting && props.$isActive === false) {\n        return '#fee2e2'; // Tmav erven pi hoveru pro neaktivn\n      }\n      if (props.$showHighlighting && props.$isActive === true) {\n        return '#dcfce7'; // Tmav zelen pi hoveru pro aktivn\n      }\n      return 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)';\n    }} !important;\n  }\n`;\n\nconst TableHeader = styled.th`\n  padding: 1rem 0.75rem;\n  text-align: center;\n  font-weight: 600;\n  color: white;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n  cursor: pointer;\n  user-select: none;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  font-size: 0.875rem;\n  letter-spacing: 0.025em;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n  }\n`;\n\nconst TableCell = styled.td`\n  padding: 0.75rem;\n  border-bottom: 1px solid #f1f5f9;\n  vertical-align: middle;\n  font-size: 0.875rem;\n`;\n\nconst ExpandButton = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #3b82f6;\n  font-size: 1.25rem;\n  padding: 0.25rem;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #eff6ff;\n  }\n`;\n\nconst ExpandedContent = styled.div`\n  padding: 1.5rem;\n  background: #f9fafb;\n  border-top: 2px solid #3b82f6;\n  border-bottom: 1px solid #d1d5db;\n`;\n\nconst ExpandedGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));\n  gap: 1rem;\n`;\n\nconst InfoCard = styled.div`\n  background: white;\n  border-radius: 8px;\n  padding: 1.25rem;\n  border-left: 4px solid #3b82f6;\n  box-shadow:\n    0 4px 6px -1px rgba(0, 0, 0, 0.1),\n    0 2px 4px -1px rgba(0, 0, 0, 0.06);\n\n  transition: all 0.2s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow:\n      0 10px 15px -3px rgba(0, 0, 0, 0.1),\n      0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  }\n`;\n\nconst InfoCardTitle = styled.h4`\n  margin: 0 0 0.75rem 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #1e293b;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst InfoRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 1rem;\n  padding: 0.45rem 0;\n  border-bottom: 1px dashed #e5e7eb;\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n\nconst InfoLabel = styled.span`\n  font-weight: 600;\n  color: #64748b;\n  flex-shrink: 0;\n  white-space: nowrap;\n`;\n\nconst InfoValue = styled.span`\n  color: #1f2937;\n  text-align: right;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  flex: 1;\n  line-height: 1.5;\n`;\n\nconst ActionMenu = styled.div`\n  display: flex;\n  gap: 0.12rem;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ActionMenuButton = styled.button`\n  padding: 0.375rem;\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  border-radius: 4px;\n  color: #64748b;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 28px;\n  min-height: 28px;\n\n  &:hover {\n    background: #f1f5f9;\n    color: #1e293b;\n  }\n\n  &.toggle-active:hover {\n    color: #16a34a;\n    background: #f0fdf4;\n  }\n\n  &.toggle-inactive:hover {\n    color: #dc2626;\n    background: #fef2f2;\n  }\n\n  &.reset:hover {\n    color: #f59e0b;\n    background: #fffbeb;\n  }\n\n  &.edit:hover {\n    color: #3b82f6;\n    background: #eff6ff;\n  }\n\n  &.delete:hover {\n    color: #dc2626;\n    background: #fef2f2;\n  }\n\n  &:disabled {\n    opacity: 0.4;\n    cursor: not-allowed;\n  }\n`;\n\nconst StatusBadge = styled.span`\n  display: inline-flex;\n  align-items: center;\n  gap: 0.375rem;\n  padding: 0.375rem 0.75rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.025em;\n\n  ${props => props.$active ? `\n    background: #dcfce7;\n    color: #166534;\n    border: 1px solid #86efac;\n  ` : `\n    background: #fee2e2;\n    color: #991b1b;\n    border: 1px solid #fca5a5;\n  `}\n`;\n\nconst PaginationContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: #f8fafc;\n  border-top: 1px solid #e5e7eb;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 1rem;\n  }\n`;\n\nconst PaginationInfo = styled.div`\n  font-size: 0.875rem;\n  color: #64748b;\n  font-weight: 500;\n`;\n\nconst PaginationControls = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n`;\n\nconst PageButton = styled.button`\n  padding: 0.5rem 1rem;\n  border: 1px solid #e5e7eb;\n  background: white;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  color: #374151;\n\n  &:hover:not(:disabled) {\n    background: #f3f4f6;\n    border-color: #3b82f6;\n    color: #3b82f6;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  &.active {\n    background: #3b82f6;\n    color: white;\n    border-color: #3b82f6;\n  }\n`;\n\nconst PageSizeSelect = styled.select`\n  padding: 0.5rem;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  background: white;\n  font-size: 0.875rem;\n  cursor: pointer;\n  color: #374151;\n  font-weight: 500;\n`;\n\nconst ColumnFilterWrapper = styled.div`\n  position: relative;\n  width: 100%;\n\n  > svg:first-of-type {\n    position: absolute;\n    left: 0.5rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 12px !important;\n    height: 12px !important;\n  }\n`;\n\nconst ColumnClearButton = styled.button`\n  position: absolute;\n  right: 0.5rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 0.15rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  z-index: 1;\n  width: 16px;\n  height: 16px;\n\n  &:hover {\n    color: #6b7280;\n  }\n\n  > svg {\n    width: 10px !important;\n    height: 10px !important;\n  }\n`;\n\nconst ColumnFilterInput = styled.input`\n  width: 100%;\n  padding: 0.5rem 2rem 0.5rem 2rem;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  background: #f9fafb;\n  transition: all 0.2s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    background: white;\n    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n    font-size: 0.75rem;\n  }\n`;\n\nconst FilterActionButton = styled.button`\n  background: white;\n  border: 1px solid #d1d5db;\n  color: #6b7280;\n  padding: 0.4rem 0.5rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.85rem;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 32px;\n  min-height: 32px;\n\n  &:hover {\n    background: #f3f4f6;\n    border-color: #3b82f6;\n    color: #3b82f6;\n  }\n\n  &.active {\n    background: #3b82f6;\n    color: white;\n    border-color: #3b82f6;\n  }\n`;\n\nconst IconFilterButton = styled.button`\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.2s;\n\n  &:hover {\n    opacity: 0.7;\n  }\n\n  svg {\n    width: 20px;\n    height: 20px;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: #dc2626;\n  font-weight: 600;\n  margin-top: 2rem;\n  padding: 1rem;\n  background: #fef2f2;\n  border-left: 4px solid #dc2626;\n  border-radius: 8px;\n`;\n\nconst LoadingOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(248, 250, 252, 0.95);\n  backdrop-filter: blur(${props => props.$visible ? '8px' : '0px'});\n  -webkit-backdrop-filter: blur(${props => props.$visible ? '8px' : '0px'});\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  opacity: ${props => props.$visible ? 1 : 0};\n  transition: opacity 0.5s ease-in-out, backdrop-filter 0.6s ease-in-out;\n  pointer-events: ${props => props.$visible ? 'auto' : 'none'};\n\n  @media (max-width: 768px) {\n    padding: 1rem;\n  }\n`;\n\nconst LoadingSpinner = styled.div`\n  width: 64px;\n  height: 64px;\n  border: 4px solid #e2e8f0;\n  border-top: 4px solid #3b82f6;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 1.5rem;\n  transform: scale(${props => props.$visible ? 1 : 0.8});\n  transition: transform 0.5s ease-in-out;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg) scale(1); }\n    100% { transform: rotate(360deg) scale(1); }\n  }\n`;\n\nconst LoadingMessage = styled.div`\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #374151;\n  text-align: center;\n  margin-bottom: 0.5rem;\n  transform: translateY(${props => props.$visible ? '0' : '10px'});\n  opacity: ${props => props.$visible ? 1 : 0};\n  transition: transform 0.5s ease-in-out 0.1s, opacity 0.5s ease-in-out 0.1s;\n`;\n\nconst LoadingSubtext = styled.div`\n  font-size: 0.875rem;\n  color: #6b7280;\n  text-align: center;\n  transform: translateY(${props => props.$visible ? '0' : '10px'});\n  opacity: ${props => props.$visible ? 1 : 0};\n  transition: transform 0.5s ease-in-out 0.15s, opacity 0.5s ease-in-out 0.15s;\n`;\n\nconst PageContent = styled.div`\n  filter: blur(${props => props.$blurred ? '3px' : '0px'});\n  transition: filter 0.6s ease-in-out;\n  pointer-events: ${props => props.$blurred ? 'none' : 'auto'};\n`;\n\n// Debug Panel (stejn jako Orders25List)\nconst DebugPanel = styled.div`\n  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);\n  border: 2px solid #0ea5e9;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  color: white;\n  font-family: 'Courier New', monospace;\n  box-shadow: 0 8px 32px rgba(14, 165, 233, 0.3);\n`;\n\nconst DebugHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  padding-bottom: 0.75rem;\n  border-bottom: 2px solid rgba(14, 165, 233, 0.3);\n`;\n\nconst DebugTitle = styled.h3`\n  margin: 0;\n  color: #0ea5e9;\n  font-size: 1.25rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst DebugContent = styled.div`\n  max-height: 400px;\n  overflow-y: auto;\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 8px;\n  padding: 1rem;\n  border: 1px solid rgba(14, 165, 233, 0.2);\n`;\n\nconst DebugSection = styled.div`\n  margin-bottom: 1rem;\n  &:last-child { margin-bottom: 0; }\n`;\n\nconst DebugLabel = styled.div`\n  color: #0ea5e9;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  font-size: 0.875rem;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n\nconst DebugValue = styled.pre`\n  margin: 0;\n  color: #e2e8f0;\n  font-size: 0.75rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-all;\n  background: rgba(0, 0, 0, 0.2);\n  padding: 0.75rem;\n  border-radius: 6px;\n  border-left: 3px solid #0ea5e9;\n`;\n\n// =============================================================================\n// MAIN COMPONENT\n// =============================================================================\n\nconst Users = () => {\n  const { token, username, userDetail, hasPermission } = useContext(AuthContext);\n  const { start: startGlobalProgress, setProgress: setGlobalProgress, done: doneGlobalProgress, reset: resetGlobalProgress } = useContext(ProgressContext);\n  const { showToast } = useContext(ToastContext) || {};\n\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Helper functions for user-specific localStorage\n  const user_id = userDetail?.user_id;\n  const getUserKey = (baseKey) => {\n    const sid = user_id || 'anon';\n    return `${baseKey}_${sid}`;\n  };\n\n  const getUserStorage = (baseKey, defaultValue = null) => {\n    try {\n      const item = localStorage.getItem(getUserKey(baseKey));\n      return item !== null ? JSON.parse(item) : defaultValue;\n    } catch (error) {\n      return defaultValue;\n    }\n  };\n\n  const setUserStorage = (baseKey, value) => {\n    try {\n      localStorage.setItem(getUserKey(baseKey), JSON.stringify(value));\n    } catch (error) {\n      // Ignorovat chyby zpisu\n    }\n  };\n\n  const [globalFilter, setGlobalFilter] = useState(() => {\n    return getUserStorage('users_globalFilter', '');\n  });\n  const [departmentFilter, setDepartmentFilter] = useState(() => {\n    return getUserStorage('users_departmentFilter', '');\n  });\n  const [groupFilter, setGroupFilter] = useState(() => {\n    return getUserStorage('users_groupFilter', '');\n  });\n  const [locationFilter, setLocationFilter] = useState(() => {\n    return getUserStorage('users_locationFilter', '');\n  });\n  const [positionFilter, setPositionFilter] = useState(() => {\n    return getUserStorage('users_positionFilter', '');\n  });\n  const [statusFilter, setStatusFilter] = useState(() => {\n    return getUserStorage('users_statusFilter', 'all'); // 'all', 'active', 'inactive'\n  });\n  const [showFilters, setShowFilters] = useState(() => {\n    return getUserStorage('users_showFilters', false); // Rozen filtr defaultn skryt\n  });\n\n  // Stav pro zobrazen/skryt rozenho filtru (pro dodaten filtry Lokalita, Pozice, sek, Role)\n  const [showExpandedFilters, setShowExpandedFilters] = useState(() => {\n    return getUserStorage('users_showExpandedFilters', false);\n  });\n\n  const [columnFilters, setColumnFilters] = useState(() => {\n    return getUserStorage('users_columnFilters', {});\n  });\n  const [showRowHighlighting, setShowRowHighlighting] = useState(() => {\n    return getUserStorage('users_showRowHighlighting', true);\n  });\n\n  const [showDashboard, setShowDashboard] = useState(() => {\n    return getUserStorage('users_showDashboard', true);\n  });\n\n  // Table pagination - load from user-specific localStorage\n  const [pageSize, setPageSize] = useState(() => {\n    return getUserStorage('users_pageSize', 25);\n  });\n\n  const [currentPageIndex, setCurrentPageIndex] = useState(() => {\n    return getUserStorage('users_pageIndex', 0);\n  });\n\n  // Table sorting - load from user-specific localStorage\n  const [sorting, setSorting] = useState(() => {\n    return getUserStorage('users_sorting', []);\n  });\n\n  const [expandedRows, setExpandedRows] = useState({});\n  const [collapsedSections, setCollapsedSections] = useState({});\n  const [rightsSearchTerm, setRightsSearchTerm] = useState('');\n\n  // User Management Modal state\n  const [userModalState, setUserModalState] = useState({\n    isOpen: false,\n    mode: 'create', // 'create' | 'edit'\n    userData: null\n  });\n  const [ordersCount, setOrdersCount] = useState(() => {\n    // Nast z cache pi startu\n    const cached = getUserStorage('users_ordersCountCache', null);\n    if (cached && cached.timestamp) {\n      const age = Date.now() - cached.timestamp;\n      const maxAge = 10 * 60 * 1000; // 10 minut\n      if (age < maxAge) {\n        return cached.data || {};\n      }\n    }\n    return {};\n  });\n  const [isLoadingOrdersCounts, setIsLoadingOrdersCounts] = useState(false);\n  const [ordersCountLoadTime, setOrdersCountLoadTime] = useState(() => {\n    // Nast as z cache\n    const cached = getUserStorage('users_ordersCountCache', null);\n    return cached?.loadTime || null;\n  });\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [isResetPasswordModalOpen, setIsResetPasswordModalOpen] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [dialogAction, setDialogAction] = useState(null);\n  const [activeUsers, setActiveUsers] = useState([]);\n\n  // Debug panel - user-specific\n  const [showDebug, setShowDebug] = useState(() => {\n    return getUserStorage('users_showDebug', false);\n  });\n  const [rawApiData, setRawApiData] = useState(null);\n\n  // Context menu state\n  const [contextMenu, setContextMenu] = useState(null);\n\n  //  Scroll state management pro horizontln scroll ipky\n  const [showLeftArrow, setShowLeftArrow] = useState(false);\n  const [showRightArrow, setShowRightArrow] = useState(false);\n  const [showLeftShadow, setShowLeftShadow] = useState(false);\n  const [showRightShadow, setShowRightShadow] = useState(false);\n  const [isTableHovered, setIsTableHovered] = useState(false);\n  const [isArrowHovered, setIsArrowHovered] = useState(false);\n\n  // Force refresh counter - zmna vynut re-fetch\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\n  const [silentRefresh, setSilentRefresh] = useState(false); //  Flag pro tich naten bez progress baru\n\n  //  Callback refs pro scroll monitoring\n  const tableContainerRef = useRef(null);\n  const tableWrapperRef = useRef(null);\n\n  const setTableWrapperRef = useCallback((node) => {\n    if (tableWrapperRef.current) {\n      tableWrapperRef.current.removeEventListener('mouseenter', handleTableMouseEnter);\n      tableWrapperRef.current.removeEventListener('mouseleave', handleTableMouseLeave);\n    }\n\n    tableWrapperRef.current = node;\n\n    if (node) {\n      node.addEventListener('mouseenter', handleTableMouseEnter);\n      node.addEventListener('mouseleave', handleTableMouseLeave);\n    }\n  }, []);\n\n  const setTableContainerRef = useCallback((node) => {\n    if (tableContainerRef.current) {\n      tableContainerRef.current.removeEventListener('scroll', checkScrollPosition);\n      window.removeEventListener('resize', checkScrollPosition);\n    }\n\n    tableContainerRef.current = node;\n\n    if (node) {\n      node.addEventListener('scroll', checkScrollPosition);\n      window.addEventListener('resize', checkScrollPosition);\n\n      // Initial check\n      setTimeout(() => checkScrollPosition(), 100);\n    }\n  }, []);\n\n  const checkScrollPosition = useCallback(() => {\n    if (!tableContainerRef.current) return;\n\n    const { scrollLeft, scrollWidth, clientWidth } = tableContainerRef.current;\n    const tolerance = 5; // ipky tolerance\n    const shadowTolerance = 1; // Shadow tolerance\n\n    // ipky: tolerance 5px\n    setShowLeftArrow(scrollLeft > tolerance);\n    setShowRightArrow(scrollLeft < scrollWidth - clientWidth - tolerance);\n\n    // Shadows: tolerance 1px (zobrazit tm okamit)\n    setShowLeftShadow(scrollLeft > shadowTolerance);\n    setShowRightShadow(scrollLeft < scrollWidth - clientWidth - shadowTolerance);\n  }, []);\n\n  const handleTableMouseEnter = useCallback(() => {\n    setIsTableHovered(true);\n  }, []);\n\n  const handleTableMouseLeave = useCallback(() => {\n    setIsTableHovered(false);\n    //  NEMAZAT isArrowHovered zde! Arrow m svj vlastn hover state.\n  }, []);\n\n  const handleScrollLeft = useCallback(() => {\n    if (tableContainerRef.current) {\n      const scrollAmount = tableContainerRef.current.clientWidth * 0.8;\n      tableContainerRef.current.scrollBy({ left: -scrollAmount, behavior: 'smooth' });\n    }\n  }, []);\n\n  const handleScrollRight = useCallback(() => {\n    if (tableContainerRef.current) {\n      const scrollAmount = tableContainerRef.current.clientWidth * 0.8;\n      tableContainerRef.current.scrollBy({ left: scrollAmount, behavior: 'smooth' });\n    }\n  }, []);\n\n  const fetchUsers = useCallback(async (silent = false) => {\n    try {\n      setError(null);\n      setLoading(true);\n\n      //  Pokud je silent=true, NEVOLAT startGlobalProgress\n      if (!silent) {\n        startGlobalProgress();\n      }\n\n      // Pidme timestamp do requestu, aby se vyhnul browser cache\n      const data = await fetchAllUsers({\n        token,\n        username,\n        _cacheBust: Date.now() // Force bypass any HTTP cache\n      });\n\n      // Save raw API data for debug modal\n      setRawApiData(data);\n\n      // Users loaded successfully\n\n      if (!silent) {\n        setGlobalProgress(60);\n      }\n\n      if (!Array.isArray(data)) {\n        throw new Error('API nevrtilo pole uivatel');\n      }\n\n      //  Debug: Zkontrolovat duplikty z API\n      const idCounts = {};\n      data.forEach(u => {\n        const id = u.id || u.user_id;\n        idCounts[id] = (idCounts[id] || 0) + 1;\n      });\n      const duplicates = Object.entries(idCounts).filter(([id, count]) => count > 1);\n      if (duplicates.length > 0) {\n        console.warn(' DUPLICITN UIVATEL Z API:', duplicates);\n        console.warn(' Detail duplicitnch uivatel:', \n          duplicates.map(([id]) => data.filter(u => (u.id || u.user_id) == id))\n        );\n      }\n\n      const processedData = data.map((user) => ({\n        id: user.id || user.user_id,\n        username: user.username || user.prihlas_jmeno || 'N/A',\n        surname: user.prijmeni || user.surname || 'N/A',\n        name: user.jmeno || user.name || 'N/A',\n        titul_pred: user.titul_pred || '',\n        titul_za: user.titul_za || '',\n        fullName: [\n          user.titul_pred,\n          user.prijmeni || user.surname,\n          user.jmeno || user.name,\n          user.titul_za\n        ].filter(Boolean).join(' ') || 'N/A',\n        email: user.email || 'N/A',\n        location: user.lokalita_nazev?.trim() || user.lokalita?.trim() || user.location?.trim() || '',\n        department: user.usek_zkr?.trim() || user.usek_nazev?.trim() || user.department?.trim() || user.oddeleni?.trim() || '',\n        position: (\n          user.nazev_pozice?.trim() ||\n          user.pozice_nazev?.trim() ||\n          (typeof user.pozice === 'object' && user.pozice?.nazev_pozice?.trim()) ||\n          (typeof user.pozice === 'object' && user.pozice?.nazev?.trim()) ||\n          (typeof user.pozice === 'string' && user.pozice.trim()) ||\n          user.funkce?.trim() ||\n          user.position?.trim() ||\n          user.title?.trim() ||\n          ''\n        ),\n        phone: user.phone || user.telefon || 'N/A',\n        active: user.aktivni === 1 || user.aktivni === '1' || user.aktivni === true || user.active === 'a' || user.active === true,\n        vynucena_zmena_hesla: user.vynucena_zmena_hesla === 1 || user.vynucena_zmena_hesla === '1' || user.vynucena_zmena_hesla === true ? 1 : 0,\n        roles: user.roles || [],\n        direct_rights: user.direct_rights || [],\n        group_name: user.roles && user.roles.length > 0\n          ? user.roles\n              .map(r => r.nazev_role || r.nazev)\n              .filter(Boolean)\n              .sort((a, b) => a.localeCompare(b, 'cs'))\n              .join(', ')\n          : (user.group_name || user.nazev_role || 'Bez role'),\n        dt_activity: user.dt_activity || user.dt_posledni_aktivita || user.posl_aktivita || null,\n      }));\n\n      // Users processed successfully\n\n      setUsers(processedData);\n\n      if (!silent) {\n        doneGlobalProgress();\n      }\n\n      // Toast notification removed - no need to notify on successful list load\n    } catch (err) {\n      setError('Nepodailo se nast uivatele. Zkuste to prosm znovu.');\n\n      if (showToast) {\n        showToast('Chyba pi natn uivatel', { type: 'error' });\n      }\n\n      if (!silent) {\n        try { doneGlobalProgress(); } catch(_) {}\n        try {\n          const code = getErrorCodeCZ(err) || '';\n          if (code === 'chyba_serveru' || code === 'server_error') {\n            setTimeout(() => { resetGlobalProgress && resetGlobalProgress(); }, 2200);\n          }\n        } catch(e) {}\n      }\n    } finally {\n      setTimeout(() => setLoading(false), 500);\n    }\n  }, [token, username, startGlobalProgress, setGlobalProgress, doneGlobalProgress, resetGlobalProgress, showToast, refreshTrigger]);\n\n  useEffect(() => {\n    if (token && username) {\n      //  Pout silentRefresh flag pokud je nastaven\n      fetchUsers(silentRefresh);\n      // Reset flag po pouit\n      if (silentRefresh) {\n        setSilentRefresh(false);\n      }\n    } else {\n      setError('Chyb autentizan token nebo uivatelsk jmno. Pihlaste se prosm znovu.');\n      setLoading(false);\n    }\n  }, [token, username, fetchUsers, silentRefresh]);\n\n  // Natn aktivnch uivatel (pro dashboard)\n  const fetchActiveUsersData = useCallback(async () => {\n    if (!token || !username) return;\n    try {\n      const data = await fetchActiveUsers({ token, username });\n      setActiveUsers(data || []);\n    } catch (error) {\n    }\n  }, [token, username]);\n\n  useEffect(() => {\n    fetchActiveUsersData();\n    // Refresh kadch 30 sekund\n    const interval = setInterval(fetchActiveUsersData, 30000);\n    return () => clearInterval(interval);\n  }, [fetchActiveUsersData]);\n\n  // Natn pot objednvek pro uivatele - PARALELN VERZE s CACHE\n  const fetchOrdersCounts = useCallback(async (forceRefresh = false) => {\n    if (!users.length || !token || !username) {\n      return;\n    }\n\n    // Kontrola cache - pokud nen force refresh\n    if (!forceRefresh) {\n      const cached = getUserStorage('users_ordersCountCache', null);\n      if (cached && cached.timestamp && cached.data) {\n        const age = Date.now() - cached.timestamp;\n        const maxAge = 10 * 60 * 1000; // 10 minut\n\n        if (age < maxAge) {\n          setOrdersCount(cached.data);\n          setOrdersCountLoadTime(cached.loadTime);\n          return; // Pout cache, nechodit na DB\n        }\n      }\n    }\n\n    const startTime = performance.now(); // Start men asu\n    setIsLoadingOrdersCounts(true);\n\n    // Reset counts na loading state\n    const loadingCounts = {};\n    users.forEach(user => {\n      if (user.id) loadingCounts[user.id] = undefined; // undefined znamen loading\n    });\n    setOrdersCount(loadingCounts);\n\n    // Paraleln natn s timeoutem\n    const fetchPromises = users.map(async (user) => {\n      if (!user.id) return { user, count: 0, error: 'No user ID' };\n\n      try {\n        // Timeout wrapper pro kad request\n        const timeoutPromise = new Promise((_, reject) =>\n          setTimeout(() => reject(new Error('Request timeout')), 10000) // 10s timeout\n        );\n\n        const requestPromise = getOrdersCountByUser({\n          token,\n          username,\n          user_id: user.id\n        });\n\n        const response = await Promise.race([requestPromise, timeoutPromise]);\n        const orderCount = response.data?.total_orders_count || 0;\n\n        // Okamit aktualizuj UI pro tento uivatele\n        setOrdersCount(prev => ({\n          ...prev,\n          [user.id]: orderCount\n        }));\n\n        return { user, count: orderCount, error: null };\n\n      } catch (err) {\n        // Okamit aktualizuj UI s chybou\n        setOrdersCount(prev => ({\n          ...prev,\n          [user.id]: 0\n        }));\n\n        return { user, count: 0, error: err.message };\n      }\n    });\n\n    // ekej na vechny requesty\n    const results = await Promise.allSettled(fetchPromises);\n\n    // Zpracuj vsledky\n    let successCount = 0;\n    let errorCount = 0;\n    const finalCounts = {};\n\n    results.forEach((result, index) => {\n      if (result.status === 'fulfilled') {\n        const { user, count, error } = result.value;\n        finalCounts[user.id] = count;\n        if (error) {\n          errorCount++;\n        } else {\n          successCount++;\n        }\n      } else {\n        errorCount++;\n        const user = users[index];\n        if (user && user.id) {\n          finalCounts[user.id] = 0;\n        }\n      }\n    });\n\n    // Finln nastaven pro jistotu\n    setOrdersCount(finalCounts);\n    setIsLoadingOrdersCounts(false);\n\n    // Uloit as natn\n    const endTime = performance.now();\n    const loadTimeMs = Math.round(endTime - startTime);\n    setOrdersCountLoadTime(loadTimeMs);\n\n    // Uloit do cache\n    setUserStorage('users_ordersCountCache', {\n      data: finalCounts,\n      timestamp: Date.now(),\n      loadTime: loadTimeMs\n    });\n\n    // Orders count loaded and cached (debug removed for performance)\n  }, [users, token, username]);\n\n  // Nast poty objednvek kdy se natou uivatel - pouije cache pokud je validn\n  useEffect(() => {\n    if (users.length > 0 && token && username) {\n      fetchOrdersCounts(false); // false = pout cache pokud je validn\n    }\n  }, [users.length, token, username]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const stats = useMemo(() => {\n    const total = users.length;\n    const active = users.filter(u => u.active).length;\n    const inactive = total - active;\n\n    const departments = {};\n    users.forEach(u => {\n      const dept = u.department || 'Bez seku';\n      departments[dept] = (departments[dept] || 0) + 1;\n    });\n\n    const groups = {};\n    users.forEach(u => {\n      const group = u.group_name || 'Bez skupiny';\n      groups[group] = (groups[group] || 0) + 1;\n    });\n\n    return { total, active, inactive, departments, groups };\n  }, [users]);\n\n  // Utility function pro normalizaci textu (odstrann diakritiky a pevod na mal psmena)\n  const normalizeForSearch = useCallback((text) => {\n    if (!text) return '';\n    return String(text)\n      .toLowerCase()\n      .normalize('NFD')\n      .replace(/[\\u0300-\\u036f]/g, ''); // Odstran diakritiku\n  }, []);\n\n  const filteredData = useMemo(() => {\n    return users.filter((user) => {\n      // Status filtr (vichni/aktivn/neaktivn) - MUS BT PRVN!\n      if (statusFilter === 'active' && !user.active) return false;\n      if (statusFilter === 'inactive' && user.active) return false;\n\n      // Global filter (Fultext) - bez diakritiky\n      if (globalFilter) {\n        const searchNormalized = normalizeForSearch(globalFilter);\n        const matchGlobal =\n          normalizeForSearch(user.username).includes(searchNormalized) ||\n          normalizeForSearch(user.fullName).includes(searchNormalized) ||\n          normalizeForSearch(user.email).includes(searchNormalized) ||\n          normalizeForSearch(user.location).includes(searchNormalized) ||\n          normalizeForSearch(user.department).includes(searchNormalized) ||\n          normalizeForSearch(user.position).includes(searchNormalized) ||\n          normalizeForSearch(user.group_name).includes(searchNormalized);\n\n        if (!matchGlobal) return false;\n      }\n\n      // Panel filters (rozen filtr)\n      if (departmentFilter && user.department !== departmentFilter) return false;\n      if (groupFilter && user.group_name !== groupFilter) return false;\n      if (locationFilter && user.location !== locationFilter) return false;\n      if (positionFilter && user.position !== positionFilter) return false;\n\n      // Column filters - bez diakritiky\n      if (columnFilters.username && !normalizeForSearch(user.username).includes(normalizeForSearch(columnFilters.username))) return false;\n      if (columnFilters.fullName && !normalizeForSearch(user.fullName).includes(normalizeForSearch(columnFilters.fullName))) return false;\n      if (columnFilters.email && !normalizeForSearch(user.email).includes(normalizeForSearch(columnFilters.email))) return false;\n      if (columnFilters.location && !normalizeForSearch(user.location).includes(normalizeForSearch(columnFilters.location))) return false;\n      if (columnFilters.department && !normalizeForSearch(user.department).includes(normalizeForSearch(columnFilters.department))) return false;\n      if (columnFilters.position && !normalizeForSearch(user.position).includes(normalizeForSearch(columnFilters.position))) return false;\n      if (columnFilters.group_name && !normalizeForSearch(user.group_name).includes(normalizeForSearch(columnFilters.group_name))) return false;\n\n      // Filtrovn Prva\n      if (columnFilters.rights_count) {\n        const searchTerm = columnFilters.rights_count.toLowerCase();\n\n        // Spotat poet prv\n        const allRightsMap = new Map();\n        if (user.roles) {\n          user.roles.forEach(role => {\n            if (role.rights) {\n              role.rights.forEach(right => {\n                const kod = right.kod_prava || right.nazev;\n                if (kod) allRightsMap.set(kod, true);\n              });\n            }\n          });\n        }\n        if (user.direct_rights) {\n          user.direct_rights.forEach(right => {\n            const kod = right.kod_prava || right.nazev;\n            if (kod) allRightsMap.set(kod, true);\n          });\n        }\n        const rightsCount = allRightsMap.size;\n\n        if (!String(rightsCount).includes(searchTerm)) return false;\n      }\n\n      // Filtrovn Objednvky\n      if (columnFilters.orders_count) {\n        const searchTerm = columnFilters.orders_count.toLowerCase();\n        const ordersCountVal = ordersCount[user.id] || 0;\n\n        if (!String(ordersCountVal).includes(searchTerm)) return false;\n      }\n\n      return true;\n    });\n  }, [users, globalFilter, statusFilter, departmentFilter, groupFilter, locationFilter, positionFilter, columnFilters, normalizeForSearch]);\n\n  const columns = useMemo(() => [\n    {\n      id: 'expander',\n      header: '',\n      size: 50,\n      cell: ({ row }) => (\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n          <ExpandButton\n            onClick={() => {\n              setExpandedRows(prev => ({ ...prev, [row.id]: !prev[row.id] }));\n            }}\n          >\n            <FontAwesomeIcon icon={expandedRows[row.id] ? faMinus : faPlus} />\n          </ExpandButton>\n        </div>\n      ),\n    },\n    {\n      accessorKey: 'username',\n      header: 'Username',\n      size: 180,\n      maxSize: 180,\n      cell: ({ row }) => (\n        <div style={{ fontWeight: 600, color: '#1e293b' }}>\n          {row.original.username}\n          <span style={{\n            fontSize: '0.75rem',\n            color: '#94a3b8',\n            marginLeft: '0.5rem',\n            fontWeight: 400,\n            verticalAlign: 'super'\n          }}>\n            #{row.original.id}\n          </span>\n        </div>\n      ),\n    },\n    {\n      accessorKey: 'fullName',\n      header: 'Jmno',\n      size: 160,\n      maxSize: 160,\n      cell: (info) => <div style={{ fontWeight: 500 }}>{info.getValue()}</div>,\n    },\n    {\n      accessorKey: 'email',\n      header: 'E-mail',\n      cell: (info) => <div>{info.getValue()}</div>,\n    },\n    {\n      accessorKey: 'phone',\n      header: 'Telefon',\n      cell: (info) => <div style={{ textAlign: 'center' }}>{info.getValue()}</div>,\n    },\n    {\n      accessorKey: 'location',\n      header: 'Lokalita',\n      cell: (info) => {\n        const value = info.getValue();\n        return (\n          <div style={{ textAlign: 'center', fontSize: '0.875rem', color: value ? 'inherit' : '#9ca3af', fontStyle: value ? 'normal' : 'italic' }}>\n            {value || ''}\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: 'department',\n      header: 'sek',\n      cell: (info) => {\n        const value = info.getValue();\n        return (\n          <div style={{ textAlign: 'center', color: value ? 'inherit' : '#9ca3af', fontStyle: value ? 'normal' : 'italic' }}>\n            {value || ''}\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: 'position',\n      header: 'Pozice',\n      cell: (info) => {\n        const value = info.getValue();\n        return (\n          <div style={{ textAlign: 'center', fontSize: '0.875rem', fontWeight: 500, color: value ? 'inherit' : '#9ca3af', fontStyle: value ? 'normal' : 'italic' }}>\n            {value || ''}\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: 'group_name',\n      header: 'Role',\n      cell: (info) => <div style={{ textAlign: 'left', fontWeight: 500, paddingLeft: '1rem' }}>{info.getValue()}</div>,\n    },\n    {\n      id: 'rights_count',\n      header: 'Prva',\n      cell: ({ row }) => {\n        // Spotat vechna uniktn prva uivatele\n        const allRightsMap = new Map();\n\n        // Pidat prva z rol\n        if (row.original.roles && Array.isArray(row.original.roles)) {\n          row.original.roles.forEach(role => {\n            if (role.rights && Array.isArray(role.rights)) {\n              role.rights.forEach(right => {\n                const kod = right.kod_prava || right.nazev || right.name || right.code;\n                if (kod) {\n                  allRightsMap.set(kod, true);\n                }\n              });\n            }\n          });\n        }\n\n        // Pidat pm prva\n        if (row.original.direct_rights && Array.isArray(row.original.direct_rights)) {\n          row.original.direct_rights.forEach(right => {\n            const kod = right.kod_prava || right.nazev || right.name || right.code;\n            if (kod) {\n              allRightsMap.set(kod, true);\n            }\n          });\n        }\n\n        const totalRights = allRightsMap.size;\n\n        return (\n          <div style={{\n            textAlign: 'center',\n            fontWeight: 600,\n            color: totalRights > 0 ? '#16a34a' : '#94a3b8',\n            fontSize: '0.875rem'\n          }}>\n            {totalRights > 0 ? totalRights : '0'}\n          </div>\n        );\n      },\n    },\n    {\n      id: 'orders_count',\n      header: 'Objednvky',\n      accessorFn: (row) => ordersCount[row.id] || 0,\n      cell: ({ row }) => {\n        const userOrdersCount = ordersCount[row.original.id];\n        const isLoading = userOrdersCount === undefined;\n\n        return (\n          <div\n            style={{\n              textAlign: 'center',\n              fontWeight: 600,\n              color: isLoading ? '#94a3b8' : (userOrdersCount > 0 ? '#3b82f6' : '#94a3b8'),\n              fontSize: '0.875rem',\n              position: 'relative'\n            }}\n            title={isLoading ? 'Natm poet objednvek...' : `Poet objednvek: ${userOrdersCount}`}\n          >\n            {isLoading ? (\n              <span style={{\n                animation: 'pulse 0.8s ease-in-out infinite',\n                opacity: 0.7,\n                fontSize: '0.7rem'\n              }}>\n                \n              </span>\n            ) : (\n              <span style={{\n                fontWeight: userOrdersCount > 0 ? 700 : 400,\n                color: userOrdersCount > 0 ? '#3b82f6' : '#94a3b8'\n              }}>\n                {userOrdersCount}\n              </span>\n            )}\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: 'vynucena_zmena_hesla',\n      header: 'Vynucen',\n      size: 80,\n      maxSize: 80,\n      cell: ({ row }) => {\n        const isForced = row.original.vynucena_zmena_hesla === 1;\n        return (\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              fontSize: '1.1rem',\n              cursor: 'pointer',\n              padding: '4px'\n            }}\n            title={isForced ? 'Uivatel mus zmnit heslo pi ptm pihlen' : 'Normln pihlaovn'}\n            onClick={() => handleToggleForcePasswordChange(row.original)}\n          >\n            <FontAwesomeIcon\n              icon={isForced ? faExclamationTriangle : faQuestionCircle}\n              style={{ \n                color: isForced ? '#f59e0b' : '#94a3b8',\n                transition: 'color 0.2s ease'\n              }}\n            />\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: 'active',\n      header: 'Status',\n      size: 80,\n      maxSize: 80,\n      cell: ({ row }) => (\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'center',\n            fontSize: '1.25rem'\n          }}\n          title={row.original.active ? 'Aktivn' : 'Neaktivn'}\n        >\n          <FontAwesomeIcon\n            icon={row.original.active ? faCheckCircle : faTimesCircle}\n            style={{ color: row.original.active ? '#16a34a' : '#dc2626' }}\n          />\n        </div>\n      ),\n    },\n    {\n      id: 'actions',\n      size: 160, // 4 ikony  2rem (32px) + 3 mezery  0.12rem (~2px) + padding = ~160px (vce ikon ne DocxSablony)\n      maxSize: 160,\n      header: () => (\n        <div style={{\n          textAlign: 'center',\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          width: '100%'\n        }}>\n          <FontAwesomeIcon\n            icon={faBolt}\n            style={{\n              color: '#eab308',\n              fontSize: '16px'\n            }}\n          />\n        </div>\n      ),\n      cell: ({ row }) => {\n        // Kontrola zda se jedn o aktuln pihlenho uivatele\n        const isCurrentUser = row.original.username === username;\n        const canHardDelete = hasPermission && hasPermission('USER_DELETE');\n\n        // Tooltip pro tlatko smazat\n        const getDeleteTooltip = () => {\n          if (isCurrentUser) return 'Nemete smazat sm sebe';\n          if (canHardDelete) return 'Trvale smazat uivatele z databze';\n          return 'Deaktivovat uivatele (nemte prvo USER_DELETE)';\n        };\n\n        return (\n          <ActionMenu>\n            <ActionMenuButton\n              className={row.original.active ? 'toggle-active' : 'toggle-inactive'}\n              title={isCurrentUser ? 'Nemete deaktivovat sm sebe' : (row.original.active ? 'Deaktivovat uivatele' : 'Aktivovat uivatele')}\n              onClick={isCurrentUser ? undefined : () => handleToggleStatus(row.original)}\n              disabled={isCurrentUser}\n              style={{\n                opacity: isCurrentUser ? 0.4 : 1,\n                cursor: isCurrentUser ? 'not-allowed' : 'pointer'\n              }}\n            >\n              <FontAwesomeIcon icon={row.original.active ? faToggleOn : faToggleOff} />\n            </ActionMenuButton>\n            <ActionMenuButton\n              className=\"reset\"\n              title=\"Resetovat heslo\"\n              onClick={() => handleResetPassword(row.original)}\n            >\n              <FontAwesomeIcon icon={faKey} />\n            </ActionMenuButton>\n            <ActionMenuButton\n              className=\"edit\"\n              title=\"Upravit uivatele\"\n              onClick={() => handleEditUser(row.original)}\n            >\n              <FontAwesomeIcon icon={faEdit} />\n            </ActionMenuButton>\n            <ActionMenuButton\n              className=\"delete\"\n              title={getDeleteTooltip()}\n              onClick={isCurrentUser ? undefined : () => handleDeleteUser(row.original)}\n              disabled={isCurrentUser}\n              style={{\n                opacity: isCurrentUser ? 0.4 : 1,\n                cursor: isCurrentUser ? 'not-allowed' : 'pointer'\n              }}\n            >\n              <FontAwesomeIcon icon={faTrash} />\n            </ActionMenuButton>\n          </ActionMenu>\n        );\n      },\n    },\n  ], [expandedRows, ordersCount, hasPermission]);\n\n  const table = useReactTable({\n    data: filteredData,\n    columns,\n    getRowId: (row) => String(row.id), //  Pout user.id jako uniktn kl pro prevenci duplikt\n    state: {\n      globalFilter,\n      sorting,\n      pagination: {\n        pageSize: pageSize,\n        pageIndex: currentPageIndex,\n      },\n    },\n    onGlobalFilterChange: setGlobalFilter,\n    onSortingChange: setSorting,\n    getCoreRowModel: getCoreRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    getExpandedRowModel: getExpandedRowModel(),\n    getPaginationRowModel: getPaginationRowModel(),\n    enableExpanding: true,\n    getRowCanExpand: () => true,\n    manualPagination: false,\n  });\n\n  // Update table page size and index when state changes (stejn jako v Orders25List)\n  useEffect(() => {\n    if (table) {\n      table.setPageSize(pageSize);\n      table.setPageIndex(currentPageIndex);\n    }\n  }, [pageSize, currentPageIndex, table]);\n\n  // Save filters to localStorage when they change\n  useEffect(() => {\n    setUserStorage('users_globalFilter', globalFilter);\n  }, [globalFilter, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_departmentFilter', departmentFilter);\n  }, [departmentFilter, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_groupFilter', groupFilter);\n  }, [groupFilter, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_locationFilter', locationFilter);\n  }, [locationFilter, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_positionFilter', positionFilter);\n  }, [positionFilter, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_statusFilter', statusFilter);\n  }, [statusFilter, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_showFilters', showFilters);\n  }, [showFilters, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_showExpandedFilters', showExpandedFilters);\n  }, [showExpandedFilters, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_columnFilters', columnFilters);\n  }, [columnFilters, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_showRowHighlighting', showRowHighlighting);\n  }, [showRowHighlighting, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_showDashboard', showDashboard);\n  }, [showDashboard, user_id]);\n\n  useEffect(() => {\n    setUserStorage('users_showDebug', showDebug);\n  }, [showDebug, user_id]);\n\n  // Save sorting to localStorage when it changes\n  useEffect(() => {\n    setUserStorage('users_sorting', sorting);\n  }, [sorting]);\n\n  // Reset to first page if current page is out of bounds\n  useEffect(() => {\n    if (table && table.getPageCount() > 0) {\n      const maxPageIndex = table.getPageCount() - 1;\n      if (currentPageIndex > maxPageIndex) {\n        setCurrentPageIndex(0);\n        setUserStorage('users_pageIndex', 0);\n        table.setPageIndex(0);\n      }\n    }\n  }, [currentPageIndex, table]);\n\n  // Pagination navigation helpers (stejn jako v Orders25List)\n  const goToFirstPage = () => {\n    setCurrentPageIndex(0);\n    setUserStorage('users_pageIndex', 0);\n    table.setPageIndex(0);\n  };\n\n  const goToPreviousPage = () => {\n    const newIndex = Math.max(0, currentPageIndex - 1);\n    setCurrentPageIndex(newIndex);\n    setUserStorage('users_pageIndex', newIndex);\n    table.setPageIndex(newIndex);\n  };\n\n  const goToNextPage = () => {\n    const maxIndex = table.getPageCount() - 1;\n    const newIndex = Math.min(maxIndex, currentPageIndex + 1);\n    setCurrentPageIndex(newIndex);\n    setUserStorage('users_pageIndex', newIndex);\n    table.setPageIndex(newIndex);\n  };\n\n  const goToLastPage = () => {\n    const maxIndex = table.getPageCount() - 1;\n    setCurrentPageIndex(maxIndex);\n    setUserStorage('users_pageIndex', maxIndex);\n    table.setPageIndex(maxIndex);\n  };\n\n  const handleToggleStatus = (user) => {\n    // Kontrola zda se nejedn o aktuln pihlenho uivatele\n    if (user.username === username) {\n      if (showToast) showToast('Nemete deaktivovat sm sebe', { type: 'warning' });\n      return;\n    }\n    setSelectedUser(user);\n    setDialogAction('toggle');\n    setIsDialogOpen(true);\n  };\n\n  const handleToggleForcePasswordChange = async (user) => {\n    const currentValue = user.vynucena_zmena_hesla === 1;\n    const newValue = !currentValue;\n    \n    console.log(' Toggle force password change:', {\n      userId: user.id,\n      currentValue,\n      newValue,\n      userData: user\n    });\n    \n    try {\n      startGlobalProgress();\n      setGlobalProgress(30);\n\n      // Voln API pro update vynucena_zmena_hesla\n      const result = await partialUpdateUser({\n        token,\n        username,\n        id: user.id,\n        vynucena_zmena_hesla: newValue ? 1 : 0\n      });\n\n      console.log(' Toggle API result:', result);\n\n      setGlobalProgress(70);\n\n      // Update local data\n      const updatedUsers = users.map(u => \n        u.id === user.id \n          ? { ...u, vynucena_zmena_hesla: newValue ? 1 : 0 }\n          : u\n      );\n      setUsers(updatedUsers);\n\n      setGlobalProgress(100);\n      doneGlobalProgress();\n\n      if (showToast) {\n        const fullName = user.fullName || user.username;\n        const action = newValue ? 'vynut zmnu hesla' : 'zru vynucen zmny hesla';\n        showToast(` Uivatel ${fullName} - ${action}`, { type: 'success' });\n      }\n\n    } catch (error) {\n      doneGlobalProgress();\n\n      const errorMessage = error.message || 'Chyba pi zmn nastaven hesla';\n      if (showToast) {\n        showToast(` ${errorMessage}`, { type: 'error' });\n      }\n    }\n  };\n\n  const handleResetPassword = (user) => {\n    setSelectedUser(user);\n    setIsResetPasswordModalOpen(true);\n  };\n\n  const handleResetPasswordConfirm = async (newPassword) => {\n    if (!selectedUser) return;\n\n    try {\n      startGlobalProgress();\n      setGlobalProgress(30);\n\n      // Voln API pro reset hesla\n      const result = await partialUpdateUser({\n        token,\n        username,\n        id: selectedUser.id,\n        password: newPassword\n      });\n\n      setGlobalProgress(70);\n\n      // Refresh user list to show any updates\n      await fetchUsers();\n\n      setGlobalProgress(100);\n      doneGlobalProgress();\n\n      if (showToast) {\n        const fullName = selectedUser.fullName || selectedUser.username;\n        showToast(` Heslo uivatele ${fullName} bylo spn zmnno`, { type: 'success' });\n      }\n\n      setIsResetPasswordModalOpen(false);\n      setSelectedUser(null);\n    } catch (error) {\n      doneGlobalProgress();\n\n      const errorMessage = error.message || 'Chyba pi zmn hesla';\n      if (showToast) {\n        showToast(` ${errorMessage}`, { type: 'error' });\n      }\n    }\n  };\n\n  const handleEditUser = async (user) => {\n    try {\n      // POKUS 1: Zkusme nast z API\n      let userDetail = null;\n      try {\n        userDetail = await fetchUserDetail({\n          token,\n          username,\n          id: user.id\n        });\n      } catch (apiError) {\n        // API detail selhal, pouije se fallback data\n        console.error(' handleEditUser - API error:', apiError);\n      }\n\n      // POKUS 2: Pokud API nevrtilo ID pole, najdi uivatele v rawApiData\n      if (!userDetail || (!userDetail.usek_id && !userDetail.usek?.id)) {\n        const rawUser = rawApiData?.find(u => (u.id || u.user_id) === user.id);\n\n        if (rawUser) {\n          userDetail = {\n            ...userDetail,\n            ...rawUser,\n            // Zajisti sprvn mapovn\n            id: rawUser.id || rawUser.user_id,\n            username: rawUser.username || rawUser.prihlas_jmeno,\n            jmeno: rawUser.jmeno || rawUser.name,\n            prijmeni: rawUser.prijmeni || rawUser.surname,\n          };\n        }\n      }\n\n      setUserModalState({\n        isOpen: true,\n        mode: 'edit',\n        userData: userDetail\n      });\n    } catch (error) {\n      if (showToast) {\n        showToast('Chyba pi natn detailu uivatele', { type: 'error' });\n      }\n    }\n  };\n\n  const handleAddUser = () => {\n    setUserModalState({\n      isOpen: true,\n      mode: 'create',\n      userData: null\n    });\n  };\n\n  const handleCloseUserModal = () => {\n    setUserModalState({\n      isOpen: false,\n      mode: 'create',\n      userData: null\n    });\n  };\n\n  const handleUserModalSuccess = () => {\n    //  Tich naten na pozad msto reload strnky se splash screen\n    // NEVYIOVAT users[], aby uivatel vidl aktuln stav\n    // Jen spustit fetch na pozad - bez loader animac\n\n\n    //  Nastavit silentRefresh flag - fetchUsers se spust bez progress baru\n    setSilentRefresh(true);\n\n    // Trigger force refresh zmnou refreshTrigger\n    // Toto vyvol useEffect, kter nate data znovu (s silent=true)\n    setRefreshTrigger(prev => prev + 1);\n\n    // Pokud mme natn pot objednvek, obnovme i je\n    if (typeof fetchOrdersCounts === 'function') {\n      // Mal delay ped natenm count, aby se DB stihla aktualizovat\n      setTimeout(() => {\n        fetchOrdersCounts(true); // force refresh\n      }, 500);\n    }\n\n  };\n\n  const handleDeleteUser = (user) => {\n    // Kontrola zda se nejedn o aktuln pihlenho uivatele\n    if (user.username === username) {\n      if (showToast) showToast('Nemete smazat sm sebe', { type: 'warning' });\n      return;\n    }\n    setSelectedUser(user);\n    setDialogAction('delete');\n    setIsDialogOpen(true);\n  };\n\n  const handleConfirmAction = async () => {\n    if (!selectedUser) return;\n\n    try {\n      startGlobalProgress();\n      setGlobalProgress(30);\n\n      switch (dialogAction) {\n        case 'delete': {\n          // Kontrola prv - pokud m USER_DELETE, skuten smazat, jinak jen deaktivovat\n          const canHardDelete = hasPermission && hasPermission('USER_DELETE');\n          const fullName = selectedUser.fullName || selectedUser.username;\n\n          if (canHardDelete) {\n            // Hard delete\n            await deleteUser({\n              token,\n              username,\n              id: selectedUser.id\n            });\n\n            setGlobalProgress(100);\n            doneGlobalProgress();\n\n            if (showToast) {\n              showToast(` Uivatel ${fullName} byl trvale smazn z databze`, { type: 'success' });\n            }\n          } else {\n            // Soft delete - pouze deaktivace\n            await deactivateUser({\n              token,\n              username,\n              id: selectedUser.id\n            });\n\n            setGlobalProgress(100);\n            doneGlobalProgress();\n\n            if (showToast) {\n              showToast(` Uivatel ${fullName} byl deaktivovn`, { type: 'success' });\n            }\n          }\n\n          // Force refresh seznamu uivatel z databze\n          setUsers([]); // Vyisti aktuln seznam\n          setLoading(true);\n          setRefreshTrigger(prev => prev + 1); // Trigger force refresh\n\n          // Refresh pot objednvek\n          if (typeof fetchOrdersCounts === 'function') {\n            setTimeout(() => fetchOrdersCounts(true), 500);\n          }\n          break;\n        }\n\n        case 'toggle': {\n          // Toggle aktivnho stavu\n          const newActiveState = selectedUser.active ? 0 : 1;\n          const fullName = selectedUser.fullName || selectedUser.username;\n\n          await partialUpdateUser({\n            token,\n            username,\n            id: selectedUser.id,\n            aktivni: newActiveState\n          });\n\n          setGlobalProgress(100);\n          doneGlobalProgress();\n\n          if (showToast) {\n            showToast(\n              newActiveState === 1\n                ? ` Uivatel ${fullName} byl aktivovn`\n                : ` Uivatel ${fullName} byl deaktivovn`,\n              { type: 'success' }\n            );\n          }\n\n          // Force refresh seznamu uivatel z databze\n          setUsers([]); // Vyisti aktuln seznam\n          setLoading(true);\n          setRefreshTrigger(prev => prev + 1); // Trigger force refresh\n\n          // Refresh pot objednvek\n          if (typeof fetchOrdersCounts === 'function') {\n            setTimeout(() => fetchOrdersCounts(true), 500);\n          }\n          break;\n        }\n\n        default:\n          doneGlobalProgress();\n          break;\n      }\n\n      setIsDialogOpen(false);\n      setSelectedUser(null);\n      setDialogAction(null);\n\n    } catch (error) {\n      doneGlobalProgress();\n\n      const errorMessage = error.message || 'Chyba pi provdn operace';\n      if (showToast) {\n        showToast(` ${errorMessage}`, { type: 'error' });\n      }\n\n      // Zavt dialog i pi chyb\n      setIsDialogOpen(false);\n      setSelectedUser(null);\n      setDialogAction(null);\n    }\n  };\n\n  const handleCancelAction = () => {\n    setIsDialogOpen(false);\n    setSelectedUser(null);\n    setDialogAction(null);\n  };\n\n  // Context Menu handlers\n  const handleUserContextMenu = useCallback((e, user, cellData = null) => {\n    e.preventDefault();\n\n    // Zjisti na jakou buku se kliklo\n    let selectedData = null;\n    const target = e.target;\n\n    if (cellData) {\n      selectedData = cellData;\n    } else if (target && target.closest('td')) {\n      // Najdi text obsahu buky\n      const cellElement = target.closest('td');\n      selectedData = {\n        value: cellElement.textContent?.trim() || '',\n        element: cellElement\n      };\n    }\n\n    setContextMenu({\n      x: e.clientX,\n      y: e.clientY,\n      user: user,\n      selectedData: selectedData\n    });\n  }, []);\n\n  const handleContextMenuEdit = useCallback(() => {\n    if (contextMenu?.user) {\n      handleEditUser(contextMenu.user);\n    }\n    setContextMenu(null);\n  }, [contextMenu]);\n\n  const handleContextMenuDelete = useCallback(() => {\n    if (contextMenu?.user) {\n      handleDeleteUser(contextMenu.user);\n    }\n    setContextMenu(null);\n  }, [contextMenu]);\n\n  const handleContextMenuToggleActive = useCallback(() => {\n    if (contextMenu?.user) {\n      setSelectedUser(contextMenu.user);\n      setDialogAction('toggle');\n      setIsDialogOpen(true);\n    }\n    setContextMenu(null);\n  }, [contextMenu]);\n\n  const getDialogMessage = () => {\n    if (!selectedUser) return '';\n    const userName = `${selectedUser.name} ${selectedUser.surname} (${selectedUser.username})`;\n    const canHardDelete = hasPermission && hasPermission('USER_DELETE');\n\n    switch (dialogAction) {\n      case 'delete':\n        if (canHardDelete) {\n          return `Opravdu chcete trvale smazat uivatele?\\n\\n${userName}\\n\\nTato akce je nevratn a vechna data uivatele budou trvale odstranna z databze.`;\n        } else {\n          return `Opravdu chcete deaktivovat uivatele?\\n\\n${userName}\\n\\nNemte oprvnn USER_DELETE, proto bude uivatel pouze deaktivovn (soft delete). Jeho data zstanou zachovna, ale nebude se moci pihlsit do systmu.`;\n        }\n      case 'toggle':\n        return selectedUser.active\n          ? `Opravdu chcete deaktivovat uivatele?\\n\\n${userName}\\n\\nUivatel se nebude moci pihlsit do systmu, ale jeho data zstanou zachovna.`\n          : `Opravdu chcete aktivovat uivatele?\\n\\n${userName}\\n\\nUivatel zsk znovu pstup do systmu s pvodnmi prvy.`;\n      default:\n        return '';\n    }\n  };\n\n  const getDialogConfirmText = () => {\n    const canHardDelete = hasPermission && hasPermission('USER_DELETE');\n\n    switch (dialogAction) {\n      case 'delete':\n        return canHardDelete ? 'Smazat trvale' : 'Deaktivovat';\n      case 'toggle':\n        return selectedUser?.active ? 'Deaktivovat' : 'Aktivovat';\n      default:\n        return 'Potvrdit';\n    }\n  };\n\n  const getDialogVariant = () => {\n    const canHardDelete = hasPermission && hasPermission('USER_DELETE');\n\n    switch (dialogAction) {\n      case 'delete':\n        return canHardDelete ? 'danger' : 'warning';\n      case 'toggle':\n        return selectedUser?.active ? 'warning' : 'primary';\n      default:\n        return 'primary';\n    }\n  };\n\n  const getDialogIcon = () => {\n    const canHardDelete = hasPermission && hasPermission('USER_DELETE');\n\n    switch (dialogAction) {\n      case 'delete':\n        return canHardDelete ? faTrash : faExclamationTriangle;\n      case 'toggle':\n        return selectedUser?.active ? faUserSlash : faUserCheck;\n      default:\n        return faQuestionCircle;\n    }\n  };\n\n  const handleStatusFilterClick = () => {\n    setStatusFilter(prev => {\n      if (prev === 'all') return 'active';\n      if (prev === 'active') return 'inactive';\n      return 'all';\n    });\n  };\n\n  const handleClearFilters = () => {\n    setGlobalFilter('');\n    setDepartmentFilter('');\n    setGroupFilter('');\n    setLocationFilter('');\n    setPositionFilter('');\n    setStatusFilter('all'); // Reset na defaultn hodnotu\n    setColumnFilters({}); // Vymazat i column filtry v tabulce\n    // localStorage will be updated automatically via useEffect hooks\n  };\n\n  const clearColumnFilters = () => {\n    setColumnFilters({});\n    // localStorage will be updated automatically via useEffect hook\n  };\n\n  // Handler pro toggle rozenho filtru\n  const handleToggleFilters = () => {\n    const newShowFilters = !showFilters;\n    setShowFilters(newShowFilters);\n    setUserStorage('users_showFilters', newShowFilters);\n  };\n\n  // Handler pro toggle rozench filtr (Lokalita, Pozice, sek, Role)\n  const handleToggleExpandedFilters = () => {\n    const newShowExpandedFilters = !showExpandedFilters;\n    setShowExpandedFilters(newShowExpandedFilters);\n    setUserStorage('users_showExpandedFilters', newShowExpandedFilters);\n  };\n\n  const toggleAllRows = () => {\n    const anyExpanded = Object.values(expandedRows).some(val => val);\n    if (anyExpanded) {\n      setExpandedRows({});\n    } else {\n      const allExpanded = {};\n      filteredData.forEach((_, index) => {\n        allExpanded[index] = true;\n      });\n      setExpandedRows(allExpanded);\n    }\n  };\n\n  const toggleRowHighlighting = () => {\n    setShowRowHighlighting(!showRowHighlighting);\n  };\n\n  const handleRefreshOrdersCount = () => {\n    if (showToast) {\n      showToast('Aktualizuji poty objednvek z databze...', { type: 'info' });\n    }\n    fetchOrdersCounts(true); // Force refresh z DB\n  };\n\n  const handleToggleDashboard = () => {\n    const newShowDashboard = !showDashboard;\n    setShowDashboard(newShowDashboard);\n    setUserStorage('users_showDashboard', newShowDashboard);\n  };\n\n  const handleShowFilters = () => {\n    setShowFilters(true);\n    setUserStorage('users_showFilters', true);\n  };\n\n  const handleExport = () => {\n    if (showToast) showToast('Export uivatel bude dostupn brzy', { type: 'info' });\n  };\n\n  const handleToggleDebug = () => {\n    const newShowDebug = !showDebug;\n    setShowDebug(newShowDebug);\n    setUserStorage('users_showDebug', newShowDebug);\n  };\n\n  const uniqueDepartments = useMemo(() => [...new Set(users.map(u => u.department))].sort(), [users]);\n  const uniqueGroups = useMemo(() => [...new Set(users.map(u => u.group_name))].sort(), [users]);\n  const uniqueLocations = useMemo(() => [...new Set(users.map(u => u.location))].sort(), [users]);\n  const uniquePositions = useMemo(() => [...new Set(users.map(u => u.position))].sort(), [users]);\n\n  const renderPagination = () => {\n    const pageCount = table.getPageCount();\n    const currentPage = table.getState().pagination.pageIndex;\n    if (pageCount <= 1) return null;\n\n    const pages = [];\n    pages.push(<PageButton key={0} onClick={() => table.setPageIndex(0)} className={currentPage === 0 ? 'active' : ''}>1</PageButton>);\n\n    if (currentPage > 2) pages.push(<span key=\"ellipsis1\" style={{ padding: '0 0.5rem', color: '#9ca3af' }}>...</span>);\n\n    for (let i = Math.max(1, currentPage - 1); i <= Math.min(pageCount - 2, currentPage + 1); i++) {\n      pages.push(<PageButton key={i} onClick={() => table.setPageIndex(i)} className={currentPage === i ? 'active' : ''}>{i + 1}</PageButton>);\n    }\n\n    if (currentPage < pageCount - 3) pages.push(<span key=\"ellipsis2\" style={{ padding: '0 0.5rem', color: '#9ca3af' }}>...</span>);\n\n    if (pageCount > 1) {\n      pages.push(<PageButton key={pageCount - 1} onClick={() => table.setPageIndex(pageCount - 1)} className={currentPage === pageCount - 1 ? 'active' : ''}>{pageCount}</PageButton>);\n    }\n\n    return pages;\n  };\n\n  if (loading && users.length === 0) {\n    return (\n      <LoadingOverlay $visible={true}>\n        <LoadingSpinner $visible={true} />\n        <LoadingMessage $visible={true}>Natm uivatele...</LoadingMessage>\n        <LoadingSubtext $visible={true}>Prosm ekejte</LoadingSubtext>\n      </LoadingOverlay>\n    );\n  }\n\n  if (error && users.length === 0) {\n    return <Container><ErrorMessage>{error}</ErrorMessage></Container>;\n  }\n\n  return (\n    <>\n    <Container>\n      <LoadingOverlay $visible={loading}>\n        <LoadingSpinner $visible={loading} />\n        <LoadingMessage $visible={loading}>Aktualizuji data...</LoadingMessage>\n        <LoadingSubtext $visible={loading}>Prosm ekejte</LoadingSubtext>\n      </LoadingOverlay>\n\n      <PageContent $blurred={loading}>\n\n      <TitlePanel>\n        <TitleLeft>\n          <SmartTooltip text=\"Obnovit seznam uivatel z databze (force reload)\" icon=\"warning\" preferredPosition=\"bottom\">\n            <RefreshButton onClick={fetchUsers}>\n              <FontAwesomeIcon icon={faSyncAlt} />\n            </RefreshButton>\n          </SmartTooltip>\n        </TitleLeft>\n        <PageTitle>\n          Sprva uivatel\n          <FontAwesomeIcon icon={faUsers} />\n        </PageTitle>\n      </TitlePanel>\n\n      <ActionBar>\n        {!showDashboard && (\n          <SmartTooltip text=\"Zobrazit pehledov dashboard\" icon=\"info\" preferredPosition=\"bottom\">\n            <ActionButton onClick={handleToggleDashboard}>\n              <FontAwesomeIcon icon={faDashboard} />\n              Dashboard\n            </ActionButton>\n          </SmartTooltip>\n        )}\n\n        {!showFilters && (\n          <SmartTooltip text=\"Zobrazit pokroil filtry\" icon=\"info\" preferredPosition=\"bottom\">\n            <ActionButton onClick={handleShowFilters}>\n              <FontAwesomeIcon icon={faFilter} />\n              Filtr\n            </ActionButton>\n          </SmartTooltip>\n        )}\n\n        <SmartTooltip text=\"Export seznamu uivatel do CSV\" icon=\"success\" preferredPosition=\"bottom\">\n          <ActionButton onClick={handleExport}>\n            <FontAwesomeIcon icon={faFileExport} />\n            Export\n          </ActionButton>\n        </SmartTooltip>\n\n        <SmartTooltip text=\"Vytvoit novho uivatele\" icon=\"success\" preferredPosition=\"bottom\">\n          <ActionButton $primary onClick={handleAddUser}>\n            <FontAwesomeIcon icon={faPlus} />\n            Pidat uivatele\n          </ActionButton>\n        </SmartTooltip>\n      </ActionBar>\n\n      {/* Debug Panel - pstupn z DEBUG menu v menubar */}\n      {showDebug && rawApiData && (\n        <DebugPanel>\n          <DebugHeader>\n            <DebugTitle>\n              <FontAwesomeIcon icon={faEraser} />\n               DEBUG - Surov data z API (users/list)\n            </DebugTitle>\n            <ActionButton onClick={handleToggleDebug}>\n              <FontAwesomeIcon icon={faTimes} />\n              Skrt debug\n            </ActionButton>\n          </DebugHeader>\n          <DebugContent>\n            <DebugSection>\n              <DebugLabel> Zkladn info:</DebugLabel>\n              <DebugValue>{`Poet uivatel: ${rawApiData.length}\nUivatel s ID: ${rawApiData.map(u => `${u.id || u.user_id} (${u.username || u.prihlas_jmeno})`).join(', ')}`}</DebugValue>\n            </DebugSection>\n\n            <DebugSection>\n              <DebugLabel> Poty objednvek:</DebugLabel>\n              <DebugValue>{`Nateno pot: ${Object.keys(ordersCount).length}\n${Object.entries(ordersCount).map(([userId, count]) => {\n                const user = users.find(u => u.id === parseInt(userId));\n                return `  - User ${userId} (${user?.username || 'Neznm'}): ${count === undefined ? 'nat...' : count}`;\n              }).join('\\n')}\n\nStav ordersCount:\n${JSON.stringify(ordersCount, null, 2)}`}</DebugValue>\n            </DebugSection>\n\n            {rawApiData[0] && (\n              <DebugSection>\n                <DebugLabel> Prvn uivatel (struktura):</DebugLabel>\n                <DebugValue>{JSON.stringify(rawApiData[0], null, 2)}</DebugValue>\n              </DebugSection>\n            )}\n\n            <DebugSection>\n              <DebugLabel> Vechna data (JSON):</DebugLabel>\n              <DebugValue>{JSON.stringify(rawApiData, null, 2)}</DebugValue>\n            </DebugSection>\n          </DebugContent>\n        </DebugPanel>\n      )}\n\n      {showDashboard && (\n        <DashboardPanel>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n            <h3 style={{ margin: 0, display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n              <FontAwesomeIcon icon={faDashboard} style={{ color: '#3b82f6' }} />\n              Dashboard uivatel\n            </h3>\n            <div style={{ display: 'flex', gap: '0.5rem' }}>\n              <SmartTooltip text=\"Skrt dashboard a zobrazit pouze tabulku uivatel\" icon=\"info\" preferredPosition=\"bottom\">\n                <ActionButton onClick={handleToggleDashboard}>\n                  <FontAwesomeIcon icon={faTimes} />\n                  Skrt\n                </ActionButton>\n              </SmartTooltip>\n            </div>\n          </div>\n          <DashboardGrid>\n            {/* Vysok dlazdice s aktivnmi uivateli - PRVN */}\n            <TallStatCard $color=\"#16a34a\">\n              <StatHeader style={{ marginBottom: '0.75rem', display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\n                <StatLabel style={{ fontSize: '0.875rem', fontWeight: 600, color: '#16a34a', margin: 0 }}>\n                  <FontAwesomeIcon icon={faUserCheck} style={{ marginRight: '0.5rem' }} />\n                  Aktivn uivatel ({activeUsers.length})\n                </StatLabel>\n                <button\n                  onClick={fetchActiveUsersData}\n                  style={{\n                    background: 'none',\n                    border: 'none',\n                    cursor: 'pointer',\n                    color: '#16a34a',\n                    padding: '0.25rem',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    borderRadius: '4px',\n                    transition: 'all 0.2s'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.background = 'rgba(22, 163, 74, 0.1)';\n                    e.currentTarget.style.transform = 'rotate(180deg)';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.background = 'none';\n                    e.currentTarget.style.transform = 'rotate(0deg)';\n                  }}\n                  title=\"Obnovit seznam\"\n                >\n                  <FontAwesomeIcon icon={faSyncAlt} size=\"sm\" />\n                </button>\n              </StatHeader>\n              <div style={{\n                flex: 1,\n                overflowY: 'auto',\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '0.35rem',\n                paddingRight: '0.25rem'\n              }}>\n                {activeUsers.length === 0 ? (\n                  <div style={{\n                    textAlign: 'center',\n                    padding: '2rem 1rem',\n                    color: '#9ca3af',\n                    fontSize: '0.875rem'\n                  }}>\n                    dn aktivn uivatel\n                  </div>\n                ) : (\n                  activeUsers.slice(0, 8).map((user, index) => {\n                    const now = new Date();\n                    const activityTime = new Date(user.dt_posledni_aktivita);\n                    const diffSec = Math.floor((now - activityTime) / 1000);\n                    const diffMin = Math.floor(diffSec / 60);\n                    const status = diffSec < 270 ? 'active' : diffSec < 300 ? 'warning' : 'inactive';\n\n                    // Formtovat as\n                    let timeText = '';\n                    if (diffSec < 60) {\n                      timeText = `${diffSec}s`;\n                    } else {\n                      timeText = `${diffMin}m`;\n                    }\n\n                    // Formtovat datum a as v CZ formtu\n                    const dateTimeText = prettyDate(activityTime);\n\n                    return (\n                      <div key={index} style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '0.5rem',\n                        padding: '0.35rem 0.5rem',\n                        borderRadius: '4px',\n                        transition: 'background 0.2s'\n                      }}\n                      onMouseEnter={(e) => e.currentTarget.style.background = 'rgba(0, 0, 0, 0.02)'}\n                      onMouseLeave={(e) => e.currentTarget.style.background = 'transparent'}\n                      >\n                        <div style={{\n                          width: '8px',\n                          height: '8px',\n                          borderRadius: '50%',\n                          flexShrink: 0,\n                          background: status === 'active' ? '#22c55e' : status === 'warning' ? '#f59e0b' : '#ef4444'\n                        }} />\n                        <div style={{\n                          fontSize: '0.875rem',\n                          color: '#1f2937',\n                          fontWeight: 500,\n                          whiteSpace: 'nowrap',\n                          overflow: 'hidden',\n                          textOverflow: 'ellipsis',\n                          flex: 1\n                        }}>\n                          {user.cele_jmeno}\n                        </div>\n                        <div style={{\n                          fontSize: '0.75rem',\n                          color: '#9ca3af',\n                          fontWeight: 400,\n                          whiteSpace: 'nowrap',\n                          flexShrink: 0,\n                          minWidth: '150px',\n                          textAlign: 'right'\n                        }}>\n                          {dateTimeText}\n                        </div>\n                        <div style={{\n                          fontSize: '0.75rem',\n                          color: '#9ca3af',\n                          fontWeight: 400,\n                          flexShrink: 0,\n                          minWidth: '40px',\n                          textAlign: 'right'\n                        }}>\n                          {timeText}\n                        </div>\n                      </div>\n                    );\n                  })\n                )}\n              </div>\n            </TallStatCard>\n\n            {/* Mal statistick dlazdice - VEDLE */}\n            <SmallStatCard\n              $color=\"#3b82f6\"\n              $clickable\n              $isActive={statusFilter === 'all'}\n              onClick={() => setStatusFilter('all')}\n              title=\"Kliknte pro zobrazen vech uivatel\"\n            >\n              <StatHeader>\n                <StatValue>{stats.total}</StatValue>\n                <StatIcon $color=\"#3b82f6\"><FontAwesomeIcon icon={faUsers} /></StatIcon>\n              </StatHeader>\n              <StatLabel>Celkem uivatel v systmu</StatLabel>\n            </SmallStatCard>\n\n            <SmallStatCard\n              $color=\"#16a34a\"\n              $clickable\n              $isActive={statusFilter === 'active'}\n              onClick={() => setStatusFilter('active')}\n              title=\"Kliknte pro filtrovn pouze aktivnch uivatel\"\n            >\n              <StatHeader>\n                <StatValue>{stats.active}</StatValue>\n                <StatIcon $color=\"#16a34a\"><FontAwesomeIcon icon={faUserCheck} /></StatIcon>\n              </StatHeader>\n              <StatLabel>Aktivn uivatel</StatLabel>\n            </SmallStatCard>\n\n            <SmallStatCard\n              $color=\"#dc2626\"\n              $clickable\n              $isActive={statusFilter === 'inactive'}\n              onClick={() => setStatusFilter('inactive')}\n              title=\"Kliknte pro filtrovn pouze neaktivnch uivatel\"\n            >\n              <StatHeader>\n                <StatValue>{stats.inactive}</StatValue>\n                <StatIcon $color=\"#dc2626\"><FontAwesomeIcon icon={faUserSlash} /></StatIcon>\n              </StatHeader>\n              <StatLabel>Neaktivn uivatel</StatLabel>\n            </SmallStatCard>\n\n            <SmallStatCard $color=\"#f59e0b\">\n              <StatHeader>\n                <StatValue>{Object.keys(stats.departments).length}</StatValue>\n                <StatIcon $color=\"#f59e0b\"><FontAwesomeIcon icon={faBuilding} /></StatIcon>\n              </StatHeader>\n              <StatLabel>Poet sek</StatLabel>\n            </SmallStatCard>\n\n            <SmallStatCard $color=\"#8b5cf6\">\n              <StatHeader>\n                <StatValue>{Object.keys(stats.groups).length}</StatValue>\n                <StatIcon $color=\"#8b5cf6\"><FontAwesomeIcon icon={faShield} /></StatIcon>\n              </StatHeader>\n              <StatLabel>Poet skupin/rol</StatLabel>\n            </SmallStatCard>\n\n            <SmallStatCard $color=\"#ec4899\">\n              <StatHeader>\n                <StatValue>\n                  {Object.keys(ordersCount).length > 0 ?\n                    Object.values(ordersCount).filter(count => count > 0).length :\n                    '...'\n                  }\n                </StatValue>\n                <StatIcon $color=\"#ec4899\"><FontAwesomeIcon icon={faUserCheck} /></StatIcon>\n              </StatHeader>\n              <StatLabel>Uivatel s objednvkami</StatLabel>\n            </SmallStatCard>\n          </DashboardGrid>\n        </DashboardPanel>\n      )}\n\n      {/* Filters Panel */}\n      {showFilters && (\n        <FiltersPanel>\n          <FiltersHeader>\n            <FiltersTitle>\n              <FontAwesomeIcon icon={faFilter} />\n              Filtry a vyhledvn\n            </FiltersTitle>\n            <div style={{ display: 'flex', gap: '0.5rem' }}>\n              <SmartTooltip text=\"Vymazat vechny filtry a zobrazit vechny uivatele\" icon=\"warning\" preferredPosition=\"bottom\">\n                <ClearFiltersButton onClick={handleClearFilters}>\n                  <FontAwesomeIcon icon={faEraser} />\n                  Vymazat filtry\n                </ClearFiltersButton>\n              </SmartTooltip>\n              <SmartTooltip\n                text={showExpandedFilters\n                  ? 'Skrt rozen filtry (zobrazit pouze zkladn vyhledvn)'\n                  : 'Zobrazit rozen filtry (role, organizace, stav...)'}\n                icon=\"info\"\n                preferredPosition=\"bottom\"\n              >\n                <ActionButton onClick={handleToggleExpandedFilters}>\n                  <FontAwesomeIcon icon={showExpandedFilters ? faChevronUp : faChevronDown} />\n                  {showExpandedFilters ? 'Skrt filtr' : 'Rozen filtr'}\n                </ActionButton>\n              </SmartTooltip>\n              <SmartTooltip text=\"Skrt cel panel filtr a vyhledvn\" icon=\"info\" preferredPosition=\"bottom\">\n                <ActionButton onClick={() => setShowFilters(false)}>\n                  <FontAwesomeIcon icon={faTimes} />\n                  Skrt\n                </ActionButton>\n              </SmartTooltip>\n            </div>\n          </FiltersHeader>\n\n          {/* Fultext vyhledvn - cel ka */}\n          <FilterGroup style={{ gridColumn: '1 / -1' }}>\n            <FilterLabel>\n              <FontAwesomeIcon icon={faSearch} />\n              Fulltext vyhledvn\n            </FilterLabel>\n            <FilterInputWithIcon>\n              <FontAwesomeIcon icon={faSearch} />\n              <FilterInput\n                type=\"text\"\n                placeholder=\"Hledat v uivatelskm jmnu, jmn, emailu, lokalit, pozici, seku, skupin...\"\n                value={globalFilter}\n                onChange={(e) => setGlobalFilter(e.target.value)}\n                hasIcon\n              />\n              {globalFilter && (\n                <ClearButton\n                  onClick={() => setGlobalFilter('')}\n                  title=\"Vymazat\"\n                >\n                  <FontAwesomeIcon icon={faTimes} />\n                </ClearButton>\n              )}\n            </FilterInputWithIcon>\n          </FilterGroup>\n\n          {/* Rozen filtry - zobraz se po kliknut na \"Rozen filtr\" */}\n          {showExpandedFilters && (\n            <FiltersGrid style={{ marginTop: '1rem' }}>\n              <FilterGroup>\n                <FilterLabel><FontAwesomeIcon icon={faUserCog} />Status uivatele</FilterLabel>\n                <FilterSelectWithIcon>\n                  <FontAwesomeIcon icon={faUserCog} />\n                  <FilterSelect value={statusFilter} onChange={(e) => setStatusFilter(e.target.value)} hasIcon>\n                    <option value=\"all\">Vichni uivatel</option>\n                    <option value=\"active\">Pouze aktivn</option>\n                    <option value=\"inactive\">Pouze neaktivn</option>\n                  </FilterSelect>\n                </FilterSelectWithIcon>\n              </FilterGroup>\n\n              <FilterGroup>\n                <FilterLabel><FontAwesomeIcon icon={faMapMarkerAlt} />Lokalita</FilterLabel>\n                <FilterSelectWithIcon>\n                  <FontAwesomeIcon icon={faMapMarkerAlt} />\n                  <FilterSelect value={locationFilter} onChange={(e) => setLocationFilter(e.target.value)} hasIcon>\n                    <option value=\"\">Vechny lokality</option>\n                    {uniqueLocations.map((loc) => <option key={loc} value={loc}>{loc}</option>)}\n                  </FilterSelect>\n                </FilterSelectWithIcon>\n              </FilterGroup>\n\n              <FilterGroup>\n                <FilterLabel><FontAwesomeIcon icon={faBriefcase} />Pozice</FilterLabel>\n                <FilterSelectWithIcon>\n                  <FontAwesomeIcon icon={faBriefcase} />\n                  <FilterSelect value={positionFilter} onChange={(e) => setPositionFilter(e.target.value)} hasIcon>\n                    <option value=\"\">Vechny pozice</option>\n                    {uniquePositions.map((pos) => <option key={pos} value={pos}>{pos}</option>)}\n                  </FilterSelect>\n                </FilterSelectWithIcon>\n              </FilterGroup>\n\n              <FilterGroup>\n                <FilterLabel><FontAwesomeIcon icon={faBuilding} />sek</FilterLabel>\n                <FilterSelectWithIcon>\n                  <FontAwesomeIcon icon={faBuilding} />\n                  <FilterSelect value={departmentFilter} onChange={(e) => setDepartmentFilter(e.target.value)} hasIcon>\n                    <option value=\"\">Vechny seky</option>\n                    {uniqueDepartments.map((dept) => <option key={dept} value={dept}>{dept}</option>)}\n                  </FilterSelect>\n                </FilterSelectWithIcon>\n              </FilterGroup>\n\n              <FilterGroup>\n                <FilterLabel><FontAwesomeIcon icon={faShield} />Role</FilterLabel>\n                <FilterSelectWithIcon>\n                  <FontAwesomeIcon icon={faShield} />\n                  <FilterSelect value={groupFilter} onChange={(e) => setGroupFilter(e.target.value)} hasIcon>\n                    <option value=\"\">Vechny skupiny</option>\n                    {uniqueGroups.map((group) => <option key={group} value={group}>{group}</option>)}\n                  </FilterSelect>\n                </FilterSelectWithIcon>\n              </FilterGroup>\n            </FiltersGrid>\n          )}\n        </FiltersPanel>\n      )}\n\n      {/*  TableScrollWrapper s shadow indiktory */}\n      <TableScrollWrapper\n        ref={setTableWrapperRef}\n        $showLeftShadow={showLeftShadow}\n        $showRightShadow={showRightShadow}\n      >\n        <TableContainer ref={setTableContainerRef}>\n          <Table>\n          <TableHead>\n            {/* Prvn dek - nzvy sloupc */}\n            {table.getHeaderGroups().map((headerGroup) => (\n              <tr key={headerGroup.id}>\n                {headerGroup.headers.map((header) => (\n                  <TableHeader\n                    key={header.id}\n                    onClick={header.column.getCanSort() ? header.column.getToggleSortingHandler() : undefined}\n                    style={{\n                      cursor: header.column.getCanSort() ? 'pointer' : 'default',\n                      ...(header.id === 'expander' ? { width: '50px', textAlign: 'center' } : {})\n                    }}\n                  >\n                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem' }}>\n                      {flexRender(header.column.columnDef.header, header.getContext())}\n                      {header.column.getCanSort() && header.column.getIsSorted() && (\n                        <FontAwesomeIcon\n                          icon={\n                            header.column.getIsSorted() === 'asc' ? faChevronUp :\n                            faChevronDown\n                          }\n                        />\n                      )}\n                    </div>\n                  </TableHeader>\n                ))}\n              </tr>\n            ))}\n\n            {/* Druh dek - filtry sloupc */}\n            <tr>\n              {table.getHeaderGroups()[0]?.headers.map(header => (\n                <TableHeader key={`filter-${header.id}`} style={{\n                  padding: '0.5rem',\n                  backgroundColor: '#f8f9fa',\n                  borderTop: '1px solid #e5e7eb',\n                  ...(header.id === 'expander' ? { width: '50px', textAlign: 'center' } : {})\n                }}>\n                  {header.id === 'expander' ? (\n                    <div style={{\n                      display: 'flex',\n                      justifyContent: 'center',\n                      alignItems: 'center',\n                      height: '32px'\n                    }}>\n                      <FilterActionButton\n                        onClick={toggleAllRows}\n                        title={Object.values(expandedRows).some(val => val) ? \"Sbalit vechny dky\" : \"Rozbalit vechny dky\"}\n                      >\n                        <FontAwesomeIcon icon={Object.values(expandedRows).some(val => val) ? faMinus : faPlus} />\n                      </FilterActionButton>\n                    </div>\n                  ) : header.id === 'actions' ? (\n                    <div style={{\n                      display: 'flex',\n                      justifyContent: 'center',\n                      alignItems: 'center',\n                      gap: '3px',\n                      height: '32px'\n                    }}>\n                      <FilterActionButton\n                        onClick={clearColumnFilters}\n                        title=\"Vymazat filtry sloupc\"\n                      >\n                        <FontAwesomeIcon icon={faEraser} />\n                      </FilterActionButton>\n                      <FilterActionButton\n                        onClick={handleRefreshOrdersCount}\n                        title={\n                          isLoadingOrdersCounts\n                            ? \"Natm poty objednvek...\"\n                            : ordersCountLoadTime\n                              ? `Aktualizovat poty objednvek (posledn naten: ${(ordersCountLoadTime / 1000).toFixed(2)}s)`\n                              : \"Aktualizovat poty objednvek\"\n                        }\n                        disabled={isLoadingOrdersCounts}\n                        style={{\n                          position: 'relative',\n                          background: isLoadingOrdersCounts ? '#94a3b8' : '#16a34a',\n                          color: 'white',\n                          borderColor: isLoadingOrdersCounts ? '#94a3b8' : '#16a34a',\n                          opacity: isLoadingOrdersCounts ? 0.7 : 1\n                        }}\n                      >\n                        <FontAwesomeIcon icon={isLoadingOrdersCounts ? faSyncAlt : faShoppingCart} />\n                      </FilterActionButton>\n                      <FilterActionButton\n                        onClick={toggleRowHighlighting}\n                        title={showRowHighlighting ? \"Vypnout podbarven dk podle statusu\" : \"Zapnout podbarven dk podle statusu\"}\n                        className={showRowHighlighting ? 'active' : ''}\n                      >\n                        <FontAwesomeIcon icon={faPalette} />\n                      </FilterActionButton>\n                    </div>\n                  ) : header.id === 'active' ? (\n                    <div style={{ display: 'flex', justifyContent: 'center' }}>\n                      <IconFilterButton\n                        onClick={handleStatusFilterClick}\n                        title={\n                          statusFilter === 'all' ? 'Zobrazit ve' :\n                          statusFilter === 'active' ? 'Jen aktivn' :\n                          'Jen neaktivn'\n                        }\n                      >\n                        {statusFilter === 'all' && (\n                          <svg viewBox=\"0 0 512 512\" style={{ width: '20px', height: '20px' }}>\n                            <defs>\n                              <clipPath id=\"clip-left-status\">\n                                <rect x=\"0\" y=\"0\" width=\"256\" height=\"512\"/>\n                              </clipPath>\n                              <clipPath id=\"clip-right-status\">\n                                <rect x=\"256\" y=\"0\" width=\"256\" height=\"512\"/>\n                              </clipPath>\n                            </defs>\n                            <path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z\"\n                                  fill=\"#22c55e\" clipPath=\"url(#clip-left-status)\"/>\n                            <path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z\"\n                                  fill=\"#ef4444\" clipPath=\"url(#clip-right-status)\"/>\n                          </svg>\n                        )}\n                        {statusFilter === 'active' && (\n                          <FontAwesomeIcon icon={faCheckCircle} style={{ color: '#22c55e', fontSize: '20px' }}/>\n                        )}\n                        {statusFilter === 'inactive' && (\n                          <FontAwesomeIcon icon={faTimesCircle} style={{ color: '#ef4444', fontSize: '20px' }}/>\n                        )}\n                      </IconFilterButton>\n                    </div>\n                  ) : (\n                    <ColumnFilterWrapper>\n                      <FontAwesomeIcon icon={faSearch} />\n                      <ColumnFilterInput\n                        type=\"text\"\n                        placeholder={`Hledat ${header.column.columnDef.header}...`}\n                        value={columnFilters[header.column.columnDef.accessorKey || header.column.columnDef.id] || ''}\n                        onChange={(e) => {\n                          const columnKey = header.column.columnDef.accessorKey || header.column.columnDef.id;\n                          const newFilters = { ...columnFilters };\n                          newFilters[columnKey] = e.target.value;\n                          setColumnFilters(newFilters);\n                        }}\n                      />\n                      {columnFilters[header.column.columnDef.accessorKey || header.column.columnDef.id] && (\n                        <ColumnClearButton\n                          onClick={() => {\n                            const columnKey = header.column.columnDef.accessorKey || header.column.columnDef.id;\n                            const newFilters = { ...columnFilters };\n                            delete newFilters[columnKey];\n                            setColumnFilters(newFilters);\n                          }}\n                          title=\"Vymazat\"\n                        >\n                          <FontAwesomeIcon icon={faTimes} />\n                        </ColumnClearButton>\n                      )}\n                    </ColumnFilterWrapper>\n                  )}\n                </TableHeader>\n              ))}\n            </tr>\n          </TableHead>\n          <tbody>\n            {table.getRowModel().rows.map((row, index) => (\n              <React.Fragment key={row.id}>\n                <TableRow\n                  $isEven={index % 2 === 0}\n                  $isActive={row.original.active}\n                  $showHighlighting={showRowHighlighting}\n                  onContextMenu={(e) => handleUserContextMenu(e, row.original)}\n                  onDoubleClick={() => handleEditUser(row.original)}\n                  style={{ cursor: 'context-menu' }}\n                >\n                  {row.getVisibleCells().map((cell) => (\n                    <TableCell\n                      key={cell.id}\n                      style={cell.column.id === 'expander' ? { width: '50px', textAlign: 'center', padding: '0.5rem' } : {}}\n                    >\n                      {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                    </TableCell>\n                  ))}\n                </TableRow>\n\n                {expandedRows[row.id] && (() => {\n                  return (\n                  <tr>\n                    <td colSpan={columns.length} style={{ padding: 0 }}>\n                      <ExpandedContent>\n                        <ExpandedGrid>\n                          <InfoCard>\n                            <InfoCardTitle><FontAwesomeIcon icon={faIdCard} />Zkladn informace</InfoCardTitle>\n                            <InfoRow><InfoLabel>ID:</InfoLabel><InfoValue>{row.original.id}</InfoValue></InfoRow>\n                            <InfoRow><InfoLabel>Uivatelsk jmno:</InfoLabel><InfoValue>{row.original.username}</InfoValue></InfoRow>\n                            <InfoRow><InfoLabel>Cel jmno:</InfoLabel><InfoValue>{row.original.fullName}</InfoValue></InfoRow>\n                            <InfoRow><InfoLabel>Email:</InfoLabel><InfoValue>{row.original.email}</InfoValue></InfoRow>\n                          </InfoCard>\n\n                          <InfoCard>\n                            <InfoCardTitle><FontAwesomeIcon icon={faBuilding} />Organizan zaazen</InfoCardTitle>\n                            <InfoRow><InfoLabel>sek:</InfoLabel><InfoValue>{row.original.department}</InfoValue></InfoRow>\n                            <InfoRow><InfoLabel>Lokalita:</InfoLabel><InfoValue>{row.original.location}</InfoValue></InfoRow>\n                            <InfoRow><InfoLabel>Telefon:</InfoLabel><InfoValue>{row.original.phone}</InfoValue></InfoRow>\n                          </InfoCard>\n\n                          <InfoCard>\n                            <InfoCardTitle><FontAwesomeIcon icon={faClock} />Aktivita</InfoCardTitle>\n                            <InfoRow>\n                              <InfoLabel>Status:</InfoLabel>\n                              <InfoValue>\n                                <StatusBadge $active={row.original.active}>\n                                  <FontAwesomeIcon icon={row.original.active ? faCheckCircle : faTimesCircle} />\n                                  {row.original.active ? 'Aktivn' : 'Neaktivn'}\n                                </StatusBadge>\n                              </InfoValue>\n                            </InfoRow>\n                            <InfoRow>\n                              <InfoLabel>Posledn aktivita:</InfoLabel>\n                              <InfoValue>{row.original.dt_activity ? prettyDate(row.original.dt_activity) : 'Nikdy'}</InfoValue>\n                            </InfoRow>\n                          </InfoCard>\n\n                          {/* Role a prva - NOV VERZE S UNIKTNMI PRVY */}\n                          {((row.original.roles && row.original.roles.length > 0) || (row.original.direct_rights && row.original.direct_rights.length > 0)) && (() => {\n                            // Pipravit seznam rol - SEAZEN ABECEDN\n                            const rolesList = row.original.roles && Array.isArray(row.original.roles)\n                              ? [...row.original.roles].sort((a, b) => {\n                                  const nameA = (a.nazev_role || a.nazev || '').toLowerCase();\n                                  const nameB = (b.nazev_role || b.nazev || '').toLowerCase();\n                                  return nameA.localeCompare(nameB, 'cs');\n                                })\n                              : [];\n\n                            // Sestavit uniktn seznam vech prv\n                            const allRightsMap = new Map(); // key: kod_prava, value: { right: object, roleIndexes: [] }\n\n                            // Pidat prva z rol\n                            rolesList.forEach((role, roleIdx) => {\n                              if (role.rights && Array.isArray(role.rights)) {\n                                role.rights.forEach(right => {\n                                  const kod = right.kod_prava || right.nazev || right.name || right.code;\n                                  if (kod) {\n                                    if (!allRightsMap.has(kod)) {\n                                      allRightsMap.set(kod, { right: right, roleIndexes: [] });\n                                    }\n                                    allRightsMap.get(kod).roleIndexes.push(roleIdx + 1); // slovn od 1\n                                  }\n                                });\n                              }\n                            });\n\n                            // Pidat pm prva (bez role index)\n                            if (row.original.direct_rights && Array.isArray(row.original.direct_rights)) {\n                              row.original.direct_rights.forEach(right => {\n                                const kod = right.kod_prava || right.nazev || right.name || right.code;\n                                if (kod) {\n                                  if (!allRightsMap.has(kod)) {\n                                    allRightsMap.set(kod, { right: right, roleIndexes: [] });\n                                  }\n                                  // Pro pm prva nepidvme roleIndex\n                                }\n                              });\n                            }\n\n                            // Pevst na pole pro zobrazen - SEAZEN ABECEDN PODLE KDU\n                            const uniqueRights = Array.from(allRightsMap.entries())\n                              .map(([kod, data]) => ({\n                                kod,\n                                right: data.right,\n                                roleIndexes: [...new Set(data.roleIndexes)].sort() // unique a seazen\n                              }))\n                              .sort((a, b) => a.kod.localeCompare(b.kod, 'cs'));\n\n                            return (\n                              <InfoCard style={{ gridColumn: '1 / -1' }}>\n                                <InfoCardTitle><FontAwesomeIcon icon={faShield} />Role a prva</InfoCardTitle>\n\n                                {/* 1. SEZNAM ROL */}\n                                {rolesList.length > 0 && (\n                                  <div style={{\n                                    marginBottom: '1.5rem',\n                                    padding: '0.75rem',\n                                    background: '#f0f9ff',\n                                    borderRadius: '6px',\n                                    border: '1px solid #bae6fd'\n                                  }}>\n                                    <div style={{\n                                      fontSize: '0.875rem',\n                                      fontWeight: 600,\n                                      color: '#0c4a6e',\n                                      marginBottom: '0.75rem',\n                                      display: 'flex',\n                                      alignItems: 'center',\n                                      gap: '0.5rem'\n                                    }}>\n                                      <FontAwesomeIcon icon={faShield} style={{ color: '#0284c7' }} />\n                                      Role uivatele ({rolesList.length}):\n                                    </div>\n\n                                    {rolesList.map((role, roleIdx) => (\n                                      <div key={`role-${roleIdx}`} style={{\n                                        marginBottom: '0.5rem',\n                                        display: 'flex',\n                                        alignItems: 'flex-start',\n                                        fontSize: '0.875rem'\n                                      }}>\n                                        {/* slo role */}\n                                        <div style={{\n                                          background: '#0284c7',\n                                          color: 'white',\n                                          borderRadius: '50%',\n                                          width: '20px',\n                                          height: '20px',\n                                          display: 'flex',\n                                          alignItems: 'center',\n                                          justifyContent: 'center',\n                                          fontSize: '0.75rem',\n                                          fontWeight: 'bold',\n                                          flexShrink: 0,\n                                          marginRight: '0.75rem'\n                                        }}>\n                                          {roleIdx + 1}\n                                        </div>\n\n                                        {/* Nzev role a popis - jako tabulka */}\n                                        <div style={{ flex: 1, display: 'flex' }}>\n                                          <div style={{\n                                            fontWeight: 600,\n                                            color: '#0c4a6e',\n                                            minWidth: '150px',\n                                            marginRight: '1.5rem'\n                                          }}>\n                                            {role.nazev_role || role.nazev || role.name || 'Bez nzvu'}\n                                          </div>\n                                          {(role.Popis || role.popis) && (\n                                            <div style={{\n                                              color: '#64748b',\n                                              fontStyle: 'italic',\n                                              flex: 1\n                                            }}>\n                                              {role.Popis || role.popis}\n                                            </div>\n                                          )}\n                                        </div>\n                                      </div>\n                                    ))}\n                                  </div>\n                                )}\n\n                                {/* 2. UNIKTN PRVA PODLE SEKC */}\n                                {uniqueRights.length > 0 && (() => {\n                                  // Pekladov slovnk pro nzvy sekc\n                                  const sectionTranslations = {\n                                    'ORDER': 'Objednvky',\n                                    'USER': 'Uivatel',\n                                    'CONTACT': 'Kontakty',\n                                    'REPORT': 'Reporty',\n                                    'ADMIN': 'Administrace',\n                                    'SYSTEM': 'Systm',\n                                    'EXPORT': 'Export',\n                                    'IMPORT': 'Import',\n                                    'SETTINGS': 'Nastaven',\n                                    'BACKUP': 'Zlohy',\n                                    'LOG': 'Logy',\n                                    'NOTIFICATION': 'Notifikace',\n                                    'OSTATN': 'Ostatn'\n                                  };\n\n                                  // Seskupit prva podle prefixu (ORDER_, USER_, atd.)\n                                  const rightsBySection = {};\n                                  uniqueRights.forEach(item => {\n                                    const kod = item.kod;\n                                    const prefix = kod.includes('_') ? kod.split('_')[0] : 'OSTATN';\n                                    if (!rightsBySection[prefix]) {\n                                      rightsBySection[prefix] = [];\n                                    }\n                                    rightsBySection[prefix].push(item);\n                                  });\n\n                                  // Seadit sekce abecedn, ale OSTATN na konec\n                                  const sortedSections = Object.keys(rightsBySection).sort((a, b) => {\n                                    if (a === 'OSTATN') return 1;\n                                    if (b === 'OSTATN') return -1;\n                                    return a.localeCompare(b);\n                                  });\n\n                                  return (\n                                    <div style={{\n                                      padding: '0.75rem',\n                                      background: '#f8fafc',\n                                      borderRadius: '6px',\n                                      border: '1px solid #cbd5e1'\n                                    }}>\n                                      <div style={{\n                                        fontSize: '0.875rem',\n                                        fontWeight: 600,\n                                        color: '#1e293b',\n                                        marginBottom: '0.75rem',\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        justifyContent: 'space-between',\n                                        gap: '1rem'\n                                      }}>\n                                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                                          <FontAwesomeIcon icon={faKey} style={{ color: '#059669' }} />\n                                          Vechna prva ({uniqueRights.length}) podle sekc:\n                                        </div>\n\n                                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                                          {/* Vyhledvac pole pro prva */}\n                                          <div style={{ position: 'relative' }}>\n                                            <FontAwesomeIcon\n                                              icon={faSearch}\n                                              style={{\n                                                position: 'absolute',\n                                                left: '8px',\n                                                top: '50%',\n                                                transform: 'translateY(-50%)',\n                                                color: '#9ca3af',\n                                                fontSize: '0.75rem'\n                                              }}\n                                            />\n                                            <input\n                                              type=\"text\"\n                                              placeholder=\"Najt prvo...\"\n                                              value={rightsSearchTerm || ''}\n                                              onChange={(e) => {\n                                                const searchTerm = e.target.value;\n                                                setRightsSearchTerm(searchTerm);\n\n                                                // Auto-rozvinut sekc s nalezernmi prvy\n                                                if (searchTerm.trim()) {\n                                                  const newCollapsed = {};\n                                                  sortedSections.forEach(sectionName => {\n                                                    const sectionRights = rightsBySection[sectionName];\n                                                    const hasMatch = sectionRights.some(item =>\n                                                      item.kod.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                                                      (item.right.popis && item.right.popis.toLowerCase().includes(searchTerm.toLowerCase()))\n                                                    );\n                                                    // Rozvi sekci pokud obsahuje vsledek\n                                                    if (hasMatch) {\n                                                      newCollapsed[sectionName] = false;\n                                                    }\n                                                  });\n                                                  setCollapsedSections(prev => ({ ...prev, ...newCollapsed }));\n                                                }\n                                              }}\n                                              style={{\n                                                fontSize: '0.75rem',\n                                                padding: '0.25rem 0.5rem 0.25rem 1.75rem',\n                                                border: '1px solid #d1d5db',\n                                                borderRadius: '4px',\n                                                background: 'white',\n                                                width: '140px',\n                                                transition: 'all 0.2s'\n                                              }}\n                                              onFocus={(e) => {\n                                                e.target.style.borderColor = '#3b82f6';\n                                                e.target.style.boxShadow = '0 0 0 2px rgba(59, 130, 246, 0.1)';\n                                              }}\n                                              onBlur={(e) => {\n                                                e.target.style.borderColor = '#d1d5db';\n                                                e.target.style.boxShadow = 'none';\n                                              }}\n                                            />\n                                          </div>\n\n                                          {/* Collapse/Expand vechno tlatko */}\n                                          <button\n                                            onClick={() => {\n                                              const allCollapsed = sortedSections.every(section => collapsedSections[section]);\n                                              const newState = {};\n                                              sortedSections.forEach(section => {\n                                                newState[section] = !allCollapsed;\n                                              });\n                                              setCollapsedSections(newState);\n                                            }}\n                                            style={{\n                                              display: 'flex',\n                                              alignItems: 'center',\n                                              gap: '0.25rem',\n                                              padding: '0.25rem 0.5rem',\n                                              fontSize: '0.75rem',\n                                              fontWeight: 500,\n                                              color: '#6b7280',\n                                              background: 'white',\n                                              border: '1px solid #d1d5db',\n                                              borderRadius: '4px',\n                                              cursor: 'pointer',\n                                              transition: 'all 0.2s'\n                                            }}\n                                            onMouseEnter={(e) => {\n                                              e.target.style.background = '#f3f4f6';\n                                              e.target.style.borderColor = '#9ca3af';\n                                            }}\n                                            onMouseLeave={(e) => {\n                                              e.target.style.background = 'white';\n                                              e.target.style.borderColor = '#d1d5db';\n                                            }}\n                                            title={sortedSections.every(section => collapsedSections[section]) ? 'Rozvinout vechny sekce' : 'Sbalit vechny sekce'}\n                                          >\n                                            <FontAwesomeIcon\n                                              icon={sortedSections.every(section => collapsedSections[section]) ? faPlus : faMinus}\n                                              style={{ fontSize: '0.7rem' }}\n                                            />\n                                            {sortedSections.every(section => collapsedSections[section]) ? 'Ve' : 'Sbalit'}\n                                          </button>\n                                        </div>\n                                      </div>\n\n                                        {sortedSections.map(sectionName => {\n                                        const sectionRights = rightsBySection[sectionName];\n                                        // Seadit prva v sekci podle abecedy\n                                        const sortedSectionRights = [...sectionRights].sort((a, b) => a.kod.localeCompare(b.kod));\n\n                                        const filteredSectionRights = rightsSearchTerm ?\n                                          sortedSectionRights.filter(item => {\n                                            const searchLower = rightsSearchTerm.toLowerCase();\n                                            return item.kod.toLowerCase().includes(searchLower) ||\n                                                   (item.right.popis && item.right.popis.toLowerCase().includes(searchLower));\n                                          }) : sortedSectionRights;\n                                        const isCollapsed = collapsedSections[sectionName];\n\n                                        // Pokud pi vyhledvn sekce neobsahuje vsledky, nezobraz se\n                                        if (rightsSearchTerm && filteredSectionRights.length === 0) {\n                                          return null;\n                                        }                                        return (\n                                          <div key={sectionName} style={{ marginBottom: '1rem' }}>\n                                            {/* Header sekce - klikac */}\n                                            <div\n                                              style={{\n                                                display: 'flex',\n                                                alignItems: 'center',\n                                                gap: '0.5rem',\n                                                padding: '0.5rem 0.75rem',\n                                                background: '#e2e8f0',\n                                                borderRadius: '4px',\n                                                cursor: 'pointer',\n                                                marginBottom: isCollapsed ? '0' : '0.5rem',\n                                                transition: 'all 0.2s'\n                                              }}\n                                              onClick={() => {\n                                                setCollapsedSections(prev => ({\n                                                  ...prev,\n                                                  [sectionName]: !prev[sectionName]\n                                                }));\n                                              }}\n                                              onMouseEnter={(e) => {\n                                                e.currentTarget.style.background = '#cbd5e1';\n                                              }}\n                                              onMouseLeave={(e) => {\n                                                e.currentTarget.style.background = '#e2e8f0';\n                                              }}\n                                            >\n                                              <FontAwesomeIcon\n                                                icon={isCollapsed ? faChevronRight : faChevronDown}\n                                                style={{\n                                                  color: '#64748b',\n                                                  fontSize: '0.75rem',\n                                                  transition: 'transform 0.2s'\n                                                }}\n                                              />\n                                              <span style={{\n                                                fontWeight: 600,\n                                                color: '#475569',\n                                                fontSize: '0.875rem'\n                                              }}>\n                                                {sectionTranslations[sectionName] || sectionName} ({rightsSearchTerm ? filteredSectionRights.length : sortedSectionRights.length}\n                                                {rightsSearchTerm && filteredSectionRights.length !== sortedSectionRights.length && (\n                                                  <span style={{ color: '#64748b', fontWeight: 400 }}> z {sortedSectionRights.length}</span>\n                                                )})\n                                              </span>\n                                            </div>\n\n                                            {/* Obsah sekce - skldac */}\n                                            {!isCollapsed && (\n                                              <div style={{\n                                                display: 'flex',\n                                                flexWrap: 'wrap',\n                                                gap: '0.5rem',\n                                                paddingLeft: '1.5rem'\n                                              }}>\n                                                {filteredSectionRights.map((item, idx) => {\n                                                  const buttonText = item.kod;\n                                                  const tooltipText = item.right.popis || item.right.description || buttonText;\n\n                                                  return (\n                                                    <div\n                                                      key={`${sectionName}-right-${idx}`}\n                                                      title={tooltipText}\n                                                      style={{\n                                                        background: 'white',\n                                                        padding: '0.5rem 0.75rem',\n                                                        borderRadius: '4px',\n                                                        fontSize: '0.8rem',\n                                                        border: '1px solid #059669',\n                                                        color: '#065f46',\n                                                        fontWeight: 500,\n                                                        cursor: 'help',\n                                                        transition: 'all 0.2s',\n                                                        boxShadow: '0 1px 2px rgba(5, 150, 105, 0.1)',\n                                                        position: 'relative',\n                                                        display: 'flex',\n                                                        flexDirection: 'column',\n                                                        alignItems: 'flex-start',\n                                                        minWidth: '120px'\n                                                      }}\n                                                      onMouseEnter={(e) => {\n                                                        e.currentTarget.style.background = '#d1fae5';\n                                                        e.currentTarget.style.transform = 'translateY(-1px)';\n                                                        e.currentTarget.style.boxShadow = '0 2px 4px rgba(5, 150, 105, 0.2)';\n                                                      }}\n                                                      onMouseLeave={(e) => {\n                                                        e.currentTarget.style.background = 'white';\n                                                        e.currentTarget.style.transform = 'translateY(0)';\n                                                        e.currentTarget.style.boxShadow = '0 1px 2px rgba(5, 150, 105, 0.1)';\n                                                      }}\n                                                    >\n                                                      {/* Hlavn dek s kdem prva a role indexy */}\n                                                      <div style={{\n                                                        display: 'flex',\n                                                        alignItems: 'center',\n                                                        width: '100%',\n                                                        marginBottom: tooltipText !== buttonText ? '2px' : '0'\n                                                      }}>\n                                                        <span>{buttonText}</span>\n                                                        {/* Role indexy jako horn index */}\n                                                        {item.roleIndexes.length > 0 && (\n                                                          <sup style={{\n                                                            fontSize: '0.6rem',\n                                                            color: '#0284c7',\n                                                            fontWeight: 'bold',\n                                                            marginLeft: '2px'\n                                                          }}>\n                                                            {item.roleIndexes.join(',')}\n                                                          </sup>\n                                                        )}\n                                                      </div>\n\n                                                      {/* Popis pod hlavnm textem - pouze pokud se li od kdu */}\n                                                      {tooltipText !== buttonText && (\n                                                        <div style={{\n                                                          fontSize: '0.65rem',\n                                                          color: '#6b7280',\n                                                          fontWeight: 400,\n                                                          lineHeight: 1.2,\n                                                          textAlign: 'left',\n                                                          maxWidth: '100%',\n                                                          wordBreak: 'break-word'\n                                                        }}>\n                                                          {tooltipText}\n                                                        </div>\n                                                      )}\n                                                    </div>\n                                                  );\n                                                })}\n                                              </div>\n                                            )}\n                                          </div>\n                                        );\n                                      })}\n                                    </div>\n                                  );\n                                })()}\n\n                                {/* Pokud uivatel nem dn role ani pm prva */}\n                                {uniqueRights.length === 0 && (\n                                  <div style={{\n                                    fontSize: '0.875rem',\n                                    color: '#64748b',\n                                    fontStyle: 'italic',\n                                    padding: '1rem',\n                                    textAlign: 'center'\n                                  }}>\n                                    Tento uivatel nem piazen dn role ani prva\n                                  </div>\n                                )}\n                              </InfoCard>\n                            );\n                          })()}\n                        </ExpandedGrid>\n                      </ExpandedContent>\n                    </td>\n                  </tr>\n                  );\n                })()}\n              </React.Fragment>\n            ))}\n          </tbody>\n        </Table>\n\n        {/* Pagination - stejn jako v Orders25List */}\n        <PaginationContainer>\n          <PaginationInfo>\n            Zobrazeno {table.getRowModel().rows.length} z {filteredData.length} uivatel\n            {filteredData.length !== users.length && (\n              <span> (filtrovno z {users.length})</span>\n            )}\n          </PaginationInfo>\n\n          <PaginationControls>\n            <span style={{ fontSize: '0.875rem', color: '#64748b', marginRight: '1rem' }}>\n              Zobrazit:\n            </span>\n            <PageSizeSelect\n              value={pageSize}\n              onChange={(e) => {\n                const newSize = parseInt(e.target.value);\n                setPageSize(newSize);\n                setUserStorage('users_pageSize', newSize);\n                table.setPageSize(newSize);\n                // Resetuj na prvn strnku pi zmn velikosti strnky\n                setCurrentPageIndex(0);\n                setUserStorage('users_pageIndex', 0);\n                table.setPageIndex(0);\n              }}\n            >\n              <option value={10}>10</option>\n              <option value={25}>25</option>\n              <option value={50}>50</option>\n              <option value={100}>100</option>\n              <option value={250}>250</option>\n            </PageSizeSelect>\n\n            <PageButton\n              onClick={goToFirstPage}\n              disabled={!table.getCanPreviousPage()}\n            >\n              \n            </PageButton>\n            <PageButton\n              onClick={goToPreviousPage}\n              disabled={!table.getCanPreviousPage()}\n            >\n              \n            </PageButton>\n\n            <span style={{ fontSize: '0.875rem', color: '#64748b', margin: '0 1rem' }}>\n              Strnka {table.getState().pagination.pageIndex + 1} z {table.getPageCount()}\n            </span>\n\n            <PageButton\n              onClick={goToNextPage}\n              disabled={!table.getCanNextPage()}\n            >\n              \n            </PageButton>\n            <PageButton\n              onClick={goToLastPage}\n              disabled={!table.getCanNextPage()}\n            >\n              \n            </PageButton>\n          </PaginationControls>\n        </PaginationContainer>\n      </TableContainer>\n      </TableScrollWrapper>\n\n      {/*  React Portal pro scroll ipky (MIMO scroll context) */}\n      {createPortal(\n        <>\n          <ScrollArrowLeft\n            onClick={handleScrollLeft}\n            onMouseEnter={() => setIsArrowHovered(true)}\n            onMouseLeave={() => setIsArrowHovered(false)}\n            $visible={showLeftArrow}\n            $tableHovered={isTableHovered}\n            $arrowHovered={isArrowHovered}\n            aria-label=\"Posunout vlevo\"\n          >\n            <FontAwesomeIcon icon={faChevronLeft} />\n          </ScrollArrowLeft>\n\n          <ScrollArrowRight\n            onClick={handleScrollRight}\n            onMouseEnter={() => setIsArrowHovered(true)}\n            onMouseLeave={() => setIsArrowHovered(false)}\n            $visible={showRightArrow}\n            $tableHovered={isTableHovered}\n            $arrowHovered={isArrowHovered}\n            aria-label=\"Posunout vpravo\"\n          >\n            <FontAwesomeIcon icon={faChevronRight} />\n          </ScrollArrowRight>\n        </>,\n        document.body\n      )}\n\n      <ConfirmDialog\n        isOpen={isDialogOpen}\n        title={\n          dialogAction === 'delete'\n            ? (hasPermission && hasPermission('USER_DELETE') ? 'Smazn uivatele' : 'Deaktivace uivatele')\n            : dialogAction === 'toggle'\n            ? (selectedUser?.active ? 'Deaktivace uivatele' : 'Aktivace uivatele')\n            : 'Potvrzen akce'\n        }\n        icon={getDialogIcon()}\n        variant={getDialogVariant()}\n        onConfirm={handleConfirmAction}\n        onClose={handleCancelAction}\n      >\n        {getDialogMessage()}\n      </ConfirmDialog>\n\n      {/* Reset Password Modal */}\n      <ResetPasswordModal\n        isOpen={isResetPasswordModalOpen}\n        onClose={() => {\n          setIsResetPasswordModalOpen(false);\n          setSelectedUser(null);\n        }}\n        onConfirm={handleResetPasswordConfirm}\n        userData={selectedUser}\n      />\n\n      {/* User Management Modal */}\n      <UserManagementModal\n        isOpen={userModalState.isOpen}\n        onClose={handleCloseUserModal}\n        mode={userModalState.mode}\n        userData={userModalState.userData}\n        onSuccess={handleUserModalSuccess}\n        addToast={showToast}\n      />\n\n      {/* User Context Menu */}\n      {contextMenu && (\n        <UserContextMenu\n          x={contextMenu.x}\n          y={contextMenu.y}\n          user={contextMenu.user}\n          selectedData={contextMenu.selectedData}\n          onClose={() => setContextMenu(null)}\n          onEdit={handleContextMenuEdit}\n          onDelete={handleContextMenuDelete}\n          onToggleActive={handleContextMenuToggleActive}\n          canEdit={true}\n          canDelete={hasPermission && hasPermission('USER_DELETE')}\n        />\n      )}\n\n      </PageContent>\n    </Container>\n\n    {/* Modern Sponka helper - kontextov npovda pro sprvu uivatel */}\n    {hasPermission('HELPER_VIEW') && <ModernHelper pageContext=\"users\" />}\n    </>\n  );\n};\n\nexport default Users;\n\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('user', __iconNode);\n\nexport default User;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0',\n      key: '1r0f0z',\n    },\n  ],\n  ['circle', { cx: '12', cy: '10', r: '3', key: 'ilqhr7' }],\n];\n\n/**\n * @component @name MapPin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTBjMCA0Ljk5My01LjUzOSAxMC4xOTMtNy4zOTkgMTEuNzk5YTEgMSAwIDAgMS0xLjIwMiAwQzkuNTM5IDIwLjE5MyA0IDE0Ljk5MyA0IDEwYTggOCAwIDAgMSAxNiAwIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/map-pin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MapPin = createLucideIcon('map-pin', __iconNode);\n\nexport default MapPin;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0',\n      key: '1nclc0',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('eye', __iconNode);\n\nexport default Eye;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7', key: '132q7q' }],\n  ['rect', { x: '2', y: '4', width: '20', height: '16', rx: '2', key: 'izxlao' }],\n];\n\n/**\n * @component @name Mail\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgNy04Ljk5MSA1LjcyN2EyIDIgMCAwIDEtMi4wMDkgMEwyIDciIC8+CiAgPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjE2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/mail\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Mail = createLucideIcon('mail', __iconNode);\n\nexport default Mail;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]];\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('check', __iconNode);\n\nexport default Check;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm21 21-4.34-4.34', key: '14j7rj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n];\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEgMjEtNC4zNC00LjM0IiAvPgogIDxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('search', __iconNode);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n];\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('x', __iconNode);\n\nexport default X;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n];\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('shield', __iconNode);\n\nexport default Shield;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n];\n\n/**\n * @component @name CircleX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleX = createLucideIcon('circle-x', __iconNode);\n\nexport default CircleX;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4', key: 'g0fldk' }],\n  ['path', { d: 'm21 2-9.6 9.6', key: '1j0ho8' }],\n  ['circle', { cx: '7.5', cy: '15.5', r: '5.5', key: 'yqb3hr' }],\n];\n\n/**\n * @component @name Key\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUuNSA3LjUgMi4zIDIuM2ExIDEgMCAwIDAgMS40IDBsMi4xLTIuMWExIDEgMCAwIDAgMC0xLjRMMTkgNCIgLz4KICA8cGF0aCBkPSJtMjEgMi05LjYgOS42IiAvPgogIDxjaXJjbGUgY3g9IjcuNSIgY3k9IjE1LjUiIHI9IjUuNSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/key\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Key = createLucideIcon('key', __iconNode);\n\nexport default Key;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n];\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('circle-alert', __iconNode);\n\nexport default CircleAlert;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21.801 10A10 10 0 1 1 17 3.335', key: 'yps3ct' }],\n  ['path', { d: 'm9 11 3 3L22 4', key: '1pflzl' }],\n];\n\n/**\n * @component @name CircleCheckBig\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuODAxIDEwQTEwIDEwIDAgMSAxIDE3IDMuMzM1IiAvPgogIDxwYXRoIGQ9Im05IDExIDMgM0wyMiA0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check-big\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheckBig = createLucideIcon('circle-check-big', __iconNode);\n\nexport default CircleCheckBig;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384',\n      key: '9njp5v',\n    },\n  ],\n];\n\n/**\n * @component @name Phone\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMuODMyIDE2LjU2OGExIDEgMCAwIDAgMS4yMTMtLjMwM2wuMzU1LS40NjVBMiAyIDAgMCAxIDE3IDE1aDNhMiAyIDAgMCAxIDIgMnYzYTIgMiAwIDAgMS0yIDJBMTggMTggMCAwIDEgMiA0YTIgMiAwIDAgMSAyLTJoM2EyIDIgMCAwIDEgMiAydjNhMiAyIDAgMCAxLS44IDEuNmwtLjQ2OC4zNTFhMSAxIDAgMCAwLS4yOTIgMS4yMzMgMTQgMTQgMCAwIDAgNi4zOTIgNi4zODQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/phone\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Phone = createLucideIcon('phone', __iconNode);\n\nexport default Phone;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport { CheckCircle, XCircle } from 'lucide-react';\n\nconst ValidatorContainer = styled.div`\n  margin-top: 0.75rem;\n`;\n\nconst StrengthBar = styled.div`\n  width: 100%;\n  height: 6px;\n  background: #e5e7eb;\n  border-radius: 3px;\n  overflow: hidden;\n  margin-bottom: 0.5rem;\n`;\n\nconst StrengthFill = styled.div`\n  height: 100%;\n  background: ${props => {\n    switch (props.strength) {\n      case 'weak': return '#ef4444';\n      case 'medium': return '#f59e0b';\n      case 'strong': return '#10b981';\n      default: return '#e5e7eb';\n    }\n  }};\n  width: ${props => {\n    switch (props.strength) {\n      case 'weak': return '33%';\n      case 'medium': return '66%';\n      case 'strong': return '100%';\n      default: return '0%';\n    }\n  }};\n  transition: all 0.3s ease;\n`;\n\nconst StrengthText = styled.div`\n  font-size: 0.75rem;\n  color: ${props => {\n    switch (props.strength) {\n      case 'weak': return '#ef4444';\n      case 'medium': return '#f59e0b';\n      case 'strong': return '#10b981';\n      default: return '#6b7280';\n    }\n  }};\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n`;\n\nconst RequirementsList = styled.ul`\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n`;\n\nconst Requirement = styled.li`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.8125rem;\n  color: ${props => props.met ? '#10b981' : '#6b7280'};\n  transition: color 0.2s ease;\n`;\n\n/**\n * Vpoet sly hesla\n * @param {string} password - Heslo k validaci\n * @returns {string|null} - 'weak', 'medium', 'strong' nebo null\n */\nexport const getPasswordStrength = (password) => {\n  if (!password) return null;\n\n  let score = 0;\n\n  // Dlka\n  if (password.length >= 8) score++;\n  if (password.length >= 12) score++;\n\n  // Typy znak\n  if (/[a-z]/.test(password)) score++;\n  if (/[A-Z]/.test(password)) score++;\n  if (/[0-9]/.test(password)) score++;\n  if (/[^A-Za-z0-9]/.test(password)) score++;\n\n  if (score <= 2) return 'weak';\n  if (score <= 4) return 'medium';\n  return 'strong';\n};\n\n/**\n * Zskn poadavk na heslo a jejich splnn\n * @param {string} password - Heslo k validaci\n * @returns {Array} - Pole poadavk s informac o splnn\n */\nexport const getPasswordRequirements = (password) => {\n  return [\n    { text: 'Alespo 8 znak', met: password.length >= 8 },\n    { text: 'Obsahuje mal psmeno', met: /[a-z]/.test(password) },\n    { text: 'Obsahuje velk psmeno', met: /[A-Z]/.test(password) },\n    { text: 'Obsahuje slo', met: /[0-9]/.test(password) },\n    { text: 'Obsahuje speciln znak', met: /[^A-Za-z0-9]/.test(password) }\n  ];\n};\n\n/**\n * Validace hesla - vrac true pokud je heslo dostaten siln\n * @param {string} password - Heslo k validaci\n * @returns {boolean} - True pokud heslo spluje minimln poadavky\n */\nexport const validatePasswordStrength = (password) => {\n  if (!password || password.length < 8) return false;\n\n  const requirements = getPasswordRequirements(password);\n  // Heslo mus splovat alespo prvn poadavek (8 znak) a alespo 3 dal\n  const metCount = requirements.filter(r => r.met).length;\n  return metCount >= 4; // 8 znak + 3 z dalch poadavk\n};\n\n/**\n * Komponenta pro zobrazen sly hesla a poadavk\n */\nconst PasswordStrengthValidator = ({ password, showRequirements = true }) => {\n  if (!password) return null;\n\n  const strength = getPasswordStrength(password);\n  const requirements = getPasswordRequirements(password);\n  const isValid = validatePasswordStrength(password);\n\n  const strengthLabels = {\n    weak: 'Sla hesla: Slab',\n    medium: 'Sla hesla: Stedn',\n    strong: 'Sla hesla: Siln'\n  };\n\n  return (\n    <ValidatorContainer>\n      <StrengthBar>\n        <StrengthFill strength={strength} />\n      </StrengthBar>\n\n      <StrengthText strength={strength}>\n        {strengthLabels[strength]}\n      </StrengthText>\n\n      {/* Zobrazit poadavky pouze pokud heslo nen validn */}\n      {showRequirements && !isValid && (\n        <RequirementsList>\n          {requirements.map((req, index) => (\n            <Requirement key={index} met={req.met}>\n              {req.met ? (\n                <CheckCircle size={14} />\n              ) : (\n                <XCircle size={14} />\n              )}\n              {req.text}\n            </Requirement>\n          ))}\n        </RequirementsList>\n      )}\n    </ValidatorContainer>\n  );\n};\n\nexport default PasswordStrengthValidator;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49',\n      key: 'ct8e1f',\n    },\n  ],\n  ['path', { d: 'M14.084 14.158a3 3 0 0 1-4.242-4.242', key: '151rxh' }],\n  [\n    'path',\n    {\n      d: 'M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143',\n      key: '13bj9a',\n    },\n  ],\n  ['path', { d: 'm2 2 20 20', key: '1ooewy' }],\n];\n\n/**\n * @component @name EyeOff\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuNzMzIDUuMDc2YTEwLjc0NCAxMC43NDQgMCAwIDEgMTEuMjA1IDYuNTc1IDEgMSAwIDAgMSAwIC42OTYgMTAuNzQ3IDEwLjc0NyAwIDAgMS0xLjQ0NCAyLjQ5IiAvPgogIDxwYXRoIGQ9Ik0xNC4wODQgMTQuMTU4YTMgMyAwIDAgMS00LjI0Mi00LjI0MiIgLz4KICA8cGF0aCBkPSJNMTcuNDc5IDE3LjQ5OWExMC43NSAxMC43NSAwIDAgMS0xNS40MTctNS4xNTEgMSAxIDAgMCAxIDAtLjY5NiAxMC43NSAxMC43NSAwIDAgMSA0LjQ0Ni01LjE0MyIgLz4KICA8cGF0aCBkPSJtMiAyIDIwIDIwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye-off\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst EyeOff = createLucideIcon('eye-off', __iconNode);\n\nexport default EyeOff;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 10h.01', key: '1nrarc' }],\n  ['path', { d: 'M12 14h.01', key: '1etili' }],\n  ['path', { d: 'M12 6h.01', key: '1vi96p' }],\n  ['path', { d: 'M16 10h.01', key: '1m94wz' }],\n  ['path', { d: 'M16 14h.01', key: '1gbofw' }],\n  ['path', { d: 'M16 6h.01', key: '1x0f13' }],\n  ['path', { d: 'M8 10h.01', key: '19clt8' }],\n  ['path', { d: 'M8 14h.01', key: '6423bh' }],\n  ['path', { d: 'M8 6h.01', key: '1dz90k' }],\n  ['path', { d: 'M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3', key: 'cabbwy' }],\n  ['rect', { x: '4', y: '2', width: '16', height: '20', rx: '2', key: '1uxh74' }],\n];\n\n/**\n * @component @name Building\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTBoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xMiAxNGguMDEiIC8+CiAgPHBhdGggZD0iTTEyIDZoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xNiAxMGguMDEiIC8+CiAgPHBhdGggZD0iTTE2IDE0aC4wMSIgLz4KICA8cGF0aCBkPSJNMTYgNmguMDEiIC8+CiAgPHBhdGggZD0iTTggMTBoLjAxIiAvPgogIDxwYXRoIGQ9Ik04IDE0aC4wMSIgLz4KICA8cGF0aCBkPSJNOCA2aC4wMSIgLz4KICA8cGF0aCBkPSJNOSAyMnYtM2ExIDEgMCAwIDEgMS0xaDRhMSAxIDAgMCAxIDEgMXYzIiAvPgogIDxyZWN0IHg9IjQiIHk9IjIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIyMCIgcng9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/building\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Building = createLucideIcon('building', __iconNode);\n\nexport default Building;\n"],"names":["Briefcase","createLucideIcon","d","key","width","height","x","y","rx","jsx","ReactJSXRuntime","type","props","hasOwn","call","Emotion","createEmotionProps","jsxs","overlayStyle","css","_templateObject","_taggedTemplateLiteral","dialogStyle","_templateObject2","headerStyle","_templateObject3","titleStyle","_templateObject4","closeBtnStyle","_templateObject5","formGroupStyle","_templateObject6","labelStyle","_templateObject7","inputWrapperStyle","_templateObject8","inputStyle","_templateObject9","toggleButtonStyle","_templateObject0","requirementsStyle","_templateObject1","requirementsTitleStyle","_templateObject10","requirementItemStyle","_templateObject11","errorMessageStyle","_templateObject12","userInfoStyle","_templateObject13","userInfoLabelStyle","_templateObject14","userInfoValueStyle","_templateObject15","buttonsStyle","_templateObject16","cancelButtonStyle","_templateObject17","confirmButtonStyle","_templateObject18","_ref","isOpen","onClose","onConfirm","userData","password","setPassword","useState","confirmPassword","setConfirmPassword","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","error","setError","touched","setTouched","confirm","useEffect","validation","minLength","length","hasUpperCase","test","hasLowerCase","hasNumber","hasSpecialChar","validatePassword","isPasswordValid","Object","values","every","v","doPasswordsMatch","isFormValid","getInputClassName","field","ReactDOM","_jsx","role","children","_jsxs","onClick","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","style","fontSize","fontWeight","fullName","concat","surname","name","trim","username","color","marginLeft","email","marginTop","onSubmit","e","preventDefault","value","onChange","target","onBlur","handlePasswordBlur","prev","_objectSpread","placeholder","className","autoComplete","FontAwesomeIcon","icon","faEyeSlash","faEye","faCheckCircle","faTimesCircle","handleConfirmBlur","disabled","document","body","Shuffle","Award","cx","cy","r","slideInUp","keyframes","ModalOverlay","styled","div","ModalContainer","ModalHeader","ModalHeaderContent","HeaderLeft","ModalTitle","h2","ModalSubtitle","p","CloseButton","button","TabsContainer","Tab","$active","ModalBody","FormSection","FormGrid","FormGrid3Col","FormGrid4Col","FormGroup","$fullWidth","Label","label","required","InputWithIcon","span","PasswordInputWrapper","_templateObject19","PasswordActionIcons","_templateObject20","PasswordIcon","_templateObject21","PasswordInput","input","_templateObject22","hasError","Input","_templateObject23","hasIcon","SearchInputWrapper","_templateObject24","hasValue","ErrorText","_templateObject25","SectionTitle","_templateObject26","_templateObject27","h3","_templateObject28","CheckboxGrid","_templateObject29","ToggleSwitch","_templateObject30","ToggleContainer","_templateObject31","ToggleLabel","_templateObject32","CheckboxLabel","_templateObject33","$checked","Checkbox","_templateObject34","CheckboxContent","_templateObject35","CheckboxTitle","_templateObject36","CheckboxDescription","_templateObject37","ModalFooter","_templateObject38","FooterLeft","_templateObject39","FooterRight","_templateObject40","Button","_templateObject41","LoadingSpinner","_templateObject42","SuccessMessage","_templateObject43","ErrorMessage","_templateObject44","EmptyState","_templateObject45","FilterCheckboxLabel","_templateObject46","mode","onSuccess","addToast","token","user","userDetail","useContext","AuthContext","triggerActivity","useActivity","activeTab","setActiveTab","loading","setLoading","isSaved","setIsSaved","isClosing","setIsClosing","loadingData","setLoadingData","errors","setErrors","successMessage","setSuccessMessage","errorMessage","setErrorMessage","canEditUsername","useMemo","roles","some","kod_role","selectStates","setSelectStates","searchStates","setSearchStates","touchedSelectFields","setTouchedSelectFields","Set","formData","setFormData","jmeno","prijmeni","titul_pred","titul_za","telefon","usek_id","lokalita_id","pozice_id","organizace_id","aktivni","vynucena_zmena_hesla","direct_rights","lokality","setLokality","pozice","setPozice","organizace","setOrganizace","setRole","prava","setPrava","useky","setUseky","roleFilter","setRoleFilter","pravaFilter","setPravaFilter","showOnlyUnassigned","setShowOnlyUnassigned","rightsFromRoles","setRightsFromRoles","filteredRoles","search","toLowerCase","filter","nazev_role","nazev","includes","popis","filteredPrava","filtered","pravoId","Number","id","isFromRole","has","isDirectlySelected","kod_prava","loadReferenceData","_userData$usek","_userData$lokalita","_lokality$find","_userData$pozice","_pozice$find","_userData$organizace","extractedIds","usek","lokalita","lokalita_nazev","find","l","nazev_pozice","rolesIds","Array","isArray","map","role_id","foundRole","roleItem","rightsIds","pravo_id","foundRight","pravaItem","newFormData","async","lokalityData","poziceData","organizaceData","roleData","pravaData","usekyData","Promise","all","fetchLokality","fetchPozice","fetchOrganizace","fetchRole","fetchPrava","fetchUseky","hierarchicalLokality","hierarchical","okresy","typ","parent_id","stanoviste","sort","a","b","localeCompare","forEach","okres","push","level","isParent","displayLabel","s","String","child","parentId","processedIds","h","orphans","orphan","isOrphan","createHierarchicalLokality","sortedRole","nameA","nameB","sortedPrava","codeA","codeB","toggleSelect","filterOptions","options","searchTerm","term","opt","_opt$usek_nazev","_opt$usek_zkr","_opt$nazev","_opt$nazev_pozice","_opt$nazev2","usek_nazev","usek_zkr","getOptionLabel","option","handleChange","roleIds","allRights","roleId","roleDetail","fetchRoleDetail","add","loadRightsFromRoles","handleCheckboxChange","current","isChecked","stopPropagation","onKeyDown","Boolean","join","X","size","User","Shield","Building","Check","flexShrink","AlertCircle","flex","_Fragment","Key","handleGeneratePassword","newPassword","arguments","undefined","complexity","lowercase","uppercase","numbers","special","charset","charAt","Math","floor","random","i","split","generatePassword","title","togglePasswordVisibility","EyeOff","Eye","PasswordStrengthValidator","showRequirements","checked","Mail","Phone","display","justifyContent","alignItems","marginBottom","Search","gap","opacity","background","cursor","fontFamily","CustomSelect","MapPin","gridColumn","validate","newErrors","validatePasswordStrength","keys","_formData$titul_pred","_formData$titul_za","userData_payload","result","createPayload","new_username","createUser","newUserName","_result$data","_result$data2","_result$data3","updatePayload","parseInt","originalUsername","hasUsernameChanged","updateUser","updatedUserName","successMsg","_result$data4","data","username_changed","old_username","successData","setTimeout","errorDetails","message","response","JSON","stringify","status","Save","MenuContainer","MenuItem","danger","success","MenuDivider","MenuLabel","onEdit","onDelete","onToggleActive","canEdit","canDelete","selectedData","menuRef","useRef","hasClipboardData","setHasClipboardData","clipboardData","setClipboardData","navigator","clipboard","readText","text","parse","_unused","localData","localStorage","getItem","_unused2","checkClipboard","handleCopy","dataToCopy","description","substring","textToCopy","writeText","textArea","createElement","appendChild","select","execCommand","removeChild","clipboardInfo","timestamp","Date","now","setItem","handleCut","cutData","action","userId","handlePaste","_unused3","alert","isActive","active","is_active","handleClickOutside","contains","handleKeyDown","ctrlKey","metaKey","addEventListener","removeEventListener","position","adjustedPosition","left","top","menuRect","getBoundingClientRect","viewportWidth","window","innerWidth","viewportHeight","innerHeight","ref","faCut","faCopy","faPaste","faEdit","faUserSlash","faUserCheck","faTrash","faUserMinus","faTimes","Container","TitlePanel","TitleLeft","RefreshButton","PageTitle","h1","ActionBar","ActionButton","$primary","DashboardPanel","DashboardGrid","TallStatCard","$color","SmallStatCard","$isActive","$clickable","StatHeader","StatIcon","StatLabel","StatValue","FiltersPanel","FiltersHeader","FiltersTitle","FiltersGrid","FilterGroup","FilterLabel","FilterInputWithIcon","ClearButton","FilterInput","FilterSelectWithIcon","FilterSelect","ClearFiltersButton","TableScrollWrapper","$showLeftShadow","$showRightShadow","TableContainer","ScrollArrowLeft","$arrowHovered","$visible","$tableHovered","ScrollArrowRight","Table","table","TableHead","thead","TableRow","tr","$showHighlighting","$isEven","TableHeader","th","TableCell","td","ExpandButton","ExpandedContent","ExpandedGrid","InfoCard","InfoCardTitle","h4","InfoRow","InfoLabel","InfoValue","ActionMenu","ActionMenuButton","StatusBadge","_templateObject47","PaginationContainer","_templateObject48","PaginationInfo","_templateObject49","PaginationControls","_templateObject50","PageButton","_templateObject51","PageSizeSelect","_templateObject52","ColumnFilterWrapper","_templateObject53","ColumnClearButton","_templateObject54","ColumnFilterInput","_templateObject55","FilterActionButton","_templateObject56","IconFilterButton","_templateObject57","_templateObject58","LoadingOverlay","_templateObject59","_templateObject60","LoadingMessage","_templateObject61","LoadingSubtext","_templateObject62","PageContent","_templateObject63","$blurred","DebugPanel","_templateObject64","DebugHeader","_templateObject65","DebugTitle","_templateObject66","DebugContent","_templateObject67","DebugSection","_templateObject68","DebugLabel","_templateObject69","DebugValue","pre","_templateObject70","Users","_table$getHeaderGroup","hasPermission","start","startGlobalProgress","setProgress","setGlobalProgress","done","doneGlobalProgress","reset","resetGlobalProgress","ProgressContext","showToast","ToastContext","users","setUsers","user_id","getUserKey","baseKey","sid","getUserStorage","defaultValue","item","setUserStorage","globalFilter","setGlobalFilter","departmentFilter","setDepartmentFilter","groupFilter","setGroupFilter","locationFilter","setLocationFilter","positionFilter","setPositionFilter","statusFilter","setStatusFilter","showFilters","setShowFilters","showExpandedFilters","setShowExpandedFilters","columnFilters","setColumnFilters","showRowHighlighting","setShowRowHighlighting","showDashboard","setShowDashboard","pageSize","setPageSize","currentPageIndex","setCurrentPageIndex","sorting","setSorting","expandedRows","setExpandedRows","collapsedSections","setCollapsedSections","rightsSearchTerm","setRightsSearchTerm","userModalState","setUserModalState","ordersCount","setOrdersCount","cached","isLoadingOrdersCounts","setIsLoadingOrdersCounts","ordersCountLoadTime","setOrdersCountLoadTime","loadTime","isDialogOpen","setIsDialogOpen","isResetPasswordModalOpen","setIsResetPasswordModalOpen","selectedUser","setSelectedUser","dialogAction","setDialogAction","activeUsers","setActiveUsers","showDebug","setShowDebug","rawApiData","setRawApiData","contextMenu","setContextMenu","showLeftArrow","setShowLeftArrow","showRightArrow","setShowRightArrow","showLeftShadow","setShowLeftShadow","showRightShadow","setShowRightShadow","isTableHovered","setIsTableHovered","isArrowHovered","setIsArrowHovered","refreshTrigger","setRefreshTrigger","silentRefresh","setSilentRefresh","tableContainerRef","tableWrapperRef","setTableWrapperRef","useCallback","node","handleTableMouseEnter","handleTableMouseLeave","setTableContainerRef","checkScrollPosition","scrollLeft","scrollWidth","clientWidth","handleScrollLeft","scrollAmount","scrollBy","behavior","handleScrollRight","fetchUsers","silent","fetchAllUsers","_cacheBust","Error","idCounts","u","duplicates","entries","count","console","warn","_ref2","processedData","_user$lokalita_nazev","_user$lokalita","_user$location","_user$usek_zkr","_user$usek_nazev","_user$department","_user$oddeleni","_user$nazev_pozice","_user$pozice_nazev","_user$pozice","_user$pozice$nazev_po","_user$pozice2","_user$pozice2$nazev","_user$funkce","_user$position","_user$title","prihlas_jmeno","location","department","oddeleni","pozice_nazev","funkce","phone","group_name","dt_activity","dt_posledni_aktivita","posl_aktivita","err","_","code","getErrorCodeCZ","fetchActiveUsersData","fetchActiveUsers","interval","setInterval","clearInterval","fetchOrdersCounts","forceRefresh","startTime","performance","loadingCounts","fetchPromises","_response$data","timeoutPromise","reject","requestPromise","getOrdersCountByUser","orderCount","race","total_orders_count","results","allSettled","finalCounts","index","errorCount","successCount","endTime","loadTimeMs","round","stats","total","inactive","departments","dept","groups","group","normalizeForSearch","normalize","replace","filteredData","searchNormalized","rights_count","allRightsMap","Map","rights","right","kod","set","rightsCount","orders_count","ordersCountVal","columns","header","cell","_ref3","row","faMinus","faPlus","accessorKey","maxSize","_ref4","original","verticalAlign","info","getValue","textAlign","fontStyle","paddingLeft","_ref5","totalRights","accessorFn","_ref6","userOrdersCount","isLoading","animation","_ref7","isForced","padding","handleToggleForcePasswordChange","faExclamationTriangle","faQuestionCircle","transition","_ref8","faBolt","_ref9","isCurrentUser","canHardDelete","handleToggleStatus","faToggleOn","faToggleOff","handleResetPassword","faKey","handleEditUser","handleDeleteUser","useReactTable","getRowId","state","pagination","pageIndex","onGlobalFilterChange","onSortingChange","getCoreRowModel","getSortedRowModel","getFilteredRowModel","getExpandedRowModel","getPaginationRowModel","enableExpanding","getRowCanExpand","manualPagination","setPageIndex","getPageCount","maxPageIndex","currentValue","newValue","log","partialUpdateUser","updatedUsers","_userDetail$usek","fetchUserDetail","apiError","rawUser","handleUserContextMenu","cellData","closest","_cellElement$textCont","cellElement","textContent","element","clientX","clientY","handleContextMenuEdit","handleContextMenuDelete","handleContextMenuToggleActive","handleStatusFilterClick","clearColumnFilters","toggleAllRows","val","allExpanded","toggleRowHighlighting","handleRefreshOrdersCount","handleToggleDashboard","newShowDashboard","uniqueDepartments","uniqueGroups","uniqueLocations","uniquePositions","SmartTooltip","preferredPosition","faSyncAlt","faUsers","faDashboard","handleShowFilters","faFilter","handleExport","faFileExport","handleAddUser","faEraser","handleToggleDebug","newShowDebug","_ref0","margin","marginRight","border","borderRadius","onMouseEnter","currentTarget","transform","onMouseLeave","overflowY","flexDirection","paddingRight","slice","activityTime","diffSec","diffMin","timeText","dateTimeText","prettyDate","whiteSpace","overflow","textOverflow","cele_jmeno","minWidth","faBuilding","faShield","handleClearFilters","handleToggleExpandedFilters","newShowExpandedFilters","faChevronUp","faChevronDown","faSearch","faUserCog","faMapMarkerAlt","loc","faBriefcase","pos","getHeaderGroups","headerGroup","headers","column","getCanSort","getToggleSortingHandler","flexRender","columnDef","getContext","getIsSorted","backgroundColor","borderTop","toFixed","borderColor","faShoppingCart","faPalette","clipPath","columnKey","newFilters","getRowModel","rows","React","onContextMenu","onDoubleClick","getVisibleCells","colSpan","faIdCard","faClock","rolesList","roleIdx","roleIndexes","get","uniqueRights","from","_ref1","Popis","sectionTranslations","rightsBySection","prefix","sortedSections","newCollapsed","sectionName","onFocus","boxShadow","allCollapsed","section","newState","sortedSectionRights","filteredSectionRights","searchLower","isCollapsed","faChevronRight","flexWrap","idx","buttonText","tooltipText","lineHeight","maxWidth","wordBreak","newSize","goToFirstPage","getCanPreviousPage","goToPreviousPage","newIndex","max","getState","goToNextPage","maxIndex","min","getCanNextPage","goToLastPage","createPortal","faChevronLeft","ConfirmDialog","getDialogIcon","variant","getDialogVariant","deleteUser","deactivateUser","newActiveState","handleCancelAction","getDialogMessage","userName","ResetPasswordModal","UserManagementModal","handleCloseUserModal","handleUserModalSuccess","UserContextMenu","ModernHelper","pageContext","CircleX","CircleAlert","CircleCheckBig","ValidatorContainer","StrengthBar","StrengthFill","strength","StrengthText","RequirementsList","ul","Requirement","li","met","getPasswordRequirements","score","getPasswordStrength","requirements","isValid","weak","medium","strong","req","CheckCircle","XCircle"],"sourceRoot":""}