/*! For license information please see 1947.923122e9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkr_app_zzs_eeo=self.webpackChunkr_app_zzs_eeo||[]).push([[1947],{2284:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]])},9855:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},14459:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},16005:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("folder-search",[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]])},21899:(n,e,r)=>{r.d(e,{A:()=>Jt});var t=r(57528),i=r(65043),a=r(45903),o=r(83290),s=r(27837),l=r(37087),d=r(77784);const c=(0,d.A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var p=r(14459),m=r(95264),x=r(16005),f=r(71360),h=r(39292),k=r(40614),u=r(82054),b=r(30086),g=r(2284),v=r(84105),y=r(28006),A=r(86376),j=r(35327),z=r(91286);const w=(0,d.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var _=r(9855);const C=(0,d.A)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var S,M,I,N,T,O,E,P,V,D,R,Z,K,Y,J,q,G,H,U,L,F,$,W,B,Q,X,nn,en,rn,tn,an,on,sn,ln,dn,cn,pn,mn=r(75949),xn=r(89379),fn=r(97950),hn=r(37719),kn=r(88693),un=r(70579);const bn=(0,o.i7)(S||(S=(0,t.A)(["\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n"]))),gn=(0,o.i7)(M||(M=(0,t.A)(["\n  0% {\n    opacity: 0;\n    transform: translateY(20px) scale(0.95);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n"]))),vn=a.A.div(I||(I=(0,t.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.4);\n  backdrop-filter: blur(12px);\n  -webkit-backdrop-filter: blur(12px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  padding: 1rem;\n  animation: fadeIn 0.2s ease-out;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n"]))),yn=a.A.div(N||(N=(0,t.A)(["\n  background: white;\n  border-radius: 20px;\n  width: 100%;\n  max-width: 1200px;\n  max-height: 95vh;\n  overflow: hidden;\n  box-shadow:\n    0 25px 50px -12px rgba(0, 0, 0, 0.25),\n    0 0 0 1px rgba(255, 255, 255, 0.2);\n  animation: "," 0.4s cubic-bezier(0.16, 1, 0.3, 1);\n"])),gn),An=a.A.div(T||(T=(0,t.A)(['\n  padding: 2rem 2rem 1rem 2rem;\n  background: linear-gradient(135deg, #1f2a57 0%, #2563eb 70%, #1d4ed8 100%);\n  color: white;\n  position: relative;\n  overflow: hidden;\n\n  &::before {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: url(\'data:image/svg+xml,<svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g fill="%23ffffff" fill-opacity="0.05"><circle cx="30" cy="30" r="1"/></g></svg>\');\n    pointer-events: none;\n  }\n']))),jn=a.A.div(O||(O=(0,t.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  position: relative;\n  z-index: 1;\n"]))),zn=a.A.div(E||(E=(0,t.A)(["\n  flex: 1;\n"]))),wn=a.A.h2(P||(P=(0,t.A)(["\n  margin: 0;\n  color: white;\n  font-size: 1.5rem;\n  font-weight: 700;\n  line-height: 1.2;\n"]))),_n=a.A.p(V||(V=(0,t.A)(["\n  margin: 0.5rem 0 0 0;\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 0.875rem;\n  font-weight: 400;\n"]))),Cn=a.A.button(D||(D=(0,t.A)(["\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  color: white;\n  cursor: pointer;\n  padding: 0.75rem;\n  border-radius: 12px;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n    transform: scale(1.05);\n  }\n"]))),Sn=a.A.div(R||(R=(0,t.A)(["\n  max-height: calc(95vh - 200px);\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: #f8fafc;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: #cbd5e1;\n    border-radius: 4px;\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background: #94a3b8;\n  }\n"]))),Mn=a.A.div(Z||(Z=(0,t.A)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 2rem;\n  margin-bottom: 2rem;\n"]))),In=a.A.div(K||(K=(0,t.A)(["\n  grid-column: 1 / -1;\n  border-top: 1px solid #e2e8f0;\n  background: #fafbfc;\n"]))),Nn=a.A.div(Y||(Y=(0,t.A)(["\n  padding: 2rem;\n  background: white;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid #f1f5f9;\n  }\n\n  &.left-column {\n    border-right: 1px solid #f1f5f9;\n\n    @media (max-width: 900px) {\n      border-right: none;\n    }\n  }\n"]))),Tn=a.A.div(J||(J=(0,t.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  margin-bottom: 2rem;\n"]))),On=a.A.div(q||(q=(0,t.A)(["\n  width: 2.5rem;\n  height: 2.5rem;\n  border-radius: 12px;\n  background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1rem;\n"]))),En=a.A.h3(G||(G=(0,t.A)(["\n  margin: 0;\n  color: #1e293b;\n  font-size: 1.125rem;\n  font-weight: 600;\n"]))),Pn=a.A.div(H||(H=(0,t.A)(["\n  display: grid;\n  gap: 1.5rem;\n\n  &.two-columns {\n    grid-template-columns: 1fr 1fr;\n\n    @media (max-width: 640px) {\n      grid-template-columns: 1fr;\n    }\n  }\n"]))),Vn=a.A.div(U||(U=(0,t.A)(["\n  display: flex;\n  flex-direction: column;\n"]))),Dn=a.A.label(L||(L=(0,t.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.75rem;\n  color: #374151;\n  font-weight: 600;\n  font-size: 0.875rem;\n"]))),Rn=a.A.input(F||(F=(0,t.A)(["\n  width: 100%;\n  padding: 0.875rem 1rem;\n  border: 2px solid #e2e8f0;\n  border-radius: 12px;\n  font-size: 1rem;\n  transition: all 0.2s;\n  background: white;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);\n  }\n\n  &.error {\n    border-color: #ef4444;\n    box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.1);\n  }\n\n  &:disabled {\n    background: #f8fafc;\n    color: #64748b;\n    cursor: not-allowed;\n  }\n"]))),Zn=a.A.select($||($=(0,t.A)(["\n  width: 100%;\n  padding: 0.875rem 1rem;\n  border: 2px solid #e2e8f0;\n  border-radius: 12px;\n  font-size: 1rem;\n  background: white;\n  transition: all 0.2s;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);\n  }\n"]))),Kn=a.A.div(W||(W=(0,t.A)(["\n  margin-top: 0.5rem;\n  color: #ef4444;\n  font-size: 0.875rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-weight: 500;\n"]))),Yn=a.A.div(B||(B=(0,t.A)(["\n  width: 16px;\n  height: 16px;\n  border: 2px solid #e2e8f0;\n  border-top: 2px solid #3b82f6;\n  border-radius: 50%;\n  animation: "," 1s linear infinite;\n"])),bn),Jn=a.A.button(Q||(Q=(0,t.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-weight: 600;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover:not(:disabled) {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);\n  }\n\n  &:disabled {\n    background: #e2e8f0;\n    color: #64748b;\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n"]))),qn=a.A.div(X||(X=(0,t.A)(["\n  margin-top: 1.5rem;\n  padding: 1.5rem;\n  background: #f8fafc;\n  border: 2px solid #e2e8f0;\n  border-radius: 16px;\n"]))),Gn=a.A.div(nn||(nn=(0,t.A)(["\n  font-size: 0.875rem;\n  font-weight: 600;\n  margin-bottom: 1rem;\n  color: #374151;\n"]))),Hn=a.A.div(en||(en=(0,t.A)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n  gap: 0.75rem;\n  margin-top: 1rem;\n"]))),Un=a.A.label(rn||(rn=(0,t.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 1rem;\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    background: ",";\n    border-color: ",";\n    transform: translateY(-1px);\n  }\n\n  input {\n    margin: 0;\n    width: 1.125rem;\n    height: 1.125rem;\n  }\n"])),n=>n.selected?"#eff6ff":"white",n=>n.selected?"#3b82f6":"#e2e8f0",n=>n.selected?"#dbeafe":"#f8fafc",n=>n.selected?"#2563eb":"#cbd5e1"),Ln=a.A.div(tn||(tn=(0,t.A)(["\n  display: flex;\n  flex-direction: column;\n"]))),Fn=a.A.span(an||(an=(0,t.A)(["\n  font-weight: 700;\n  color: #1e293b;\n  font-size: 0.875rem;\n"]))),$n=a.A.span(on||(on=(0,t.A)(["\n  font-size: 0.75rem;\n  color: #64748b;\n  margin-top: 0.125rem;\n"]))),Wn=a.A.div(sn||(sn=(0,t.A)(["\n  margin-top: 1rem;\n  padding: 1rem;\n  background: #fef3c7;\n  border: 2px solid #f59e0b;\n  border-radius: 12px;\n  font-size: 0.875rem;\n  color: #92400e;\n  display: flex;\n  align-items: flex-start;\n  gap: 0.5rem;\n"]))),Bn=a.A.div(ln||(ln=(0,t.A)(["\n  padding: 2rem;\n  background: #f8fafc;\n  border-top: 1px solid #e2e8f0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n"]))),Qn=a.A.div(dn||(dn=(0,t.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n  color: #64748b;\n"]))),Xn=a.A.div(cn||(cn=(0,t.A)(["\n  display: flex;\n  gap: 1rem;\n"]))),ne=a.A.button(pn||(pn=(0,t.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.875rem 1.5rem;\n  border-radius: 12px;\n  font-weight: 600;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &.cancel {\n    background: white;\n    color: #64748b;\n    border: 2px solid #e2e8f0;\n\n    &:hover {\n      background: #f8fafc;\n      border-color: #cbd5e1;\n    }\n  }\n\n  &.primary {\n    background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n    color: white;\n    border: 2px solid transparent;\n\n    &:hover:not(:disabled) {\n      transform: translateY(-2px);\n      box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);\n    }\n\n    &:disabled {\n      background: #e2e8f0;\n      color: #64748b;\n      cursor: not-allowed;\n      transform: none;\n      box-shadow: none;\n    }\n  }\n"]))),ee=n=>{let{isOpen:e,onClose:r,contact:t,permissionLevel:a,userDetail:o,showToast:l,onSave:d}=n;const{token:x,username:f,user_id:h}=(0,i.useContext)(s.cy),[u,g]=(0,i.useState)({ico:"",nazev:"",adresa:"",dic:"",zastoupeny:"",kontakt_jmeno:"",kontakt_telefon:"",kontakt_email:"",visibility:"user",usek_zkr:[]}),[v,y]=(0,i.useState)(null),[A,w]=(0,i.useState)(!1),[_,S]=(0,i.useState)(""),[M,I]=(0,i.useState)([]),[N,T]=(0,i.useState)(!1),[O,E]=(0,i.useState)({}),[P,V]=(0,i.useState)(!1),D="MANAGE"===a,R=(null===o||void 0===o?void 0:o.usek_zkr)||(null===o||void 0===o?void 0:o.department)||(null===o||void 0===o?void 0:o.usek)||"";(0,i.useEffect)(()=>{if(e){if(Z(),t){let e=[];try{"string"===typeof t.usek_zkr&&""!==t.usek_zkr.trim()?e=JSON.parse(t.usek_zkr):Array.isArray(t.usek_zkr)&&(e=t.usek_zkr)}catch(n){}g({ico:t.ico||"",nazev:t.nazev||t.name||"",adresa:t.adresa||"",dic:t.dic||"",zastoupeny:t.zastoupeny||"",kontakt_jmeno:t.kontakt_jmeno||"",kontakt_telefon:t.kontakt_telefon||"",kontakt_email:t.kontakt_email||"",visibility:K(t),usek_zkr:e})}else g({ico:"",nazev:"",adresa:"",dic:"",zastoupeny:"",kontakt_jmeno:"",kontakt_telefon:"",kontakt_email:"",visibility:"user",usek_zkr:[]});y(null),S(""),E({})}},[t,e]);const Z=async()=>{T(!0);try{const n=await(0,mn.wc)({token:x,username:f});Array.isArray(n)?I(n):null!==n&&void 0!==n&&n.data&&Array.isArray(n.data)?I(n.data):I([])}catch(n){I([])}T(!1)},K=n=>n?n.usek_zkr&&""!==n.usek_zkr&&"[]"!==n.usek_zkr?"department":0===n.user_id||"0"===n.user_id?"global":"user":"user",Y=(n,e)=>{g(r=>{const t=(0,xn.A)((0,xn.A)({},r),{},{[n]:e});return"visibility"===n&&"department"===e&&!D&&R&&(t.usek_zkr=[R]),t}),O[n]&&E(e=>(0,xn.A)((0,xn.A)({},e),{},{[n]:""}))},J=n=>{g(e=>(0,xn.A)((0,xn.A)({},e),{},{usek_zkr:e.usek_zkr.includes(n)?e.usek_zkr.filter(e=>e!==n):[...e.usek_zkr,n]}))};if(!e)return null;const q=!!t,G=(()=>{const n=[{value:"user",label:"Osobn\xed kontakt",icon:(0,un.jsx)(p.A,{size:14})}];return R&&n.push({value:"department",label:"Kontakty \xfaseku",icon:(0,un.jsx)(m.A,{size:14})}),D&&n.push({value:"global",label:"Glob\xe1ln\xed kontakt",icon:(0,un.jsx)(c,{size:14})}),n})();return fn.createPortal((0,un.jsx)(vn,{onClick:n=>n.target===n.currentTarget&&r(),children:(0,un.jsxs)(yn,{children:[(0,un.jsx)(An,{children:(0,un.jsxs)(jn,{children:[(0,un.jsxs)(zn,{children:[(0,un.jsx)(wn,{children:q?"Upravit kontakt":"P\u0159idat nov\xfd kontakt"}),(0,un.jsx)(_n,{children:q?"Aktualizujte informace o dodavateli":"Vytvo\u0159te nov\xfd kontakt dodavatele"})]}),(0,un.jsx)(Cn,{onClick:r,children:(0,un.jsx)(k.A,{size:20})})]})}),(0,un.jsxs)(Sn,{children:[(0,un.jsxs)(Mn,{children:[(0,un.jsxs)(Nn,{className:"left-column",children:[(0,un.jsxs)(Tn,{children:[(0,un.jsx)(On,{children:(0,un.jsx)(m.A,{size:16})}),(0,un.jsx)(En,{children:"Z\xe1kladn\xed \xfadaje spole\u010dnosti"})]}),(0,un.jsxs)(Pn,{className:"two-columns",children:[(0,un.jsxs)(Vn,{children:[(0,un.jsx)(Dn,{children:(0,un.jsx)("span",{children:"I\u010cO *"})}),(0,un.jsx)(Rn,{type:"text",value:u.ico,onChange:n=>Y("ico",n.target.value),placeholder:"12345678",className:O.ico?"error":"",maxLength:8}),O.ico&&(0,un.jsxs)(Kn,{children:[(0,un.jsx)(hn.A,{size:14}),O.ico]})]}),(0,un.jsxs)(Vn,{children:[(0,un.jsx)(Dn,{children:"Viditelnost"}),(0,un.jsx)(Zn,{value:u.visibility,onChange:n=>Y("visibility",n.target.value),children:G.map(n=>(0,un.jsx)("option",{value:n.value,children:n.label},n.value))})]})]}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem",background:v?"#f0fdf4":"#f8fafc",border:"1px solid ".concat(v?"#bbf7d0":"#e2e8f0"),borderRadius:"6px",fontSize:"0.8rem"},children:[(0,un.jsxs)(Jn,{onClick:async()=>{if(!u.ico||u.ico.length<8)S("I\u010cO mus\xed m\xedt alespo\u0148 8 znak\u016f");else{w(!0),S(""),y(null);try{const a="https://ares.gov.cz/ekonomicke-subjekty-v-be/rest/ekonomicke-subjekty/".concat(u.ico.trim()),o=await fetch(a,{method:"GET",headers:{Accept:"application/json"}});if(o.ok){const a=await o.json();if(a.ico&&a.obchodniJmeno){var n,e,r,t,i;const o=(null===(n=a.sidlo)||void 0===n?void 0:n.textovaAdresa)||"".concat((null===(e=a.sidlo)||void 0===e?void 0:e.nazevUlice)||""," ").concat((null===(r=a.sidlo)||void 0===r?void 0:r.cisloDomovni)||"",", ").concat((null===(t=a.sidlo)||void 0===t?void 0:t.psc)||""," ").concat((null===(i=a.sidlo)||void 0===i?void 0:i.nazevObce)||"").trim();y({nazev:a.obchodniJmeno,adresa:o,dic:a.dic||""}),g(n=>(0,xn.A)((0,xn.A)({},n),{},{nazev:a.obchodniJmeno,adresa:o,dic:a.dic||n.dic}))}else S("Subjekt s t\xedmto I\u010cO nebyl v ARES datab\xe1zi nalezen")}else S("Subjekt s t\xedmto I\u010cO nebyl v ARES datab\xe1zi nalezen")}catch(a){S("Chyba p\u0159i komunikaci s ARES datab\xe1z\xed")}w(!1)}},disabled:A||!u.ico||u.ico.length<8,style:{padding:"0.5rem 0.75rem",fontSize:"0.875rem"},children:[A?(0,un.jsx)(Yn,{}):(0,un.jsx)(b.A,{size:14}),"Vyhledat v ARES"]}),(0,un.jsx)("div",{style:{flex:1,color:v?"#166534":_?"#dc2626":"#6b7280"},children:v?"\u2705 ".concat(v.nazev):_?"\u274c ".concat(_):"Zadejte I\u010cO a klikn\u011bte na tla\u010d\xedtko"})]}),(0,un.jsxs)(Pn,{style:{marginTop:"2rem"},children:[(0,un.jsxs)(Vn,{children:[(0,un.jsx)(Dn,{children:"N\xe1zev *"}),(0,un.jsx)(Rn,{type:"text",value:u.nazev,onChange:n=>Y("nazev",n.target.value),placeholder:"N\xe1zev spole\u010dnosti",className:O.nazev?"error":""}),O.nazev&&(0,un.jsxs)(Kn,{children:[(0,un.jsx)(hn.A,{size:14}),O.nazev]})]}),(0,un.jsxs)(Vn,{children:[(0,un.jsx)(Dn,{children:"Adresa"}),(0,un.jsx)(Rn,{type:"text",value:u.adresa,onChange:n=>Y("adresa",n.target.value),placeholder:"Ulice, m\u011bsto, PS\u010c"})]})]}),(0,un.jsxs)(Pn,{className:"two-columns",style:{marginTop:"1.5rem"},children:[(0,un.jsxs)(Vn,{children:[(0,un.jsx)(Dn,{children:"DI\u010c"}),(0,un.jsx)(Rn,{type:"text",value:u.dic,onChange:n=>Y("dic",n.target.value),placeholder:"CZ12345678"})]}),(0,un.jsxs)(Vn,{children:[(0,un.jsx)(Dn,{children:"Zastoupen\xfd"}),(0,un.jsx)(Rn,{type:"text",value:u.zastoupeny,onChange:n=>Y("zastoupeny",n.target.value),placeholder:"Jm\xe9no zastoupen\xe9 osoby"})]})]})]}),(0,un.jsx)("div",{children:(0,un.jsxs)(Nn,{children:[(0,un.jsxs)(Tn,{children:[(0,un.jsx)(On,{children:(0,un.jsx)(C,{size:16})}),(0,un.jsx)(En,{children:"Kontaktn\xed osoba"})]}),(0,un.jsxs)(Vn,{children:[(0,un.jsx)(Dn,{children:"Jm\xe9no kontaktn\xed osoby"}),(0,un.jsx)(Rn,{type:"text",value:u.kontakt_jmeno,onChange:n=>Y("kontakt_jmeno",n.target.value),placeholder:"Jan Nov\xe1k"})]}),(0,un.jsxs)(Pn,{className:"two-columns",style:{marginTop:"1.5rem"},children:[(0,un.jsxs)(Vn,{children:[(0,un.jsxs)(Dn,{children:[(0,un.jsx)(z.A,{size:14}),"Telefon"]}),(0,un.jsx)(Rn,{type:"tel",value:u.kontakt_telefon,onChange:n=>Y("kontakt_telefon",n.target.value),placeholder:"+420 123 456 789"})]}),(0,un.jsxs)(Vn,{children:[(0,un.jsxs)(Dn,{children:[(0,un.jsx)(j.A,{size:14}),"Email"]}),(0,un.jsx)(Rn,{type:"email",value:u.kontakt_email,onChange:n=>Y("kontakt_email",n.target.value),placeholder:"kontakt@firma.cz",className:O.kontakt_email?"error":""}),O.kontakt_email&&(0,un.jsxs)(Kn,{children:[(0,un.jsx)(hn.A,{size:14}),O.kontakt_email]})]})]})]})})]}),"department"===u.visibility&&(0,un.jsx)(In,{children:(0,un.jsxs)(Nn,{children:[(0,un.jsxs)(Tn,{children:[(0,un.jsx)(On,{children:(0,un.jsx)(m.A,{size:16})}),(0,un.jsx)(En,{children:"P\u0159i\u0159azen\xed k \xfasek\u016fm"})]}),(0,un.jsxs)(qn,{children:[(0,un.jsx)(Gn,{children:D?"Vyberte \xfaseky:":"V\xe1\u0161 \xfasek: ".concat(R)}),N?(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem"},children:[(0,un.jsx)(Yn,{}),(0,un.jsx)("span",{children:"Na\u010d\xedt\xe1m \xfaseky..."})]}):0===M.length?(0,un.jsx)("div",{style:{padding:"1rem",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626"},children:"\u274c \u017d\xe1dn\xe9 \xfaseky nebyly na\u010dteny"}):(0,un.jsx)(Hn,{children:(D?M:M.filter(n=>n.usek_zkr===R)).map((n,e)=>(0,un.jsxs)(Un,{selected:u.usek_zkr.includes(n.usek_zkr),onClick:()=>J(n.usek_zkr),children:[(0,un.jsx)("input",{type:"checkbox",checked:u.usek_zkr.includes(n.usek_zkr),onChange:()=>J(n.usek_zkr)}),(0,un.jsxs)(Ln,{children:[(0,un.jsx)(Fn,{children:n.usek_zkr||"N/A"}),(0,un.jsx)($n,{children:n.usek_nazev||"N\xe1zev nenalezen"})]})]},n.usek_zkr||e))}),"department"===u.visibility&&0===u.usek_zkr.length&&!N&&(0,un.jsxs)(Wn,{children:[(0,un.jsx)(hn.A,{size:16}),(0,un.jsxs)("div",{children:[(0,un.jsx)("strong",{children:"Vyberte alespo\u0148 jeden \xfasek"}),(0,un.jsx)("br",{}),"Kontakt bude viditeln\xfd pouze ve vybran\xfdch \xfasec\xedch."]})]})]})]})})]}),(0,un.jsxs)(Bn,{children:[(0,un.jsxs)(Qn,{children:[(0,un.jsx)(c,{size:14}),(0,un.jsxs)("span",{children:["user"===u.visibility&&"Osobn\xed kontakt","department"===u.visibility&&"Kontakt \xfasek\u016f (".concat(u.usek_zkr.length,")"),"global"===u.visibility&&"Glob\xe1ln\xed kontakt"]})]}),(0,un.jsxs)(Xn,{children:[(0,un.jsx)(ne,{className:"cancel",onClick:r,children:"Zru\u0161it"}),(0,un.jsxs)(ne,{className:"primary",onClick:async()=>{if((()=>{const n={};return u.ico.trim()?/^\d{8}$/.test(u.ico.trim())||(n.ico="I\u010cO mus\xed obsahovat p\u0159esn\u011b 8 \u010d\xedslic"):n.ico="I\u010cO je povinn\xe9",u.nazev.trim()||(n.nazev="N\xe1zev je povinn\xfd"),"department"===u.visibility&&(D&&0===u.usek_zkr.length?n.usek_zkr="Pro kontakt \xfasek\u016f mus\xedte vybrat alespo\u0148 jeden \xfasek":D||R||(n.usek_zkr="Nem\xe1te p\u0159i\u0159azen \u017e\xe1dn\xfd \xfasek")),u.kontakt_email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.kontakt_email)&&(n.kontakt_email="Neplatn\xfd form\xe1t emailu"),E(n),0===Object.keys(n).length})()){V(!0);try{const n={ico:u.ico.trim(),nazev:u.nazev.trim(),adresa:u.adresa.trim()||"",dic:u.dic.trim()||"",zastoupeny:u.zastoupeny.trim()||"",kontakt_jmeno:u.kontakt_jmeno.trim()||"",kontakt_telefon:u.kontakt_telefon.trim()||"",kontakt_email:u.kontakt_email.trim()||""};if("user"===u.visibility)n.user_id=h,n.usek_zkr="";else if("department"===u.visibility){n.user_id=0;const e=u.usek_zkr.length>0?u.usek_zkr:[R];n.usek_zkr=JSON.stringify(e)}else"global"===u.visibility&&(n.user_id=0,n.usek_zkr="");let e;e=t?await(0,mn.aj)((0,xn.A)((0,xn.A)({},n),{},{token:x,username:f})):await(0,mn.jx)((0,xn.A)((0,xn.A)({},n),{},{token:x,username:f})),e&&(l&&l(t?"Kontakt byl \xfasp\u011b\u0161n\u011b aktualizov\xe1n":"Kontakt byl \xfasp\u011b\u0161n\u011b vytvo\u0159en","success"),d&&d(),r())}catch(n){l&&l("Chyba p\u0159i ukl\xe1d\xe1n\xed kontaktu: "+n.message,"error")}V(!1)}},disabled:P,children:[P?(0,un.jsx)(Yn,{}):(0,un.jsx)(kn.A,{size:16}),P?"Ukl\xe1d\xe1m...":"Ulo\u017eit kontakt"]})]})]})]})}),document.body)};var re,te,ie,ae,oe,se,le,de,ce,pe,me,xe,fe,he,ke,ue,be,ge;const ve=(0,o.i7)(re||(re=(0,t.A)(["\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),ye=a.A.div(te||(te=(0,t.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.4);\n  backdrop-filter: blur(12px);\n  -webkit-backdrop-filter: blur(12px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  padding: 1rem;\n  animation: fadeIn 0.2s ease-out;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n"]))),Ae=a.A.div(ie||(ie=(0,t.A)(["\n  background: white;\n  border-radius: 16px;\n  width: 100%;\n  max-width: 480px;\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n  animation: "," 0.3s ease-out;\n  overflow: hidden;\n"])),ve),je=a.A.div(ae||(ae=(0,t.A)(["\n  padding: 1.5rem 1.5rem 1rem 1.5rem;\n  display: flex;\n  align-items: flex-start;\n  gap: 1rem;\n"]))),ze=a.A.div(oe||(oe=(0,t.A)(["\n  width: 48px;\n  height: 48px;\n  border-radius: 12px;\n  background: #fee2e2;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #dc2626;\n  flex-shrink: 0;\n"]))),we=a.A.div(se||(se=(0,t.A)(["\n  flex: 1;\n"]))),_e=a.A.h2(le||(le=(0,t.A)(["\n  margin: 0 0 0.5rem 0;\n  color: #1e293b;\n  font-size: 1.25rem;\n  font-weight: 600;\n"]))),Ce=a.A.p(de||(de=(0,t.A)(["\n  margin: 0;\n  color: #64748b;\n  font-size: 0.875rem;\n  line-height: 1.5;\n"]))),Se=a.A.button(ce||(ce=(0,t.A)(["\n  background: none;\n  border: none;\n  color: #64748b;\n  cursor: pointer;\n  padding: 0.25rem;\n  border-radius: 4px;\n  transition: all 0.2s;\n  flex-shrink: 0;\n\n  &:hover {\n    background: #f1f5f9;\n    color: #1e293b;\n  }\n"]))),Me=a.A.div(pe||(pe=(0,t.A)(["\n  padding: 0 1.5rem 1rem 1.5rem;\n"]))),Ie=a.A.div(me||(me=(0,t.A)(["\n  background: #f8fafc;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n"]))),Ne=a.A.div(xe||(xe=(0,t.A)(["\n  font-weight: 600;\n  color: #1e293b;\n  margin-bottom: 0.25rem;\n"]))),Te=a.A.div(fe||(fe=(0,t.A)(["\n  font-size: 0.875rem;\n  color: #64748b;\n"]))),Oe=a.A.div(he||(he=(0,t.A)(["\n  background: #fef3c7;\n  border: 1px solid #fbbf24;\n  border-radius: 8px;\n  padding: 1rem;\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n"]))),Ee=a.A.div(ke||(ke=(0,t.A)(["\n  color: #92400e;\n  flex-shrink: 0;\n  margin-top: 0.125rem;\n"]))),Pe=a.A.div(ue||(ue=(0,t.A)(["\n  color: #92400e;\n  font-size: 0.875rem;\n  line-height: 1.5;\n"]))),Ve=a.A.div(be||(be=(0,t.A)(["\n  padding: 1.5rem;\n  border-top: 1px solid #e2e8f0;\n  background: #f8fafc;\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n"]))),De=a.A.button(ge||(ge=(0,t.A)(["\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n\n  &.cancel {\n    background: white;\n    color: #64748b;\n    border: 1px solid #e2e8f0;\n\n    &:hover {\n      background: #f8fafc;\n      border-color: #cbd5e1;\n      color: #1e293b;\n    }\n  }\n\n  &.danger {\n    background: #dc2626;\n    color: white;\n    border: none;\n\n    &:hover {\n      background: #b91c1c;\n    }\n\n    &:disabled {\n      background: #fca5a5;\n      cursor: not-allowed;\n    }\n  }\n"]))),Re=n=>{let{isOpen:e,onClose:r,contact:t,onConfirm:i,loading:a=!1}=n;if(!e||!t)return null;return fn.createPortal((0,un.jsx)(ye,{onClick:n=>n.target===n.currentTarget&&!a&&r(),children:(0,un.jsxs)(Ae,{children:[(0,un.jsxs)(je,{children:[(0,un.jsx)(ze,{children:(0,un.jsx)(hn.A,{size:24})}),(0,un.jsxs)(we,{children:[(0,un.jsx)(_e,{children:"Smazat kontakt"}),(0,un.jsx)(Ce,{children:"Opravdu chcete smazat tento kontakt? Tato akce je nevratn\xe1."})]}),(0,un.jsx)(Se,{onClick:r,disabled:a,children:(0,un.jsx)(k.A,{size:20})})]}),(0,un.jsxs)(Me,{children:[(0,un.jsxs)(Ie,{children:[(0,un.jsx)(Ne,{children:t.nazev||t.name}),(0,un.jsxs)(Te,{children:["I\u010cO: ",t.ico,t.dic&&(0,un.jsxs)(un.Fragment,{children:[" \u2022 DI\u010c: ",t.dic]}),t.adresa&&(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)("br",{}),t.adresa]})]})]}),(0,un.jsxs)(Oe,{children:[(0,un.jsx)(Ee,{children:(0,un.jsx)(hn.A,{size:16})}),(0,un.jsxs)(Pe,{children:[(0,un.jsx)("strong",{children:"Upozorn\u011bn\xed:"})," Smaz\xe1n\xed kontaktu je nevratn\xe1 operace. Kontakt bude odstran\u011bn z adres\xe1\u0159e a nebude ji\u017e dostupn\xfd pro v\xfdb\u011br v objedn\xe1vk\xe1ch."]})]})]}),(0,un.jsxs)(Ve,{children:[(0,un.jsx)(De,{className:"cancel",onClick:r,disabled:a,children:"Zru\u0161it"}),(0,un.jsxs)(De,{className:"danger",onClick:()=>{i&&!a&&i(t)},disabled:a,children:[(0,un.jsx)(_.A,{size:16}),a?"Maz\xe1n\xed...":"Smazat kontakt"]})]})]})}),document.body)};var Ze,Ke,Ye,Je,qe,Ge,He,Ue,Le,Fe,$e,We,Be,Qe,Xe,nr,er,rr,tr,ir,ar,or,sr,lr,dr,cr,pr,mr,xr,fr,hr,kr,ur,br,gr,vr,yr,Ar,jr,zr,wr,_r,Cr,Sr,Mr,Ir,Nr,Tr,Or,Er,Pr,Vr,Dr,Rr,Zr,Kr;const Yr=(0,o.i7)(Ze||(Ze=(0,t.A)(["\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n"]))),Jr=((0,o.i7)(Ke||(Ke=(0,t.A)(["\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n"]))),a.A.div(Ye||(Ye=(0,t.A)(["\n  width: 100%;\n"])))),qr=a.A.div(Je||(Je=(0,t.A)(["\n  background: white;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n"]))),Gr=a.A.div(qe||(qe=(0,t.A)(["\n  display: flex;\n  justify-content: between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  gap: 1rem;\n"]))),Hr=a.A.h3(Ge||(Ge=(0,t.A)(["\n  margin: 0;\n  color: #1e293b;\n  font-size: 1.25rem;\n  font-weight: 600;\n  flex: 1;\n"]))),Ur=a.A.button(He||(He=(0,t.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  border: 2px solid #3b82f6;\n  border-radius: 8px;\n  background: #3b82f6;\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #2563eb;\n    border-color: #2563eb;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n"]))),Lr=a.A.div(Ue||(Ue=(0,t.A)(["\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n  flex-wrap: wrap;\n  margin-bottom: 1rem;\n"]))),Fr=a.A.div(Le||(Le=(0,t.A)(["\n  position: relative;\n  flex: 1;\n  min-width: 300px;\n\n  > svg:first-of-type {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px !important;\n    height: 16px !important;\n  }\n"]))),$r=a.A.button(Fe||(Fe=(0,t.A)(["\n  position: absolute;\n  right: 0.75rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 0.25rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n  z-index: 1;\n  width: 20px;\n  height: 20px;\n\n  &:hover {\n    color: #6b7280;\n  }\n\n  > svg {\n    width: 14px !important;\n    height: 14px !important;\n  }\n"]))),Wr=a.A.input($e||($e=(0,t.A)(["\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0.75rem 2.5rem 0.75rem 2.5rem;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  background: white;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #9ca3af;\n  }\n"]))),Br=a.A.div(We||(We=(0,t.A)(["\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n  margin-bottom: 1rem;\n"]))),Qr=a.A.button(Be||(Be=(0,t.A)(["\n  padding: 0.5rem 1rem;\n  border: 2px solid ",";\n  background: ",";\n  color: ",";\n  border-radius: 20px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  &:hover {\n    border-color: #3b82f6;\n    color: #1d4ed8;\n  }\n"])),n=>n.active?"#3b82f6":"#e2e8f0",n=>n.active?"#eff6ff":"white",n=>n.active?"#1d4ed8":"#64748b"),Xr=a.A.div(Qe||(Qe=(0,t.A)(["\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n"]))),nt=a.A.button(Xe||(Xe=(0,t.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.625rem 1rem;\n  border: 2px solid ",";\n  background: ",";\n  color: ",";\n  border-radius: 8px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  white-space: nowrap;\n\n  &:hover {\n    background: ",";\n    border-color: ",";\n    transform: translateY(-1px);\n  }\n\n  svg {\n    flex-shrink: 0;\n  }\n"])),n=>n.active&&"all"===n.filterType?"#3b82f6":n.active&&"active"===n.filterType?"#10b981":n.active&&"inactive"===n.filterType?"#ef4444":"#e2e8f0",n=>n.active&&"all"===n.filterType?"#eff6ff":n.active&&"active"===n.filterType?"#d1fae5":n.active&&"inactive"===n.filterType?"#fee2e2":"white",n=>n.active&&"all"===n.filterType?"#1e40af":n.active&&"active"===n.filterType?"#065f46":n.active&&"inactive"===n.filterType?"#991b1b":"#6b7280",n=>"all"===n.filterType?"#eff6ff":"active"===n.filterType?"#d1fae5":"inactive"===n.filterType?"#fee2e2":"#f8fafc",n=>"all"===n.filterType?"#3b82f6":"active"===n.filterType?"#10b981":"inactive"===n.filterType?"#ef4444":"#cbd5e1"),et=a.A.div(nr||(nr=(0,t.A)(["\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n  overflow: hidden;\n"]))),rt=a.A.div(er||(er=(0,t.A)(["\n  background: #f8fafc;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid #e2e8f0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),tt=a.A.div(rr||(rr=(0,t.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.35rem;\n  color: #64748b;\n  font-size: 0.875rem;\n\n  strong {\n    color: #1e293b;\n    font-weight: 600;\n  }\n"]))),it=a.A.div(tr||(tr=(0,t.A)(["\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n"]))),at=a.A.button(ir||(ir=(0,t.A)(["\n  background: rgba(59, 130, 246, 0.1);\n  border: 1px solid rgba(59, 130, 246, 0.3);\n  color: #3b82f6;\n  width: 36px;\n  height: 36px;\n  border-radius: 6px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1rem;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: rgba(59, 130, 246, 0.2);\n    border-color: rgba(59, 130, 246, 0.4);\n    transform: translateY(-1px);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"]))),ot=a.A.div(ar||(ar=(0,t.A)(["\n  display: flex;\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  overflow: hidden;\n"]))),st=a.A.button(or||(or=(0,t.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1rem;\n  background: ",";\n  color: ",";\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s;\n  font-size: 0.875rem;\n  font-weight: 500;\n\n  &:hover:not(:disabled) {\n    background: ",";\n    color: ",";\n  }\n"])),n=>n.active?"#3b82f6":"white",n=>n.active?"white":"#64748b",n=>n.active?"#2563eb":"#f8fafc",n=>n.active?"white":"#374151"),lt=a.A.div(sr||(sr=(0,t.A)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(368px, 1fr)); /* 320px * 1.15 = 368px */\n  gap: 1rem;\n  padding: 1.5rem;\n"]))),dt=a.A.div(lr||(lr=(0,t.A)(["\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 12px;\n  padding: 1.5rem;\n  padding-bottom: 4rem; /* Extra padding for action buttons and tags at bottom */\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n  transition: all 0.2s;\n  position: relative;\n\n  &:hover {\n    border-color: #cbd5e1;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    transform: translateY(-2px);\n  }\n\n  &:hover .card-actions {\n    opacity: 1;\n  }\n"]))),ct=a.A.div(dr||(dr=(0,t.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 1rem;\n  position: relative;\n"]))),pt=a.A.h3(cr||(cr=(0,t.A)(["\n  margin: 0;\n  color: #1e293b;\n  font-size: 1.125rem;\n  font-weight: 600;\n  line-height: 1.2;\n  flex: 1;\n  display: inline;\n"]))),mt=a.A.sup(pr||(pr=(0,t.A)(["\n  font-size: 0.65rem;\n  font-weight: 500;\n  color: #94a3b8;\n  margin-left: 0.35rem;\n  letter-spacing: 0.3px;\n  position: relative;\n  top: -3px;\n"]))),xt=a.A.div(mr||(mr=(0,t.A)(["\n  padding: 0.375rem 0.75rem;\n  border-radius: 8px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 0.35rem;\n  white-space: nowrap;\n  flex-shrink: 0;\n"]))),ft=a.A.div(xr||(xr=(0,t.A)(["\n  position: absolute;\n  bottom: 0.75rem;\n  right: 0.75rem;\n  display: flex;\n  gap: 0.5rem;\n  opacity: 0;\n  transition: opacity 0.2s;\n"]))),ht=a.A.div(fr||(fr=(0,t.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-bottom: 1.5rem; /* Ensures space between contact info and bottom tags */\n"]))),kt=a.A.div(hr||(hr=(0,t.A)(["\n  display: flex;\n  align-items: flex-start; /* Changed from center to flex-start for multiline */\n  gap: 0.5rem;\n  color: #64748b;\n  font-size: 0.875rem;\n"]))),ut=a.A.span(kr||(kr=(0,t.A)(["\n  font-weight: 500;\n  color: #374151;\n  min-width: 80px;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex-shrink: 0; /* Prevent label from shrinking */\n"]))),bt=a.A.span(ur||(ur=(0,t.A)(["\n  color: #64748b;\n  line-height: 1.5;\n  word-break: break-word;\n"]))),gt=a.A.hr(br||(br=(0,t.A)(["\n  border: none;\n  border-top: 1px solid #e2e8f0;\n  margin: 0.75rem 0;\n"]))),vt=a.A.div(gr||(gr=(0,t.A)(["\n  position: absolute;\n  bottom: 0.75rem;\n  left: 0.75rem;\n  display: flex;\n  flex-direction: column-reverse; /* Reverse order so last item is at bottom */\n  gap: 0.35rem;\n  align-items: flex-start;\n"]))),yt=a.A.span(vr||(vr=(0,t.A)(["\n  display: inline-flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.25rem 0.5rem;\n  background: ",";\n  color: ",";\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n"])),n=>n.color||"#f1f5f9",n=>n.textColor||"#374151"),At=a.A.div(yr||(yr=(0,t.A)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3rem;\n  gap: 1rem;\n  color: #64748b;\n"]))),jt=a.A.div(Ar||(Ar=(0,t.A)(["\n  width: 24px;\n  height: 24px;\n  border: 2px solid #e2e8f0;\n  border-top: 2px solid #3b82f6;\n  border-radius: 50%;\n  ","\n"])),(0,o.AH)(jr||(jr=(0,t.A)(["animation: "," 1s linear infinite;"])),Yr)),zt=a.A.div(zr||(zr=(0,t.A)(["\n  /* No max-height or overflow - let content expand naturally */\n"]))),wt=a.A.div(wr||(wr=(0,t.A)(["\n  padding: 1.5rem;\n  border-bottom: 1px solid #f1f5f9;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background: #f8fafc;\n  }\n\n  &:last-child {\n    border-bottom: none;\n  }\n"]))),_t=a.A.div(_r||(_r=(0,t.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 1rem;\n"]))),Ct=a.A.div(Cr||(Cr=(0,t.A)(["\n  flex: 1;\n"]))),St=a.A.h5(Sr||(Sr=(0,t.A)(["\n  margin: 0 0 0.5rem 0;\n  color: #1e293b;\n  font-size: 1.125rem;\n  font-weight: 600;\n"]))),Mt=a.A.div(Mr||(Mr=(0,t.A)(["\n  color: #64748b;\n  font-size: 0.875rem;\n  margin-bottom: 0.25rem;\n"]))),It=a.A.div(Ir||(Ir=(0,t.A)(["\n  color: #64748b;\n  font-size: 0.875rem;\n  margin-bottom: 0.5rem;\n"]))),Nt=a.A.div(Nr||(Nr=(0,t.A)(["\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),Tt=a.A.span(Tr||(Tr=(0,t.A)(["\n  display: inline-flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.25rem 0.75rem;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  background: ",";\n  color: ",";\n"])),n=>{switch(n.type){case"global":return"#dcfce7";case"user":return"#dbeafe";case"department":return"#fef3c7";default:return"#f1f5f9"}},n=>{switch(n.type){case"global":return"#166534";case"user":return"#1e40af";case"department":return"#92400e";default:return"#64748b"}}),Ot=a.A.span(Or||(Or=(0,t.A)(["\n  display: inline-flex;\n  align-items: center;\n  padding: 0.25rem 0.5rem;\n  background: #f0f9ff;\n  color: #0369a1;\n  border: 1px solid #bae6fd;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  margin-left: 0.5rem;\n"]))),Et=a.A.span(Er||(Er=(0,t.A)(["\n  display: inline-flex;\n  align-items: center;\n  padding: 0.25rem 0.5rem;\n  background: #f0fdf4;\n  color: #166534;\n  border: 1px solid #bbf7d0;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  margin-left: 0.5rem;\n"]))),Pt=a.A.div(Pr||(Pr=(0,t.A)(["\n  display: flex;\n  gap: 0.5rem;\n  align-items: flex-start;\n"]))),Vt=a.A.button(Vr||(Vr=(0,t.A)(["\n  padding: 0.5rem;\n  border: 1px solid #e2e8f0;\n  background: white;\n  border-radius: 6px;\n  cursor: pointer;\n  color: #64748b;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    background: #f8fafc;\n    border-color: #cbd5e1;\n    color: #1e293b;\n  }\n\n  &.primary {\n    background: #3b82f6;\n    border-color: #3b82f6;\n    color: white;\n\n    &:hover {\n      background: #2563eb;\n    }\n  }\n\n  &.danger {\n    &:hover {\n      background: #fee2e2;\n      border-color: #fca5a5;\n      color: #dc2626;\n    }\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]))),Dt=a.A.div(Dr||(Dr=(0,t.A)(["\n  text-align: center;\n  padding: 4rem 2rem;\n  color: #64748b;\n"]))),Rt=a.A.div(Rr||(Rr=(0,t.A)(["\n  font-size: 4rem;\n  margin-bottom: 1rem;\n"]))),Zt=a.A.h3(Zr||(Zr=(0,t.A)(["\n  margin: 0 0 0.5rem 0;\n  color: #1e293b;\n  font-size: 1.25rem;\n"]))),Kt=a.A.p(Kr||(Kr=(0,t.A)(["\n  margin: 0;\n  font-size: 1rem;\n"]))),Yt=n=>{let{contactType:e,permissionLevel:r,userDetail:t,showToast:a}=n;const{token:o,username:d,user_id:S}=(0,i.useContext)(s.cy),[M,I]=(0,i.useState)([]),[N,T]=(0,i.useState)([]),[O,E]=(0,i.useState)(!0),[P,V]=(0,i.useState)(""),[D,R]=(0,i.useState)("all"),[Z,K]=(0,i.useState)("all"),[Y,J]=(0,i.useState)(()=>localStorage.getItem("contactManagement_viewMode")||"list"),[q,G]=(0,i.useState)([]),[H,U]=(0,i.useState)(!1),[L,F]=(0,i.useState)({open:!1,contact:null}),[$,W]=(0,i.useState)({open:!1,contact:null}),[B,Q]=(0,i.useState)(!1),X=(0,i.useMemo)(()=>{const n=(null===t||void 0===t?void 0:t.usek_zkr)||(null===t||void 0===t?void 0:t.department)||(null===t||void 0===t?void 0:t.usek)||"";if(!n)return[];if("string"===typeof n&&n.trim().startsWith("["))try{const e=JSON.parse(n);return Array.isArray(e)?e:[n]}catch(e){return[n]}return Array.isArray(n)?n:[n]},[t]),nn=(0,i.useRef)(null);(0,i.useEffect)(()=>{localStorage.setItem("contactManagement_viewMode",Y)},[Y]);const en=n=>n?n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""):"",rn=n=>{let e=[];try{"string"===typeof n.usek_zkr&&""!==n.usek_zkr.trim()?e=JSON.parse(n.usek_zkr):Array.isArray(n.usek_zkr)&&(e=n.usek_zkr)}catch(r){return null}return e&&Array.isArray(e)&&0!==e.length?e.map((n,e)=>(0,un.jsx)(Ot,{children:n},e)):null},tn=n=>{if(!n.user_id||"0"===n.user_id||0===n.user_id)return(0,un.jsx)(Et,{children:"\ud83d\udc64 Spr\xe1vce"});if(n.creator_name||n.user_name)return(0,un.jsxs)(Et,{children:["\ud83d\udc64 ",n.creator_name||n.user_name]});const e=String(n.user_id),r=q.find(n=>String(n.id)===e||String(n.user_id)===e||String(n.ID)===e);if(r){const n=r.titul_pred?r.titul_pred+" ":"",e=r.titul_za?", "+r.titul_za:"",t="".concat(n).concat(r.jmeno||""," ").concat(r.prijmeni||"").concat(e).replace(/\s+/g," ").trim();if(t)return(0,un.jsxs)(Et,{children:["\ud83d\udc64 ",t]})}return(0,un.jsxs)(Et,{children:["\ud83d\udc64 ID: ",n.user_id]})},an=n=>{let e=[];try{"string"===typeof n.usek_zkr&&""!==n.usek_zkr.trim()?e=JSON.parse(n.usek_zkr):Array.isArray(n.usek_zkr)&&(e=n.usek_zkr)}catch(r){return null}return e&&Array.isArray(e)&&0!==e.length?e.map((n,e)=>(0,un.jsxs)(yt,{color:"#dbeafe",textColor:"#1e40af",children:["\ud83c\udfe2 ",n]},e)):null},on=n=>{if(!n.user_id||"0"===n.user_id||0===n.user_id)return(0,un.jsx)(yt,{color:"#dcfce7",textColor:"#166534",children:"\ud83d\udc64 Spr\xe1vce"});if(n.creator_name||n.user_name)return(0,un.jsxs)(yt,{color:"#dcfce7",textColor:"#166534",children:["\ud83d\udc64 ",n.creator_name||n.user_name]});const e=String(n.user_id),r=q.find(n=>String(n.id)===e||String(n.user_id)===e||String(n.ID)===e);if(r){const n=r.titul_pred?r.titul_pred+" ":"",e=r.titul_za?", "+r.titul_za:"",t="".concat(n).concat(r.jmeno||""," ").concat(r.prijmeni||"").concat(e).replace(/\s+/g," ").trim();if(t)return(0,un.jsxs)(yt,{color:"#dcfce7",textColor:"#166534",children:["\ud83d\udc64 ",t]})}return(0,un.jsxs)(yt,{color:"#dcfce7",textColor:"#166534",children:["\ud83d\udc64 ID: ",n.user_id]})},sn=(0,i.useCallback)(async()=>{if(!H)try{const n=await(0,mn.SU)({token:o,username:d});Array.isArray(n)&&(G(n),U(!0))}catch(n){}},[o,d,H]),ln=(0,i.useCallback)(async()=>{if("suppliers"===e){E(!0);try{const n=await(0,mn.e5)({token:o,username:d,user_id:S,usek_zkr:X[0]||void 0,load_all:"MANAGE"===r});Array.isArray(n)?(I(n),T(n)):(I([]),T([]))}catch(n){a&&a("Chyba p\u0159i na\u010d\xedt\xe1n\xed kontakt\u016f: "+n.message,"error"),I([]),T([])}finally{E(!1)}}},[e,o,d,S,X,r,a]),dn=(n,e,r)=>{let t=[...M];if(n.trim()){const e=en(n.trim()),r=/^\d+$/.test(n.trim());t=t.filter(t=>{if(r)return t.ico&&t.ico.includes(n.trim());return en(t.nazev||t.name||"").includes(e)})}"all"!==e&&(t=t.filter(n=>fn(n)===e)),"active"===r?t=t.filter(n=>1===n.aktivni||"1"===n.aktivni||!0===n.aktivni):"inactive"===r&&(t=t.filter(n=>0===n.aktivni||"0"===n.aktivni||!1===n.aktivni)),T(t)},cn=n=>{R(n),dn(P,n,Z)},pn=n=>{K(n),dn(P,D,n)},xn=n=>{if("MANAGE"===r)return!0;if("EDIT"===r){const r=fn(n);if("user"===r&&n.user_id===S)return!0;if("department"===r&&n.usek_zkr&&X.length>0)try{const e=JSON.parse(n.usek_zkr||"[]");if(Array.isArray(e)){if(e.some(n=>X.includes(n)))return!0}}catch(e){if(X.includes(n.usek_zkr))return!0}return!1}return!1},fn=n=>n?n.usek_zkr&&""!==n.usek_zkr.trim()&&"[]"!==n.usek_zkr?"department":0===n.user_id||"0"===n.user_id?"global":(n.user_id&&n.user_id,"user"):"user",hn=n=>{switch(n){case"global":return"Glob\xe1ln\xed kontakt";case"user":return"Osobn\xed kontakt";case"department":return"Kontakty \xfaseku";default:return"Nezn\xe1m\xfd"}},kn=n=>{switch(n){case"global":return(0,un.jsx)(c,{size:12});case"user":return(0,un.jsx)(p.A,{size:12});case"department":return(0,un.jsx)(m.A,{size:12});default:return null}};(0,i.useEffect)(()=>{sn(),ln()},[sn,ln]);const bn=(0,i.useMemo)(()=>{let n=[...M];if(P.trim()){const e=en(P.trim()),r=/^\d+$/.test(P.trim());n=n.filter(n=>{if(r)return n.ico&&n.ico.includes(P.trim());return en(n.nazev||n.name||"").includes(e)})}return"all"!==D&&(n=n.filter(n=>fn(n)===D)),"active"===Z?n=n.filter(n=>1===n.aktivni||"1"===n.aktivni||!0===n.aktivni):"inactive"===Z&&(n=n.filter(n=>0===n.aktivni||"0"===n.aktivni||!1===n.aktivni)),n},[M,P,D,Z]),gn=(0,i.useMemo)(()=>bn.filter(n=>1===n.aktivni||"1"===n.aktivni||!0===n.aktivni),[bn]),vn=(0,i.useMemo)(()=>bn.filter(n=>0===n.aktivni||"0"===n.aktivni||!1===n.aktivni),[bn]);(0,i.useEffect)(()=>{T(bn)},[bn]);const yn=n=>{F({open:!0,contact:n})},An=n=>{W({open:!0,contact:n})},jn=async n=>{if(n.ico)try{const e="https://ares.gov.cz/ekonomicke-subjekty-v-be/rest/ekonomicke-subjekty/".concat(n.ico),r=await fetch(e,{method:"GET",headers:{Accept:"application/json"}});if(r.ok){const n=(await r.json()).obchodniJmeno||"";n?a&&a("ARES ov\u011b\u0159en\xed: ".concat(n),"success"):a&&a("V ARES nebyla nalezena \u017e\xe1dn\xe1 data","warning")}else a&&a("V ARES nebyla nalezena \u017e\xe1dn\xe1 data","warning")}catch(e){a&&a("Chyba p\u0159i ov\u011b\u0159ov\xe1n\xed v ARES: "+e.message,"error")}else a&&a("Kontakt nem\xe1 zadan\xe9 I\u010cO","error")};(0,i.useEffect)(()=>()=>{nn.current&&clearTimeout(nn.current)},[]);const zn="READ"!==r;return(0,un.jsxs)(Jr,{children:[(0,un.jsxs)(qr,{children:[(0,un.jsxs)(Gr,{children:[(0,un.jsxs)(Hr,{children:[(0,un.jsx)(x.A,{size:20,style:{marginRight:"0.5rem"}}),"Vyhled\xe1v\xe1n\xed a spr\xe1va kontakt\u016f"]}),(0,un.jsx)("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:zn&&(0,un.jsx)(l.z,{text:"Vytvo\u0159it nov\xfd kontakt",icon:"success",preferredPosition:"bottom",children:(0,un.jsxs)(Ur,{onClick:()=>{F({open:!0,contact:null})},children:[(0,un.jsx)(f.A,{size:16}),"P\u0159idat kontakt"]})})})]}),(0,un.jsxs)(Lr,{children:[(0,un.jsxs)(Fr,{children:[(0,un.jsx)(h.A,{size:16}),(0,un.jsx)(Wr,{type:"text",placeholder:"Vyhledejte podle n\xe1zvu nebo I\u010cO...",value:P,onChange:n=>{const e=n.target.value;V(e),nn.current&&clearTimeout(nn.current),nn.current=setTimeout(()=>{dn(e,D,Z)},300)}}),P&&(0,un.jsx)($r,{onClick:()=>V(""),title:"Vymazat",children:(0,un.jsx)(k.A,{size:14})})]}),(0,un.jsxs)(Xr,{children:[(0,un.jsx)(l.z,{text:"Zobrazit v\u0161echny kontakty",icon:"info",preferredPosition:"bottom",children:(0,un.jsxs)(nt,{active:"all"===Z,filterType:"all",onClick:()=>pn("all"),children:[(0,un.jsx)(c,{size:16}),"V\u0161ichni"]})}),(0,un.jsx)(l.z,{text:"Zobrazit pouze aktivn\xed kontakty",icon:"success",preferredPosition:"bottom",children:(0,un.jsxs)(nt,{active:"active"===Z,filterType:"active",onClick:()=>pn("active"),children:[(0,un.jsx)(u.A,{size:16}),"Aktivn\xed"]})}),(0,un.jsx)(l.z,{text:"Zobrazit pouze neaktivn\xed kontakty",icon:"warning",preferredPosition:"bottom",children:(0,un.jsxs)(nt,{active:"inactive"===Z,filterType:"inactive",onClick:()=>pn("inactive"),children:[(0,un.jsx)(k.A,{size:16}),"Neaktivn\xed"]})})]})]}),(0,un.jsxs)(Br,{children:[(0,un.jsx)(Qr,{active:"all"===D,onClick:()=>cn("all"),children:"V\u0161echny kontakty"}),(0,un.jsxs)(Qr,{active:"global"===D,onClick:()=>cn("global"),children:[(0,un.jsx)(c,{size:14}),"Glob\xe1ln\xed kontakt"]}),(0,un.jsxs)(Qr,{active:"user"===D,onClick:()=>cn("user"),children:[(0,un.jsx)(p.A,{size:14}),"Osobn\xed kontakt"]}),(0,un.jsxs)(Qr,{active:"department"===D,onClick:()=>cn("department"),children:[(0,un.jsx)(m.A,{size:14}),"Kontakty \xfaseku"]})]})]}),(0,un.jsxs)(et,{children:[(0,un.jsxs)(rt,{children:[(0,un.jsxs)(it,{children:[(0,un.jsx)(l.z,{text:"Obnovit seznam dodavatel\u016f z datab\xe1ze",icon:"info",preferredPosition:"bottom",children:(0,un.jsx)(at,{onClick:ln,children:(0,un.jsx)(b.A,{size:16})})}),(0,un.jsx)(tt,{children:(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(m.A,{size:16}),(0,un.jsxs)("span",{children:["Zobrazeno: ",(0,un.jsx)("strong",{children:N.length})," z celkem ",(0,un.jsx)("strong",{children:M.length})," dodavatel\u016f | Aktivn\xed: ",(0,un.jsx)("strong",{children:gn.length})," | Neaktivn\xed: ",(0,un.jsx)("strong",{children:vn.length})]})]})})]}),(0,un.jsxs)(ot,{children:[(0,un.jsx)(l.z,{text:"Zobrazit jako seznam",icon:"info",preferredPosition:"bottom",children:(0,un.jsx)(st,{active:"list"===Y,onClick:()=>J("list"),children:(0,un.jsx)(g.A,{size:16})})}),(0,un.jsx)(l.z,{text:"Zobrazit jako dla\u017edice",icon:"info",preferredPosition:"bottom",children:(0,un.jsx)(st,{active:"grid"===Y,onClick:()=>J("grid"),children:(0,un.jsx)(v.A,{size:16})})})]})]}),O?(0,un.jsxs)(At,{children:[(0,un.jsx)(jt,{}),(0,un.jsx)("span",{children:"Na\u010d\xedt\xe1m kontakty..."})]}):0===N.length?(0,un.jsxs)(Dt,{children:[(0,un.jsx)(Rt,{children:"\ud83d\udced"}),(0,un.jsx)(Zt,{children:0===M.length?"\u017d\xe1dn\xe9 kontakty":"Nenalezeny \u017e\xe1dn\xe9 v\xfdsledky"}),(0,un.jsx)(Kt,{children:0===M.length?"V adres\xe1\u0159i zat\xedm nejsou \u017e\xe1dn\xe9 kontakty.":"Zkuste upravit vyhled\xe1vac\xed krit\xe9ria."})]}):"list"===Y?(0,un.jsx)(zt,{children:N.map((n,e)=>{const r=fn(n),t=xn(n);return(0,un.jsx)(wt,{children:(0,un.jsxs)(_t,{children:[(0,un.jsxs)(Ct,{children:[(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,un.jsx)(St,{children:n.nazev||n.name}),1===n.aktivni||"1"===n.aktivni||!0===n.aktivni?(0,un.jsxs)(Tt,{style:{background:"#d1fae5",color:"#065f46",fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:[(0,un.jsx)(u.A,{size:12}),"Aktivn\xed"]}):(0,un.jsxs)(Tt,{style:{background:"#fee2e2",color:"#991b1b",fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:[(0,un.jsx)(k.A,{size:12}),"Neaktivn\xed"]})]}),n.adresa&&(0,un.jsx)(It,{children:(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(y.A,{size:14}),n.adresa]})}),(0,un.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center",margin:"0.25rem 0"},children:[(0,un.jsx)(Mt,{children:(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(A.A,{size:14}),"I\u010cO: ",n.ico]})}),n.dic&&(0,un.jsxs)("span",{style:{fontSize:"0.875rem",color:"#64748b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(A.A,{size:14}),"DI\u010c: ",n.dic]})]}),n.zastoupeny&&(0,un.jsxs)("div",{style:{margin:"0.5rem 0",fontSize:"0.875rem",fontStyle:"italic",color:"#64748b"},children:["Zastoupen: ",n.zastoupeny]}),(n.kontakt_jmeno||n.kontakt_telefon||n.kontakt_email)&&(0,un.jsxs)("div",{style:{margin:"0.5rem 0",fontSize:"0.875rem",color:"#64748b"},children:[(0,un.jsxs)("div",{style:{fontWeight:"500",marginBottom:"0.25rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(p.A,{size:14}),"Kontaktn\xed osoba:"]}),(0,un.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[n.kontakt_jmeno&&(0,un.jsx)("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:n.kontakt_jmeno}),n.kontakt_email&&(0,un.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,un.jsx)(j.A,{size:14}),n.kontakt_email]}),n.kontakt_telefon&&(0,un.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,un.jsx)(z.A,{size:14}),n.kontakt_telefon]})]})]}),(0,un.jsxs)(Nt,{style:{marginTop:"0.75rem",paddingTop:"0.5rem",borderTop:"1px solid #f1f5f9"},children:[(0,un.jsxs)(Tt,{type:r,children:[kn(r),hn(r)]}),"department"===r&&rn(n),tn(n)]})]}),(0,un.jsx)(Pt,{children:t&&(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)(l.z,{text:"Upravit kontakt",icon:"info",preferredPosition:"bottom",children:(0,un.jsx)(Vt,{onClick:()=>yn(n),children:(0,un.jsx)(w,{size:16})})}),(0,un.jsx)(l.z,{text:"Ov\u011b\u0159it aktu\xe1ln\xed data v ARES (force refresh)",icon:"warning",preferredPosition:"bottom",children:(0,un.jsx)(Vt,{onClick:()=>jn(n),children:(0,un.jsx)(b.A,{size:16})})}),(0,un.jsx)(l.z,{text:"Smazat kontakt",icon:"error",preferredPosition:"bottom",children:(0,un.jsx)(Vt,{className:"danger",onClick:()=>An(n),children:(0,un.jsx)(_.A,{size:16})})})]})})]})},n.id||e)})}):(0,un.jsx)(lt,{children:N.map((n,e)=>{const r=fn(n),t=xn(n);return(0,un.jsxs)(dt,{children:[(0,un.jsxs)(ct,{children:[(0,un.jsxs)(pt,{children:[n.nazev||n.name,(0,un.jsxs)(mt,{children:["#ID ",n.id]})]}),1===n.aktivni||"1"===n.aktivni||!0===n.aktivni?(0,un.jsxs)(xt,{style:{background:"#d1fae5",color:"#065f46"},children:[(0,un.jsx)(u.A,{size:12}),"Aktivn\xed"]}):(0,un.jsxs)(xt,{style:{background:"#fee2e2",color:"#991b1b"},children:[(0,un.jsx)(k.A,{size:12}),"Neaktivn\xed"]})]}),(0,un.jsxs)(ht,{children:[n.adresa&&(0,un.jsxs)(kt,{children:[(0,un.jsxs)(ut,{children:[(0,un.jsx)(y.A,{size:14}),"Adresa:"]}),(0,un.jsx)(bt,{children:n.adresa})]}),(0,un.jsxs)(kt,{children:[(0,un.jsxs)(ut,{children:[(0,un.jsx)(A.A,{size:14}),"I\u010cO:"]}),(0,un.jsx)(bt,{children:n.ico})]}),n.dic&&(0,un.jsxs)(kt,{children:[(0,un.jsxs)(ut,{children:[(0,un.jsx)(A.A,{size:14}),"DI\u010c:"]}),(0,un.jsx)(bt,{children:n.dic})]}),(0,un.jsx)(gt,{}),n.zastoupeny&&(0,un.jsxs)(kt,{children:[(0,un.jsxs)(ut,{children:[(0,un.jsx)(C,{size:16}),"Zastoupen:"]}),(0,un.jsx)(bt,{children:n.zastoupeny})]}),n.kontakt_jmeno&&(0,un.jsxs)(kt,{children:[(0,un.jsxs)(ut,{children:[(0,un.jsx)(p.A,{size:14}),"Kontakt:"]}),(0,un.jsx)(bt,{children:n.kontakt_jmeno})]}),n.kontakt_email&&(0,un.jsxs)(kt,{children:[(0,un.jsxs)(ut,{children:[(0,un.jsx)(j.A,{size:14}),"Email:"]}),(0,un.jsx)(bt,{children:n.kontakt_email})]}),n.kontakt_telefon&&(0,un.jsxs)(kt,{children:[(0,un.jsxs)(ut,{children:[(0,un.jsx)(z.A,{size:14}),"Telefon:"]}),(0,un.jsx)(bt,{children:n.kontakt_telefon})]})]}),(0,un.jsxs)(vt,{children:[(0,un.jsxs)(yt,{color:"global"===r?"#dcfce7":"department"===r?"#dbeafe":"#f3f4f6",textColor:"global"===r?"#166534":"department"===r?"#1e40af":"#374151",children:[kn(r),hn(r)]}),"department"===r&&an(n),on(n)]}),t&&(0,un.jsxs)(ft,{className:"card-actions",children:[(0,un.jsx)(l.z,{text:"Upravit kontakt",icon:"info",preferredPosition:"bottom",children:(0,un.jsx)(Vt,{onClick:()=>yn(n),children:(0,un.jsx)(w,{size:14})})}),(0,un.jsx)(l.z,{text:"Ov\u011b\u0159it aktu\xe1ln\xed data v ARES (force refresh)",icon:"warning",preferredPosition:"bottom",children:(0,un.jsx)(Vt,{onClick:()=>jn(n),children:(0,un.jsx)(b.A,{size:14})})}),(0,un.jsx)(l.z,{text:"Smazat kontakt",icon:"error",preferredPosition:"bottom",children:(0,un.jsx)(Vt,{className:"danger",onClick:()=>An(n),children:(0,un.jsx)(_.A,{size:14})})})]})]},n.id||e)})})]}),(0,un.jsx)(ee,{isOpen:L.open,onClose:()=>F({open:!1,contact:null}),contact:L.contact,permissionLevel:r,userDetail:t,showToast:a,onSave:n=>{ln()}}),(0,un.jsx)(Re,{isOpen:$.open,onClose:()=>W({open:!1,contact:null}),contact:$.contact,onConfirm:async n=>{if(Q(!0),!n.id)return a&&a("Kontakt nem\xe1 datab\xe1zov\xe9 ID - nelze smazat","error"),void Q(!1);try{await(0,mn.O5)({id:n.id,token:o,username:d}),a&&a("Kontakt byl \xfasp\u011b\u0161n\u011b smaz\xe1n","success"),ln(),W({open:!1,contact:null})}catch(e){a&&a("Chyba p\u0159i maz\xe1n\xed kontaktu: "+e.message,"error")}finally{Q(!1)}},loading:!!B})]})},Jt=i.memo(Yt)},28006:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},30086:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},35327:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},37719:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},39292:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},40614:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},71360:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},76245:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},82054:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},84105:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},86376:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},88693:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},91286:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},95264:(n,e,r)=>{r.d(e,{A:()=>t});const t=(0,r(77784).A)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])}}]);
//# sourceMappingURL=1947.923122e9.chunk.js.map