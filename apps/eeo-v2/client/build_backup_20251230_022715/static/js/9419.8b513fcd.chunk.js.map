{"version":3,"file":"static/js/9419.8b513fcd.chunk.js","mappings":"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","sources":["pages/StatisticsPage.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useMemo, useCallback } from 'react';\nimport { createPortal } from 'react-dom';\nimport styled from '@emotion/styled';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faChartLine,\n  faChartPie,\n  faChartBar,\n  faUsers,\n  faBuilding,\n  faTachometerAlt,\n  faMoneyBillWave,\n  faShoppingCart,\n  faCalendarAlt,\n  faSyncAlt,\n  faDownload,\n  faCheckCircle,\n  faExpand,\n  faCompress,\n  faTimes\n} from '@fortawesome/free-solid-svg-icons';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement, Title } from 'chart.js';\nimport { Pie, Bar } from 'react-chartjs-2';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\nimport { AuthContext } from '../context/AuthContext';\nimport { ProgressContext } from '../context/ProgressContext';\nimport { listOrdersV2 } from '../services/apiOrderV2';\n\nChartJS.register(ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement, Title, ChartDataLabels);\n\n// =============================================================================\n// STYLED COMPONENTS\n// =============================================================================\n\nconst PageWrapper = styled.div`\n  width: 100%;\n  min-height: 100vh;\n  background: transparent;\n  padding: 2rem 1rem;\n`;\n\nconst PageContainer = styled.div`\n  max-width: 1400px;\n  margin: 0 auto;\n`;\n\nconst PageHeader = styled.div`\n  margin-bottom: 2.5rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst HeaderLeft = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst PageTitle = styled.h1`\n  font-size: 2.25rem;\n  font-weight: 700;\n  color: #1f2937;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n\n  svg {\n    color: #2563eb;\n  }\n`;\n\nconst HeaderButtons = styled.div`\n  display: flex;\n  gap: 0.75rem;\n  align-items: center;\n`;\n\nconst RefreshButton = styled.button`\n  padding: 0.75rem 1.25rem;\n  background: white;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  color: #6b7280;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  &:hover {\n    background: #f9fafb;\n    border-color: #2563eb;\n    color: #2563eb;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n\nconst ExportButton = styled.button`\n  padding: 0.75rem 1.25rem;\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n  border: none;\n  border-radius: 8px;\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  &:hover {\n    background: linear-gradient(135deg, #059669 0%, #047857 100%);\n    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\n    transform: translateY(-1px);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n\nconst TabsContainer = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 0.5rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n`;\n\nconst TabButton = styled.button`\n  flex: 1;\n  min-width: 150px;\n  padding: 0.875rem 1.5rem;\n  border: none;\n  border-radius: 8px;\n  font-size: 0.9375rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  background: ${props => props.active ? 'linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)' : 'transparent'};\n  color: ${props => props.active ? 'white' : '#6b7280'};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n\n  &:hover {\n    background: ${props => props.active ? 'linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%)' : '#f3f4f6'};\n    color: ${props => props.active ? 'white' : '#1f2937'};\n  }\n`;\n\nconst ContentArea = styled.div`\n  min-height: 400px;\n`;\n\nconst KPIGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 1.5rem;\n  margin-bottom: 2rem;\n`;\n\nconst KPICard = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 1.5rem;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  border-left: 4px solid ${props => props.color || '#2563eb'};\n  transition: all 0.2s;\n\n  &:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n`;\n\nconst KPIHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n  min-height: 48px;\n`;\n\nconst KPIIcon = styled.div`\n  width: 48px;\n  height: 48px;\n  border-radius: 10px;\n  background: ${props => props.bg || '#eff6ff'};\n  color: ${props => props.color || '#2563eb'};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n`;\n\nconst KPILabel = styled.div`\n  font-size: 0.875rem;\n  color: #6b7280;\n  font-weight: 500;\n`;\n\nconst KPIValue = styled.div`\n  font-size: 2rem;\n  font-weight: 700;\n  color: #1f2937;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 1rem;\n`;\n\nconst KPIValueSmall = styled.span`\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: #10b981;\n  line-height: 2rem;\n  display: inline-flex;\n  align-items: center;\n`;\n\nconst KPIValueColumn = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  \n  &:last-child {\n    align-items: flex-end;\n  }\n`;\n\nconst KPIValueNumber = styled.div`\n  font-size: 2rem;\n  font-weight: 700;\n  color: ${props => props.color || '#1f2937'};\n`;\n\nconst KPIValueLabel = styled.div`\n  font-size: 0.875rem;\n  color: #9ca3af;\n  font-weight: 400;\n`;\n\nconst KPISubtext = styled.div`\n  font-size: 0.875rem;\n  color: #9ca3af;\n`;\n\nconst ChartsGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));\n  gap: 1.5rem;\n  margin-bottom: 1.5rem;\n\n  @media (max-width: 1024px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst ChartCard = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 1.5rem;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n`;\n\nconst BarChartCard = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 1.5rem;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  margin-bottom: 2rem;\n`;\n\nconst ChartTitle = styled.h3`\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #1f2937;\n  margin: 0 0 1.5rem 0;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    color: #2563eb;\n  }\n`;\n\nconst ChartTitleRow = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1.5rem;\n`;\n\nconst ToggleSwitch = styled.label`\n  position: relative;\n  display: inline-block;\n  width: 56px;\n  height: 28px;\n  cursor: pointer;\n  flex-shrink: 0;\n\n  input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n\n  span {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #cbd5e1;\n    border-radius: 28px;\n    transition: all 0.3s ease;\n\n    &::before {\n      content: '';\n      position: absolute;\n      height: 20px;\n      width: 20px;\n      left: 4px;\n      bottom: 4px;\n      background-color: white;\n      border-radius: 50%;\n      transition: all 0.3s ease;\n    }\n  }\n\n  input:checked + span {\n    background-color: #3b82f6;\n  }\n\n  input:checked + span::before {\n    transform: translateX(28px);\n  }\n\n  input:focus + span {\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n`;\n\nconst ArchiveToggleWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  font-size: 0.9375rem;\n  color: #6b7280;\n`;\n\nconst ChartWrapper = styled.div`\n  position: relative;\n  height: 300px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst ChartTitleWithFullscreen = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n`;\n\nconst FullscreenButton = styled.button`\n  background: none;\n  border: none;\n  color: #6b7280;\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 6px;\n  transition: all 0.2s;\n  font-size: 1.1rem;\n\n  &:hover {\n    color: #2563eb;\n    background: #f3f4f6;\n  }\n`;\n\nconst FullscreenModal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0, 0, 0, 0.9);\n  z-index: 9999;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n`;\n\nconst FullscreenContent = styled.div`\n  background: white;\n  border-radius: 12px;\n  width: ${props => props.isBar ? '95vw' : '90vw'};\n  height: ${props => props.isBar ? '75vh' : '85vh'};\n  max-width: ${props => props.isBar ? '1600px' : '1200px'};\n  padding: 2rem;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst FullscreenHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  border-bottom: 2px solid #e5e7eb;\n  padding-bottom: 1rem;\n`;\n\nconst FullscreenTitle = styled.h2`\n  font-size: 1.75rem;\n  font-weight: 700;\n  color: #1f2937;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n\n  svg {\n    color: #2563eb;\n  }\n`;\n\nconst CloseButton = styled.button`\n  background: #ef4444;\n  border: none;\n  color: white;\n  cursor: pointer;\n  padding: 0.75rem;\n  border-radius: 50%;\n  transition: all 0.2s;\n  font-size: 1.2rem;\n  width: 2.5rem;\n  height: 2.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    background: #dc2626;\n    transform: scale(1.05);\n  }\n`;\n\nconst FullscreenChartWrapper = styled.div`\n  flex: 1;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 0;\n`;\n\nconst LoadingSpinner = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 200px;\n  color: #6b7280;\n  gap: 1rem;\n\n  svg {\n    font-size: 2rem;\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n`;\n\nconst EmptyState = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 200px;\n  color: #9ca3af;\n  gap: 0.5rem;\n  text-align: center;\n  padding: 2rem;\n\n  svg {\n    font-size: 3rem;\n    margin-bottom: 0.5rem;\n  }\n`;\n\nconst StatsTable = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 1rem;\n\n  tbody tr {\n    transition: all 0.2s ease;\n    cursor: pointer;\n\n    &:hover {\n      background: #f9fafb;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n      transform: scale(1.005);\n    }\n  }\n`;\n\nconst StatsTableHeader = styled.th`\n  text-align: ${props => props.align || 'left'};\n  padding: 0.75rem 1rem;\n  background: #f9fafb;\n  color: #6b7280;\n  font-weight: 600;\n  font-size: 0.875rem;\n  border-bottom: 2px solid #e5e7eb;\n  position: sticky;\n  top: 0;\n  z-index: 1;\n  white-space: nowrap;\n`;\n\nconst StatsTableCell = styled.td`\n  text-align: ${props => props.align || 'left'};\n  padding: 0.875rem 1rem;\n  border-bottom: 1px solid #f3f4f6;\n  color: #374151;\n  font-size: 0.9375rem;\n\n  strong {\n    color: #1f2937;\n    font-weight: 600;\n  }\n`;\n\nconst RankBadge = styled.span`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border-radius: 6px;\n  font-weight: 700;\n  font-size: 0.875rem;\n  background: ${props => {\n    if (props.rank === 1) return 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)';\n    if (props.rank === 2) return 'linear-gradient(135deg, #d1d5db 0%, #9ca3af 100%)';\n    if (props.rank === 3) return 'linear-gradient(135deg, #fb923c 0%, #ea580c 100%)';\n    return '#f3f4f6';\n  }};\n  color: ${props => props.rank <= 3 ? 'white' : '#6b7280'};\n  box-shadow: ${props => props.rank <= 3 ? '0 2px 4px rgba(0,0,0,0.1)' : 'none'};\n`;\n\n// =============================================================================\n// HELPER FUNCTIONS\n// =============================================================================\n\nconst getUserKey = (userDetail, suffix) => {\n  const userId = userDetail?.uzivatel_id || userDetail?.id || 'unknown';\n  return `statistics_${suffix}_user_${userId}`;\n};\n\nconst getUserStorage = (userDetail, key) => {\n  try {\n    const stored = localStorage.getItem(getUserKey(userDetail, key));\n    return stored ? JSON.parse(stored) : null;\n  } catch (error) {\n    console.error('Error reading from localStorage:', error);\n    return null;\n  }\n};\n\nconst setUserStorage = (userDetail, key, value) => {\n  try {\n    localStorage.setItem(getUserKey(userDetail, key), JSON.stringify(value));\n  } catch (error) {\n    console.error('Error writing to localStorage:', error);\n  }\n};\n\n// =============================================================================\n// MAIN COMPONENT\n// =============================================================================\n\nconst StatisticsPage = () => {\n  const { token, username, userDetail } = useContext(AuthContext);\n  const { setProgress } = useContext(ProgressContext);\n\n  // TAB state (localStorage per user)\n  const [activeTab, setActiveTab] = useState(() => {\n    return getUserStorage(userDetail, 'activeTab') || 'overview';\n  });\n\n  // Data state\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [lastUpdated, setLastUpdated] = useState(null);\n  const [includeArchived, setIncludeArchived] = useState(() => {\n    return getUserStorage(userDetail, 'includeArchived') || false;\n  });\n  const [fullscreenChart, setFullscreenChart] = useState(null);\n\n  // Fullscreen handlers\n  const openFullscreen = useCallback((chartData) => {\n    setFullscreenChart(chartData);\n  }, []);\n\n  const closeFullscreen = useCallback(() => {\n    setFullscreenChart(null);\n  }, []);\n\n  // ESC key listener for closing fullscreen\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.key === 'Escape' && fullscreenChart) {\n        closeFullscreen();\n      }\n    };\n\n    if (fullscreenChart) {\n      document.addEventListener('keydown', handleKeyDown);\n      document.body.style.overflow = 'hidden';\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.body.style.overflow = 'unset';\n    };\n  }, [fullscreenChart, closeFullscreen]);\n\n  // Load orders on mount\n  useEffect(() => {\n    loadOrdersData();\n  }, []);\n\n  // Reload when includeArchived changes\n  useEffect(() => {\n    if (orders.length > 0) { // Only reload if we already have data\n      loadOrdersData();\n    }\n  }, [includeArchived]);\n\n  // Save activeTab to localStorage per user\n  useEffect(() => {\n    setUserStorage(userDetail, 'activeTab', activeTab);\n  }, [activeTab, userDetail]);\n\n  // Save includeArchived to localStorage per user\n  useEffect(() => {\n    setUserStorage(userDetail, 'includeArchived', includeArchived);\n  }, [includeArchived, userDetail]);\n\n  // Export to CSV function\n  const exportToCSV = (data, filename) => {\n    if (!data || data.length === 0) {\n      return;\n    }\n\n    // Create CSV header\n    const headers = ['Pořadí', 'Název', 'Počet objednávek', 'Celková částka (Kč)', 'Průměrná částka (Kč)'];\n    \n    // Create CSV rows\n    const rows = data.map((item, index) => [\n      index + 1,\n      item.name,\n      item.count,\n      item.amount.toFixed(2),\n      item.avgAmount.toFixed(2)\n    ]);\n\n    // Combine headers and rows\n    const csvContent = [\n      headers.join(';'),\n      ...rows.map(row => row.join(';'))\n    ].join('\\n');\n\n    // Create blob and download\n    const blob = new Blob(['\\ufeff' + csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    \n    link.setAttribute('href', url);\n    link.setAttribute('download', `${filename}_${new Date().toISOString().split('T')[0]}.csv`);\n    link.style.visibility = 'hidden';\n    \n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const handleExport = () => {\n    if (activeTab === 'users') {\n      exportToCSV(fullUserStats, 'statistiky_uzivatelu');\n    } else if (activeTab === 'suppliers') {\n      exportToCSV(fullSupplierStats, 'statistiky_dodavatelu');\n    } else {\n      // Export overview data\n      const overviewData = [\n        { name: 'Celkem objednávek', count: statistics.totalOrders, amount: statistics.totalAmount, avgAmount: statistics.avgAmount },\n        { name: 'Počet dodavatelů', count: statistics.uniqueSuppliers, amount: 0, avgAmount: 0 }\n      ];\n      exportToCSV(overviewData, 'statistiky_prehled');\n    }\n  };\n\n  const loadOrdersData = async () => {\n    if (!token || !username) return;\n\n    setLoading(true);\n    setProgress(30);\n\n    try {\n      // Načteme data pro celý aktuální rok (jako Orders25List)\n      const currentYear = new Date().getFullYear();\n      const datum_od = `${currentYear}-01-01`;\n      const datum_do = `${currentYear}-12-31`;\n\n      const archiveStatus = includeArchived ? 'i archivované' : 'nearchivované';\n\n      // Správná signatura: listOrdersV2(filters, token, username, returnFullResponse, enriched)\n      const filters = {\n        datum_od,           // Od 1.1. aktuálního roku\n        datum_do            // Do 31.12. aktuálního roku\n      };\n\n      // Podle Orders25List: archivovano: 1 pro archivované, jinak neposíláme filtr\n      if (includeArchived) {\n        filters.archivovano = 1; // Načte i archivované (stejně jako Orders25List)\n      }\n      // Pokud NEchceme archivované, NEPŘIDÁVÁME filtr (BE defaultně vrací jen aktivní)\n\n      const ordersData = await listOrdersV2(filters, token, username, false, true);\n\n      setProgress(70);\n\n      if (Array.isArray(ordersData)) {\n        setOrders(ordersData);\n        setLastUpdated(new Date());\n      }\n    } catch (error) {\n      console.error('Error loading orders:', error);\n    } finally {\n      setLoading(false);\n      setProgress(100);\n    }\n  };\n\n  // =============================================================================\n  // STATISTICS CALCULATIONS\n  // =============================================================================\n\n  const statistics = useMemo(() => {\n    if (!orders.length) {\n      return {\n        totalOrders: 0,\n        totalAmount: 0,\n        avgAmount: 0,\n        uniqueSuppliers: 0,\n        completedCount: 0,\n        topUsers: [],\n        topSuppliers: [],\n        monthlyData: Array(12).fill(0),\n        workflowStatusMap: {},\n        publicationStats: {\n          zverejneno: 0,\n          maBytZverejneno: 0,\n          nezverejneno: 0\n        }\n      };\n    }\n\n    // Total orders\n    const totalOrders = orders.length;\n\n    // Total amount\n    const totalAmount = orders.reduce((sum, order) => {\n      const amount = parseFloat(order.max_cena_s_dph || order.cena_s_dph || 0);\n      return sum + amount;\n    }, 0);\n\n    // Average amount\n    const avgAmount = totalOrders > 0 ? totalAmount / totalOrders : 0;\n\n    // Unique suppliers\n    const suppliersSet = new Set();\n    orders.forEach(order => {\n      if (order.dodavatel_nazev) {\n        suppliersSet.add(order.dodavatel_nazev);\n      }\n    });\n    const uniqueSuppliers = suppliersSet.size;\n\n    // Group by user (creator) - používá enriched API strukturu\n    const userOrdersMap = {};\n    orders.forEach(order => {\n      // Enriched API: order.uzivatel.cele_jmeno\n      const userName = order.uzivatel?.cele_jmeno || \n                       order.uzivatel_cely_jmeno || \n                       `${order.uzivatel?.jmeno || ''} ${order.uzivatel?.prijmeni || ''}`.trim() ||\n                       'Neznámý';\n      if (!userOrdersMap[userName]) {\n        userOrdersMap[userName] = { count: 0, amount: 0 };\n      }\n      userOrdersMap[userName].count += 1;\n      userOrdersMap[userName].amount += parseFloat(order.max_cena_s_dph || order.cena_s_dph || 0);\n    });\n\n    // Sort users by count and take top 5\n    const sortedUsers = Object.entries(userOrdersMap)\n      .map(([name, data]) => ({ name, count: data.count, amount: data.amount }))\n      .sort((a, b) => b.count - a.count);\n\n    const top5Users = sortedUsers.slice(0, 5);\n    const othersUsersCount = sortedUsers.slice(5).reduce((sum, u) => sum + u.count, 0);\n    const topUsers = othersUsersCount > 0 \n      ? [...top5Users, { name: 'Ostatní', count: othersUsersCount, amount: 0 }]\n      : top5Users;\n\n    // Group by supplier\n    const supplierOrdersMap = {};\n    orders.forEach(order => {\n      const supplierName = order.dodavatel_nazev || 'Neuvedeno';\n      if (!supplierOrdersMap[supplierName]) {\n        supplierOrdersMap[supplierName] = { count: 0, amount: 0 };\n      }\n      supplierOrdersMap[supplierName].count += 1;\n      supplierOrdersMap[supplierName].amount += parseFloat(order.max_cena_s_dph || order.cena_s_dph || 0);\n    });\n\n    // Sort suppliers by count and take top 5\n    const sortedSuppliers = Object.entries(supplierOrdersMap)\n      .map(([name, data]) => ({ name, count: data.count, amount: data.amount }))\n      .sort((a, b) => b.count - a.count);\n\n    const top5Suppliers = sortedSuppliers.slice(0, 5);\n    const othersSuppliersCount = sortedSuppliers.slice(5).reduce((sum, s) => sum + s.count, 0);\n    const topSuppliers = othersSuppliersCount > 0\n      ? [...top5Suppliers, { name: 'Ostatní', count: othersSuppliersCount, amount: 0 }]\n      : top5Suppliers;\n\n    // Completed orders count - kontrola stav_workflow_kod (jako OrderForm25)\n    let completedCount = 0;\n    orders.forEach(order => {\n      // Parsuj stav_workflow_kod (může být string nebo array)\n      let states = [];\n      if (order.stav_workflow_kod) {\n        if (typeof order.stav_workflow_kod === 'string') {\n          try {\n            states = JSON.parse(order.stav_workflow_kod);\n          } catch (e) {\n            states = [];\n          }\n        } else if (Array.isArray(order.stav_workflow_kod)) {\n          states = order.stav_workflow_kod;\n        }\n      }\n      \n      // Objednávka je dokončená pokud má stav DOKONCENA\n      if (states.includes('DOKONCENA')) {\n        completedCount++;\n      }\n    });\n\n    // Monthly distribution - používá dt_vytvoreni\n    const monthlyData = Array(12).fill(0);\n    let processedCount = 0;\n    orders.forEach(order => {\n      // dt_vytvoreni je primární datum, fallback na dt_objednavky\n      const dateStr = order.dt_vytvoreni || order.dt_objednavky;\n      if (dateStr) {\n        const orderDate = new Date(dateStr);\n        const month = orderDate.getMonth(); // 0-11\n        monthlyData[month] += 1;\n        processedCount++;\n      }\n    });\n\n    // Workflow Status Statistics (bez ARCHIVOVANO)\n    const workflowStatusMap = {};\n    orders.forEach(order => {\n      let states = [];\n      if (order.stav_workflow_kod) {\n        try {\n          states = typeof order.stav_workflow_kod === 'string' \n            ? JSON.parse(order.stav_workflow_kod) \n            : order.stav_workflow_kod;\n          \n          if (!Array.isArray(states)) {\n            states = [order.stav_workflow_kod];\n          }\n        } catch (e) {\n          states = [order.stav_workflow_kod];\n        }\n      }\n      \n      // Vezmi poslední stav (aktuální)\n      const currentState = states.length > 0 ? states[states.length - 1] : 'NEZNAMY';\n      \n      // Vyfiltruj ARCHIVOVANO\n      if (currentState !== 'ARCHIVOVANO') {\n        if (!workflowStatusMap[currentState]) {\n          workflowStatusMap[currentState] = 0;\n        }\n        workflowStatusMap[currentState]++;\n      }\n    });\n\n    // Publication Statistics (zveřejnění)\n    let zverejnenoCount = 0;       // Bylo zveřejněno (má dt_zverejneni a registr_iddt)\n    let maBytZverejnenoCount = 0;  // Má být zveřejněno (stav UVEREJNIT nebo zverejnit=ANO, ale ještě není)\n    let nezverejnenoCount = 0;     // Nezveřejněno (ani nemá být)\n\n    orders.forEach(order => {\n      const registr = order.registr_smluv;\n      \n      // Zjisti workflow stav\n      let workflowStatus = '';\n      if (order.stav_workflow_kod) {\n        try {\n          const states = typeof order.stav_workflow_kod === 'string' \n            ? JSON.parse(order.stav_workflow_kod) \n            : order.stav_workflow_kod;\n          workflowStatus = Array.isArray(states) && states.length > 0 ? states[states.length - 1] : '';\n        } catch (e) {\n          workflowStatus = '';\n        }\n      }\n\n      // Je zveřejněno?\n      const jeZverejneno = registr?.dt_zverejneni && registr?.registr_iddt;\n      \n      // Má být zveřejněno?\n      const maZverejnit = workflowStatus === 'UVEREJNIT' || registr?.zverejnit === 'ANO';\n      \n      if (jeZverejneno) {\n        zverejnenoCount++;\n      } else if (maZverejnit) {\n        maBytZverejnenoCount++;\n      } else {\n        nezverejnenoCount++;\n      }\n    });\n\n    return {\n      totalOrders,\n      totalAmount,\n      avgAmount,\n      uniqueSuppliers,\n      completedCount,\n      topUsers,\n      topSuppliers,\n      monthlyData,\n      workflowStatusMap,\n      publicationStats: {\n        zverejneno: zverejnenoCount,\n        maBytZverejneno: maBytZverejnenoCount,\n        nezverejneno: nezverejnenoCount\n      }\n    };\n  }, [orders]);\n\n  // =============================================================================\n  // CHART DATA\n  // =============================================================================\n\n  const userChartData = useMemo(() => {\n    const colors = ['#2563eb', '#7c3aed', '#db2777', '#dc2626', '#ea580c', '#9ca3af'];\n    \n    return {\n      labels: statistics.topUsers.map(u => u.name),\n      datasets: [{\n        data: statistics.topUsers.map(u => u.count),\n        backgroundColor: colors.slice(0, statistics.topUsers.length),\n        borderWidth: 2,\n        borderColor: '#ffffff'\n      }]\n    };\n  }, [statistics.topUsers]);\n\n  const supplierChartData = useMemo(() => {\n    const colors = ['#10b981', '#06b6d4', '#8b5cf6', '#f59e0b', '#ef4444', '#9ca3af'];\n    \n    return {\n      labels: statistics.topSuppliers.map(s => s.name),\n      datasets: [{\n        data: statistics.topSuppliers.map(s => s.count),\n        backgroundColor: colors.slice(0, statistics.topSuppliers.length),\n        borderWidth: 2,\n        borderColor: '#ffffff'\n      }]\n    };\n  }, [statistics.topSuppliers]);\n\n  // Workflow Status Chart Data\n  const workflowStatusChartData = useMemo(() => {\n    const statusLabels = {\n      'NOVA': 'Nová',\n      'ODESLANA_KE_SCHVALENI': 'Ke schválení',\n      'SCHVALENA': 'Schválená',\n      'NESCHVALENA': 'Neschválená',\n      'ROZPRACOVANA': 'Rozpracovaná',\n      'ODESLANA': 'Odeslaná',\n      'POTVRZENA': 'Potvrzená',\n      'UVEREJNIT': 'K zveřejnění',\n      'UVEREJNENA': 'Zveřejněná',\n      'NEUVEREJNIT': 'Nezveřejňovat',\n      'FAKTURACE': 'Fakturace',\n      'ZKONTROLOVANA': 'Zkontrolovaná',\n      'DOKONCENA': 'Dokončená',\n      'ZAMITNUTA': 'Zamítnutá',\n      'ZRUSENA': 'Zrušená',\n      'NEZNAMY': 'Neznámý'\n    };\n\n    const statusColors = {\n      'NOVA': '#94a3b8',\n      'ODESLANA_KE_SCHVALENI': '#fbbf24',\n      'SCHVALENA': '#10b981',\n      'NESCHVALENA': '#ef4444',\n      'ROZPRACOVANA': '#3b82f6',\n      'ODESLANA': '#8b5cf6',\n      'POTVRZENA': '#06b6d4',\n      'UVEREJNIT': '#f59e0b',\n      'UVEREJNENA': '#10b981',\n      'NEUVEREJNIT': '#6b7280',\n      'FAKTURACE': '#06b6d4',\n      'ZKONTROLOVANA': '#8b5cf6',\n      'DOKONCENA': '#22c55e',\n      'ZAMITNUTA': '#dc2626',\n      'ZRUSENA': '#f87171',\n      'NEZNAMY': '#9ca3af'\n    };\n\n    const entries = Object.entries(statistics.workflowStatusMap || {})\n      .sort((a, b) => b[1] - a[1]); // Seřaď podle počtu\n\n    return {\n      labels: entries.map(([key]) => statusLabels[key] || key),\n      datasets: [{\n        data: entries.map(([, value]) => value),\n        backgroundColor: entries.map(([key]) => statusColors[key] || '#9ca3af'),\n        borderWidth: 2,\n        borderColor: '#ffffff'\n      }]\n    };\n  }, [statistics.workflowStatusMap]);\n\n  // Publication Status Chart Data\n  const publicationChartData = useMemo(() => {\n    const { zverejneno, maBytZverejneno, nezverejneno } = statistics.publicationStats || {};\n    \n    return {\n      labels: ['Zveřejněno', 'Má být zveřejněno', 'Nezveřejněno'],\n      datasets: [{\n        data: [zverejneno || 0, maBytZverejneno || 0, nezverejneno || 0],\n        backgroundColor: [\n          '#10b981', // Zelená - zveřejněno\n          '#f59e0b', // Oranžová - má být zveřejněno\n          '#6b7280'  // Šedá - nezveřejněno\n        ],\n        borderWidth: 2,\n        borderColor: '#ffffff'\n      }]\n    };\n  }, [statistics.publicationStats]);\n\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'bottom',\n        labels: {\n          padding: 15,\n          font: { size: 12 },\n          usePointStyle: true,\n          generateLabels: (chart) => {\n            const data = chart.data;\n            if (data.labels.length && data.datasets.length) {\n              return data.labels.map((label, i) => {\n                const value = data.datasets[0].data[i];\n                return {\n                  text: `${label} (${value})`,\n                  fillStyle: data.datasets[0].backgroundColor[i],\n                  hidden: false,\n                  index: i\n                };\n              });\n            }\n            return [];\n          }\n        }\n      },\n      tooltip: {\n        callbacks: {\n          label: (context) => {\n            const label = context.label || '';\n            const value = context.parsed || 0;\n            const total = context.dataset.data.reduce((a, b) => a + b, 0);\n            const percentage = ((value / total) * 100).toFixed(1);\n            return `${label}: ${value} (${percentage}%)`;\n          }\n        }\n      },\n      datalabels: {\n        display: (context) => {\n          const value = context.dataset.data[context.dataIndex];\n          const total = context.dataset.data.reduce((a, b) => a + b, 0);\n          const percentage = (value / total) * 100;\n          return percentage >= 5; // Show label only if >= 5%\n        },\n        formatter: (value, context) => {\n          const total = context.dataset.data.reduce((a, b) => a + b, 0);\n          const percentage = ((value / total) * 100).toFixed(1);\n          return `${percentage}%`;\n        },\n        color: '#fff',\n        font: { weight: 'bold', size: 13 }\n      }\n    }\n  };\n\n  // Full user statistics for Users tab\n  const fullUserStats = useMemo(() => {\n    if (!orders.length) return [];\n\n    const userOrdersMap = {};\n    orders.forEach(order => {\n      // Enriched API: order.uzivatel.cele_jmeno\n      const userName = order.uzivatel?.cele_jmeno || \n                       order.uzivatel_cely_jmeno || \n                       `${order.uzivatel?.jmeno || ''} ${order.uzivatel?.prijmeni || ''}`.trim() ||\n                       'Neznámý';\n      if (!userOrdersMap[userName]) {\n        userOrdersMap[userName] = { count: 0, amount: 0 };\n      }\n      userOrdersMap[userName].count += 1;\n      userOrdersMap[userName].amount += parseFloat(order.max_cena_s_dph || order.cena_s_dph || 0);\n    });\n\n    return Object.entries(userOrdersMap)\n      .map(([name, data]) => ({\n        name,\n        count: data.count,\n        amount: data.amount,\n        avgAmount: data.amount / data.count\n      }))\n      .sort((a, b) => b.count - a.count);\n  }, [orders]);\n\n  // Full supplier statistics for Suppliers tab\n  const fullSupplierStats = useMemo(() => {\n    if (!orders.length) return [];\n\n    const supplierOrdersMap = {};\n    orders.forEach(order => {\n      const supplierName = order.dodavatel_nazev || 'Neuvedeno';\n      if (!supplierOrdersMap[supplierName]) {\n        supplierOrdersMap[supplierName] = { count: 0, amount: 0 };\n      }\n      supplierOrdersMap[supplierName].count += 1;\n      supplierOrdersMap[supplierName].amount += parseFloat(order.max_cena_s_dph || order.cena_s_dph || 0);\n    });\n\n    return Object.entries(supplierOrdersMap)\n      .map(([name, data]) => ({\n        name,\n        count: data.count,\n        amount: data.amount,\n        avgAmount: data.amount / data.count\n      }))\n      .sort((a, b) => b.count - a.count);\n  }, [orders]);\n\n  // =============================================================================\n  // RENDER\n  // =============================================================================\n\n  const renderOverviewTab = () => (\n    <>\n      <KPIGrid>\n        <KPICard color=\"#2563eb\">\n          <KPIHeader>\n            <KPILabel>Objednávky</KPILabel>\n            <ArchiveToggleWrapper>\n              <span>Archiv</span>\n              <ToggleSwitch>\n                <input\n                  type=\"checkbox\"\n                  checked={includeArchived}\n                  onChange={(e) => setIncludeArchived(e.target.checked)}\n                />\n                <span></span>\n              </ToggleSwitch>\n            </ArchiveToggleWrapper>\n          </KPIHeader>\n          <KPIValue>\n            <KPIValueColumn>\n              <KPIValueNumber>{statistics.totalOrders}</KPIValueNumber>\n              <KPIValueLabel>celkem</KPIValueLabel>\n            </KPIValueColumn>\n            <KPIValueColumn>\n              <KPIValueNumber color=\"#10b981\">{statistics.completedCount}</KPIValueNumber>\n              <KPIValueLabel>dokončeno</KPIValueLabel>\n            </KPIValueColumn>\n          </KPIValue>\n        </KPICard>\n\n        <KPICard color=\"#10b981\">\n          <KPIHeader>\n            <KPILabel>Celková hodnota</KPILabel>\n            <KPIIcon bg=\"#d1fae5\" color=\"#10b981\">\n              <FontAwesomeIcon icon={faMoneyBillWave} />\n            </KPIIcon>\n          </KPIHeader>\n          <KPIValue>{(statistics.totalAmount / 1000000).toFixed(2)} M</KPIValue>\n          <KPISubtext>{statistics.totalAmount.toLocaleString('cs-CZ')} Kč</KPISubtext>\n        </KPICard>\n\n        <KPICard color=\"#f59e0b\">\n          <KPIHeader>\n            <KPILabel>Průměrná hodnota</KPILabel>\n            <KPIIcon bg=\"#fef3c7\" color=\"#f59e0b\">\n              <FontAwesomeIcon icon={faTachometerAlt} />\n            </KPIIcon>\n          </KPIHeader>\n          <KPIValue>{(statistics.avgAmount / 1000).toFixed(1)} K</KPIValue>\n          <KPISubtext>{statistics.avgAmount.toLocaleString('cs-CZ', { maximumFractionDigits: 0 })} Kč</KPISubtext>\n        </KPICard>\n\n        <KPICard color=\"#8b5cf6\">\n          <KPIHeader>\n            <KPILabel>Dodavatelé</KPILabel>\n            <KPIIcon bg=\"#ede9fe\" color=\"#8b5cf6\">\n              <FontAwesomeIcon icon={faBuilding} />\n            </KPIIcon>\n          </KPIHeader>\n          <KPIValue>{statistics.uniqueSuppliers}</KPIValue>\n          <KPISubtext>Unikátních dodavatelů</KPISubtext>\n        </KPICard>\n      </KPIGrid>\n\n      <BarChartCard>\n        <ChartTitleWithFullscreen>\n          <ChartTitle>\n            <FontAwesomeIcon icon={faChartBar} />\n            Počet objednávek v měsících ({new Date().getFullYear()})\n          </ChartTitle>\n          <FullscreenButton \n            onClick={() => openFullscreen({\n              type: 'bar',\n              title: `Počet objednávek v měsících (${new Date().getFullYear()})`,\n              icon: faChartBar,\n              data: {\n                labels: ['Leden', 'Únor', 'Březen', 'Duben', 'Květen', 'Červen', 'Červenec', 'Srpen', 'Září', 'Říjen', 'Listopad', 'Prosinec'],\n                datasets: [{\n                  label: 'Počet objednávek',\n                  data: statistics.monthlyData,\n                  backgroundColor: [\n                    'rgba(59, 130, 246, 0.7)', 'rgba(59, 130, 246, 0.7)', 'rgba(59, 130, 246, 0.7)',\n                    'rgba(74, 222, 128, 0.7)', 'rgba(74, 222, 128, 0.7)', 'rgba(74, 222, 128, 0.7)',\n                    'rgba(250, 204, 21, 0.7)', 'rgba(250, 204, 21, 0.7)', 'rgba(250, 204, 21, 0.7)',\n                    'rgba(249, 115, 22, 0.7)', 'rgba(249, 115, 22, 0.7)', 'rgba(249, 115, 22, 0.7)'\n                  ],\n                  borderColor: [\n                    'rgba(59, 130, 246, 1)', 'rgba(59, 130, 246, 1)', 'rgba(59, 130, 246, 1)',\n                    'rgba(74, 222, 128, 1)', 'rgba(74, 222, 128, 1)', 'rgba(74, 222, 128, 1)',\n                    'rgba(250, 204, 21, 1)', 'rgba(250, 204, 21, 1)', 'rgba(250, 204, 21, 1)',\n                    'rgba(249, 115, 22, 1)', 'rgba(249, 115, 22, 1)', 'rgba(249, 115, 22, 1)'\n                  ],\n                  borderWidth: 2,\n                  borderRadius: 6,\n                  hoverBackgroundColor: [\n                    'rgba(59, 130, 246, 0.9)', 'rgba(59, 130, 246, 0.9)', 'rgba(59, 130, 246, 0.9)',\n                    'rgba(74, 222, 128, 0.9)', 'rgba(74, 222, 128, 0.9)', 'rgba(74, 222, 128, 0.9)',\n                    'rgba(250, 204, 21, 0.9)', 'rgba(250, 204, 21, 0.9)', 'rgba(250, 204, 21, 0.9)',\n                    'rgba(249, 115, 22, 0.9)', 'rgba(249, 115, 22, 0.9)', 'rgba(249, 115, 22, 0.9)'\n                  ]\n                }]\n              }\n            })}\n          >\n            <FontAwesomeIcon icon={faExpand} />\n          </FullscreenButton>\n        </ChartTitleWithFullscreen>\n        <div style={{ height: '300px' }}>\n          {statistics.monthlyData.some(val => val > 0) ? (\n            <Bar\n              data={{\n                labels: ['Leden', 'Únor', 'Březen', 'Duben', 'Květen', 'Červen', 'Červenec', 'Srpen', 'Září', 'Říjen', 'Listopad', 'Prosinec'],\n                datasets: [{\n                  label: 'Počet objednávek',\n                  data: statistics.monthlyData,\n                  backgroundColor: [\n                    // Q1 - Zima (ledově modrá)\n                    'rgba(59, 130, 246, 0.7)',   // Leden\n                    'rgba(59, 130, 246, 0.7)',   // Únor\n                    'rgba(59, 130, 246, 0.7)',   // Březen\n                    // Q2 - Jaro (světle zelená)\n                    'rgba(74, 222, 128, 0.7)',   // Duben\n                    'rgba(74, 222, 128, 0.7)',   // Květen\n                    'rgba(74, 222, 128, 0.7)',   // Červen\n                    // Q3 - Léto (slunečně žlutá)\n                    'rgba(250, 204, 21, 0.7)',   // Červenec\n                    'rgba(250, 204, 21, 0.7)',   // Srpen\n                    'rgba(250, 204, 21, 0.7)',   // Září\n                    // Q4 - Podzim (oranžovo-rezavá)\n                    'rgba(249, 115, 22, 0.7)',   // Říjen\n                    'rgba(249, 115, 22, 0.7)',   // Listopad\n                    'rgba(249, 115, 22, 0.7)'    // Prosinec\n                  ],\n                  borderColor: [\n                    // Q1 - Zima\n                    'rgba(59, 130, 246, 1)',\n                    'rgba(59, 130, 246, 1)',\n                    'rgba(59, 130, 246, 1)',\n                    // Q2 - Jaro\n                    'rgba(74, 222, 128, 1)',\n                    'rgba(74, 222, 128, 1)',\n                    'rgba(74, 222, 128, 1)',\n                    // Q3 - Léto\n                    'rgba(250, 204, 21, 1)',\n                    'rgba(250, 204, 21, 1)',\n                    'rgba(250, 204, 21, 1)',\n                    // Q4 - Podzim\n                    'rgba(249, 115, 22, 1)',\n                    'rgba(249, 115, 22, 1)',\n                    'rgba(249, 115, 22, 1)'\n                  ],\n                  borderWidth: 2,\n                  borderRadius: 6,\n                  hoverBackgroundColor: [\n                    // Q1 - Zima\n                    'rgba(59, 130, 246, 0.9)',\n                    'rgba(59, 130, 246, 0.9)',\n                    'rgba(59, 130, 246, 0.9)',\n                    // Q2 - Jaro\n                    'rgba(74, 222, 128, 0.9)',\n                    'rgba(74, 222, 128, 0.9)',\n                    'rgba(74, 222, 128, 0.9)',\n                    // Q3 - Léto\n                    'rgba(250, 204, 21, 0.9)',\n                    'rgba(250, 204, 21, 0.9)',\n                    'rgba(250, 204, 21, 0.9)',\n                    // Q4 - Podzim\n                    'rgba(249, 115, 22, 0.9)',\n                    'rgba(249, 115, 22, 0.9)',\n                    'rgba(249, 115, 22, 0.9)'\n                  ]\n                }]\n              }}\n              options={{\n                responsive: true,\n                maintainAspectRatio: false,\n                plugins: {\n                  legend: {\n                    display: false\n                  },\n                  tooltip: {\n                    backgroundColor: 'rgba(0, 0, 0, 0.8)',\n                    padding: 12,\n                    titleColor: '#fff',\n                    bodyColor: '#fff',\n                    callbacks: {\n                      label: (context) => `Objednávek: ${context.parsed.y}`\n                    }\n                  },\n                  datalabels: {\n                    display: (context) => context.dataset.data[context.dataIndex] > 0,\n                    anchor: 'end',\n                    align: 'end',\n                    offset: 4,\n                    formatter: (value) => value,\n                    color: '#374151',\n                    font: { weight: 'bold', size: 12 }\n                  }\n                },\n                layout: {\n                  padding: {\n                    top: 30 // Prostor pro číslka nad sloupci\n                  }\n                },\n                scales: {\n                  y: {\n                    beginAtZero: true,\n                    ticks: {\n                      precision: 0,\n                      color: '#6b7280',\n                      font: { size: 12 }\n                    },\n                    grid: {\n                      color: '#f3f4f6',\n                      drawBorder: false\n                    }\n                  },\n                  x: {\n                    ticks: {\n                      color: '#6b7280',\n                      font: { size: 12 }\n                    },\n                    grid: {\n                      display: false,\n                      drawBorder: false\n                    }\n                  }\n                }\n              }}\n            />\n          ) : (\n            <EmptyState>\n              <FontAwesomeIcon icon={faChartBar} />\n              <div>Žádná data za aktuální rok</div>\n            </EmptyState>\n          )}\n        </div>\n      </BarChartCard>\n\n      <ChartsGrid>\n        <ChartCard>\n          <ChartTitleWithFullscreen>\n            <ChartTitle>\n              <FontAwesomeIcon icon={faUsers} />\n              Top uživatelé podle počtu objednávek\n            </ChartTitle>\n            <FullscreenButton \n              onClick={() => openFullscreen({\n                type: 'pie',\n                title: 'Top uživatelé podle počtu objednávek',\n                icon: faUsers,\n                data: userChartData,\n                options: chartOptions\n              })}\n            >\n              <FontAwesomeIcon icon={faExpand} />\n            </FullscreenButton>\n          </ChartTitleWithFullscreen>\n          <ChartWrapper>\n            {statistics.topUsers.length > 0 ? (\n              <Pie data={userChartData} options={chartOptions} />\n            ) : (\n              <EmptyState>\n                <FontAwesomeIcon icon={faUsers} />\n                <div>Žádná data k zobrazení</div>\n              </EmptyState>\n            )}\n          </ChartWrapper>\n        </ChartCard>\n\n        <ChartCard>\n          <ChartTitleWithFullscreen>\n            <ChartTitle>\n              <FontAwesomeIcon icon={faBuilding} />\n              Top dodavatelé podle počtu objednávek\n            </ChartTitle>\n            <FullscreenButton \n              onClick={() => openFullscreen({\n                type: 'pie',\n                title: 'Top dodavatelé podle počtu objednávek',\n                icon: faBuilding,\n                data: supplierChartData,\n                options: chartOptions\n              })}\n            >\n              <FontAwesomeIcon icon={faExpand} />\n            </FullscreenButton>\n          </ChartTitleWithFullscreen>\n          <ChartWrapper>\n            {statistics.topSuppliers.length > 0 ? (\n              <Pie data={supplierChartData} options={chartOptions} />\n            ) : (\n              <EmptyState>\n                <FontAwesomeIcon icon={faBuilding} />\n                <div>Žádná data k zobrazení</div>\n              </EmptyState>\n            )}\n          </ChartWrapper>\n        </ChartCard>\n      </ChartsGrid>\n\n      <ChartsGrid>\n        <ChartCard>\n          <ChartTitleWithFullscreen>\n            <ChartTitle>\n              <FontAwesomeIcon icon={faCheckCircle} />\n              Stavy objednávek\n            </ChartTitle>\n            <FullscreenButton \n              onClick={() => openFullscreen({\n                type: 'pie',\n                title: 'Stavy objednávek',\n                icon: faCheckCircle,\n                data: workflowStatusChartData,\n                options: chartOptions\n              })}\n            >\n              <FontAwesomeIcon icon={faExpand} />\n            </FullscreenButton>\n          </ChartTitleWithFullscreen>\n          <ChartWrapper>\n            {Object.keys(statistics.workflowStatusMap || {}).length > 0 ? (\n              <Pie data={workflowStatusChartData} options={chartOptions} />\n            ) : (\n              <EmptyState>\n                <FontAwesomeIcon icon={faCheckCircle} />\n                <div>Žádná data k zobrazení</div>\n              </EmptyState>\n            )}\n          </ChartWrapper>\n        </ChartCard>\n\n        <ChartCard>\n          <ChartTitleWithFullscreen>\n            <ChartTitle>\n              <FontAwesomeIcon icon={faCalendarAlt} />\n              Stav zveřejnění\n            </ChartTitle>\n            <FullscreenButton \n              onClick={() => openFullscreen({\n                type: 'pie',\n                title: 'Stav zveřejnění',\n                icon: faCalendarAlt,\n                data: publicationChartData,\n                options: chartOptions\n              })}\n            >\n              <FontAwesomeIcon icon={faExpand} />\n            </FullscreenButton>\n          </ChartTitleWithFullscreen>\n          <ChartWrapper>\n            {(statistics.publicationStats?.zverejneno || 0) + (statistics.publicationStats?.maBytZverejneno || 0) + (statistics.publicationStats?.nezverejneno || 0) > 0 ? (\n              <Pie data={publicationChartData} options={chartOptions} />\n            ) : (\n              <EmptyState>\n                <FontAwesomeIcon icon={faCalendarAlt} />\n                <div>Žádná data k zobrazení</div>\n              </EmptyState>\n            )}\n          </ChartWrapper>\n        </ChartCard>\n      </ChartsGrid>\n    </>\n  );\n\n  const renderUsersTab = () => (\n    <>\n      <ChartCard>\n        <ChartTitle>\n          <FontAwesomeIcon icon={faUsers} />\n          Detailní statistiky uživatelů\n        </ChartTitle>\n        {fullUserStats.length > 0 ? (\n          <StatsTable>\n            <thead>\n              <tr>\n                <StatsTableHeader>Pořadí</StatsTableHeader>\n                <StatsTableHeader>Uživatel</StatsTableHeader>\n                <StatsTableHeader align=\"right\">Počet objednávek</StatsTableHeader>\n                <StatsTableHeader align=\"right\">Celková částka</StatsTableHeader>\n                <StatsTableHeader align=\"right\">Průměrná částka</StatsTableHeader>\n              </tr>\n            </thead>\n            <tbody>\n              {fullUserStats.map((user, index) => (\n                <tr key={index}>\n                  <StatsTableCell>\n                    <RankBadge rank={index + 1}>#{index + 1}</RankBadge>\n                  </StatsTableCell>\n                  <StatsTableCell>{user.name}</StatsTableCell>\n                  <StatsTableCell align=\"right\">\n                    <strong>{user.count}</strong>\n                  </StatsTableCell>\n                  <StatsTableCell align=\"right\">\n                    {user.amount.toLocaleString('cs-CZ', { maximumFractionDigits: 0 })} Kč\n                  </StatsTableCell>\n                  <StatsTableCell align=\"right\">\n                    {user.avgAmount.toLocaleString('cs-CZ', { maximumFractionDigits: 0 })} Kč\n                  </StatsTableCell>\n                </tr>\n              ))}\n            </tbody>\n          </StatsTable>\n        ) : (\n          <EmptyState>\n            <FontAwesomeIcon icon={faUsers} />\n            <div>Žádní uživatelé k zobrazení</div>\n            <div style={{ fontSize: '0.875rem', color: '#9ca3af' }}>\n              Načtěte data objednávek pomocí tlačítka \"Obnovit data\"\n            </div>\n          </EmptyState>\n        )}\n      </ChartCard>\n    </>\n  );\n\n  const renderSuppliersTab = () => (\n    <>\n      <ChartCard>\n        <ChartTitle>\n          <FontAwesomeIcon icon={faBuilding} />\n          Detailní statistiky dodavatelů\n        </ChartTitle>\n        {fullSupplierStats.length > 0 ? (\n          <StatsTable>\n            <thead>\n              <tr>\n                <StatsTableHeader>Pořadí</StatsTableHeader>\n                <StatsTableHeader>Dodavatel</StatsTableHeader>\n                <StatsTableHeader align=\"right\">Počet objednávek</StatsTableHeader>\n                <StatsTableHeader align=\"right\">Celková částka</StatsTableHeader>\n                <StatsTableHeader align=\"right\">Průměrná částka</StatsTableHeader>\n              </tr>\n            </thead>\n            <tbody>\n              {fullSupplierStats.map((supplier, index) => (\n                <tr key={index}>\n                  <StatsTableCell>\n                    <RankBadge rank={index + 1}>#{index + 1}</RankBadge>\n                  </StatsTableCell>\n                  <StatsTableCell>{supplier.name}</StatsTableCell>\n                  <StatsTableCell align=\"right\">\n                    <strong>{supplier.count}</strong>\n                  </StatsTableCell>\n                  <StatsTableCell align=\"right\">\n                    {supplier.amount.toLocaleString('cs-CZ', { maximumFractionDigits: 0 })} Kč\n                  </StatsTableCell>\n                  <StatsTableCell align=\"right\">\n                    {supplier.avgAmount.toLocaleString('cs-CZ', { maximumFractionDigits: 0 })} Kč\n                  </StatsTableCell>\n                </tr>\n              ))}\n            </tbody>\n          </StatsTable>\n        ) : (\n          <EmptyState>\n            <FontAwesomeIcon icon={faBuilding} />\n            <div>Žádní dodavatelé k zobrazení</div>\n            <div style={{ fontSize: '0.875rem', color: '#9ca3af' }}>\n              Načtěte data objednávek pomocí tlačítka \"Obnovit data\"\n            </div>\n          </EmptyState>\n        )}\n      </ChartCard>\n    </>\n  );\n\n  return (\n    <PageWrapper>\n      <PageContainer>\n        <PageHeader>\n          <HeaderLeft>\n            <PageTitle>\n              <FontAwesomeIcon icon={faChartLine} />\n              Statistiky\n            </PageTitle>\n          </HeaderLeft>\n          <HeaderButtons>\n            <ExportButton onClick={handleExport} disabled={loading || orders.length === 0}>\n              <FontAwesomeIcon icon={faDownload} />\n              Export CSV\n            </ExportButton>\n            <RefreshButton onClick={loadOrdersData} disabled={loading}>\n              <FontAwesomeIcon icon={faSyncAlt} spin={loading} />\n              Obnovit data\n            </RefreshButton>\n          </HeaderButtons>\n        </PageHeader>\n\n        <TabsContainer>\n          <TabButton\n            active={activeTab === 'overview'}\n            onClick={() => setActiveTab('overview')}\n          >\n            <FontAwesomeIcon icon={faTachometerAlt} />\n            Přehled\n          </TabButton>\n          <TabButton\n            active={activeTab === 'users'}\n            onClick={() => setActiveTab('users')}\n          >\n            <FontAwesomeIcon icon={faUsers} />\n            Uživatelé\n          </TabButton>\n          <TabButton\n            active={activeTab === 'suppliers'}\n            onClick={() => setActiveTab('suppliers')}\n          >\n            <FontAwesomeIcon icon={faBuilding} />\n            Dodavatelé\n          </TabButton>\n        </TabsContainer>\n\n        <ContentArea>\n          {loading ? (\n            <LoadingSpinner>\n              <FontAwesomeIcon icon={faSyncAlt} spin />\n              <div>Načítám data...</div>\n            </LoadingSpinner>\n          ) : (\n            <>\n              {activeTab === 'overview' && renderOverviewTab()}\n              {activeTab === 'users' && renderUsersTab()}\n              {activeTab === 'suppliers' && renderSuppliersTab()}\n            </>\n          )}\n        </ContentArea>\n\n        {lastUpdated && (\n          <div style={{ textAlign: 'center', color: '#9ca3af', fontSize: '0.875rem', marginTop: '2rem' }}>\n            <FontAwesomeIcon icon={faCalendarAlt} /> Poslední aktualizace: {lastUpdated.toLocaleString('cs-CZ')}\n          </div>\n        )}\n      </PageContainer>\n      \n      {/* Fullscreen Modal */}\n      {fullscreenChart && createPortal(\n        <FullscreenModal onClick={closeFullscreen}>\n          <FullscreenContent \n            isBar={fullscreenChart.type === 'bar'} \n            onClick={(e) => e.stopPropagation()}\n          >\n            <FullscreenHeader>\n              <FullscreenTitle>\n                <FontAwesomeIcon icon={fullscreenChart.icon} />\n                {fullscreenChart.title}\n              </FullscreenTitle>\n              <CloseButton onClick={closeFullscreen}>\n                <FontAwesomeIcon icon={faTimes} />\n              </CloseButton>\n            </FullscreenHeader>\n            <FullscreenChartWrapper>\n              {fullscreenChart.type === 'pie' ? (\n                <Pie \n                  data={fullscreenChart.data} \n                  options={{\n                    ...fullscreenChart.options,\n                    responsive: true,\n                    maintainAspectRatio: false\n                  }} \n                />\n              ) : (\n                <Bar \n                  data={fullscreenChart.data} \n                  options={{\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    plugins: {\n                      legend: { \n                        display: true,\n                        position: 'top',\n                        labels: {\n                          font: { size: 16, weight: 'bold' },\n                          padding: 20,\n                          color: '#1f2937'\n                        }\n                      },\n                      tooltip: {\n                        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n                        padding: 16,\n                        titleColor: '#fff',\n                        bodyColor: '#fff',\n                        titleFont: { size: 16, weight: 'bold' },\n                        bodyFont: { size: 14 },\n                        callbacks: { \n                          label: (context) => `Objednávek: ${context.parsed.y}` \n                        }\n                      },\n                      datalabels: {\n                        display: (context) => context.dataset.data[context.dataIndex] > 0,\n                        anchor: 'end', \n                        align: 'end', \n                        offset: 8,\n                        formatter: (value) => value,\n                        color: '#1f2937', \n                        font: { weight: 'bold', size: 16 }\n                      }\n                    },\n                    layout: { \n                      padding: { \n                        top: 50, \n                        bottom: 20, \n                        left: 20, \n                        right: 20 \n                      } \n                    },\n                    scales: {\n                      y: {\n                        beginAtZero: true,\n                        ticks: { \n                          precision: 0, \n                          color: '#4b5563', \n                          font: { size: 16, weight: '500' },\n                          padding: 10\n                        },\n                        grid: { \n                          color: '#e5e7eb', \n                          drawBorder: false,\n                          lineWidth: 1\n                        },\n                        title: {\n                          display: true,\n                          text: 'Počet objednávek',\n                          color: '#1f2937',\n                          font: { size: 18, weight: 'bold' },\n                          padding: { bottom: 10 }\n                        }\n                      },\n                      x: {\n                        ticks: { \n                          color: '#4b5563', \n                          font: { size: 16, weight: '500' },\n                          padding: 10,\n                          maxRotation: 0\n                        },\n                        grid: { \n                          display: false, \n                          drawBorder: false \n                        },\n                        title: {\n                          display: true,\n                          text: 'Měsíce',\n                          color: '#1f2937',\n                          font: { size: 18, weight: 'bold' },\n                          padding: { top: 10 }\n                        }\n                      }\n                    }\n                  }} \n                />\n              )}\n            </FullscreenChartWrapper>\n          </FullscreenContent>\n        </FullscreenModal>,\n        document.body\n      )}\n    </PageWrapper>\n  );\n};\n\nexport default StatisticsPage;\n"],"names":["ChartJS","register","ArcElement","Tooltip","Legend","CategoryScale","LinearScale","BarElement","Title","ChartDataLabels","PageWrapper","styled","div","_templateObject","_taggedTemplateLiteral","PageContainer","_templateObject2","PageHeader","_templateObject3","HeaderLeft","_templateObject4","PageTitle","h1","_templateObject5","HeaderButtons","_templateObject6","RefreshButton","button","_templateObject7","ExportButton","_templateObject8","TabsContainer","_templateObject9","TabButton","_templateObject0","props","active","ContentArea","_templateObject1","KPIGrid","_templateObject10","KPICard","_templateObject11","color","KPIHeader","_templateObject12","KPIIcon","_templateObject13","bg","KPILabel","_templateObject14","KPIValue","_templateObject15","KPIValueColumn","span","_templateObject16","_templateObject17","KPIValueNumber","_templateObject18","KPIValueLabel","_templateObject19","KPISubtext","_templateObject20","ChartsGrid","_templateObject21","ChartCard","_templateObject22","BarChartCard","_templateObject23","ChartTitle","h3","_templateObject24","ToggleSwitch","_templateObject25","label","_templateObject26","ArchiveToggleWrapper","_templateObject27","ChartWrapper","_templateObject28","ChartTitleWithFullscreen","_templateObject29","FullscreenButton","_templateObject30","FullscreenModal","_templateObject31","FullscreenContent","_templateObject32","isBar","FullscreenHeader","_templateObject33","FullscreenTitle","h2","_templateObject34","CloseButton","_templateObject35","FullscreenChartWrapper","_templateObject36","LoadingSpinner","_templateObject37","EmptyState","_templateObject38","StatsTable","table","_templateObject39","StatsTableHeader","th","_templateObject40","align","StatsTableCell","td","_templateObject41","RankBadge","_templateObject42","rank","getUserKey","userDetail","suffix","userId","uzivatel_id","id","concat","getUserStorage","key","stored","localStorage","getItem","JSON","parse","error","console","setUserStorage","value","setItem","stringify","StatisticsPage","token","username","useContext","AuthContext","setProgress","ProgressContext","activeTab","setActiveTab","useState","orders","setOrders","loading","setLoading","lastUpdated","setLastUpdated","includeArchived","setIncludeArchived","fullscreenChart","setFullscreenChart","openFullscreen","useCallback","chartData","closeFullscreen","useEffect","handleKeyDown","event","document","addEventListener","body","style","overflow","removeEventListener","loadOrdersData","length","exportToCSV","data","filename","rows","map","item","index","name","count","amount","toFixed","avgAmount","csvContent","join","row","blob","Blob","type","link","createElement","url","URL","createObjectURL","setAttribute","Date","toISOString","split","visibility","appendChild","click","removeChild","async","currentYear","getFullYear","datum_od","datum_do","filters","archivovano","ordersData","listOrdersV2","Array","isArray","statistics","useMemo","totalOrders","totalAmount","uniqueSuppliers","completedCount","topUsers","topSuppliers","monthlyData","fill","workflowStatusMap","publicationStats","zverejneno","maBytZverejneno","nezverejneno","reduce","sum","order","parseFloat","max_cena_s_dph","cena_s_dph","suppliersSet","Set","forEach","dodavatel_nazev","add","size","userOrdersMap","_order$uzivatel","_order$uzivatel2","_order$uzivatel3","userName","uzivatel","cele_jmeno","uzivatel_cely_jmeno","jmeno","prijmeni","trim","sortedUsers","Object","entries","_ref","sort","a","b","top5Users","slice","othersUsersCount","u","supplierOrdersMap","supplierName","sortedSuppliers","_ref2","top5Suppliers","othersSuppliersCount","s","states","stav_workflow_kod","e","includes","dateStr","dt_vytvoreni","dt_objednavky","month","getMonth","currentState","zverejnenoCount","maBytZverejnenoCount","nezverejnenoCount","registr","registr_smluv","workflowStatus","jeZverejneno","dt_zverejneni","registr_iddt","maZverejnit","zverejnit","userChartData","labels","datasets","backgroundColor","borderWidth","borderColor","supplierChartData","workflowStatusChartData","statusLabels","statusColors","_ref3","_ref4","_ref5","publicationChartData","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","padding","font","usePointStyle","generateLabels","chart","i","text","fillStyle","hidden","tooltip","callbacks","context","parsed","percentage","dataset","datalabels","display","dataIndex","formatter","weight","fullUserStats","_order$uzivatel4","_order$uzivatel5","_order$uzivatel6","_ref6","fullSupplierStats","_ref7","_jsxs","children","_jsx","FontAwesomeIcon","icon","faChartLine","onClick","handleExport","overviewData","disabled","faDownload","faSyncAlt","spin","faTachometerAlt","faUsers","faBuilding","_Fragment","renderOverviewTab","_statistics$publicati","_statistics$publicati2","_statistics$publicati3","checked","onChange","target","faMoneyBillWave","toLocaleString","maximumFractionDigits","faChartBar","title","borderRadius","hoverBackgroundColor","faExpand","height","some","val","Bar","options","titleColor","bodyColor","y","anchor","offset","layout","top","scales","beginAtZero","ticks","precision","grid","drawBorder","x","Pie","faCheckCircle","keys","faCalendarAlt","user","fontSize","supplier","textAlign","marginTop","createPortal","stopPropagation","faTimes","_objectSpread","titleFont","bodyFont","bottom","left","right","lineWidth","maxRotation"],"sourceRoot":""}