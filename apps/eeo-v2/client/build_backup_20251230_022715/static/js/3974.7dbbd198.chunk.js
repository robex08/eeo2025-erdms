"use strict";(self.webpackChunkr_app_zzs_eeo=self.webpackChunkr_app_zzs_eeo||[]).push([[3974],{63974:(e,n,t)=>{t.d(n,{A:()=>P,y:()=>E});var o,r,i,a,l,s,d,c,p,u,h,f=t(89379),v=t(57528),b=t(65043),g=t(97950),k=t(83910),w=t(97929),x=t(45903),m=t(40614),y=t(70579);const A=x.A.div(o||(o=(0,v.A)(["\n  position: relative;\n  width: 100%;\n  z-index: ",";\n"])),e=>e.isOpen?1e4:1),E=x.A.div(r||(r=(0,v.A)(["\n  position: relative;\n  width: 100%;\n\n  svg.prefix-icon {\n    position: absolute;\n    left: 0.75rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #9ca3af;\n    z-index: 1;\n    pointer-events: none;\n    width: 16px;\n    height: 16px;\n  }\n"]))),_=x.A.div(i||(i=(0,v.A)(["\n  width: 100%;\n  height: 48px;\n  box-sizing: border-box;\n  padding: ",";\n  border: 2px solid ",";\n  border-radius: 8px;\n  font-size: 0.95rem;\n  background: ",";\n  cursor: ",";\n  color: ",";\n\n  font-weight: ",";\n\n  /* CSS t\u0159\xedda pro disabled stav - nejsiln\u011bj\u0161\xed mo\u017en\xfd override */\n  &.custom-select-disabled {\n    font-weight: 400 !important;\n    color: #6b7280 !important; /* Slad\u011bno s disabled Input barvou */\n  }\n  &.custom-select-disabled * {\n    font-weight: 400 !important;\n    color: #6b7280 !important;\n  }\n\n  display: flex;\n  align-items: center;\n  position: relative;\n  transition: all 0.2s ease;\n\n  /* Custom arrow */\n  appearance: none;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  background-image: ",";\n  background-repeat: no-repeat;\n  background-position: right 0.5rem center;\n  background-size: 16px 16px;\n\n  &:hover {\n    border-color: ",";\n  }\n\n  &:focus {\n    outline: none;\n    border-color: ",";\n    box-shadow: 0 0 0 3px ",";\n  }\n"])),e=>e.hasIcon?"1px 1.75rem 1px 2.5rem":"1px 1.75rem 1px 0.875rem",e=>e.hasError?"#dc2626":"#e2e8f0",e=>e.hasError?"#fee2e2":e.disabled?"#f9fafb":"#ffffff",e=>e.disabled?"not-allowed":"pointer",e=>e.disabled?"#6b7280":e.placeholder||!e.value||""===e.value?"#9ca3af":"#1f2937",e=>e.disabled?"400":e.value&&""!==e.value&&"true"!==e.placeholder?"500":"400",e=>e.disabled?e.isOpen?"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='18 15 12 9 6 15'%3E%3C/polyline%3E%3C/svg%3E\")":"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E\")":e.hasError?e.isOpen?"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23b91c1c' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='18 15 12 9 6 15'%3E%3C/polyline%3E%3C/svg%3E\")":"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23b91c1c' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E\")":e.isOpen?"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23374151' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='18 15 12 9 6 15'%3E%3C/polyline%3E%3C/svg%3E\")":"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23374151' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E\")",e=>e.disabled?"#e5e7eb":e.hasError?"#dc2626":"#3b82f6",e=>e.hasError?"#dc2626":"#3b82f6",e=>e.hasError?"rgba(220, 38, 38, 0.1)":"rgba(59, 130, 246, 0.1)"),z=x.A.div(a||(a=(0,v.A)(["\n  position: fixed;\n  z-index: 99999;\n  background: white;\n  border: 2px solid #3b82f6;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  max-height: 300px;\n  overflow-y: auto;\n  min-width: 200px;\n\n  /* Prevent text selection while scrolling */\n  user-select: none;\n\n  /* Optimalizace pro plynulej\u0161\xed scrollov\xe1n\xed */\n  scroll-behavior: auto;\n  contain: layout style paint;\n  will-change: scroll-position;\n  transform: translateZ(0); /* Force hardware acceleration */\n\n  /* Lep\u0161\xed scrollbar styling */\n  scrollbar-width: thin;\n  scrollbar-color: #d1d5db #f9fafb;\n\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: #f9fafb;\n    border-radius: 4px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: #d1d5db;\n    border-radius: 4px;\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background: #9ca3af;\n  }\n"]))),C=x.A.div(l||(l=(0,v.A)(["\n  padding: 0.75rem;\n  cursor: pointer;\n  font-size: 0.875rem;\n  border-bottom: 1px solid #f3f4f6;\n  color: #1f2937;\n  font-weight: 400 !important; /* Normal font pro v\u0161echny mo\u017enosti - s !important */\n\n  /* Hierarchick\xe9 zobrazen\xed - level 0 (okresy) tu\u010dn\u011b, level 1 (stanovi\u0161t\u011b) odsazen\xe9 */\n  ","\n\n  ","\n\n  &:hover {\n    background: #f8fafc;\n    font-weight: ",";\n  }\n\n  &:last-child {\n    border-bottom: none;\n  }\n\n  ","\n\n  ","\n"])),e=>0===e.level&&e.isParent&&"\n    font-weight: 600 !important;\n    background-color: #f9fafb;\n  ",e=>1===e.level&&"\n    padding-left: 2rem;\n  ",e=>0===e.level&&e.isParent?"600 !important":"400 !important",e=>e.selected&&"\n    background: #eff6ff;\n    border-left: 3px solid #3b82f6;\n    font-weight: 600 !important; /* Bold jen pro vybranou mo\u017enost */\n  ",e=>e.highlighted&&!e.selected&&"\n    background: #f8fafc;\n    border-left: 3px solid #93c5fd;\n  "),j=x.A.div(s||(s=(0,v.A)(["\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  padding: 0.75rem;\n  border-bottom: 1px solid #e5e7eb;\n  background: white;\n  border-radius: 8px 8px 0 0;\n"]))),S=x.A.input(d||(d=(0,v.A)(["\n  width: 100%;\n  padding: 0.75rem 0.75rem 0.75rem 2.5rem;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  font-size: 0.875rem;\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);\n  }\n"]))),D=x.A.div(c||(c=(0,v.A)(["\n  position: absolute;\n  left: 1rem;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #6b7280;\n  pointer-events: none;\n"]))),T=x.A.span(p||(p=(0,v.A)(["\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: ",";\n  font-weight: ",";\n"])),e=>e.isEmpty?"#9ca3af":"#1f2937",e=>e.disabled||e.isEmpty?"400":"600"),B=x.A.span(u||(u=(0,v.A)(["\n  position: absolute;\n  right: 32px;\n  top: 50%;\n  transform: translateY(-50%);\n  background: none;\n  border: none;\n  padding: 4px;\n  cursor: pointer;\n  color: #6b7280;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n  z-index: 2;\n  \n  &:hover {\n    background: #f3f4f6;\n    color: #374151;\n  }\n  \n  &:active {\n    background: #e5e7eb;\n  }\n  \n  svg {\n    width: 14px;\n    height: 14px;\n  }\n"]))),O=x.A.div(h||(h=(0,v.A)(["\n  display: flex;\n  align-items: center;\n  padding: 8px 12px;\n  cursor: pointer;\n  user-select: none;\n  border: 1px solid transparent;\n\n  &:hover {\n    background-color: #f3f4f6;\n  }\n\n  ",'\n\n  input[type="checkbox"] {\n    margin-right: 8px;\n    cursor: pointer;\n  }\n\n  span {\n    flex: 1;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    color: #1f2937;\n    font-size: 14px;\n  }\n'])),e=>e.highlighted&&"\n    background-color: #f8fafc;\n    border-left: 3px solid #93c5fd;\n  "),P=e=>{let{value:n,onChange:t,onBlur:o,options:r=[],placeholder:i,disabled:a=!1,hasError:l=!1,required:s=!1,field:d,loading:c=!1,loadingText:p="",icon:u=null,multiple:h=!1,isClearable:v=!1,enableSearch:x=!0,selectStates:E,setSelectStates:P,searchStates:F,setSearchStates:I,touchedSelectFields:K,setTouchedSelectFields:L,hasTriedToSubmit:R,toggleSelect:U,filterOptions:H,getOptionLabel:M}=e;const Y=E[d],q=F[d],N=(0,b.useRef)(null),V=(0,b.useRef)(null),W=(0,b.useRef)(null),Z=(0,b.useRef)([]),[G,J]=(0,b.useState)(-1),[Q,X]=(0,b.useState)({top:0,left:0,width:0,openUpwards:!1}),$=H(r,q,d);(0,b.useEffect)(()=>{const e=()=>{if(Y&&V.current){const e=V.current.getBoundingClientRect(),n=300,t=window.innerHeight-e.bottom,o=e.top,r=t<n&&o>t;X({top:r?e.top-4:e.bottom+4,left:e.left,width:e.width,openUpwards:r})}};if(e(),Y)return window.addEventListener("scroll",e,!0),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",e)}},[Y]);const ee=h?null:r.find(e=>"statusFilter"===d?(e.kod_stavu||e.kod)===n||e===n:"pageSize"===d?(e.value||e.id)===n||e===n:"zpusob_financovani"===d?(e.kod||e.id)===n||e===n:"lp_kod"===d?(e.id||e.kod)===n||e===n:"druh_objednavky_kod"===d?(e.value||e.kod||e.id)===n||e===n:"fa_typ"===d?e.id===n||e===n:"vychozi_rok"===d||"vychozi_obdobi"===d||"vychozi_sekce_po_prihlaseni"===d?e.value===n||e===n:"vychozi_garant_id"===d||"vychozi_prikazce_id"===d?e.value==n||e===n:(e.id||e.user_id||e.uzivatel_id)===n||e===n),ne=h?Array.isArray(n)&&n.length>0?n.map(e=>{const n=r.find(n=>(n.id||n.kod)===e);return n&&(n.label||n.cislo_lp||n.nazev)||e}).join(", "):i:ee?M(ee,d):i,te=h?Array.isArray(n)&&n.length>0:ee,oe=l||s&&!te&&!c&&!a&&R;(0,b.useEffect)(()=>{if(!Y)return;const e=e=>{V.current&&!V.current.contains(e.target)&&N.current&&!N.current.contains(e.target)&&(P(e=>(0,f.A)((0,f.A)({},e),{},{[d]:!1})),I(e=>(0,f.A)((0,f.A)({},e),{},{[d]:""})))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[Y,d,P,I]),(0,b.useEffect)(()=>{if(Y){Z.current=[];const e=$.findIndex(e=>"statusFilter"===d?(e.kod_stavu||e.kod)===n||e===n:"pageSize"===d?(e.value||e.id)===n||e===n:"zpusob_financovani"===d?(e.kod||e.id)===n||e===n:"lp_kod"===d?(e.id||e.kod)===n||e===n:"druh_objednavky_kod"===d?(e.value||e.kod||e.id)===n||e===n:"fa_typ"===d?e.id===n||e===n:(e.id||e.user_id||e.uzivatel_id)===n||e===n);J(e>=0?e:0)}else J(-1)},[Y,$,n,d]),(0,b.useEffect)(()=>{Y&&r.length>5&&W.current&&setTimeout(()=>{var e;!W.current||null!==(e=document.activeElement)&&void 0!==e&&e.closest("[data-custom-select]")||W.current.focus()},100)},[Y,r.length]),(0,b.useEffect)(()=>{if(Y&&G>=0&&Z.current[G]){const e=Z.current[G];if(e&&N.current){const n=N.current,t=e.getBoundingClientRect(),o=n.getBoundingClientRect();(t.top<o.top||t.bottom>o.bottom)&&e.scrollIntoView({block:"nearest",behavior:"smooth"})}}},[G,Y]);const re=e=>{if(e.stopPropagation(),a)return;const n=h?[]:"";t({target:{value:n}}),L&&L(e=>(0,f.A)((0,f.A)({},e),{},{[d]:!0})),o&&o({target:{value:n}})},ie=e=>{let n;n="statusFilter"===d?e.kod_stavu||e.kod||e:"pageSize"===d?e.value||e.id||e:"zpusob_financovani"===d?e.kod||e.id||e:"lp_kod"===d?e.id||e.kod||e:"druh_objednavky_kod"===d?e.value||e.kod||e.id||e:"fa_typ"===d?e.id||e:"vychozi_garant_id"===d||"vychozi_prikazce_id"===d?e.value||e.id||e.user_id||e:e.id||e.user_id||e.uzivatel_id||e,t({target:{value:n}}),P(e=>(0,f.A)((0,f.A)({},e),{},{[d]:!1})),I(e=>(0,f.A)((0,f.A)({},e),{},{[d]:""})),L&&L(e=>(0,f.A)((0,f.A)({},e),{},{[d]:!0})),o&&o(d,n)},ae=e=>{var r;let i;i="lp_kod"===d?e.id||e.kod||e:e.id||e.user_id||e.value||e;const a=Array.isArray(n)?n:[],l=a.includes(i)?a.filter(e=>e!==i):[...a,i],s=(null===(r=N.current)||void 0===r?void 0:r.scrollTop)||0;t(l),L&&L(e=>(0,f.A)((0,f.A)({},e),{},{[d]:!0})),o&&o(d,l),h&&requestAnimationFrame(()=>{N.current&&(N.current.scrollTop=s)})};return(0,y.jsxs)(A,{"data-custom-select":!0,"data-field":d,isOpen:Y,children:[(0,y.jsxs)(_,{ref:V,onClick:()=>{a||U(d)},disabled:a,hasError:oe,placeholder:ee?"false":"true",value:ee?n:"",isOpen:Y,"data-field":d,tabIndex:a?-1:0,className:a?"custom-select-disabled":"",style:{fontWeight:a?"400 !important":void 0,color:a?"#6b7280 !important":void 0},onKeyDown:e=>{var n;if(!a){if((" "===e.key||"Enter"===e.key)&&!Y)return e.preventDefault(),void U(d);if(Y)switch(e.key){case"ArrowDown":e.preventDefault(),J(e=>e<$.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),J(e=>e>0?e-1:0);break;case"Enter":if(e.preventDefault(),G>=0&&G<$.length){const e=$[G];h?ae(e):ie(e)}break;case"Escape":e.preventDefault(),P(e=>(0,f.A)((0,f.A)({},e),{},{[d]:!1})),I(e=>(0,f.A)((0,f.A)({},e),{},{[d]:""})),null===(n=V.current)||void 0===n||n.focus();break;case"Tab":if(e.preventDefault(),G>=0&&G<$.length){const e=$[G];h?ae(e):ie(e)}P(e=>(0,f.A)((0,f.A)({},e),{},{[d]:!1})),I(e=>(0,f.A)((0,f.A)({},e),{},{[d]:""})),setTimeout(()=>{var e,n;null===(e=V.current)||void 0===e||e.focus();const t=new KeyboardEvent("keydown",{key:"Tab",code:"Tab",keyCode:9,which:9,bubbles:!0,cancelable:!0});null===(n=V.current)||void 0===n||n.dispatchEvent(t)},0);break;default:1!==e.key.length||e.ctrlKey||e.altKey||e.metaKey||W.current&&W.current.focus()}}},onBlur:()=>{L&&L(e=>(0,f.A)((0,f.A)({},e),{},{[d]:!0})),!Y&&o&&o(d,n)},hasIcon:!!u,children:[u&&(0,y.jsx)("span",{style:{position:"absolute",left:"12px",color:"#9ca3af",width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:b.cloneElement(u,{size:16})}),(0,y.jsx)(T,{isEmpty:!ee,disabled:a,children:ne}),v&&!a&&te&&(0,y.jsx)(B,{role:"button",tabIndex:0,onClick:re,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),re(e))},title:"Smazat hodnotu",children:(0,y.jsx)(m.A,{})})]}),Y&&!a&&(0,g.createPortal)((0,y.jsxs)(z,{ref:N,style:{top:Q.openUpwards?"auto":"".concat(Q.top,"px"),bottom:Q.openUpwards?"".concat(window.innerHeight-Q.top,"px"):"auto",left:"".concat(Q.left,"px"),width:"".concat(Q.width,"px")},children:[x&&r.length>5&&(0,y.jsxs)(j,{children:[(0,y.jsx)(D,{children:(0,y.jsx)(k.g,{icon:w.MjD,size:"sm"})}),(0,y.jsx)(S,{ref:W,type:"text",placeholder:"Vyhledat...",value:q,onChange:e=>I(n=>(0,f.A)((0,f.A)({},n),{},{[d]:e.target.value})),onKeyDown:e=>{var n;if("ArrowDown"===e.key||"ArrowUp"===e.key)return e.preventDefault(),void("ArrowDown"===e.key?J(e=>e<$.length-1?e+1:e):J(e=>e>0?e-1:0));switch(e.key){case"Enter":if(e.preventDefault(),e.stopPropagation(),G>=0&&G<$.length){const e=$[G];h?ae(e):ie(e)}break;case"Escape":e.preventDefault(),P(e=>(0,f.A)((0,f.A)({},e),{},{[d]:!1})),I(e=>(0,f.A)((0,f.A)({},e),{},{[d]:""})),null===(n=V.current)||void 0===n||n.focus();break;case"Tab":if(e.preventDefault(),G>=0&&G<$.length){const e=$[G];h?ae(e):ie(e)}P(e=>(0,f.A)((0,f.A)({},e),{},{[d]:!1})),I(e=>(0,f.A)((0,f.A)({},e),{},{[d]:""})),setTimeout(()=>{var e,n;null===(e=V.current)||void 0===e||e.focus();const t=new KeyboardEvent("keydown",{key:"Tab",code:"Tab",keyCode:9,which:9,bubbles:!0,cancelable:!0});null===(n=V.current)||void 0===n||n.dispatchEvent(t)},0)}}})]}),c?(0,y.jsx)(C,{children:p}):$.length>0?$.map((e,t)=>{const o=h?!!Array.isArray(n)&&n.includes(e.id||e.kod||e):"statusFilter"===d?(e.kod_stavu||e.kod)===n||e===n:"pageSize"===d?(e.value||e.id)===n||e===n:"zpusob_financovani"===d?(e.kod||e.id)===n||e===n:"lp_kod"===d?(e.id||e.kod)===n||e===n:"druh_objednavky_kod"===d?(e.value||e.kod||e.id)===n||e===n:"fa_typ"===d?e.id===n||e===n:(e.id||e.user_id||e.uzivatel_id)===n||e===n,r=G===t;return h?(0,y.jsxs)(O,{level:0,highlighted:r,ref:e=>Z.current[t]=e,onClick:n=>{n.preventDefault(),n.stopPropagation(),ae(e)},onMouseEnter:()=>J(t),children:[(0,y.jsx)("input",{type:"checkbox",checked:o,readOnly:!0}),(0,y.jsx)("span",{children:M(e,d)})]},e.id||e.user_id||e.value||t):(0,y.jsx)(C,{selected:o,highlighted:r,level:void 0!==e.level?e.level:0,isParent:e.isParent||!1,ref:e=>Z.current[t]=e,onClick:n=>{n.preventDefault(),n.stopPropagation(),h?ae(e):ie(e)},onMouseEnter:()=>J(t),children:M(e,d)},e.id||e.user_id||e.uzivatel_id||e.kod_stavu||e.kod||e.value||t)}):(0,y.jsx)(C,{children:"\u017d\xe1dn\xe9 v\xfdsledky"})]}),document.body)]})}}}]);
//# sourceMappingURL=3974.7dbbd198.chunk.js.map