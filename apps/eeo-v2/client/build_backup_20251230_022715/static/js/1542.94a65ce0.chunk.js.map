{"version":3,"file":"static/js/1542.94a65ce0.chunk.js","mappings":"+GAcOA,eAAeC,EAA6BC,EAAMC,GAAyB,IAAfC,EAAOC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC5E,MAAM,aACJG,GAAe,EAAI,UACnBC,EAAY,KAAI,QAChBC,EAAU,MACRN,EAEJ,IAEE,MAAM,uBAAEO,EAAsB,gBAAEC,EAAe,qBAAEC,SAA+B,gCAGhF,GAAIF,EAAuBR,GAAW,CAGpC,GAFeS,EAAgBV,EAAMC,GAYnC,OARIK,GAEFK,EAAqBX,EAAMC,GAGzBM,GACFA,EAAU,CAAEN,WAAUW,WAAW,EAAMC,WAAYP,IAE9C,CAAEQ,SAAS,EAAMF,WAAW,EAEvC,CASA,OANAD,EAAqBX,EAAMC,GAEvBM,GACFA,EAAU,CAAEN,WAAUW,WAAW,EAAOC,YAAY,IAG/C,CAAEC,SAAS,EAAMF,WAAW,EAErC,CAAE,MAAOG,GAKP,MAJAC,QAAQD,MAAM,yCAA0CA,GACpDP,GACFA,EAAQO,GAEJA,CACR,CACF,C,uBAaA,S","sources":["utils/attachmentDownloader.js"],"sourcesContent":["/**\n * ðŸŽ¯ UNIVERZÃLNÃ LOGIKA PRO STAHOVÃNÃ PÅ˜ÃLOH\n * PouÅ¾itÃ­ vÅ¡ude stejnÃ© - jeden zpÅ¯sob stahovÃ¡nÃ­ pro celou aplikaci\n */\n\n/**\n * StaÅ¾enÃ­ a zobrazenÃ­ pÅ™Ã­lohy - univerzÃ¡lnÃ­ funkce\n * @param {Blob} blob - Blob souboru z API\n * @param {string} fileName - NÃ¡zev souboru\n * @param {Object} options - MoÅ¾nosti\n * @param {boolean} options.autoDownload - Automaticky stÃ¡hnout po otevÅ™enÃ­ preview (default: true)\n * @param {Function} options.onSuccess - Callback po ÃºspÄ›Å¡nÃ©m staÅ¾enÃ­\n * @param {Function} options.onError - Callback pÅ™i chybÄ›\n */\nexport async function downloadAndPreviewAttachment(blob, fileName, options = {}) {\n  const { \n    autoDownload = true, \n    onSuccess = null,\n    onError = null \n  } = options;\n\n  try {\n    // Import utility functions\n    const { isPreviewableInBrowser, openInBrowser25, createDownloadLink25 } = await import('../services/api25orders');\n    \n    // Check if file can be previewed in browser\n    if (isPreviewableInBrowser(fileName)) {\n      const opened = openInBrowser25(blob, fileName);\n      \n      if (opened) {\n        // Preview opened successfully\n        if (autoDownload) {\n          // Automaticky stÃ¡hnout bez potvrzenÃ­\n          createDownloadLink25(blob, fileName);\n        }\n        \n        if (onSuccess) {\n          onSuccess({ fileName, previewed: true, downloaded: autoDownload });\n        }\n        return { success: true, previewed: true };\n      }\n    }\n    \n    // Cannot preview or preview failed - download directly\n    createDownloadLink25(blob, fileName);\n    \n    if (onSuccess) {\n      onSuccess({ fileName, previewed: false, downloaded: true });\n    }\n    \n    return { success: true, previewed: false };\n    \n  } catch (error) {\n    console.error('Error in downloadAndPreviewAttachment:', error);\n    if (onError) {\n      onError(error);\n    }\n    throw error;\n  }\n}\n\n/**\n * Hook pro stahovÃ¡nÃ­ pÅ™Ã­loh - pÅ™ipraveno pro budoucÃ­ pouÅ¾itÃ­\n */\nexport function useAttachmentDownloader() {\n  const download = async (blob, fileName, options) => {\n    return downloadAndPreviewAttachment(blob, fileName, options);\n  };\n  \n  return { download };\n}\n\nexport default downloadAndPreviewAttachment;\n"],"names":["async","downloadAndPreviewAttachment","blob","fileName","options","arguments","length","undefined","autoDownload","onSuccess","onError","isPreviewableInBrowser","openInBrowser25","createDownloadLink25","previewed","downloaded","success","error","console"],"sourceRoot":""}