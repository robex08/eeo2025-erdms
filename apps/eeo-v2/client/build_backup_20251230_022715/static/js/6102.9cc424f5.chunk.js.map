{"version":3,"file":"static/js/6102.9cc424f5.chunk.js","mappings":"0KAKA,MAAMA,EAAgBC,sCAAmDC,QAAQ,MAAO,IAQ3EC,EAAuBC,MAAOC,EAAOC,KAChD,IACE,MAAMC,QAAiBC,MAAM,GAADC,OAAIT,EAAY,4BAA4B,CACtEU,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBT,QACAC,eAIJ,IAAKC,EAASQ,GACZ,MAAM,IAAIC,MAAM,QAADP,OAASF,EAASU,OAAM,MAAAR,OAAKF,EAASW,aAGvD,MAAMC,QAAeZ,EAASa,OAE9B,IAAKD,EAAOE,QACV,MAAM,IAAIL,MAAMG,EAAOG,OAAS,sDAGlC,OAAOH,EAAOI,MAAQ,EAExB,CAAE,MAAOD,GAEP,MADAE,QAAQF,MAAM,iEAA0CA,GAClDA,CACR,GAWWG,EAAmBrB,MAAOC,EAAOC,EAAUoB,EAAWC,KACjE,IACE,MAAMpB,QAAiBC,MAAM,GAADC,OAAIT,EAAY,qCAAqC,CAC/EU,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBT,QACAC,WACAsB,WAAYF,EACZG,UAAWF,EAAW,EAAI,MAI9B,IAAKpB,EAASQ,GACZ,MAAM,IAAIC,MAAM,QAADP,OAASF,EAASU,OAAM,MAAAR,OAAKF,EAASW,aAGvD,MAAMC,QAAeZ,EAASa,OAE9B,IAAKD,EAAOE,QACV,MAAM,IAAIL,MAAMG,EAAOG,OAAS,gDAGlC,OAAOH,CAET,CAAE,MAAOG,GAEP,MADAE,QAAQF,MAAM,gDAAkCA,GAC1CA,CACR,E","sources":["services/hierarchyProfilesApi.js"],"sourcesContent":["/**\n * API služba pro práci s profily hierarchie\n * Pattern: POST s token a username v body\n */\n\nconst API_BASE_URL = (process.env.REACT_APP_API2_BASE_URL || '/api.eeo').replace(/\\/$/, '');\n\n/**\n * Načte seznam všech profilů hierarchie\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<Array>} Seznam profilů\n */\nexport const getHierarchyProfiles = async (token, username) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/hierarchy/profiles/list`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token,\n        username\n      })\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    \n    if (!result.success) {\n      throw new Error(result.error || 'Chyba při načítání profilů');\n    }\n    \n    return result.data || [];\n    \n  } catch (error) {\n    console.error('Chyba při načítání profilů hierarchie:', error);\n    throw error;\n  }\n};\n\n/**\n * Toggle aktivního stavu profilu (enable/disable)\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @param {number} profileId - ID profilu\n * @param {boolean} isActive - Nový stav (true = aktivní, false = neaktivní)\n * @returns {Promise<Object>} Response z API\n */\nexport const setProfileActive = async (token, username, profileId, isActive) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/hierarchy/profiles/toggle-active`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token,\n        username,\n        profile_id: profileId,\n        is_active: isActive ? 1 : 0\n      })\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    \n    if (!result.success) {\n      throw new Error(result.error || 'Chyba při změně stavu profilu');\n    }\n    \n    return result;\n    \n  } catch (error) {\n    console.error('Chyba při změně stavu profilu:', error);\n    throw error;\n  }\n};\n\n/**\n * Nastaví aktivní profil hierarchie (starý endpoint - možná deprecated)\n * @param {number} profileId - ID profilu k aktivaci\n * @param {string} token - Auth token\n * @param {string} username - Username\n * @returns {Promise<Object>} Response z API\n */\nexport const setActiveProfile = async (profileId, token, username) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/hierarchy/profiles/set-active`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token,\n        username,\n        profile_id: profileId\n      })\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const result = await response.json();\n    \n    if (!result.success) {\n      throw new Error(result.error || 'Chyba při aktivaci profilu');\n    }\n    \n    return result;\n    \n  } catch (error) {\n    console.error('Chyba při aktivaci profilu hierarchie:', error);\n    throw error;\n  }\n};\n"],"names":["API_BASE_URL","process","replace","getHierarchyProfiles","async","token","username","response","fetch","concat","method","headers","body","JSON","stringify","ok","Error","status","statusText","result","json","success","error","data","console","setProfileActive","profileId","isActive","profile_id","is_active"],"sourceRoot":""}