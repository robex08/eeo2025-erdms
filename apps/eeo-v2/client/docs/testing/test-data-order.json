{
  "test_scenarios": {
    "scenario_1_happy_path": {
      "name": "‚úÖ ≈†≈•astn√° cesta - Notebook",
      "description": "Kompletn√≠ objedn√°vka notebooku, v≈°echna pole vyplnƒõna, v≈°e projde",
      "data": {
        "phase_1_basic": {
          "predmet": "Notebook Lenovo ThinkPad T14 Gen 5",
          "garant_uzivatel_id": 5,
          "prikazce_id": 3,
          "strediska_kod": ["ABC123", "DEF456"],
          "max_cena_s_dph": 45000,
          "zpusob_financovani": "LP",
          "lp_kod": "LP-2025-001234",
          "druh_objednavky_kod": "MATERIAL",
          "poznamka_objednavky": "N√°hrada za star√Ω notebook po z√°ruce"
        },
        "phase_2_items": {
          "polozky_objednavky": [
            {
              "popis": "Lenovo ThinkPad T14 Gen 5 - AMD Ryzen 7 8840HS, 32GB RAM, 1TB SSD",
              "mnozstvi": "1",
              "jednotka": "ks",
              "cena_bez_dph": 37190.08,
              "sazba_dph": 21,
              "cena_s_dph": 45000,
              "usek_kod": "IT",
              "budova_kod": "A",
              "mistnost_kod": "201",
              "poznamka": "Pro Jana Nov√°ka - v√Ωmƒõna star≈°√≠ho za≈ô√≠zen√≠"
            }
          ]
        },
        "phase_3_supplier": {
          "dodavatel_ico": "27082440",
          "dodavatel_nazev": "ALZA.cz a.s.",
          "dodavatel_adresa": "Jankovcova 1522/53, 170 00 Praha 7",
          "dodavatel_dic": "CZ27082440",
          "dodavatel_zastoupeny": "Mgr. Ale≈° Zavoral - jednatel",
          "dodavatel_kontakt_jmeno": "Jana Dvo≈ô√°kov√°",
          "dodavatel_kontakt_email": "dvorakova@alza.cz",
          "dodavatel_kontakt_telefon": "+420 234 092 111",
          "dt_predpokladany_termin_dodani": "2025-11-15",
          "misto_dodani": "ZZS HKK, Sokolsk√° 603, 500 02 Hradec Kr√°lov√©",
          "zaruka": "24 mƒõs√≠c≈Ø z√°konn√° z√°ruka + 12 mƒõs√≠c≈Ø roz≈°√≠≈ôen√° z√°ruka v√Ωrobce"
        },
        "phase_4_contact": {
          "objednatel_jmeno": "Jan Nov√°k",
          "objednatel_email": "jan.novak@zzshk.cz",
          "objednatel_telefon": "+420 495 755 111"
        },
        "phase_5_description": {
          "popis_pozadavku": "Po≈æadavek na n√°kup nov√©ho notebooku pro zamƒõstnance IT oddƒõlen√≠.\n\nD≈Øvod po≈ô√≠zen√≠:\n- Souƒçasn√Ω notebook (5 let star√Ω) vykazuje ƒçast√° hardwarov√° selh√°n√≠\n- Nedostateƒçn√Ω v√Ωkon pro souƒçasn√© √∫koly (virtualizace, spr√°va server≈Ø)\n- Opot≈ôeben√° baterie (v√Ωdr≈æ pouze 30 minut)\n\nSpecifikace:\n- Business notebook s vysok√Ωm v√Ωkonem\n- Min. 32GB RAM pro virtualizaci\n- Min. 1TB SSD\n- Dobr√° v√Ωdr≈æ na baterie (min. 8h)\n\nV√Ωbƒõr modelu:\n- ThinkPad T14 Gen 5 spl≈àuje v≈°echny po≈æadavky\n- Osvƒõdƒçen√° ≈ôada pro firemn√≠ prost≈ôed√≠\n- Dobr√° dostupnost n√°hradn√≠ch d√≠l≈Ø a servisu",
          "poznamky": "Urgentn√≠ po≈ô√≠zen√≠ - souƒçasn√Ω notebook je kriticky nestabiln√≠"
        },
        "phase_7_vecna_spravnost": {
          "vecna_spravnost_umisteni_majetku": "IT oddƒõlen√≠, budova A, m√≠stnost 201",
          "vecna_spravnost_poznamka": "Majetek p≈ôed√°n Janu Nov√°kovi dne 15.11.2025, funkƒçn√≠, bez z√°vad",
          "potvrzeni_vecne_spravnosti": 1
        }
      },
      "expected_workflow": [
        "ROZPRACOVANA",
        "ODESLANA_KE_SCHVALENI",
        "SCHVALENA",
        "ODESLANA",
        "POTVRZENA",
        "VECNA_SPRAVNOST_POTVRZENA",
        "DOKONCENA"
      ]
    },
    "scenario_2_over_limit": {
      "name": "‚ö†Ô∏è P≈ôekroƒçen√≠ limitu",
      "description": "Test validace - souƒçet polo≈æek p≈ôekraƒçuje maxim√°ln√≠ cenu",
      "data": {
        "phase_1_basic": {
          "predmet": "Test p≈ôekroƒçen√≠ limitu",
          "garant_uzivatel_id": 5,
          "prikazce_id": 3,
          "strediska_kod": ["ABC123"],
          "max_cena_s_dph": 10000,
          "zpusob_financovani": "LP",
          "lp_kod": "LP-2025-TEST",
          "druh_objednavky_kod": "MATERIAL"
        },
        "phase_2_items": {
          "polozky_objednavky": [
            {
              "popis": "Polo≈æka 1",
              "mnozstvi": "1",
              "jednotka": "ks",
              "cena_s_dph": 7000,
              "sazba_dph": 21
            },
            {
              "popis": "Polo≈æka 2",
              "mnozstvi": "1",
              "jednotka": "ks",
              "cena_s_dph": 5000,
              "sazba_dph": 21
            }
          ]
        }
      },
      "expected_error": "Nelze ulo≈æit objedn√°vku - p≈ôekroƒçen limit o 2 000 Kƒç!",
      "expected_behavior": "ƒåerven√Ω indik√°tor nadlimitu, scroll na sekci Detail objedn√°vky"
    },
    "scenario_3_missing_required": {
      "name": "‚ùå Chybƒõj√≠c√≠ povinn√° pole",
      "description": "Test validace - pokus o ulo≈æen√≠ s pr√°zdn√Ωm p≈ôedmƒõtem",
      "data": {
        "phase_1_basic": {
          "predmet": "",
          "garant_uzivatel_id": null,
          "prikazce_id": null,
          "strediska_kod": [],
          "max_cena_s_dph": null
        }
      },
      "expected_error": "Vypl≈àte pros√≠m v≈°echna povinn√° pole",
      "expected_behavior": "Pole zv√Ωraznƒõna ƒçervenƒõ, scroll na prvn√≠ chybn√© pole"
    },
    "scenario_4_quick_approval": {
      "name": "‚ö° Rychl√© schv√°len√≠",
      "description": "Okam≈æit√© schv√°len√≠ p≈ôi vytvo≈ôen√≠ (SUPERADMIN)",
      "data": {
        "phase_1_basic": {
          "predmet": "Test okam≈æit√© schv√°len√≠",
          "garant_uzivatel_id": 5,
          "prikazce_id": 3,
          "strediska_kod": ["ABC123"],
          "max_cena_s_dph": 5000,
          "zpusob_financovani": "LP",
          "lp_kod": "LP-2025-QUICK",
          "druh_objednavky_kod": "MATERIAL",
          "stav_schvaleni": "schvaleno"
        },
        "phase_2_items": {
          "polozky_objednavky": [
            {
              "popis": "Testovac√≠ polo≈æka",
              "mnozstvi": "1",
              "jednotka": "ks",
              "cena_s_dph": 4500,
              "sazba_dph": 21
            }
          ]
        }
      },
      "expected_workflow": ["SCHVALENA"],
      "note": "P≈ôeskoƒç√≠ ODESLANA_KE_SCHVALENI, jde rovnou do SCHVALENA"
    },
    "scenario_5_registry": {
      "name": "üìã S registrem smluv",
      "description": "Objedn√°vka vy≈æaduj√≠c√≠ zve≈ôejnƒõn√≠ v registru smluv",
      "data": {
        "phase_1_basic": {
          "predmet": "Ve≈ôejn√° zak√°zka - IT slu≈æby",
          "garant_uzivatel_id": 5,
          "prikazce_id": 3,
          "strediska_kod": ["ABC123"],
          "max_cena_s_dph": 100000,
          "zpusob_financovani": "LP",
          "lp_kod": "LP-2025-REGISTRY",
          "druh_objednavky_kod": "SLUZBY",
          "ma_byt_zverejnena": 1
        },
        "phase_11_registry": {
          "registr_iddt": "REG-2025-0123",
          "dt_zverejneni": "2025-11-05"
        }
      },
      "expected_workflow": [
        "ROZPRACOVANA",
        "ODESLANA_KE_SCHVALENI",
        "SCHVALENA",
        "ODESLANA",
        "POTVRZENA",
        "REGISTROVANA",
        "VECNA_SPRAVNOST_POTVRZENA",
        "DOKONCENA"
      ]
    },
    "scenario_6_multiple_items": {
      "name": "üì¶ V√≠ce polo≈æek",
      "description": "Objedn√°vka s v√≠ce polo≈ækami a r≈Øzn√Ωmi sazbami DPH",
      "data": {
        "phase_1_basic": {
          "predmet": "Kancel√°≈ôsk√© pot≈ôeby - Q4/2025",
          "garant_uzivatel_id": 5,
          "prikazce_id": 3,
          "strediska_kod": ["ABC123", "DEF456"],
          "max_cena_s_dph": 15000,
          "zpusob_financovani": "LP",
          "lp_kod": "LP-2025-OFFICE",
          "druh_objednavky_kod": "MATERIAL"
        },
        "phase_2_items": {
          "polozky_objednavky": [
            {
              "popis": "Kancel√°≈ôsk√Ω pap√≠r A4 - 5 balen√≠",
              "mnozstvi": "5",
              "jednotka": "bal",
              "cena_s_dph": 1210,
              "sazba_dph": 21
            },
            {
              "popis": "Tisk√°rna HP LaserJet Pro M404dn",
              "mnozstvi": "1",
              "jednotka": "ks",
              "cena_s_dph": 8900,
              "sazba_dph": 21,
              "usek_kod": "ADMIN",
              "budova_kod": "B",
              "mistnost_kod": "105"
            },
            {
              "popis": "Tonery HP 59A (CF259A) - 2 ks",
              "mnozstvi": "2",
              "jednotka": "ks",
              "cena_s_dph": 4890,
              "sazba_dph": 21
            }
          ]
        }
      },
      "note": "Celkov√° cena: 15 000 Kƒç (p≈ôesnƒõ na limitu)"
    },
    "scenario_7_rejected": {
      "name": "üö´ Zam√≠tnut√° objedn√°vka",
      "description": "Test zam√≠tnut√≠ objedn√°vky garantem",
      "data": {
        "phase_1_basic": {
          "predmet": "Test zam√≠tnut√≠",
          "garant_uzivatel_id": 5,
          "prikazce_id": 3,
          "strediska_kod": ["ABC123"],
          "max_cena_s_dph": 5000,
          "zpusob_financovani": "LP",
          "lp_kod": "LP-2025-REJECT",
          "druh_objednavky_kod": "MATERIAL"
        },
        "phase_2_items": {
          "polozky_objednavky": [
            {
              "popis": "Testovac√≠ polo≈æka",
              "mnozstvi": "1",
              "jednotka": "ks",
              "cena_s_dph": 4000,
              "sazba_dph": 21
            }
          ]
        },
        "approval_action": {
          "action": "reject",
          "stav_schvaleni": "zamitnuto",
          "schvaleni_komentar": "Nedostateƒçnƒõ od≈Øvodnƒõn√Ω po≈æadavek. Dopl≈àte pros√≠m podrobn√© zd≈Øvodnƒõn√≠ pot≈ôeby."
        }
      },
      "expected_workflow": [
        "ROZPRACOVANA",
        "ODESLANA_KE_SCHVALENI",
        "ZAMITNUTA"
      ],
      "expected_notification": "Va≈°e objedn√°vka byla zam√≠tnuta"
    }
  },
  "test_users": {
    "objednatel": {
      "username": "jan.novak",
      "email": "jan.novak@zzshk.cz",
      "role": "USER",
      "id": 10
    },
    "garant": {
      "username": "petra.svobodova",
      "email": "petra.svobodova@zzshk.cz",
      "role": "GARANT",
      "id": 5
    },
    "prikazce": {
      "username": "marie.nova",
      "email": "marie.nova@zzshk.cz",
      "role": "PRIKAZCE",
      "id": 3
    },
    "superadmin": {
      "username": "admin",
      "email": "admin@zzshk.cz",
      "role": "SUPERADMIN",
      "id": 1
    }
  },
  "supplier_test_data": {
    "alza": {
      "ico": "27082440",
      "nazev": "ALZA.cz a.s.",
      "adresa": "Jankovcova 1522/53, 170 00 Praha 7",
      "dic": "CZ27082440",
      "kontakt_jmeno": "Jana Dvo≈ô√°kov√°",
      "kontakt_email": "dvorakova@alza.cz",
      "kontakt_telefon": "+420 234 092 111"
    },
    "czc": {
      "ico": "27082440",
      "nazev": "CZC.cz a.s.",
      "adresa": "Horn√≠ Poƒçernice, Jeron√Ωmova 1768/18, 193 00 Praha 9",
      "dic": "CZ27082440",
      "kontakt_jmeno": "Petr Nov√°k",
      "kontakt_email": "novak@czc.cz",
      "kontakt_telefon": "+420 222 010 111"
    }
  },
  "strediska": [
    {
      "kod_stavu": "ABC123",
      "nazev_stavu": "St≈ôedisko IT"
    },
    {
      "kod_stavu": "DEF456",
      "nazev_stavu": "St≈ôedisko Spr√°va budov"
    },
    {
      "kod_stavu": "GHI789",
      "nazev_stavu": "St≈ôedisko Zdravotnictv√≠"
    }
  ],
  "financovani_options": [
    {
      "kod_stavu": "LP",
      "nazev_stavu": "Limitovan√Ω p≈ô√≠kaz",
      "requires": ["lp_kod"]
    },
    {
      "kod_stavu": "SMLOUVA",
      "nazev_stavu": "Smlouva",
      "requires": ["cislo_smlouvy", "smlouva_poznamka"]
    },
    {
      "kod_stavu": "INDIVIDUALNI",
      "nazev_stavu": "Individu√°ln√≠ schv√°len√≠",
      "requires": ["individualni_schvaleni", "individualni_poznamka"]
    }
  ],
  "druh_objednavky": [
    {
      "kod_stavu": "MATERIAL",
      "nazev_stavu": "Materi√°l"
    },
    {
      "kod_stavu": "SLUZBY",
      "nazev_stavu": "Slu≈æby"
    },
    {
      "kod_stavu": "DHM",
      "nazev_stavu": "Dlouhodob√Ω majetek"
    }
  ],
  "sql_queries": {
    "check_order": "SELECT id, cislo_objednavky, predmet, stav_workflow_kod, stav_schvaleni, objednatel_id, garant_uzivatel_id FROM 25_objednavky WHERE id = ?;",
    "check_items": "SELECT id, popis, mnozstvi, cena_s_dph FROM 25_polozky_objednavky WHERE objednavka_id = ?;",
    "check_workflow": "SELECT stav_workflow_kod, dt_zmeny, uzivatel_id FROM 25_workflow_historie WHERE objednavka_id = ? ORDER BY dt_zmeny DESC;",
    "check_notifications": "SELECT user_id, message, type, is_read, created_at FROM 25_notifications WHERE order_id = ? ORDER BY created_at DESC;",
    "check_vecna_spravnost": "SELECT vecna_spravnost_umisteni_majetku, vecna_spravnost_poznamka, potvrzeni_vecne_spravnosti, potvrdil_vecnou_spravnost_id, dt_potvrzeni_vecne_spravnosti FROM 25_objednavky WHERE id = ?;"
  },
  "console_commands": {
    "check_phase": "console.log('Current Phase:', currentPhase)",
    "check_workflow": "console.log('Workflow States:', formData.stav_workflow_kod)",
    "check_saved": "console.log('Saved to DB:', isOrderSavedToDB, 'Order ID:', savedOrderId)",
    "check_validation": "console.log('Validation Errors:', validationErrors)",
    "check_nadlimit": "console.log('Nadlimit:', calculateNadlimit())"
  }
}
